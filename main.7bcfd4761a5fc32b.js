(self.webpackChunknazox=self.webpackChunknazox||[]).push([[179],{9531:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Z:()=>gk,C:()=>pk});var f={};ue.r(f),ue.d(f,{FirebaseError:()=>Tn,SDK_VERSION:()=>Ue,_DEFAULT_ENTRY_NAME:()=>Er,_addComponent:()=>so,_addOrOverwriteComponent:()=>Ys,_apps:()=>_s,_clearComponents:()=>Fi,_components:()=>yo,_getProvider:()=>bs,_registerComponent:()=>lr,_removeServiceInstance:()=>Fo,deleteApp:()=>wn,getApp:()=>Pt,getApps:()=>sn,initializeApp:()=>ut,onLog:()=>hi,registerVersion:()=>Ai,setLogLevel:()=>Yr});const l=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let c=n.charCodeAt(i);c<128?e[t++]=c:c<2048?(e[t++]=c>>6|192,e[t++]=63&c|128):55296==(64512&c)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(c=65536+((1023&c)<<10)+(1023&n.charCodeAt(++i)),e[t++]=c>>18|240,e[t++]=c>>12&63|128,e[t++]=c>>6&63|128,e[t++]=63&c|128):(e[t++]=c>>12|224,e[t++]=c>>6&63|128,e[t++]=63&c|128)}return e},je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let c=0;c<n.length;c+=3){const m=n[c],C=c+1<n.length,B=C?n[c+1]:0,W=c+2<n.length,oe=W?n[c+2]:0;let rt=(15&B)<<2|oe>>6,St=63&oe;W||(St=64,C||(rt=64)),i.push(t[m>>2],t[(3&m)<<4|B>>4],t[rt],t[St])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const c=n[t++];if(c<128)e[i++]=String.fromCharCode(c);else if(c>191&&c<224){const m=n[t++];e[i++]=String.fromCharCode((31&c)<<6|63&m)}else if(c>239&&c<365){const W=((7&c)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(W>>10)),e[i++]=String.fromCharCode(56320+(1023&W))}else{const m=n[t++],C=n[t++];e[i++]=String.fromCharCode((15&c)<<12|(63&m)<<6|63&C)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let c=0;c<n.length;){const m=t[n.charAt(c++)],B=c<n.length?t[n.charAt(c)]:0;++c;const oe=c<n.length?t[n.charAt(c)]:64;++c;const De=c<n.length?t[n.charAt(c)]:64;if(++c,null==m||null==B||null==oe||null==De)throw new tt;i.push(m<<2|B>>4),64!==oe&&(i.push(B<<4&240|oe>>2),64!==De&&i.push(oe<<6&192|De))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bt=function(n){return function(n){const e=l(n);return je.encodeByteArray(e,!0)}(n).replace(/\./g,"")},xt=function(n){try{return je.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jt(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!ct(t)||(n[t]=Jt(n[t],e[t]));return n}function ct(n){return"__proto__"!==n}const Ut=()=>{try{return function Ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&xt(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},jt=()=>{var n;return null===(n=Ut())||void 0===n?void 0:n.config};class Fn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Cn(){var n;const e=null===(n=Ut())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function In(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function mn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lt(){const n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function en(){try{return"object"==typeof indexedDB}catch{return!1}}class Tn extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}}class Pn{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},c=`${this.service}/${e}`,m=this.errors[e],C=m?function Vn(n,e){return n.replace(Rn,(t,i)=>{const c=e[i];return null!=c?String(c):`<${i}?>`})}(m,i):"Error";return new Tn(c,`${this.serviceName}: ${C} (${c}).`,i)}}const Rn=/\{\$([^}]+)}/g;function Bi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Pi(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Un(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const c of t){if(!i.includes(c))return!1;const m=n[c],C=e[c];if(Dn(m)&&Dn(C)){if(!Un(m,C))return!1}else if(m!==C)return!1}for(const c of i)if(!t.includes(c))return!1;return!0}function Dn(n){return null!==n&&"object"==typeof n}function Oi(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(c=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hi(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[c,m]=i.split("=");e[decodeURIComponent(c)]=decodeURIComponent(m)}}),e}function xr(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ti(n,e){const t=new ln(n,e);return t.subscribe.bind(t)}class ln{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let c;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");c=function cr(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===c.next&&(c.next=Qi),void 0===c.error&&(c.error=Qi),void 0===c.complete&&(c.complete=Qi);const m=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),m}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qi(){}function cn(n){return n&&n._delegate?n._delegate:n}var ke=ue(5861);class vi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gn="[DEFAULT]";class dr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Fn;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:t});c&&i.resolve(c)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),c=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(c)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(m){if(c)return null;throw m}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function On(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(t);try{const m=this.getOrInitializeService({instanceIdentifier:c});i.resolve(m)}catch{}}}}clearInstance(e=Gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,ke.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Gn){return this.instances.has(e)}getOptions(e=Gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[m,C]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(m)&&C.resolve(c);return c}onInit(e,t){var i;const c=this.normalizeInstanceIdentifier(t),m=null!==(i=this.onInitCallbacks.get(c))&&void 0!==i?i:new Set;m.add(e),this.onInitCallbacks.set(c,m);const C=this.instances.get(c);return C&&e(C,c),()=>{m.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const c of i)try{c(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Gn?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=Gn){return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Wi{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ot=[];var ne=(()=>{return(n=ne||(ne={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ne;var n})();const de={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Ie=ne.INFO,Ge={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},lt=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),c=Ge[e];if(!c)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[c](`[${i}]  ${n.name}:`,...t)};class Rt{constructor(e){this.name=e,this._logLevel=Ie,this._logHandler=lt,this._userLogHandler=null,ot.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?de[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}let s,u;const x=new WeakMap,w=new WeakMap,I=new WeakMap,P=new WeakMap,N=new WeakMap;let X={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return w.get(n);if("objectStoreNames"===e)return n.objectStoreNames||I.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ae(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function me(n){return"function"==typeof n?function ie(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function y(){return u||(u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Ve(this),e),Ae(x.get(this))}:function(...e){return Ae(n.apply(Ve(this),e))}:function(e,...t){const i=n.call(Ve(this),e,...t);return I.set(i,e.sort?e.sort():[e]),Ae(i)}}(n):(n instanceof IDBTransaction&&function z(n){if(w.has(n))return;const e=new Promise((t,i)=>{const c=()=>{n.removeEventListener("complete",m),n.removeEventListener("error",C),n.removeEventListener("abort",C)},m=()=>{t(),c()},C=()=>{i(n.error||new DOMException("AbortError","AbortError")),c()};n.addEventListener("complete",m),n.addEventListener("error",C),n.addEventListener("abort",C)});w.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function p(){return s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,X):n)}function Ae(n){if(n instanceof IDBRequest)return function F(n){const e=new Promise((t,i)=>{const c=()=>{n.removeEventListener("success",m),n.removeEventListener("error",C)},m=()=>{t(Ae(n.result)),c()},C=()=>{i(n.error),c()};n.addEventListener("success",m),n.addEventListener("error",C)});return e.then(t=>{t instanceof IDBCursor&&x.set(t,n)}).catch(()=>{}),N.set(e,n),e}(n);if(P.has(n))return P.get(n);const e=me(n);return e!==n&&(P.set(n,e),N.set(e,n)),e}const Ve=n=>N.get(n),ce=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],Pe=new Map;function ze(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Pe.get(e))return Pe.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,c=xe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!c&&!ce.includes(t))return;const m=function(){var C=(0,ke.Z)(function*(B,...W){const oe=this.transaction(B,c?"readwrite":"readonly");let Ee=oe.store;return i&&(Ee=Ee.index(W.shift())),(yield Promise.all([Ee[t](...W),c&&oe.done]))[0]});return function(W){return C.apply(this,arguments)}}();return Pe.set(e,m),m}!function le(n){X=n(X)}(n=>({...n,get:(e,t,i)=>ze(e,t)||n.get(e,t,i),has:(e,t)=>!!ze(e,t)||n.has(e,t)}));class Ke{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function st(n){return"VERSION"===n.getComponent()?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const Tt="@firebase/app",zt=new Rt("@firebase/app"),Er="[DEFAULT]",Fs={[Tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_s=new Map,yo=new Map;function so(n,e){try{n.container.addComponent(e)}catch(t){zt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ys(n,e){n.container.addOrOverwriteComponent(e)}function lr(n){const e=n.name;if(yo.has(e))return zt.debug(`There were multiple attempts to register component ${e}.`),!1;yo.set(e,n);for(const t of _s.values())so(t,n);return!0}function bs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fo(n,e,t=Er){bs(n,e).clearInstance(t)}function Fi(){yo.clear()}const Ce=new Pn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fe{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ce.create("app-deleted",{appName:this._name})}}const Ue="10.0.0";function ut(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Er,automaticDataCollectionEnabled:!1},e),c=i.name;if("string"!=typeof c||!c)throw Ce.create("bad-app-name",{appName:String(c)});if(t||(t=jt()),!t)throw Ce.create("no-options");const m=_s.get(c);if(m){if(Un(t,m.options)&&Un(i,m.config))return m;throw Ce.create("duplicate-app",{appName:c})}const C=new Wi(c);for(const W of yo.values())C.addComponent(W);const B=new fe(t,i,C);return _s.set(c,B),B}function Pt(n=Er){const e=_s.get(n);if(!e&&n===Er&&jt())return ut();if(!e)throw Ce.create("no-app",{appName:n});return e}function sn(){return Array.from(_s.values())}function wn(n){return yi.apply(this,arguments)}function yi(){return(yi=(0,ke.Z)(function*(n){const e=n.name;_s.has(e)&&(_s.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function Ai(n,e,t){var i;let c=null!==(i=Fs[n])&&void 0!==i?i:n;t&&(c+=`-${t}`);const m=c.match(/\s|\//),C=e.match(/\s|\//);if(m||C){const B=[`Unable to register library "${c}" with version "${e}":`];return m&&B.push(`library name "${c}" contains illegal characters (whitespace or "/")`),m&&C&&B.push("and"),C&&B.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zt.warn(B.join(" "))}lr(new vi(`${c}-version`,()=>({library:c,version:e}),"VERSION"))}function hi(n,e){if(null!==n&&"function"!=typeof n)throw Ce.create("invalid-log-argument");!function ye(n,e){for(const t of ot){let i=null;e&&e.level&&(i=de[e.level]),t.userLogHandler=null===n?null:(c,m,...C)=>{const B=C.map(W=>{if(null==W)return null;if("string"==typeof W)return W;if("number"==typeof W||"boolean"==typeof W)return W.toString();if(W instanceof Error)return W.message;try{return JSON.stringify(W)}catch{return null}}).filter(W=>W).join(" ");m>=(i??c.logLevel)&&n({level:ne[m].toLowerCase(),message:B,args:C,type:c.name})}}}(n,e)}function Yr(n){!function an(n){ot.forEach(e=>{e.setLogLevel(n)})}(n)}const xs="firebase-heartbeat-store";let oo=null;function ha(){return oo||(oo=function D(n,e,{blocked:t,upgrade:i,blocking:c,terminated:m}={}){const C=indexedDB.open(n,e),B=Ae(C);return i&&C.addEventListener("upgradeneeded",W=>{i(Ae(C.result),W.oldVersion,W.newVersion,Ae(C.transaction),W)}),t&&C.addEventListener("blocked",W=>t(W.oldVersion,W.newVersion,W)),B.then(W=>{m&&W.addEventListener("close",()=>m()),c&&W.addEventListener("versionchange",oe=>c(oe.oldVersion,oe.newVersion,oe))}).catch(()=>{}),B}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xs)}}).catch(n=>{throw Ce.create("idb-open",{originalErrorMessage:n.message})})),oo}function ws(){return(ws=(0,ke.Z)(function*(n){try{return yield(yield ha()).transaction(xs).objectStore(xs).get(Xr(n))}catch(e){if(e instanceof Tn)zt.warn(e.message);else{const t=Ce.create("idb-get",{originalErrorMessage:e?.message});zt.warn(t.message)}}})).apply(this,arguments)}function Do(n,e){return Us.apply(this,arguments)}function Us(){return(Us=(0,ke.Z)(function*(n,e){try{const i=(yield ha()).transaction(xs,"readwrite");yield i.objectStore(xs).put(e,Xr(n)),yield i.done}catch(t){if(t instanceof Tn)zt.warn(t.message);else{const i=Ce.create("idb-set",{originalErrorMessage:t?.message});zt.warn(i.message)}}})).apply(this,arguments)}function Xr(n){return`${n.name}!${n.options.appId}`}class Tr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ko(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return(0,ke.Z)(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ia();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==c&&!e._heartbeatsCache.heartbeats.some(m=>m.date===c))return e._heartbeatsCache.heartbeats.push({date:c,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(m=>{const C=new Date(m.date).valueOf();return Date.now()-C<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,ke.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Ia(),{heartbeatsToSend:i,unsentEntries:c}=function bo(n,e=1024){const t=[];let i=n.slice();for(const c of n){const m=t.find(C=>C.agent===c.agent);if(m){if(m.dates.push(c.date),vs(t)>e){m.dates.pop();break}}else if(t.push({agent:c.agent,dates:[c.date]}),vs(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),m=bt(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,c.length>0?(e._heartbeatsCache.heartbeats=c,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),m})()}}function Ia(){return(new Date).toISOString().substring(0,10)}class ko{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ke.Z)(function*(){return!!en()&&function rn(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(i);c.onsuccess=()=>{c.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},c.onupgradeneeded=()=>{t=!1},c.onerror=()=>{var m;e((null===(m=c.error)||void 0===m?void 0:m.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,ke.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function fa(n){return ws.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,ke.Z)(function*(){var i;if(yield t._canUseIndexedDBPromise){const m=yield t.read();return Do(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:m.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,ke.Z)(function*(){var i;if(yield t._canUseIndexedDBPromise){const m=yield t.read();return Do(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:m.lastSentHeartbeatDate,heartbeats:[...m.heartbeats,...e.heartbeats]})}})()}}function vs(n){return bt(JSON.stringify({version:2,heartbeats:n})).length}!function Po(n){lr(new vi("platform-logger",e=>new Ke(e),"PRIVATE")),lr(new vi("heartbeat",e=>new Tr(e),"PRIVATE")),Ai(Tt,"0.9.14",n),Ai(Tt,"0.9.14","esm2017"),Ai("fire-js","")}("");class lo{constructor(e,t){this._delegate=e,this.firebase=t,so(e,new vi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),wn(this._delegate)))}_getService(e,t=Er){var i;this._delegate.checkDestroyed();const c=this._delegate.container.getProvider(e);return!c.isInitialized()&&"EXPLICIT"===(null===(i=c.getComponent())||void 0===i?void 0:i.instantiationMode)&&c.initialize(),c.getImmediate({identifier:t})}_removeServiceInstance(e,t=Er){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){so(this._delegate,e)}_addOrOverwriteComponent(e){Ys(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Kr=new Pn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ii=function xo(){const n=function co(n){const e={},t={__esModule:!0,initializeApp:function m(oe,Ee={}){const De=ut(oe,Ee);if(Bi(e,De.name))return e[De.name];const rt=new n(De,t);return e[De.name]=rt,rt},app:c,registerVersion:Ai,setLogLevel:Yr,onLog:hi,apps:null,SDK_VERSION:Ue,INTERNAL:{registerComponent:function B(oe){const Ee=oe.name,De=Ee.replace("-compat","");if(lr(oe)&&"PUBLIC"===oe.type){const rt=(St=c())=>{if("function"!=typeof St[De])throw Kr.create("invalid-app-argument",{appName:Ee});return St[De]()};void 0!==oe.serviceProps&&Jt(rt,oe.serviceProps),t[De]=rt,n.prototype[De]=function(...St){return this._getService.bind(this,Ee).apply(this,oe.multipleInstances?St:[])}}return"PUBLIC"===oe.type?t[De]:null},removeApp:function i(oe){delete e[oe]},useAsService:function W(oe,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:f}};function c(oe){if(!Bi(e,oe=oe||Er))throw Kr.create("no-app",{appName:oe});return e[oe]}return t.default=t,Object.defineProperty(t,"apps",{get:function C(){return Object.keys(e).map(oe=>e[oe])}}),c.App=n,t}(lo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:xo,extendNamespace:function e(t){Jt(n,t)},createSubscribe:ti,ErrorFactory:Pn,deepExtend:Jt}),n}(),$o=new Rt("@firebase/app-compat");if(function Bn(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){$o.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&$o.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=Ii;!function re(n){Ai("@firebase/app-compat","0.2.14",n)}(),Re.registerVersion("firebase","10.0.0","app-compat");var Ar=ue(655);const Is=function wo(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},fl=function pa(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Eo=new Pn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),La=new Rt("@firebase/auth");function us(n,...e){La.logLevel<=ne.ERROR&&La.error(`Auth (${Ue}): ${n}`,...e)}function Ji(n,...e){throw os(n,...e)}function yr(n,...e){return os(n,...e)}function uo(n,e,t){const i=Object.assign(Object.assign({},fl()),{[e]:t});return new Pn("auth","Firebase",i).create(e,{appName:n.name})}function Es(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Ji(n,"argument-error"),uo(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function os(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Eo.create(n,...e)}function xn(n,e,...t){if(!n)throw os(e,...t)}function qs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw us(e),new Error(e)}function ho(n,e){n||qs(e)}function Oo(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Hs(){return"http:"===Fa()||"https:"===Fa()}function Fa(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Jo{constructor(e,t){this.shortDelay=e,this.longDelay=t,ho(t>e,"Short delay should be less than long delay!"),this.isMobile=function vn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}()||mn()}get(){return function Mo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Hs()||In()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qo(n,e){ho(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Va{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ba={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ua=new Jo(3e4,6e4);function Zr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ir(n,e,t,i){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,ke.Z)(function*(n,e,t,i,c={}){return ql(n,c,(0,ke.Z)(function*(){let m={},C={};i&&("GET"===e?C=i:m={body:JSON.stringify(i)});const B=Oi(Object.assign({key:n.config.apiKey},C)).slice(1),W=yield n._getAdditionalHeaders();return W["Content-Type"]="application/json",n.languageCode&&(W["X-Firebase-Locale"]=n.languageCode),Va.fetch()(Ja(n,n.config.apiHost,t,B),Object.assign({method:e,headers:W,referrerPolicy:"no-referrer"},m))}))})).apply(this,arguments)}function ql(n,e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ke.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ba),e);try{const c=new Wl(n),m=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const C=yield m.json();if("needConfirmation"in C)throw za(n,"account-exists-with-different-credential",C);if(m.ok&&!("errorMessage"in C))return C;{const B=m.ok?C.errorMessage:C.error.message,[W,oe]=B.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===W)throw za(n,"credential-already-in-use",C);if("EMAIL_EXISTS"===W)throw za(n,"email-already-in-use",C);if("USER_DISABLED"===W)throw za(n,"user-disabled",C);const Ee=i[W]||W.toLowerCase().replace(/[_\s]+/g,"-");if(oe)throw uo(n,Ee,oe);Ji(n,Ee)}}catch(c){if(c instanceof Tn)throw c;Ji(n,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function Ts(n,e,t,i){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,ke.Z)(function*(n,e,t,i,c={}){const m=yield Ir(n,e,t,i,c);return"mfaPendingCredential"in m&&Ji(n,"multi-factor-auth-required",{_serverResponse:m}),m})).apply(this,arguments)}function Ja(n,e,t,i){const c=`${e}${t}?${i}`;return n.config.emulator?Qo(n.config,c):`${n.config.apiScheme}://${c}`}class Wl{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),Ua.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function za(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=yr(n,e,i);return c.customData._tokenResponse=t,c}function Za(){return(Za=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Vo(n,e){return zs.apply(this,arguments)}function zs(){return(zs=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Qa(n,e){return ee.apply(this,arguments)}function ee(){return(ee=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Te(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $e(){return($e=(0,ke.Z)(function*(n,e=!1){const t=cn(n),i=yield t.getIdToken(e),c=Kt(i);xn(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const m="object"==typeof c.firebase?c.firebase:void 0,C=m?.sign_in_provider;return{claims:c,token:i,authTime:Te(wt(c.auth_time)),issuedAtTime:Te(wt(c.iat)),expirationTime:Te(wt(c.exp)),signInProvider:C||null,signInSecondFactor:m?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(n){return 1e3*Number(n)}function Kt(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return us("JWT malformed, contained fewer than 3 sections"),null;try{const c=xt(t);return c?JSON.parse(c):(us("Failed to decode base64 JWT payload"),null)}catch(c){return us("Caught error parsing JWT payload as JSON",c?.toString()),null}}function Q(n,e){return Se.apply(this,arguments)}function Se(){return(Se=(0,ke.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Tn&&qe(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function qe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class kt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,ke.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,ke.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Sn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Te(this.lastLoginAt),this.creationTime=Te(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(n){return er.apply(this,arguments)}function er(){return(er=(0,ke.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),c=yield Q(n,Qa(t,{idToken:i}));xn(c?.users.length,t,"internal-error");const m=c.users[0];n._notifyReloadListener(m);const C=null!==(e=m.providerUserInfo)&&void 0!==e&&e.length?Ro(m.providerUserInfo):[],B=Ds(n.providerData,C),Ee=!!n.isAnonymous&&!(n.email&&m.passwordHash||B?.length),De={uid:m.localId,displayName:m.displayName||null,photoURL:m.photoUrl||null,email:m.email||null,emailVerified:m.emailVerified||!1,phoneNumber:m.phoneNumber||null,tenantId:m.tenantId||null,providerData:B,metadata:new Sn(m.createdAt,m.lastLoginAt),isAnonymous:Ee};Object.assign(n,De)})).apply(this,arguments)}function Dr(){return(Dr=(0,ke.Z)(function*(n){const e=cn(n);yield mi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ds(n,e){return[...n.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}function Ro(n){return n.map(e=>{var{providerId:t}=e,i=(0,Ar._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Nr(){return(Nr=(0,ke.Z)(function*(n,e){const t=yield ql(n,{},(0,ke.Z)(function*(){const i=Oi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:m}=n.config,C=Ja(n,c,"/v1/token",`key=${m}`),B=yield n._getAdditionalHeaders();return B["Content-Type"]="application/x-www-form-urlencoded",Va.fetch()(C,{method:"POST",headers:B,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class h{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xn(e.idToken,"internal-error"),xn(typeof e.idToken<"u","internal-error"),xn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function $(n){const e=Kt(n);return xn(e,"internal-error"),xn(typeof e.exp<"u","internal-error"),xn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,ke.Z)(function*(){return xn(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,ke.Z)(function*(){const{accessToken:c,refreshToken:m,expiresIn:C}=yield function Bo(n,e){return Nr.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(c,m,Number(C))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:m}=t,C=new h;return i&&(xn("string"==typeof i,"internal-error",{appName:e}),C.refreshToken=i),c&&(xn("string"==typeof c,"internal-error",{appName:e}),C.accessToken=c),m&&(xn("number"==typeof m,"internal-error",{appName:e}),C.expirationTime=m),C}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new h,this.toJSON())}_performRefresh(){return qs("not implemented")}}function T(n,e){xn("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class R{constructor(e){var{uid:t,auth:i,stsTokenManager:c}=e,m=(0,Ar._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=m.displayName||null,this.email=m.email||null,this.emailVerified=m.emailVerified||!1,this.phoneNumber=m.phoneNumber||null,this.photoURL=m.photoURL||null,this.isAnonymous=m.isAnonymous||!1,this.tenantId=m.tenantId||null,this.providerData=m.providerData?[...m.providerData]:[],this.metadata=new Sn(m.createdAt||void 0,m.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ke.Z)(function*(){const i=yield Q(t,t.stsTokenManager.getToken(t.auth,e));return xn(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Ne(n){return $e.apply(this,arguments)}(this,e)}reload(){return function Rr(n){return Dr.apply(this,arguments)}(this)}_assign(e){this!==e&&(xn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new R(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,ke.Z)(function*(){let c=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield mi(i)),yield i.auth._persistUserIfCurrent(i),c&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,ke.Z)(function*(){const t=yield e.getIdToken();return yield Q(e,function xc(n,e){return Za.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,c,m,C,B,W,oe,Ee;const De=null!==(i=t.displayName)&&void 0!==i?i:void 0,rt=null!==(c=t.email)&&void 0!==c?c:void 0,St=null!==(m=t.phoneNumber)&&void 0!==m?m:void 0,An=null!==(C=t.photoURL)&&void 0!==C?C:void 0,jn=null!==(B=t.tenantId)&&void 0!==B?B:void 0,Yn=null!==(W=t._redirectEventId)&&void 0!==W?W:void 0,Vi=null!==(oe=t.createdAt)&&void 0!==oe?oe:void 0,Yi=null!==(Ee=t.lastLoginAt)&&void 0!==Ee?Ee:void 0,{uid:Ui,emailVerified:Br,isAnonymous:Cs,providerData:ls,stsTokenManager:Na}=t;xn(Ui&&Na,e,"internal-error");const Ep=h.fromJSON(this.name,Na);xn("string"==typeof Ui,e,"internal-error"),T(De,e.name),T(rt,e.name),xn("boolean"==typeof Br,e,"internal-error"),xn("boolean"==typeof Cs,e,"internal-error"),T(St,e.name),T(An,e.name),T(jn,e.name),T(Yn,e.name),T(Vi,e.name),T(Yi,e.name);const T0=new R({uid:Ui,auth:e,email:rt,emailVerified:Br,displayName:De,isAnonymous:Cs,photoURL:An,phoneNumber:St,tenantId:jn,stsTokenManager:Ep,createdAt:Vi,lastLoginAt:Yi});return ls&&Array.isArray(ls)&&(T0.providerData=ls.map(E1=>Object.assign({},E1))),Yn&&(T0._redirectEventId=Yn),T0}static _fromIdTokenResponse(e,t,i=!1){return(0,ke.Z)(function*(){const c=new h;c.updateFromServerResponse(t);const m=new R({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return yield mi(m),m})()}}const K=new Map;function _e(n){ho(n instanceof Function,"Expected a class definition");let e=K.get(n);return e?(ho(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,K.set(n,e),e)}const it=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ke.Z)(function*(){return!0})()}_set(t,i){var c=this;return(0,ke.Z)(function*(){c.storage[t]=i})()}_get(t){var i=this;return(0,ke.Z)(function*(){const c=i.storage[t];return void 0===c?null:c})()}_remove(t){var i=this;return(0,ke.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function Ct(n,e,t){return`firebase:${n}:${e}:${t}`}class Ot{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:m}=this.auth;this.fullUserKey=Ct(this.userKey,c.apiKey,m),this.fullPersistenceKey=Ct("persistence",c.apiKey,m),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ke.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?R._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ke.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,ke.Z)(function*(){if(!t.length)return new Ot(_e(it),e,i);const c=(yield Promise.all(t.map(function(){var oe=(0,ke.Z)(function*(Ee){if(yield Ee._isAvailable())return Ee});return function(Ee){return oe.apply(this,arguments)}}()))).filter(oe=>oe);let m=c[0]||_e(it);const C=Ct(i,e.config.apiKey,e.name);let B=null;for(const oe of t)try{const Ee=yield oe._get(C);if(Ee){const De=R._fromJSON(e,Ee);oe!==m&&(B=De),m=oe;break}}catch{}const W=c.filter(oe=>oe._shouldAllowMigration);return m._shouldAllowMigration&&W.length?(m=W[0],B&&(yield m._set(C,B.toJSON())),yield Promise.all(t.map(function(){var oe=(0,ke.Z)(function*(Ee){if(Ee!==m)try{yield Ee._remove(C)}catch{}});return function(Ee){return oe.apply(this,arguments)}}())),new Ot(m,e,i)):new Ot(m,e,i)})()}}function _n(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ws(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xn(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uo(e))return"Blackberry";if(jr(e))return"Webos";if(wi(e))return"Safari";if((e.includes("chrome/")||Xi(e))&&!e.includes("edge/"))return"Chrome";if(as(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Xn(n=Nt()){return/firefox\//i.test(n)}function wi(n=Nt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xi(n=Nt()){return/crios\//i.test(n)}function Ws(n=Nt()){return/iemobile/i.test(n)}function as(n=Nt()){return/android/i.test(n)}function Uo(n=Nt()){return/blackberry/i.test(n)}function jr(n=Nt()){return/webos/i.test(n)}function Ho(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zo(n=Nt()){return Ho(n)||as(n)||jr(n)||Uo(n)||/windows phone/i.test(n)||Ws(n)}function nd(n,e=[]){let t;switch(n){case"Browser":t=_n(Nt());break;case"Worker":t=`${_n(Nt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ue}/${i}`}function Ga(){return(Ga=(0,ke.Z)(function*(n){return(yield Ir(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tl(n,e){return ja.apply(this,arguments)}function ja(){return(ja=(0,ke.Z)(function*(n,e){return Ir(n,"GET","/v2/recaptchaConfig",Zr(n,e))})).apply(this,arguments)}function Wc(n){return void 0!==n&&void 0!==n.getResponse}function To(n){return void 0!==n&&void 0!==n.enterprise}class Zo{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function ga(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=c=>{const m=yr("internal-error");m.customData=c,t(m)},i.type="text/javascript",i.charset="UTF-8",function Ya(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function $l(n){return`__${n}${Math.floor(1e6*Math.random())}`}class Ec{constructor(e){this.type="recaptcha-enterprise",this.auth=mr(e)}verify(e="verify",t=!1){var i=this;return(0,ke.Z)(function*(){function m(){return m=(0,ke.Z)(function*(B){if(!t){if(null==B.tenantId&&null!=B._agentRecaptchaConfig)return B._agentRecaptchaConfig.siteKey;if(null!=B.tenantId&&void 0!==B._tenantRecaptchaConfigs[B.tenantId])return B._tenantRecaptchaConfigs[B.tenantId].siteKey}return new Promise(function(){var W=(0,ke.Z)(function*(oe,Ee){tl(B,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(De=>{if(void 0!==De.recaptchaKey){const rt=new Zo(De);return null==B.tenantId?B._agentRecaptchaConfig=rt:B._tenantRecaptchaConfigs[B.tenantId]=rt,oe(rt.siteKey)}Ee(new Error("recaptcha Enterprise site key undefined"))}).catch(De=>{Ee(De)})});return function(oe,Ee){return W.apply(this,arguments)}}())}),m.apply(this,arguments)}function C(B,W,oe){const Ee=window.grecaptcha;To(Ee)?Ee.enterprise.ready(()=>{Ee.enterprise.execute(B,{action:e}).then(De=>{W(De)}).catch(()=>{W("NO_RECAPTCHA")})}):oe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((B,W)=>{(function c(B){return m.apply(this,arguments)})(i.auth).then(oe=>{if(!t&&To(window.grecaptcha))C(oe,B,W);else{if(typeof window>"u")return void W(new Error("RecaptchaVerifier is only supported in browser"));ga("https://www.google.com/recaptcha/enterprise.js?render="+oe).then(()=>{C(oe,B,W)}).catch(Ee=>{W(Ee)})}}).catch(oe=>{W(oe)})})})()}}function ma(n,e,t){return nl.apply(this,arguments)}function nl(){return(nl=(0,ke.Z)(function*(n,e,t,i=!1){const c=new Ec(n);let m;try{m=yield c.verify(t)}catch{m=yield c.verify(t,!0)}const C=Object.assign({},e);return Object.assign(C,i?{captchaResp:m}:{captchaResponse:m}),Object.assign(C,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(C,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),C})).apply(this,arguments)}class Tc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=m=>new Promise((C,B)=>{try{C(e(m))}catch(W){B(W)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ke.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const c of t.queue)yield c(e),c.onAbort&&i.push(c.onAbort)}catch(c){i.reverse();for(const m of i)try{m()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}class ts{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $c(this),this.idTokenSubscription=new $c(this),this.beforeStateQueue=new Tc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=_e(t)),this._initializationPromise=this.queue((0,ke.Z)(function*(){var c,m;if(!i._deleted&&(i.persistenceManager=yield Ot.create(i,e),!i._deleted)){if(null!==(c=i._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(m=i.currentUser)||void 0===m?void 0:m.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ke.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,ke.Z)(function*(){var i;const c=yield t.assertedPersistence.getCurrentUser();let m=c,C=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const B=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,W=m?._redirectEventId,oe=yield t.tryRedirectSignIn(e);(!B||B===W)&&oe?.user&&(m=oe.user,C=!0)}if(!m)return t.directlySetCurrentUser(null);if(!m._redirectEventId){if(C)try{yield t.beforeStateQueue.runMiddleware(m)}catch(B){m=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(B))}return m?t.reloadAndSetCurrentUserOrClear(m):t.directlySetCurrentUser(null)}return xn(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===m._redirectEventId?t.directlySetCurrentUser(m):t.reloadAndSetCurrentUserOrClear(m)})()}tryRedirectSignIn(e){var t=this;return(0,ke.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ke.Z)(function*(){try{yield mi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ka(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,ke.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ke.Z)(function*(){const i=e?cn(e):null;return i&&xn(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,ke.Z)(function*(){if(!i._deleted)return e&&xn(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,ke.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ke.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,ke.Z)(function*(){yield t.assertedPersistence.setPersistence(_e(e))}))}initializeRecaptchaConfig(){var e=this;return(0,ke.Z)(function*(){const t=yield tl(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new Zo(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Ec(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,ke.Z)(function*(){const c=yield i.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ke.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&_e(e)||t._popupRedirectResolver;xn(i,t,"argument-error"),t.redirectPersistenceManager=yield Ot.create(t,[_e(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ke.Z)(function*(){var i,c;return t._isInitialized&&(yield t.queue((0,ke.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ke.Z)(function*(){if(e===t.currentUser)return t.queue((0,ke.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const m="function"==typeof t?t:t.next.bind(t),C=this._isInitialized?Promise.resolve():this._initializationPromise;return xn(C,this,"internal-error"),C.then(()=>m(this.currentUser)),"function"==typeof t?e.addObserver(t,i,c):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,ke.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ke.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c);const m=yield e._getAppCheckToken();return m&&(i["X-Firebase-AppCheck"]=m),i})()}_getAppCheckToken(){var e=this;return(0,ke.Z)(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function Da(n,...e){La.logLevel<=ne.WARN&&La.warn(`Auth (${Ue}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function mr(n){return cn(n)}class $c{constructor(e){this.auth=e,this.observer=null,this.addObserver=ti(t=>this.observer=t)}get next(){return xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cc(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Sc(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Ac{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,t){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}function $s(n,e){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:resetPassword",Zr(n,e))})).apply(this,arguments)}function Xl(n,e){return sd.apply(this,arguments)}function sd(){return(sd=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ea(n,e){return _a.apply(this,arguments)}function _a(){return(_a=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:update",Zr(n,e))})).apply(this,arguments)}function bu(n,e){return G.apply(this,arguments)}function G(){return(G=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signInWithPassword",Zr(n,e))})).apply(this,arguments)}function q(n,e){return V.apply(this,arguments)}function V(){return(V=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:sendOobCode",Zr(n,e))})).apply(this,arguments)}function te(n,e){return ve.apply(this,arguments)}function ve(){return(ve=(0,ke.Z)(function*(n,e){return q(n,e)})).apply(this,arguments)}function Oe(n,e){return Le.apply(this,arguments)}function Le(){return(Le=(0,ke.Z)(function*(n,e){return q(n,e)})).apply(this,arguments)}function yt(n,e){return nn.apply(this,arguments)}function nn(){return(nn=(0,ke.Z)(function*(n,e){return q(n,e)})).apply(this,arguments)}function si(n,e){return yn.apply(this,arguments)}function yn(){return(yn=(0,ke.Z)(function*(n,e){return q(n,e)})).apply(this,arguments)}function ks(){return(ks=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))})).apply(this,arguments)}function va(){return(va=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signInWithEmailLink",Zr(n,e))})).apply(this,arguments)}class ya extends Ac{constructor(e,t,i,c=null){super("password",i),this._email=e,this._password=t,this._tenantId=c}static _fromEmailAndPassword(e,t){return new ya(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ya(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,ke.Z)(function*(){var i;switch(t.signInMethod){case"password":const c={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const m=yield ma(e,c,"signInWithPassword");return bu(e,m)}return bu(e,c).catch(function(){var m=(0,ke.Z)(function*(C){if("auth/missing-recaptcha-token"===C.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const B=yield ma(e,c,"signInWithPassword");return bu(e,B)}return Promise.reject(C)});return function(C){return m.apply(this,arguments)}}());case"emailLink":return function Lr(n,e){return ks.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Ji(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return(0,ke.Z)(function*(){switch(i.signInMethod){case"password":return Xl(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function ml(n,e){return va.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Ji(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Zs(n,e){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signInWithIdp",Zr(n,e))})).apply(this,arguments)}class Ps extends Ac{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:c}=t,m=(0,Ar._T)(t,["providerId","signInMethod"]);if(!i||!c)return null;const C=new Ps(i,c);return C.idToken=m.idToken||void 0,C.accessToken=m.accessToken||void 0,C.secret=m.secret,C.nonce=m.nonce,C.pendingToken=m.pendingToken||null,C}_getIdTokenResponse(e){return Zs(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Oi(t)}return e}}function Dc(n,e){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:sendVerificationCode",Zr(n,e))})).apply(this,arguments)}function od(){return(od=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signInWithPhoneNumber",Zr(n,e))})).apply(this,arguments)}function kc(){return(kc=(0,ke.Z)(function*(n,e){const t=yield Ts(n,"POST","/v1/accounts:signInWithPhoneNumber",Zr(n,e));if(t.temporaryProof)throw za(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const ad={USER_NOT_FOUND:"user-not-found"};function Jh(){return(Jh=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signInWithPhoneNumber",Zr(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ad)})).apply(this,arguments)}class Jc extends Ac{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Jc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Jc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function Kc(n,e){return od.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Kh(n,e){return kc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function Cp(n,e){return Jh.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:c}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:c}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:c,temporaryProof:m}=e;return i||t||c||m?new Jc({verificationId:t,verificationCode:i,phoneNumber:c,temporaryProof:m}):null}}class cd{constructor(e){var t,i,c,m,C,B;const W=Hi(xr(e)),oe=null!==(t=W.apiKey)&&void 0!==t?t:null,Ee=null!==(i=W.oobCode)&&void 0!==i?i:null,De=function xu(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(c=W.mode)&&void 0!==c?c:null);xn(oe&&Ee&&De,"argument-error"),this.apiKey=oe,this.operation=De,this.code=Ee,this.continueUrl=null!==(m=W.continueUrl)&&void 0!==m?m:null,this.languageCode=null!==(C=W.languageCode)&&void 0!==C?C:null,this.tenantId=null!==(B=W.tenantId)&&void 0!==B?B:null}static parseLink(e){const t=function ld(n){const e=Hi(xr(n)).link,t=e?Hi(xr(e)).deep_link_id:null,i=Hi(xr(n)).deep_link_id;return(i?Hi(xr(i)).link:null)||i||t||e||n}(e);try{return new cd(t)}catch{return null}}}let qd=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return ya._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const c=cd.parseLink(i);return xn(c,"argument-error"),ya._fromEmailAndCode(t,c.code,c.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ol{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wu extends Ol{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vl extends wu{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return xn("providerId"in t&&"signInMethod"in t,"argument-error"),Ps._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return xn(e.idToken||e.accessToken,"argument-error"),Ps._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return vl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return vl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:c,pendingToken:m,nonce:C,providerId:B}=e;if(!i&&!c&&!t&&!m||!B)return null;try{return new vl(B)._credential({idToken:t,accessToken:i,nonce:C,pendingToken:m})}catch{return null}}}let Qh=(()=>{class n extends wu{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Wd=(()=>{class n extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ps._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:c}=t;if(!i&&!c)return null;try{return n.credential(i,c)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Eu=(()=>{class n extends wu{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class Tu extends Ac{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Zs(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:c,pendingToken:m}=t;return i&&c&&m&&i===c?new Tu(i,m):null}static _create(e,t){return new Tu(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nf extends Ol{constructor(e){xn(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return nf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return nf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Tu.fromJSON(e);return xn(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return Tu._create(i,t)}catch{return null}}}let rf=(()=>{class n extends wu{constructor(){super("twitter.com")}static credential(t,i){return Ps._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:c}=t;if(!i||!c)return null;try{return n.credential(i,c)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Sp(n,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signUp",Zr(n,e))})).apply(this,arguments)}class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,c=!1){return(0,ke.Z)(function*(){const m=yield R._fromIdTokenResponse(e,i,c),C=$d(i);return new yl({user:m,providerId:C,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return(0,ke.Z)(function*(){yield e._updateTokensIfNecessary(i,!0);const c=$d(i);return new yl({user:e,providerId:c,_tokenResponse:i,operationType:t})})()}}function $d(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Ap(){return(Ap=(0,ke.Z)(function*(n){var e;const t=mr(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new yl({user:t.currentUser,providerId:null,operationType:"signIn"});const i=yield Sp(t,{returnSecureToken:!0}),c=yield yl._fromIdTokenResponse(t,"signIn",i,!0);return yield t._updateCurrentUser(c.user),c})).apply(this,arguments)}class Jl extends Tn{constructor(e,t,i,c){var m;super(t.code,t.message),this.operationType=i,this.user=c,Object.setPrototypeOf(this,Jl.prototype),this.customData={appName:e.name,tenantId:null!==(m=e.tenantId)&&void 0!==m?m:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,c){return new Jl(e,t,i,c)}}function af(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(m=>{throw"auth/multi-factor-auth-required"===m.code?Jl._fromErrorAndOperation(n,m,e,i):m})}function bl(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function ud(){return(ud=(0,ke.Z)(function*(n,e){const t=cn(n);yield dd(!0,t,e);const{providerUserInfo:i}=yield Vo(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),c=bl(i||[]);return t.providerData=t.providerData.filter(m=>c.has(m.providerId)),c.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t})).apply(this,arguments)}function Ip(n,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,ke.Z)(function*(n,e,t=!1){const i=yield Q(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return yl._forOperation(n,"link",i)})).apply(this,arguments)}function dd(n,e,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,ke.Z)(function*(n,e,t){yield mi(e);const c=!1===n?"provider-already-linked":"no-such-provider";xn(bl(e.providerData).has(t)===n,e.auth,c)})).apply(this,arguments)}function Go(n,e){return hd.apply(this,arguments)}function hd(){return(hd=(0,ke.Z)(function*(n,e,t=!1){const{auth:i}=n,c="reauthenticate";try{const m=yield Q(n,af(i,c,e,n),t);xn(m.idToken,i,"internal-error");const C=Kt(m.idToken);xn(C,i,"internal-error");const{sub:B}=C;return xn(n.uid===B,i,"user-mismatch"),yl._forOperation(n,c,m)}catch(m){throw"auth/user-not-found"===m?.code&&Ji(i,"user-mismatch"),m}})).apply(this,arguments)}function Cu(n,e){return xl.apply(this,arguments)}function xl(){return(xl=(0,ke.Z)(function*(n,e,t=!1){const i="signIn",c=yield af(n,i,e),m=yield yl._fromIdTokenResponse(n,i,c);return t||(yield n._updateCurrentUser(m.user)),m})).apply(this,arguments)}function ta(n,e){return Su.apply(this,arguments)}function Su(){return(Su=(0,ke.Z)(function*(n,e){return Cu(mr(n),e)})).apply(this,arguments)}function Dp(n,e){return ba.apply(this,arguments)}function ba(){return(ba=(0,ke.Z)(function*(n,e){const t=cn(n);return yield dd(!1,t,e.providerId),Ip(t,e)})).apply(this,arguments)}function hs(n,e){return Au.apply(this,arguments)}function Au(){return(Au=(0,ke.Z)(function*(n,e){return Go(cn(n),e)})).apply(this,arguments)}function kp(n,e){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,ke.Z)(function*(n,e){return Ts(n,"POST","/v1/accounts:signInWithCustomToken",Zr(n,e))})).apply(this,arguments)}function fd(){return(fd=(0,ke.Z)(function*(n,e){const t=mr(n),i=yield kp(t,{token:e,returnSecureToken:!0}),c=yield yl._fromIdTokenResponse(t,"signIn",i);return yield t._updateCurrentUser(c.user),c})).apply(this,arguments)}class eu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?fo._fromServerResponse(e,t):"totpInfo"in t?Ml._fromServerResponse(e,t):Ji(e,"internal-error")}}class fo extends eu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new fo(t)}}class Ml extends eu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ml(t)}}function wl(n,e,t){var i;xn((null===(i=t.url)||void 0===i?void 0:i.length)>0,n,"invalid-continue-uri"),xn(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(xn(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(xn(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function po(){return po=(0,ke.Z)(function*(n,e,t){var i;const c=mr(n),m={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=c._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const C=yield ma(c,m,"getOobCode",!0);t&&wl(c,C,t),yield Oe(c,C)}else t&&wl(c,m,t),yield Oe(c,m).catch(function(){var C=(0,ke.Z)(function*(B){if("auth/missing-recaptcha-token"!==B.code)return Promise.reject(B);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const W=yield ma(c,m,"getOobCode",!0);t&&wl(c,W,t),yield Oe(c,W)}});return function(B){return C.apply(this,arguments)}}())}),po.apply(this,arguments)}function pd(){return(pd=(0,ke.Z)(function*(n,e,t){yield $s(cn(n),{oobCode:e,newPassword:t})})).apply(this,arguments)}function na(){return(na=(0,ke.Z)(function*(n,e){yield ea(cn(n),{oobCode:e})})).apply(this,arguments)}function ec(n,e){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,ke.Z)(function*(n,e){const t=cn(n),i=yield $s(t,{oobCode:e}),c=i.requestType;switch(xn(c,t,"internal-error"),c){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xn(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xn(i.mfaInfo,t,"internal-error");default:xn(i.email,t,"internal-error")}let m=null;return i.mfaInfo&&(m=eu._fromServerResponse(mr(t),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:m},operation:c}})).apply(this,arguments)}function Qd(){return(Qd=(0,ke.Z)(function*(n,e){const{data:t}=yield ec(cn(n),e);return t.email})).apply(this,arguments)}function Rl(){return Rl=(0,ke.Z)(function*(n,e,t){var i;const c=mr(n),m={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let C;if(null!==(i=c._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const oe=yield ma(c,m,"signUpPassword");C=Sp(c,oe)}else C=Sp(c,m).catch(function(){var oe=(0,ke.Z)(function*(Ee){if("auth/missing-recaptcha-token"===Ee.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const De=yield ma(c,m,"signUpPassword");return Sp(c,De)}return Promise.reject(Ee)});return function(Ee){return oe.apply(this,arguments)}}());const B=yield C.catch(oe=>Promise.reject(oe)),W=yield yl._fromIdTokenResponse(c,"signIn",B);return yield c._updateCurrentUser(W.user),W}),Rl.apply(this,arguments)}function gd(){return gd=(0,ke.Z)(function*(n,e,t){var i;const c=mr(n),m={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function C(B,W){xn(W.handleCodeInApp,c,"argument-error"),W&&wl(c,B,W)}if(null!==(i=c._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const B=yield ma(c,m,"getOobCode",!0);C(B,t),yield yt(c,B)}else C(m,t),yield yt(c,m).catch(function(){var B=(0,ke.Z)(function*(W){if("auth/missing-recaptcha-token"!==W.code)return Promise.reject(W);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const oe=yield ma(c,m,"getOobCode",!0);C(oe,t),yield yt(c,oe)}});return function(W){return B.apply(this,arguments)}}())}),gd.apply(this,arguments)}function th(){return(th=(0,ke.Z)(function*(n,e,t){const i=cn(n),c=qd.credentialWithLink(e,t||Oo());return xn(c._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),ta(i,c)})).apply(this,arguments)}function Cm(n,e){return md.apply(this,arguments)}function md(){return(md=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:createAuthUri",Zr(n,e))})).apply(this,arguments)}function ih(){return(ih=(0,ke.Z)(function*(n,e){const i={identifier:e,continueUri:Hs()?Oo():"http://localhost"},{signinMethods:c}=yield Cm(cn(n),i);return c||[]})).apply(this,arguments)}function _d(){return(_d=(0,ke.Z)(function*(n,e){const t=cn(n),c={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&wl(t.auth,c,e);const{email:m}=yield te(t.auth,c);m!==n.email&&(yield n.reload())})).apply(this,arguments)}function uf(){return(uf=(0,ke.Z)(function*(n,e,t){const i=cn(n),m={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&wl(i.auth,m,t);const{email:C}=yield si(i.auth,m);C!==n.email&&(yield n.reload())})).apply(this,arguments)}function xa(n,e){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,ke.Z)(function*(n,e){return Ir(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function rh(){return(rh=(0,ke.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=cn(n),m={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},C=yield Q(i,xa(i.auth,m));i.displayName=C.displayName||null,i.photoURL=C.photoUrl||null;const B=i.providerData.find(({providerId:W})=>"password"===W);B&&(B.displayName=i.displayName,B.photoURL=i.photoURL),yield i._updateTokensIfNecessary(C)})).apply(this,arguments)}function hf(n,e,t){return tc.apply(this,arguments)}function tc(){return(tc=(0,ke.Z)(function*(n,e,t){const{auth:i}=n,m={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(m.email=e),t&&(m.password=t);const C=yield Q(n,Xl(i,m));yield n._updateTokensIfNecessary(C,!0)})).apply(this,arguments)}class nc{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class Nl extends nc{constructor(e,t,i,c){super(e,t,i),this.username=c}}class Rp extends nc{constructor(e,t){super(e,"facebook.com",t)}}class ff extends Nl{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class Ll extends nc{constructor(e,t){super(e,"google.com",t)}}class pf extends Nl{constructor(e,t,i){super(e,"twitter.com",t,i)}}function ic(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function nu(n){var e,t;if(!n)return null;const{providerId:i}=n,c=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},m=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!i&&n?.idToken){const C=null===(t=null===(e=Kt(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(C)return new nc(m,"anonymous"!==C&&"custom"!==C?C:null)}if(!i)return null;switch(i){case"facebook.com":return new Rp(m,c);case"github.com":return new ff(m,c);case"google.com":return new Ll(m,c);case"twitter.com":return new pf(m,c,n.screenName||null);case"custom":case"anonymous":return new nc(m,null);default:return new nc(m,i,c)}}(t)}class Fl{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new Fl("enroll",e,t)}static _fromMfaPendingCredential(e){return new Fl("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return Fl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(i=e.multiFactorSession)&&void 0!==i&&i.idToken)return Fl._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ru{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=mr(e),c=t.customData._serverResponse,m=(c.mfaInfo||[]).map(B=>eu._fromServerResponse(i,B));xn(c.mfaPendingCredential,i,"internal-error");const C=Fl._fromMfaPendingCredential(c.mfaPendingCredential);return new ru(C,m,function(){var B=(0,ke.Z)(function*(W){const oe=yield W._process(i,C);delete c.mfaInfo,delete c.mfaPendingCredential;const Ee=Object.assign(Object.assign({},c),{idToken:oe.idToken,refreshToken:oe.refreshToken});switch(t.operationType){case"signIn":const De=yield yl._fromIdTokenResponse(i,t.operationType,Ee);return yield i._updateCurrentUser(De.user),De;case"reauthenticate":return xn(t.user,i,"internal-error"),yl._forOperation(t.user,t.operationType,Ee);default:Ji(i,"internal-error")}});return function(W){return B.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,ke.Z)(function*(){return t.signInResolver(e)})()}}function gf(n,e){return Ir(n,"POST","/v2/accounts/mfaEnrollment:start",Zr(n,e))}class Nc{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>eu._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new Nc(e)}getSession(){var e=this;return(0,ke.Z)(function*(){return Fl._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var i=this;return(0,ke.Z)(function*(){const c=e,m=yield i.getSession(),C=yield Q(i.user,c._process(i.user.auth,m,t));return yield i.user._updateTokensIfNecessary(C),i.user.reload()})()}unenroll(e){var t=this;return(0,ke.Z)(function*(){const i="string"==typeof e?e:e.uid,c=yield t.user.getIdToken();try{const m=yield Q(t.user,function rl(n,e){return Ir(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Zr(n,e))}(t.user.auth,{idToken:c,mfaEnrollmentId:i}));t.enrolledFactors=t.enrolledFactors.filter(({uid:C})=>C!==i),yield t.user._updateTokensIfNecessary(m),yield t.user.reload()}catch(m){throw m}})()}}const vd=new WeakMap,yd="__sak";class _f{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dn=(()=>{class n extends _f{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gs(){const n=Nt();return wi(n)||Ho(n)}()&&function el(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zo(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const c=this.storage.getItem(i),m=this.localCache[i];c!==m&&t(i,m,c)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((B,W,oe)=>{this.notifyListeners(B,oe)});const c=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const B=this.storage.getItem(c);if(t.newValue!==B)null!==t.newValue?this.storage.setItem(c,t.newValue):this.storage.removeItem(c);else if(this.localCache[c]===t.newValue&&!i)return}const m=()=>{const B=this.storage.getItem(c);!i&&this.localCache[c]===B||this.notifyListeners(c,B)},C=this.storage.getItem(c);!function td(){return Lt()&&10===document.documentMode}()||C===t.newValue||t.newValue===t.oldValue?m():setTimeout(m,10)}notifyListeners(t,i){this.localCache[t]=i;const c=this.listeners[t];if(c)for(const m of Array.from(c))m(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:c}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var c=()=>super._set,m=this;return(0,ke.Z)(function*(){yield c().call(m,t,i),m.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,c=this;return(0,ke.Z)(function*(){const m=yield i().call(c,t);return c.localCache[t]=JSON.stringify(m),m})()}_remove(t){var i=()=>super._remove,c=this;return(0,ke.Z)(function*(){yield i().call(c,t),delete c.localCache[t]})()}}return n.type="LOCAL",n})(),ns=(()=>{class n extends _f{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let ah=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(m=>m.isListeningto(t));if(i)return i;const c=new n(t);return this.receivers.push(c),c}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return(0,ke.Z)(function*(){const c=t,{eventId:m,eventType:C,data:B}=c.data,W=i.handlersMap[C];if(!W?.size)return;c.ports[0].postMessage({status:"ack",eventId:m,eventType:C});const oe=Array.from(W).map(function(){var De=(0,ke.Z)(function*(rt){return rt(c.origin,B)});return function(rt){return De.apply(this,arguments)}}()),Ee=yield function vf(n){return Promise.all(n.map(function(){var e=(0,ke.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(oe);c.ports[0].postMessage({status:"done",eventId:m,eventType:C,response:Ee})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function ia(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class bd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var c=this;return(0,ke.Z)(function*(){const m=typeof MessageChannel<"u"?new MessageChannel:null;if(!m)throw new Error("connection_unavailable");let C,B;return new Promise((W,oe)=>{const Ee=ia("",20);m.port1.start();const De=setTimeout(()=>{oe(new Error("unsupported_event"))},i);B={messageChannel:m,onMessage(rt){const St=rt;if(St.data.eventId===Ee)switch(St.data.status){case"ack":clearTimeout(De),C=setTimeout(()=>{oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(C),W(St.data.response);break;default:clearTimeout(De),clearTimeout(C),oe(new Error("invalid_response"))}}},c.handlers.add(B),m.port1.addEventListener("message",B.onMessage),c.target.postMessage({eventType:e,eventId:Ee,data:t},[m.port2])}).finally(()=>{B&&c.removeMessageHandler(B)})})()}}function fs(){return window}function Ru(){return typeof fs().WorkerGlobalScope<"u"&&"function"==typeof fs().importScripts}function Nu(){return(Nu=(0,ke.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xf="firebaseLocalStorageDb",Vl="firebaseLocalStorage",Ef="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function H(n,e){return n.transaction([Vl],e?"readwrite":"readonly").objectStore(Vl)}function _(){const n=indexedDB.open(xf,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Vl,{keyPath:Ef})}catch(c){t(c)}}),n.addEventListener("success",(0,ke.Z)(function*(){const i=n.result;i.objectStoreNames.contains(Vl)?e(i):(i.close(),yield function M(){const n=indexedDB.deleteDatabase(xf);return new Lu(n).toPromise()}(),e(yield _()))}))})}function j(n,e,t){return be.apply(this,arguments)}function be(){return(be=(0,ke.Z)(function*(n,e,t){const i=H(n,!0).put({[Ef]:e,value:t});return new Lu(i).toPromise()})).apply(this,arguments)}function dt(){return(dt=(0,ke.Z)(function*(n,e){const t=H(n,!1).get(e),i=yield new Lu(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function Mn(n,e){const t=H(n,!0).delete(e);return new Lu(t).toPromise()}const qr=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,ke.Z)(function*(){return t.db||(t.db=yield _()),t.db})()}_withRetries(t){var i=this;return(0,ke.Z)(function*(){let c=0;for(;;)try{const m=yield i._openDb();return yield t(m)}catch(m){if(c++>3)throw m;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,ke.Z)(function*(){return Ru()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,ke.Z)(function*(){t.receiver=ah._getInstance(function bf(){return Ru()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=(0,ke.Z)(function*(c,m){return{keyProcessed:(yield t._poll()).includes(m.key)}});return function(c,m){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=(0,ke.Z)(function*(c,m){return["keyChanged"]});return function(c,m){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,ke.Z)(function*(){var i,c;if(t.activeServiceWorker=yield function su(){return Nu.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new bd(t.activeServiceWorker);const m=yield t.sender._send("ping",{},800);m&&null!==(i=m[0])&&void 0!==i&&i.fulfilled&&null!==(c=m[0])&&void 0!==c&&c.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return(0,ke.Z)(function*(){if(i.sender&&i.activeServiceWorker&&function yf(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ke.Z)(function*(){try{if(!indexedDB)return!1;const t=yield _();return yield j(t,yd,"1"),yield Mn(t,yd),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return(0,ke.Z)(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var c=this;return(0,ke.Z)(function*(){return c._withPendingWrite((0,ke.Z)(function*(){return yield c._withRetries(m=>j(m,t,i)),c.localCache[t]=i,c.notifyServiceWorker(t)}))})()}_get(t){var i=this;return(0,ke.Z)(function*(){const c=yield i._withRetries(m=>function We(n,e){return dt.apply(this,arguments)}(m,t));return i.localCache[t]=c,c})()}_remove(t){var i=this;return(0,ke.Z)(function*(){return i._withPendingWrite((0,ke.Z)(function*(){return yield i._withRetries(c=>Mn(c,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,ke.Z)(function*(){const i=yield t._withRetries(C=>{const B=H(C,!1).getAll();return new Lu(B).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const c=[],m=new Set;for(const{fbase_key:C,value:B}of i)m.add(C),JSON.stringify(t.localCache[C])!==JSON.stringify(B)&&(t.notifyListeners(C,B),c.push(C));for(const C of Object.keys(t.localCache))t.localCache[C]&&!m.has(C)&&(t.notifyListeners(C,null),c.push(C));return c})()}notifyListeners(t,i){this.localCache[t]=i;const c=this.listeners[t];if(c)for(const m of Array.from(c))m(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,ke.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function ra(n,e){return Ir(n,"POST","/v2/accounts/mfaSignIn:start",Zr(n,e))}const ch=1e12;class Im{constructor(e){this.auth=e,this.counter=ch,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new S0(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||ch;null===(t=this._widgets.get(i))||void 0===t||t.delete(),this._widgets.delete(i)}getResponse(e){var t;return(null===(t=this._widgets.get(e||ch))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,ke.Z)(function*(){var i;return null===(i=t._widgets.get(e||ch))||void 0===i||i.execute(),""})()}}class S0{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const c="string"==typeof e?document.getElementById(e):e;xn(c,"argument-error",{appName:t}),this.container=c,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function A0(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dm=$l("rcb"),zp=new Jo(3e4,6e4);class I0{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=fs().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return xn(function D0(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Wc(fs().grecaptcha)?Promise.resolve(fs().grecaptcha):new Promise((i,c)=>{const m=fs().setTimeout(()=>{c(yr(e,"network-request-failed"))},zp.get());fs()[Dm]=()=>{fs().clearTimeout(m),delete fs()[Dm];const B=fs().grecaptcha;if(!B||!Wc(B))return void c(yr(e,"internal-error"));const W=B.render;B.render=(oe,Ee)=>{const De=W(oe,Ee);return this.counter++,De},this.hostLanguage=t,i(B)},ga(`https://www.google.com/recaptcha/api.js??${Oi({onload:Dm,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(m),c(yr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=fs().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class km{load(e){return(0,ke.Z)(function*(){return new Im(e)})()}clearedOneInstance(){}}const Pm="recaptcha",Iv={theme:"light",type:"image"};class Dv{constructor(e,t,i=Object.assign({},Iv)){this.parameters=i,this.type=Pm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mr(e),this.isInvisible="invisible"===this.parameters.size,xn(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const c="string"==typeof t?document.getElementById(t):t;xn(c,this.auth,"argument-error"),this.container=c,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new km:new I0,this.validateStartingState()}verify(){var e=this;return(0,ke.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),i=e.getAssertedRecaptcha();return i.getResponse(t)||new Promise(m=>{const C=B=>{B&&(e.tokenChangeListeners.delete(C),m(B))};e.tokenChangeListeners.add(C),e.isInvisible&&i.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){xn(!this.parameters.sitekey,this.auth,"argument-error"),xn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xn(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),"function"==typeof e)e(t);else if("string"==typeof e){const i=fs()[e];"function"==typeof i&&i(t)}}}assertNotDestroyed(){xn(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,ke.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const i=document.createElement("div");t.appendChild(i),t=i}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,ke.Z)(function*(){xn(Hs()&&!Ru(),e.auth,"internal-error"),yield function kv(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function ds(n){return Ga.apply(this,arguments)}(e.auth);xn(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return xn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class uh{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Jc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function Om(){return(Om=(0,ke.Z)(function*(n,e,t){const i=mr(n),c=yield jp(i,e,cn(t));return new uh(c,m=>ta(i,m))})).apply(this,arguments)}function Rm(){return(Rm=(0,ke.Z)(function*(n,e,t){const i=cn(n);yield dd(!1,i,"phone");const c=yield jp(i.auth,e,cn(t));return new uh(c,m=>Dp(i,m))})).apply(this,arguments)}function Gp(){return(Gp=(0,ke.Z)(function*(n,e,t){const i=cn(n),c=yield jp(i.auth,e,cn(t));return new uh(c,m=>hs(i,m))})).apply(this,arguments)}function jp(n,e,t){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,ke.Z)(function*(n,e,t){var i;const c=yield t.verify();try{let m;if(xn("string"==typeof c,n,"argument-error"),xn(t.type===Pm,n,"argument-error"),m="string"==typeof e?{phoneNumber:e}:e,"session"in m){const C=m.session;if("phoneNumber"in m)return xn("enroll"===C.type,n,"internal-error"),(yield gf(n,{idToken:C.credential,phoneEnrollmentInfo:{phoneNumber:m.phoneNumber,recaptchaToken:c}})).phoneSessionInfo.sessionInfo;{xn("signin"===C.type,n,"internal-error");const B=(null===(i=m.multiFactorHint)||void 0===i?void 0:i.uid)||m.multiFactorUid;return xn(B,n,"missing-multi-factor-info"),(yield ra(n,{mfaPendingCredential:C.credential,mfaEnrollmentId:B,phoneSignInInfo:{recaptchaToken:c}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:C}=yield Dc(n,{phoneNumber:m.phoneNumber,recaptchaToken:c});return C}}finally{t._reset()}})).apply(this,arguments)}function Cf(){return(Cf=(0,ke.Z)(function*(n,e){yield Ip(cn(n),e)})).apply(this,arguments)}let Sf=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=mr(t)}verifyPhoneNumber(t,i){return jp(this.auth,t,cn(i))}static credential(t,i){return Jc._fromVerification(t,i)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:i,temporaryProof:c}=t;return i&&c?Jc._fromTokenResponse(i,c):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function xd(n,e){return e?_e(e):(xn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Nm extends Ac{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ov(n){return Cu(n.auth,new Nm(n),n.bypassAuthState)}function T1(n){const{auth:e,user:t}=n;return xn(t,e,"internal-error"),Go(t,new Nm(n),n.bypassAuthState)}function C1(n){return wd.apply(this,arguments)}function wd(){return(wd=(0,ke.Z)(function*(n){const{auth:e,user:t}=n;return xn(t,e,"internal-error"),Ip(t,new Nm(n),n.bypassAuthState)})).apply(this,arguments)}class Yp{constructor(e,t,i,c,m=!1){this.auth=e,this.resolver=i,this.user=c,this.bypassAuthState=m,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,ke.Z)(function*(i,c){e.pendingPromise={resolve:i,reject:c};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(m){e.reject(m)}});return function(i,c){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,ke.Z)(function*(){const{urlResponse:i,sessionId:c,postBody:m,tenantId:C,error:B,type:W}=e;if(B)return void t.reject(B);const oe={auth:t.auth,requestUri:i,sessionId:c,tenantId:C||void 0,postBody:m||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(W)(oe))}catch(Ee){t.reject(Ee)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ov;case"linkViaPopup":case"linkViaRedirect":return C1;case"reauthViaPopup":case"reauthViaRedirect":return T1;default:Ji(this.auth,"internal-error")}}resolve(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mv=new Jo(2e3,1e4);function qp(){return(qp=(0,ke.Z)(function*(n,e,t){const i=mr(n);Es(n,e,Ol);const c=xd(i,t);return new Y(i,"signInViaPopup",e,c).executeNotNull()})).apply(this,arguments)}function O(){return(O=(0,ke.Z)(function*(n,e,t){const i=cn(n);Es(i.auth,e,Ol);const c=xd(i.auth,t);return new Y(i.auth,"reauthViaPopup",e,c,i).executeNotNull()})).apply(this,arguments)}function A(){return(A=(0,ke.Z)(function*(n,e,t){const i=cn(n);Es(i.auth,e,Ol);const c=xd(i.auth,t);return new Y(i.auth,"linkViaPopup",e,c,i).executeNotNull()})).apply(this,arguments)}let Y=(()=>{class n extends Yp{constructor(t,i,c,m,C){super(t,i,m,C),this.provider=c,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,ke.Z)(function*(){const i=yield t.execute();return xn(i,t.auth,"internal-error"),i})()}onExecution(){var t=this;return(0,ke.Z)(function*(){ho(1===t.filter.length,"Popup operations only handle one event");const i=ia();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],i),t.authWindow.associatedEvent=i,t.resolver._originValidation(t.auth).catch(c=>{t.reject(c)}),t.resolver._isIframeWebStorageSupported(t.auth,c=>{c||t.reject(yr(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,c;this.pollId=null!==(c=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==c&&c.closed?window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Mv.get())};t()}}return n.currentPopupAction=null,n})();const Ze=new Map;class at extends Yp{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,ke.Z)(function*(){let i=Ze.get(t.auth._key());if(!i){try{const m=(yield function ht(n,e){return It.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(m)}catch(c){i=()=>Promise.reject(c)}Ze.set(t.auth._key(),i)}return t.bypassAuthState||Ze.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return(0,ke.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const c=yield i.auth._redirectUserForId(e.eventId);if(c)return i.user=c,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,ke.Z)(function*(){})()}cleanUp(){}}function It(){return(It=(0,ke.Z)(function*(n,e){const t=Ni(e),i=_r(n);if(!(yield i._isAvailable()))return!1;const c="true"===(yield i._get(t));return yield i._remove(t),c})).apply(this,arguments)}function Zt(n,e){return qn.apply(this,arguments)}function qn(){return(qn=(0,ke.Z)(function*(n,e){return _r(n)._set(Ni(e),"true")})).apply(this,arguments)}function Wn(n,e){Ze.set(n._key(),e)}function _r(n){return _e(n._redirectPersistence)}function Ni(n){return Ct("pendingRedirect",n.config.apiKey,n.name)}function ir(){return(ir=(0,ke.Z)(function*(n,e,t){const i=mr(n);Es(n,e,Ol),yield i._initializationPromise;const c=xd(i,t);return yield Zt(c,i),c._openRedirect(i,e,"signInViaRedirect")})).apply(this,arguments)}function Fr(){return(Fr=(0,ke.Z)(function*(n,e,t){const i=cn(n);Es(i.auth,e,Ol),yield i.auth._initializationPromise;const c=xd(i.auth,t);yield Zt(c,i.auth);const m=yield wa(i);return c._openRedirect(i.auth,e,"reauthViaRedirect",m)})).apply(this,arguments)}function Wr(){return(Wr=(0,ke.Z)(function*(n,e,t){const i=cn(n);Es(i.auth,e,Ol),yield i.auth._initializationPromise;const c=xd(i.auth,t);yield dd(!1,i,e.providerId),yield Zt(c,i.auth);const m=yield wa(i);return c._openRedirect(i.auth,e,"linkViaRedirect",m)})).apply(this,arguments)}function go(){return(go=(0,ke.Z)(function*(n,e){return yield mr(n)._initializationPromise,No(n,e,!1)})).apply(this,arguments)}function No(n,e){return ka.apply(this,arguments)}function ka(){return(ka=(0,ke.Z)(function*(n,e,t=!1){const i=mr(n),c=xd(i,e),C=yield new at(i,c,t).execute();return C&&!t&&(delete C.user._redirectEventId,yield i._persistUserIfCurrent(C.user),yield i._setRedirectUser(null,e)),C})).apply(this,arguments)}function wa(n){return oc.apply(this,arguments)}function oc(){return(oc=(0,ke.Z)(function*(n){const e=ia(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class Pa{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Ul(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hh(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!hh(e)){const c=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,c))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bl(e))}saveEventToCache(e){this.cachedEventUids.add(Bl(e)),this.lastProcessedEventTime=Date.now()}}function Bl(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hh({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function fh(n){return ac.apply(this,arguments)}function ac(){return(ac=(0,ke.Z)(function*(n,e={}){return Ir(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Vc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Af=/^https?/;function lc(){return(lc=(0,ke.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield fh(n);for(const t of e)try{if(ph(t))return}catch{}Ji(n,"unauthorized-domain")})).apply(this,arguments)}function ph(n){const e=Oo(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const C=new URL(n);return""===C.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&C.hostname===i}if(!Af.test(t))return!1;if(Vc.test(n))return i===n;const c=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(i)}const If=new Jo(3e4,6e4);function Bc(){const n=fs().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Ed=null;function gh(n){return Ed=Ed||function Wp(n){return new Promise((e,t)=>{var i,c,m;function C(){Bc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bc(),t(yr(n,"network-request-failed"))},timeout:If.get()})}if(null!==(c=null===(i=fs().gapi)||void 0===i?void 0:i.iframes)&&void 0!==c&&c.Iframe)e(gapi.iframes.getContext());else{if(null===(m=fs().gapi)||void 0===m||!m.load){const B=$l("iframefcb");return fs()[B]=()=>{gapi.load?C():t(yr(n,"network-request-failed"))},ga(`https://apis.google.com/js/api.js?onload=${B}`).catch(W=>t(W))}C()}}).catch(e=>{throw Ed=null,e})}(n),Ed}const Nv=new Jo(5e3,15e3),Lv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fm(n){const e=n.config;xn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qo(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:n.name,v:Ue},c=Lm.get(n.config.apiHost);c&&(i.eid=c);const m=n._getFrameworks();return m.length&&(i.fw=m.join(",")),`${t}?${Oi(i).slice(1)}`}function kf(){return kf=(0,ke.Z)(function*(n){const e=yield gh(n),t=fs().gapi;return xn(t,n,"internal-error"),e.open({where:document.body,url:Fm(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lv,dontclear:!0},i=>new Promise(function(){var c=(0,ke.Z)(function*(m,C){yield i.restyle({setHideOnLeave:!1});const B=yr(n,"network-request-failed"),W=fs().setTimeout(()=>{C(B)},Nv.get());function oe(){fs().clearTimeout(W),m(i)}i.ping(oe).then(oe,()=>{C(B)})});return function(m,C){return c.apply(this,arguments)}}()))}),kf.apply(this,arguments)}const Bu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const k0=encodeURIComponent("fac");function Vm(n,e,t,i,c,m){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,ke.Z)(function*(n,e,t,i,c,m){xn(n.config.authDomain,n,"auth-domain-config-required"),xn(n.config.apiKey,n,"invalid-api-key");const C={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ue,eventId:c};if(e instanceof Ol){e.setDefaultLanguage(n.languageCode),C.providerId=e.providerId||"",Pi(e.getCustomParameters())||(C.customParameters=JSON.stringify(e.getCustomParameters()));for(const[Ee,De]of Object.entries(m||{}))C[Ee]=De}if(e instanceof wu){const Ee=e.getScopes().filter(De=>""!==De);Ee.length>0&&(C.scopes=Ee.join(","))}n.tenantId&&(C.tid=n.tenantId);const B=C;for(const Ee of Object.keys(B))void 0===B[Ee]&&delete B[Ee];const W=yield n._getAppCheckToken(),oe=W?`#${k0}=${encodeURIComponent(W)}`:"";return`${P0(n)}?${Oi(B).slice(1)}${oe}`})).apply(this,arguments)}function P0({config:n}){return n.emulator?Qo(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const Hv="webStorageSupport",uc=class S1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ns,this._completeRedirectFn=No,this._overrideRedirectResult=Wn}_openPopup(e,t,i,c){var m=this;return(0,ke.Z)(function*(){var C;ho(null===(C=m.eventManagers[e._key()])||void 0===C?void 0:C.manager,"_initialize() not called before _openPopup()");const B=yield Vm(e,t,i,Oo(),c);return function Vv(n,e,t,i=500,c=600){const m=Math.max((window.screen.availHeight-c)/2,0).toString(),C=Math.max((window.screen.availWidth-i)/2,0).toString();let B="";const W=Object.assign(Object.assign({},Bu),{width:i.toString(),height:c.toString(),top:m,left:C}),oe=Nt().toLowerCase();t&&(B=Xi(oe)?"_blank":t),Xn(oe)&&(e=e||"http://localhost",W.scrollbars="yes");const Ee=Object.entries(W).reduce((rt,[St,An])=>`${rt}${St}=${An},`,"");if(function qc(n=Nt()){var e;return Ho(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(oe)&&"_self"!==B)return function Bv(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",B),new Xp(null);const De=window.open(e||"",B,Ee);xn(De,n,"popup-blocked");try{De.focus()}catch{}return new Xp(De)}(e,B,ia())})()}_openRedirect(e,t,i,c){var m=this;return(0,ke.Z)(function*(){return yield m._originValidation(e),function Mu(n){fs().location.href=n}(yield Vm(e,t,i,Oo(),c)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:c,promise:m}=this.eventManagers[t];return c?Promise.resolve(c):(ho(m,"If manager is not set, promise should be"),m)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return(0,ke.Z)(function*(){const i=yield function Fv(n){return kf.apply(this,arguments)}(e),c=new Pa(e);return i.register("authEvent",m=>(xn(m?.authEvent,e,"invalid-auth-event"),{status:c.onEvent(m.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:c},t.iframes[e._key()]=i,c})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hv,{type:Hv},c=>{var m;const C=null===(m=c?.[0])||void 0===m?void 0:m[Hv];void 0!==C&&t(!!C),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Vu(n){return lc.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zo()||wi()||Ho()}};class A1{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return qs("unexpected MultiFactorSessionType")}}}class Bm extends A1{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Bm(e)}_finalizeEnroll(e,t,i){return function Ou(n,e){return Ir(n,"POST","/v2/accounts/mfaEnrollment:finalize",Zr(n,e))}(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function sl(n,e){return Ir(n,"POST","/v2/accounts/mfaSignIn:finalize",Zr(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let I1=(()=>{class n{constructor(){}static assertion(t){return Bm._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var M0="@firebase/auth";class D1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ke.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _h(){return window}function Zv(){return Zv=(0,ke.Z)(function*(n,e,t){var i;const{BuildInfo:c}=_h();ho(e.sessionId,"AuthEvent did not contain a session ID");const m=yield Yv(e.sessionId),C={};return Ho()?C.ibi=c.packageName:as()?C.apn=c.packageName:Ji(n,"operation-not-supported-in-this-environment"),c.displayName&&(C.appDisplayName=c.displayName),C.sessionId=m,Vm(n,t,e.type,void 0,null!==(i=e.eventId)&&void 0!==i?i:void 0,C)}),Zv.apply(this,arguments)}function Um(){return Um=(0,ke.Z)(function*(n){const{BuildInfo:e}=_h(),t={};Ho()?t.iosBundleId=e.packageName:as()?t.androidPackageName=e.packageName:Ji(n,"operation-not-supported-in-this-environment"),yield fh(n,t)}),Um.apply(this,arguments)}function Gv(){return Gv=(0,ke.Z)(function*(n,e,t){const{cordova:i}=_h();let c=()=>{};try{yield new Promise((m,C)=>{let B=null;function W(){var De;m();const rt=null===(De=i.plugins.browsertab)||void 0===De?void 0:De.close;"function"==typeof rt&&rt(),"function"==typeof t?.close&&t.close()}function oe(){B||(B=window.setTimeout(()=>{C(yr(n,"redirect-cancelled-by-user"))},2e3))}function Ee(){"visible"===document?.visibilityState&&oe()}e.addPassiveListener(W),document.addEventListener("resume",oe,!1),as()&&document.addEventListener("visibilitychange",Ee,!1),c=()=>{e.removePassiveListener(W),document.removeEventListener("resume",oe,!1),document.removeEventListener("visibilitychange",Ee,!1),B&&window.clearTimeout(B)}})}finally{c()}}),Gv.apply(this,arguments)}function Yv(n){return qv.apply(this,arguments)}function qv(){return qv=(0,ke.Z)(function*(n){const e=WC(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(c=>c.toString(16).padStart(2,"0")).join("")}),qv.apply(this,arguments)}function WC(n){if(ho(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}Ut(),function N0(n){lr(new vi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),m=e.getProvider("app-check-internal"),{apiKey:C,authDomain:B}=i.options;xn(C&&!C.includes(":"),"invalid-api-key",{appName:i.name});const W={apiKey:C,authDomain:B,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nd(n)},oe=new ts(i,c,m,W);return function Xc(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(_e);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(oe,t),oe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),lr(new vi("auth-internal",e=>{const t=mr(e.getProvider("auth").getImmediate());return new D1(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(M0,"1.0.0",function vr(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ai(M0,"1.0.0","esm2017")}("Browser");class XC extends Pa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,ke.Z)(function*(){yield e.initPromise})()}}function R1(n){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,ke.Z)(function*(n){const e=yield Hm()._get(Mf(n));return e&&(yield Hm()._remove(Mf(n))),e}),Wv.apply(this,arguments)}function N1(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<20;t++){const i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function Hm(){return _e(dn)}function Mf(n){return Ct("authEvent",n.config.apiKey,n.name)}function zm(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return Hi(t.join("?"))}const B1=class V1{constructor(){this._redirectPersistence=ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=No,this._overrideRedirectResult=Wn}_initialize(e){var t=this;return(0,ke.Z)(function*(){const i=e._key();let c=t.eventManagers.get(i);return c||(c=new XC(e),t.eventManagers.set(i,c),t.attachCallbackListeners(e,c)),c})()}_openPopup(e){Ji(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,i,c){var m=this;return(0,ke.Z)(function*(){!function jv(n){var e,t,i,c,m,C,B,W,oe,Ee;const De=_h();xn("function"==typeof(null===(e=De?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xn(typeof(null===(t=De?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xn("function"==typeof(null===(m=null===(c=null===(i=De?.cordova)||void 0===i?void 0:i.plugins)||void 0===c?void 0:c.browsertab)||void 0===m?void 0:m.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xn("function"==typeof(null===(W=null===(B=null===(C=De?.cordova)||void 0===C?void 0:C.plugins)||void 0===B?void 0:B.browsertab)||void 0===W?void 0:W.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xn("function"==typeof(null===(Ee=null===(oe=De?.cordova)||void 0===oe?void 0:oe.InAppBrowser)||void 0===Ee?void 0:Ee.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const C=yield m._initialize(e);yield C.initialized(),C.resetRedirect(),function Nn(){Ze.clear()}(),yield m._originValidation(e);const B=function M1(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:N1(),postBody:null,tenantId:n.tenantId,error:yr(n,"no-auth-event")}}(e,i,c);yield function H0(n,e){return Hm()._set(Mf(n),e)}(e,B);const W=yield function O1(n,e,t){return Zv.apply(this,arguments)}(e,B,t),oe=yield function U0(n){const{cordova:e}=_h();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let c=null;i?e.plugins.browsertab.openUrl(n):c=e.InAppBrowser.open(n,function gl(n=Nt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(c)})})}(W);return function vh(n,e,t){return Gv.apply(this,arguments)}(e,C,oe)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function qC(n){return Um.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:c,BuildInfo:m}=_h(),C=setTimeout((0,ke.Z)(function*(){yield R1(e),t.onEvent(Z0())}),500),B=function(){var Ee=(0,ke.Z)(function*(De){clearTimeout(C);const rt=yield R1(e);let St=null;rt&&De?.url&&(St=function Of(n,e){var t,i;const c=function z0(n){const e=zm(n),t=e.link?decodeURIComponent(e.link):void 0,i=zm(t).link,c=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return zm(c).link||c||i||t||n}(e);if(c.includes("/__/auth/callback")){const m=zm(c),C=m.firebaseError?function L1(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(m.firebaseError)):null,B=null===(i=null===(t=C?.code)||void 0===t?void 0:t.split("auth/"))||void 0===i?void 0:i[1],W=B?yr(B):null;return W?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:W,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:c,postBody:null}}return null}(rt,De.url)),t.onEvent(St||Z0())});return function(rt){return Ee.apply(this,arguments)}}();typeof i<"u"&&"function"==typeof i.subscribe&&i.subscribe(null,B);const W=c,oe=`${m.packageName.toLowerCase()}://`;_h().handleOpenURL=function(){var Ee=(0,ke.Z)(function*(De){if(De.toLowerCase().startsWith(oe)&&B({url:De}),"function"==typeof W)try{W(De)}catch(rt){console.error(rt)}});return function(De){return Ee.apply(this,arguments)}}()}};function Z0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yr("no-auth-event")}}function yh(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function Zm(n=Nt()){return!("file:"!==yh()&&"ionic:"!==yh()&&"capacitor:"!==yh()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function W0(){try{const n=self.localStorage,e=ia();if(n)return n.setItem(e,"1"),n.removeItem(e),!function q0(n=Nt()){return function JC(){return Lt()&&11===document?.documentMode}()||function Rf(n=Nt()){return/Edge\/\d+/.test(n)}(n)}()||en()}catch{return Gm()&&en()}return!1}function Gm(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $v(){return(function KC(){return"http:"===yh()||"https:"===yh()}()||In()||Zm())&&!function H1(){return mn()||Cn()}()&&W0()&&!Gm()}function $0(){return Zm()&&typeof document<"u"}function Td(){return Td=(0,ke.Z)(function*(){return!!$0()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})}),Td.apply(this,arguments)}const Oa={LOCAL:"local",NONE:"none",SESSION:"session"},bh=xn,Qp="persistence";function eg(n){return tg.apply(this,arguments)}function tg(){return tg=(0,ke.Z)(function*(n){yield n._initializationPromise;const e=Jv(),t=Ct(Qp,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}),tg.apply(this,arguments)}function Jv(){var n;try{return(null===(n=function Xv(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const Qv=xn;class Cd{constructor(){this.browserResolver=_e(uc),this.cordovaResolver=_e(B1),this.underlyingResolver=null,this._redirectPersistence=ns,this._completeRedirectFn=No,this._overrideRedirectResult=Wn}_initialize(e){var t=this;return(0,ke.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,i,c){var m=this;return(0,ke.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._openPopup(e,t,i,c)})()}_openRedirect(e,t,i,c){var m=this;return(0,ke.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._openRedirect(e,t,i,c)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return $0()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,ke.Z)(function*(){if(e.underlyingResolver)return;const t=yield function jm(){return Td.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function K0(n){return n.unwrap()}function z1(n){return ey(n)}function ey(n){const{_tokenResponse:e}=n instanceof Tn?n.customData:n;if(!e)return null;if(!(n instanceof Tn)&&"temporaryProof"in e&&"phoneNumber"in e)return Sf.credentialFromResult(n);const t=e.providerId;if(!t||"password"===t)return null;let i;switch(t){case"google.com":i=Wd;break;case"facebook.com":i=Qh;break;case"github.com":i=Eu;break;case"twitter.com":i=rf;break;default:const{oauthIdToken:c,oauthAccessToken:m,oauthTokenSecret:C,pendingToken:B,nonce:W}=e;return m||C||c||B?B?t.startsWith("saml.")?Tu._create(t,B):Ps._fromParams({providerId:t,signInMethod:t,pendingToken:B,idToken:c,accessToken:m}):new vl(t).credential({idToken:c,accessToken:m,rawNonce:W}):null}return n instanceof Tn?i.credentialFromError(n):i.credentialFromResult(n)}function El(n,e){return e.catch(t=>{throw t instanceof Tn&&function Q0(n,e){var t;const i=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new ex(n,function Pu(n,e){var t;const i=cn(n),c=e;return xn(e.customData.operationType,i,"argument-error"),xn(null===(t=c.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,i,"argument-error"),ru._fromError(i,c)}(n,e));else if(i){const c=ey(e),m=e;c&&(m.credential=c,m.tenantId=i.tenantId||void 0,m.email=i.email||void 0,m.phoneNumber=i.phoneNumber||void 0)}}(n,t),t}).then(t=>{const c=t.user;return{operationType:t.operationType,credential:z1(t),additionalUserInfo:ic(t),user:Hu.getOrCreate(c)}})}function ty(n,e){return ol.apply(this,arguments)}function ol(){return ol=(0,ke.Z)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:i=>El(n,t.confirm(i))}}),ol.apply(this,arguments)}class ex{constructor(e,t){this.resolver=t,this.auth=function J0(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return El(K0(this.auth),this.resolver.resolveSignIn(e))}}class Hu{constructor(e){this._delegate=e,this.multiFactor=function mf(n){const e=cn(n);return vd.has(e)||vd.set(e,Nc._fromUser(e)),vd.get(e)}(e)}static getOrCreate(e){return Hu.USER_MAP.has(e)||Hu.USER_MAP.set(e,new Hu(e)),Hu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,ke.Z)(function*(){return El(t.auth,Dp(t._delegate,e))})()}linkWithPhoneNumber(e,t){var i=this;return(0,ke.Z)(function*(){return ty(i.auth,function Mm(n,e,t){return Rm.apply(this,arguments)}(i._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,ke.Z)(function*(){return El(t.auth,function g(n,e,t){return A.apply(this,arguments)}(t._delegate,e,Cd))})()}linkWithRedirect(e){var t=this;return(0,ke.Z)(function*(){return yield eg(mr(t.auth)),function is(n,e,t){return function Ms(n,e,t){return Wr.apply(this,arguments)}(n,e,t)}(t._delegate,e,Cd)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,ke.Z)(function*(){return El(t.auth,hs(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return ty(this.auth,function Co(n,e,t){return Gp.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return El(this.auth,function E(n,e,t){return O.apply(this,arguments)}(this._delegate,e,Cd))}reauthenticateWithRedirect(e){var t=this;return(0,ke.Z)(function*(){return yield eg(mr(t.auth)),function Os(n,e,t){return function br(n,e,t){return Fr.apply(this,arguments)}(n,e,t)}(t._delegate,e,Cd)})()}sendEmailVerification(e){return function ku(n,e){return _d.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,ke.Z)(function*(){return yield function Xd(n,e){return ud.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function df(n,e){return hf(cn(n),e,null)}(this._delegate,e)}updatePassword(e){return function Mp(n,e){return hf(cn(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function Pv(n,e){return Cf.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function Op(n,e){return rh.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function Pp(n,e,t){return uf.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hu.USER_MAP=new WeakMap;const Ym=xn;let qm=(()=>{class n{constructor(t,i){if(this.app=t,i.isInitialized())return this._delegate=i.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:c}=t.options;Ym(c,"invalid-api-key",{appName:t.name}),Ym(c,"invalid-api-key",{appName:t.name});const m=typeof window<"u"?Cd:void 0;this._delegate=i.initialize({options:{persistence:Z1(c,t.name),popupRedirectResolver:m}}),this._delegate._updateErrorMap(Is),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,i){!function $h(n,e,t){const i=mr(n);xn(i._canInitEmulator,i,"emulator-config-failed"),xn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const c=!!t?.disableWarnings,m=Cc(e),{host:C,port:B}=function rd(n){const e=Cc(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(i);if(c){const m=c[1];return{host:m,port:Sc(i.substr(m.length+1))}}{const[m,C]=i.split(":");return{host:m,port:Sc(C)}}}(e);i.config.emulator={url:`${m}//${C}${null===B?"":`:${B}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:C,port:B,protocol:m.replace(":",""),options:Object.freeze({disableWarnings:c})}),c||function Xh(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,i)}applyActionCode(t){return function Jd(n,e){return na.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return ec(this._delegate,t)}confirmPasswordReset(t,i){return function Iu(n,e,t){return pd.apply(this,arguments)}(this._delegate,t,i)}createUserWithEmailAndPassword(t,i){var c=this;return(0,ke.Z)(function*(){return El(c._delegate,function Du(n,e,t){return Rl.apply(this,arguments)}(c._delegate,t,i))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function nh(n,e){return ih.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function Tm(n,e){return"EMAIL_SIGNIN"===cd.parseLink(e)?.operation}(0,t)}getRedirectResult(){var t=this;return(0,ke.Z)(function*(){Ym($v(),t._delegate,"operation-not-supported-in-this-environment");const i=yield function jo(n,e){return go.apply(this,arguments)}(t._delegate,Cd);return i?El(t._delegate,Promise.resolve(i)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function G0(n,e){mr(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,i,c){const{next:m,error:C,complete:B}=ny(t,i,c);return this._delegate.onAuthStateChanged(m,C,B)}onIdTokenChanged(t,i,c){const{next:m,error:C,complete:B}=ny(t,i,c);return this._delegate.onIdTokenChanged(m,C,B)}sendSignInLinkToEmail(t,i){return function cf(n,e,t){return gd.apply(this,arguments)}(this._delegate,t,i)}sendPasswordResetEmail(t,i){return function Ql(n,e,t){return po.apply(this,arguments)}(this._delegate,t,i||void 0)}setPersistence(t){var i=this;return(0,ke.Z)(function*(){let c;switch(function X0(n,e){bh(Object.values(Oa).includes(e),n,"invalid-persistence-type"),mn()?bh(e!==Oa.SESSION,n,"unsupported-persistence-type"):Cn()?bh(e===Oa.NONE,n,"unsupported-persistence-type"):Gm()?bh(e===Oa.NONE||e===Oa.LOCAL&&en(),n,"unsupported-persistence-type"):bh(e===Oa.NONE||W0(),n,"unsupported-persistence-type")}(i._delegate,t),t){case Oa.SESSION:c=ns;break;case Oa.LOCAL:c=(yield _e(qr)._isAvailable())?qr:dn;break;case Oa.NONE:c=it;break;default:return Ji("argument-error",{appName:i._delegate.name})}return i._delegate.setPersistence(c)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return El(this._delegate,function Av(n){return Ap.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return El(this._delegate,ta(this._delegate,t))}signInWithCustomToken(t){return El(this._delegate,function Kd(n,e){return fd.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,i){return El(this._delegate,function eh(n,e,t){return ta(cn(n),qd.credential(e,t))}(this._delegate,t,i))}signInWithEmailLink(t,i){return El(this._delegate,function il(n,e,t){return th.apply(this,arguments)}(this._delegate,t,i))}signInWithPhoneNumber(t,i){return ty(this._delegate,function dh(n,e,t){return Om.apply(this,arguments)}(this._delegate,t,i))}signInWithPopup(t){var i=this;return(0,ke.Z)(function*(){return Ym($v(),i._delegate,"operation-not-supported-in-this-environment"),El(i._delegate,function Rv(n,e,t){return qp.apply(this,arguments)}(i._delegate,t,Cd))})()}signInWithRedirect(t){var i=this;return(0,ke.Z)(function*(){return Ym($v(),i._delegate,"operation-not-supported-in-this-environment"),yield eg(i._delegate),function nr(n,e,t){return function Sr(n,e,t){return ir.apply(this,arguments)}(n,e,t)}(i._delegate,t,Cd)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function tu(n,e){return Qd.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=Oa,n})();function ny(n,e,t){let i=n;"function"!=typeof n&&({next:i,error:e,complete:t}=n);const c=i;return{next:C=>c(C&&Hu.getOrCreate(C)),error:e,complete:t}}function Z1(n,e){const t=function Kv(n,e){const t=Jv();if(!t)return[];const i=Ct(Qp,n,e);switch(t.getItem(i)){case Oa.NONE:return[it];case Oa.LOCAL:return[qr,ns];case Oa.SESSION:return[ns];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(qr)&&t.push(qr),typeof window<"u")for(const i of[dn,ns])t.includes(i)||t.push(i);return t.includes(it)||t.push(it),t}class iy{constructor(){this.providerId="phone",this._delegate=new Sf(K0(Re.auth()))}static credential(e,t){return Sf.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}iy.PHONE_SIGN_IN_METHOD=Sf.PHONE_SIGN_IN_METHOD,iy.PROVIDER_ID=Sf.PROVIDER_ID;const G1=xn;class tx{constructor(e,t,i=Re.app()){var c;G1(null===(c=i.options)||void 0===c?void 0:c.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Dv(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y1(n){n.INTERNAL.registerComponent(new vi("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new qm(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qd,FacebookAuthProvider:Qh,GithubAuthProvider:Eu,GoogleAuthProvider:Wd,OAuthProvider:vl,SAMLAuthProvider:nf,PhoneAuthProvider:iy,PhoneMultiFactorGenerator:I1,RecaptchaVerifier:tx,TwitterAuthProvider:rf,Auth:qm,AuthCredential:Ac,Error:Tn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.4.3")}(Re);var ri,ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uc={},sy=sy||{},hr=ry||self;function Wm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Tl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ay="closure_uid_"+(1e9*Math.random()>>>0),q1=0;function nx(n,e,t){return n.call.apply(n.bind,arguments)}function W1(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,i),n.apply(e,c)}}return function(){return n.apply(e,arguments)}}function qa(n,e,t){return(qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nx:W1).apply(null,arguments)}function $m(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Yo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,c,m){for(var C=Array(arguments.length-2),B=2;B<arguments.length;B++)C[B-2]=arguments[B];return e.prototype[c].apply(i,C)}}function Sd(){this.s=this.s,this.o=this.o}Sd.prototype.s=!1,Sd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function oy(n){Object.prototype.hasOwnProperty.call(n,ay)&&n[ay]||(n[ay]=++q1)}(this)},Sd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ng=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ig(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function rg(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Wm(i)){const c=n.length||0,m=i.length||0;n.length=c+m;for(let C=0;C<m;C++)n[c+C]=i[C]}else n.push(i)}}function al(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}al.prototype.h=function(){this.defaultPrevented=!0};var ly=function(){if(!hr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hr.addEventListener("test",()=>{},e),hr.removeEventListener("test",()=>{},e)}catch{}return n}();function Xm(n){return/^[\s\xa0]*$/.test(n)}function sg(){var n=hr.navigator;return n&&(n=n.userAgent)?n:""}function Hc(n){return-1!=sg().indexOf(n)}function Km(n){return Km[" "](n),n}Km[" "]=function(){};var Jm,cy=Hc("Opera"),Cl=Hc("Trident")||Hc("MSIE"),og=Hc("Edge"),Nf=og||Cl,Lf=Hc("Gecko")&&!(-1!=sg().toLowerCase().indexOf("webkit")&&!Hc("Edge"))&&!(Hc("Trident")||Hc("MSIE"))&&!Hc("Edge"),X1=-1!=sg().toLowerCase().indexOf("webkit")&&!Hc("Edge");function uy(){var n=hr.document;return n?n.documentMode:void 0}e:{var dy="",hy=function(){var n=sg();return Lf?/rv:([^\);]+)(\)|;)/.exec(n):og?/Edge\/([\d\.]+)/.exec(n):Cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):X1?/WebKit\/(\S+)/.exec(n):cy?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(hy&&(dy=hy?hy[1]:""),Cl){var xh=uy();if(null!=xh&&xh>parseFloat(dy)){Jm=String(xh);break e}}Jm=dy}var J1=hr.document&&Cl&&(uy()||parseInt(Jm,10))||void 0;function ag(n,e){if(al.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Lf){e:{try{Km(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Q1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ag.$.h.call(this)}}Yo(ag,al);var Q1={2:"touch",3:"pen",4:"mouse"};ag.prototype.h=function(){ag.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var lg="closure_listenable_"+(1e6*Math.random()|0),eE=0;function tE(n,e,t,i,c){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=c,this.key=++eE,this.fa=this.ia=!1}function Qm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function e_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function rx(n){const e={};for(const t in n)e[t]=n[t];return e}const t_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sx(n,e){let t,i;for(let c=1;c<arguments.length;c++){for(t in i=arguments[c],i)n[t]=i[t];for(let m=0;m<t_.length;m++)t=t_[m],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function n_(n){this.src=n,this.g={},this.h=0}function gy(n,e){var t=e.type;if(t in n.g){var m,i=n.g[t],c=ng(i,e);(m=0<=c)&&Array.prototype.splice.call(i,c,1),m&&(Qm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function my(n,e,t,i){for(var c=0;c<n.length;++c){var m=n[c];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==i)return c}return-1}n_.prototype.add=function(n,e,t,i,c){var m=n.toString();(n=this.g[m])||(n=this.g[m]=[],this.h++);var C=my(n,e,i,c);return-1<C?(e=n[C],t||(e.ia=!1)):((e=new tE(e,this.src,m,!!i,c)).ia=t,n.push(e)),e};var _y="closure_lm_"+(1e6*Math.random()|0),vy={};function yy(n,e,t,i,c){if(i&&i.once)return ax(n,e,t,i,c);if(Array.isArray(e)){for(var m=0;m<e.length;m++)yy(n,e[m],t,i,c);return null}return t=xy(t),n&&n[lg]?n.O(e,t,Tl(i)?!!i.capture:!!i,c):by(n,e,t,!1,i,c)}function by(n,e,t,i,c,m){if(!e)throw Error("Invalid event type");var C=Tl(c)?!!c.capture:!!c,B=lx(n);if(B||(n[_y]=B=new n_(n)),(t=B.add(e,t,i,C,m)).proxy)return t;if(i=function ox(){const e=wh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ly||(c=C),void 0===c&&(c=!1),n.addEventListener(e.toString(),i,c);else if(n.attachEvent)n.attachEvent(cg(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ax(n,e,t,i,c){if(Array.isArray(e)){for(var m=0;m<e.length;m++)ax(n,e[m],t,i,c);return null}return t=xy(t),n&&n[lg]?n.P(e,t,Tl(i)?!!i.capture:!!i,c):by(n,e,t,!0,i,c)}function nE(n,e,t,i,c){if(Array.isArray(e))for(var m=0;m<e.length;m++)nE(n,e[m],t,i,c);else i=Tl(i)?!!i.capture:!!i,t=xy(t),n&&n[lg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=my(m=n.g[e],t,i,c))&&(Qm(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete n.g[e],n.h--))):n&&(n=lx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=my(e,t,i,c)),(t=-1<n?e[n]:null)&&i_(t))}function i_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[lg])gy(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(cg(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=lx(e))?(gy(t,n),0==t.h&&(t.src=null,e[_y]=null)):Qm(n)}}}function cg(n){return n in vy?vy[n]:vy[n]="on"+n}function wh(n,e){if(n.fa)n=!0;else{e=new ag(e,this);var t=n.listener,i=n.la||n.src;n.ia&&i_(n),n=t.call(i,e)}return n}function lx(n){return(n=n[_y])instanceof n_?n:null}var Ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(n){return"function"==typeof n?n:(n[Ff]||(n[Ff]=function(e){return n.handleEvent(e)}),n[Ff])}function Ea(){Sd.call(this),this.i=new n_(this),this.S=this,this.J=null}function sa(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new al(e,n);else if(e instanceof al)e.target=e.target||n;else{var c=e;sx(e=new al(i,n),c)}if(c=!0,t)for(var m=t.length-1;0<=m;m--){var C=e.g=t[m];c=r_(C,i,!0,e)&&c}if(c=r_(C=e.g=n,i,!0,e)&&c,c=r_(C,i,!1,e)&&c,t)for(m=0;m<t.length;m++)c=r_(C=e.g=t[m],i,!1,e)&&c}function r_(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,m=0;m<e.length;++m){var C=e[m];if(C&&!C.fa&&C.capture==t){var B=C.listener,W=C.la||C.src;C.ia&&gy(n.i,C),c=!1!==B.call(W,i)&&c}}return c&&!i.defaultPrevented}Yo(Ea,Sd),Ea.prototype[lg]=!0,Ea.prototype.removeEventListener=function(n,e,t,i){nE(this,n,e,t,i)},Ea.prototype.N=function(){if(Ea.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Qm(t[i]);delete n.g[e],n.h--}}this.J=null},Ea.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ea.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var dc=hr.JSON.stringify;function Wa(){var n=Ad;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dg=new class ug{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hc,n=>n.reset());class hc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wy(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Vf(n){hr.setTimeout(()=>{throw n},0)}let ou,au=!1,Ad=new class Eh{constructor(){this.h=this.g=null}add(e,t){const i=dg.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Th=()=>{const n=hr.Promise.resolve(void 0);ou=()=>{n.then(Bf)}};var Bf=()=>{for(var n;n=Wa();){try{n.h.call(n.g)}catch(t){Vf(t)}var e=dg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}au=!1};function zu(n,e){Ea.call(this),this.h=n||1,this.g=e||hr,this.j=qa(this.qb,this),this.l=Date.now()}function Id(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Dd(n,e,t){if("function"==typeof n)t&&(n=qa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qa(n.handleEvent,n)}return 2147483647<Number(e)?-1:hr.setTimeout(n,e||0)}function Ey(n){n.g=Dd(()=>{n.g=null,n.i&&(n.i=!1,Ey(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Yo(zu,Ea),(ri=zu.prototype).ga=!1,ri.T=null,ri.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sa(this,"tick"),this.ga&&(Id(this),this.start()))}},ri.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ri.N=function(){zu.$.N.call(this),Id(this),delete this.g};class cx extends Sd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ey(this)}N(){super.N(),this.g&&(hr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uf(n){Sd.call(this),this.h=n,this.g={}}Yo(Uf,Sd);var Ty=[];function Cy(n,e,t,i){Array.isArray(t)||(t&&(Ty[0]=t.toString()),t=Ty);for(var c=0;c<t.length;c++){var m=yy(e,t[c],i||n.handleEvent,!1,n.h||n);if(!m)break;n.g[m.key]=m}}function Sy(n){e_(n.g,function(e,t){this.g.hasOwnProperty(t)&&i_(e)},n),n.g={}}function hg(){this.g=!0}function Hf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hx(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var c=i[1];if(Array.isArray(c)&&!(1>c.length)){var m=c[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var C=1;C<c.length;C++)c[C]=""}}}return dc(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Uf.prototype.N=function(){Uf.$.N.call(this),Sy(this)},Uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hg.prototype.Ea=function(){this.g=!1},hg.prototype.info=function(){};var Ch={},Ay=null;function zf(){return Ay=Ay||new Ea}function s_(n){al.call(this,Ch.Ta,n)}function fg(n){const e=zf();sa(e,new s_(e))}function pg(n,e){al.call(this,Ch.STAT_EVENT,n),this.stat=e}function Ta(n){const e=zf();sa(e,new pg(e,n))}function o_(n,e){al.call(this,Ch.Ua,n),this.size=e}function gg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hr.setTimeout(function(){n()},e)}Ch.Ta="serverreachability",Yo(s_,al),Ch.STAT_EVENT="statevent",Yo(pg,al),Ch.Ua="timingevent",Yo(o_,al);var Sh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function a_(){}function l_(){}a_.prototype.h=null;var u_,Zf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function c_(){al.call(this,"d")}function _g(){al.call(this,"c")}function d_(){}function Gf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Uf(this),this.P=fx,this.V=new zu(n=Nf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dy}function Dy(){this.i=null,this.g="",this.h=!1}Yo(c_,al),Yo(_g,al),Yo(d_,a_),d_.prototype.g=function(){return new XMLHttpRequest},d_.prototype.i=function(){return{}},u_=new d_;var fx=45e3,h_={},f_={};function p_(n,e,t){n.L=1,n.v=My(ll(e)),n.s=t,n.S=!0,ky(n,null)}function ky(n,e){n.G=Date.now(),jf(n),n.A=ll(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Ah(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Dy,n.g=Vx(n.l,t?e:null,!n.s),0<n.O&&(n.M=new cx(qa(n.Pa,n,n.g),n.O)),Cy(n.U,n.g,"readystatechange",n.nb),e=n.I?rx(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),fg(),function ux(n,e,t,i,c,m){n.info(function(){if(n.g)if(m)for(var C="",B=m.split("&"),W=0;W<B.length;W++){var oe=B[W].split("=");if(1<oe.length){var Ee=oe[0];oe=oe[1];var De=Ee.split("_");C=2<=De.length&&"type"==De[1]?C+(Ee+"=")+oe+"&":C+(Ee+"=redacted&")}}else C=null;else C=m;return"XMLHTTP REQ ("+i+") [attempt "+c+"]: "+e+"\n"+t+"\n"+C})}(n.j,n.u,n.A,n.m,n.W,n.s)}function g_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function vg(n,e,t){let c,i=!0;for(;!n.J&&n.C<t.length;){if(c=Py(n,t),c==f_){4==e&&(n.o=4,Ta(14),i=!1),Hf(n.j,n.m,null,"[Incomplete Response]");break}if(c==h_){n.o=4,Ta(15),Hf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Hf(n.j,n.m,c,null),m_(n,c)}g_(n)&&c!=f_&&c!=h_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ta(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),jy(e),e.M=!0,Ta(11))):(Hf(n.j,n.m,t,"[Invalid Chunked Response]"),kd(n),Yf(n))}function Py(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?f_:(t=Number(e.substring(t,i)),isNaN(t)?h_:(i+=1)+t>e.length?f_:(e=e.slice(i,i+t),n.C=i+t,e))}function jf(n){n.Y=Date.now()+n.P,Oy(n,n.P)}function Oy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gg(qa(n.lb,n),e)}function yg(n){n.B&&(hr.clearTimeout(n.B),n.B=null)}function Yf(n){0==n.l.H||n.J||Rx(n.l,n)}function kd(n){yg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Id(n.V),Sy(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function m_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||wg(t.i,n)))if(!n.K&&wg(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var c=i;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;S_(t),Sg(t)}Gy(t),Ta(18)}}else t.Fa=c[1],0<t.Fa-t.V&&37500>c[2]&&t.G&&0==t.A&&!t.v&&(t.v=gg(qa(t.ib,t),6e3));if(1>=b_(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Dh(t,11)}else if((n.K||t.g==n)&&S_(t),!Xm(e))for(c=t.Ja.g.parse(e),e=0;e<c.length;e++){let oe=c[e];if(t.V=oe[0],oe=oe[1],2==t.H)if("c"==oe[0]){t.K=oe[1],t.pa=oe[2];const Ee=oe[3];null!=Ee&&(t.ra=Ee,t.l.info("VER="+t.ra));const De=oe[4];null!=De&&(t.Ga=De,t.l.info("SVER="+t.Ga));const rt=oe[5];null!=rt&&"number"==typeof rt&&0<rt&&(t.L=i=1.5*rt,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const St=n.g;if(St){const An=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(An){var m=i.i;m.g||-1==An.indexOf("spdy")&&-1==An.indexOf("quic")&&-1==An.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(fc(m,m.h),m.h=null))}if(i.F){const jn=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;jn&&(i.Da=jn,eo(i.I,i.F,jn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var C=n;if((i=t).wa=Fx(i,i.J?i.pa:null,i.Y),C.K){wx(i.i,C);var B=C,W=i.L;W&&B.setTimeout(W),B.B&&(yg(B),jf(B)),i.g=C}else Ox(i);0<t.j.length&&C_(t)}else"stop"!=oe[0]&&"close"!=oe[0]||Dh(t,7);else 3==t.H&&("stop"==oe[0]||"close"==oe[0]?"stop"==oe[0]?Dh(t,7):T_(t):"noop"!=oe[0]&&t.h&&t.h.Aa(oe),t.A=0)}fg()}catch{}}function Zu(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function __(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function px(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),c=i.length,m=0;m<c;m++)e.call(void 0,i[m],t&&t[m],n)}(ri=Gf.prototype).setTimeout=function(n){this.P=n},ri.nb=function(n){n=n.target;const e=this.M;e&&3==pc(n)?e.l():this.Pa(n)},ri.Pa=function(n){try{if(n==this.g)e:{const Ee=pc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Ee)&&(3!=Ee||Nf||this.g&&(this.h.h||this.g.ja()||Uy(this.g)))){this.J||4!=Ee||7==e||fg(),yg(this);var t=this.g.da();this.ca=t;t:if(g_(this)){var i=Uy(this.g);n="";var c=i.length,m=4==pc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kd(this),Yf(this);var C="";break t}this.h.i=new hr.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:m&&e==c-1});i.splice(0,c),this.h.g+=n,this.C=0,C=this.h.g}else C=this.g.ja();if(this.i=200==t,function dx(n,e,t,i,c,m,C){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+m+" "+C})}(this.j,this.u,this.A,this.m,this.W,Ee,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var B,W=this.g;if((B=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xm(B)){var oe=B;break t}}oe=null}if(!(t=oe)){this.i=!1,this.o=3,Ta(12),kd(this),Yf(this);break e}Hf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,m_(this,t)}this.S?(vg(this,Ee,C),Nf&&this.i&&3==Ee&&(Cy(this.U,this.V,"tick",this.mb),this.V.start())):(Hf(this.j,this.m,C,null),m_(this,C)),4==Ee&&kd(this),this.i&&!this.J&&(4==Ee?Rx(this.l,this):(this.i=!1,jf(this)))}else(function Dx(n){const e={};n=(n.g&&2<=pc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Xm(n[i]))continue;var t=wy(n[i]);const c=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[c]||[];e[c]=m,m.push(t)}!function py(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<C.indexOf("Unknown SID")?(this.o=3,Ta(12)):(this.o=0,Ta(13)),kd(this),Yf(this)}}}catch{}},ri.mb=function(){if(this.g){var n=pc(this.g),e=this.g.ja();this.C<e.length&&(yg(this),vg(this,n,e),this.i&&4!=n&&jf(this))}},ri.cancel=function(){this.J=!0,kd(this)},ri.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(fg(),Ta(17)),kd(this),this.o=2,Yf(this)):Oy(this,this.Y-n)};var gx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gu){this.h=n.h,qf(this,n.j),this.s=n.s,this.g=n.g,v_(this,n.m),this.l=n.l;var e=n.i,t=new Wf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),y_(this,t),this.o=n.o}else n&&(e=String(n).match(gx))?(this.h=!1,qf(this,e[1]||"",!0),this.s=bg(e[2]||""),this.g=bg(e[3]||"",!0),v_(this,e[4]),this.l=bg(e[5]||"",!0),y_(this,e[6]||"",!0),this.o=bg(e[7]||"")):(this.h=!1,this.i=new Wf(null,this.h))}function ll(n){return new Gu(n)}function qf(n,e,t){n.j=t?bg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function v_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function y_(n,e,t){e instanceof Wf?(n.i=e,function aE(n,e){e&&!n.j&&(Pd(n),n.i=null,n.g.forEach(function(t,i){var c=i.toLowerCase();i!=c&&(Ry(this,i),Ah(this,c,t))},n)),n.j=e}(n.i,n.h)):(t||(e=xg(e,sE)),n.i=new Wf(e,n.h))}function eo(n,e,t){n.i.set(e,t)}function My(n){return eo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mx),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mx(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(xg(e,_x,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(xg(e,_x,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(xg(t,"/"==t.charAt(0)?vx:oa,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",xg(t,oE)),n.join("")};var _x=/[#\/\?@]/g,oa=/[#\?:]/g,vx=/[#\?]/g,sE=/[#\?@]/g,oE=/#/g;function Wf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Pd(n){n.g||(n.g=new Map,n.h=0,n.i&&function rE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),c=null;if(0<=i){var m=n[t].substring(0,i);c=n[t].substring(i+1)}else m=n[t];e(m,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ry(n,e){Pd(n),e=$f(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Ny(n,e){return Pd(n),e=$f(n,e),n.g.has(e)}function Ah(n,e,t){Ry(n,e),0<t.length&&(n.i=null,n.g.set($f(n,e),ig(t)),n.h+=t.length)}function $f(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bx(n){this.l=n||xx,n=hr.PerformanceNavigationTiming?0<(n=hr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hr.g&&hr.g.Ka&&hr.g.Ka()&&hr.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ri=Wf.prototype).add=function(n,e){Pd(this),this.i=null,n=$f(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ri.forEach=function(n,e){Pd(this),this.g.forEach(function(t,i){t.forEach(function(c){n.call(e,c,i,this)},this)},this)},ri.ta=function(){Pd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const c=n[i];for(let m=0;m<c.length;m++)t.push(e[i])}return t},ri.Z=function(n){Pd(this);let e=[];if("string"==typeof n)Ny(this,n)&&(e=e.concat(this.g.get($f(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ri.set=function(n,e){return Pd(this),this.i=null,Ny(this,n=$f(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ri.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ri.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const m=encodeURIComponent(String(i)),C=this.Z(i);for(i=0;i<C.length;i++){var c=m;""!==C[i]&&(c+="="+encodeURIComponent(String(C[i]))),n.push(c)}}return this.i=n.join("&")};var xx=10;function lE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function b_(n){return n.h?1:n.g?n.g.size:0}function wg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fc(n,e){n.g?n.g.add(e):n.h=e}function wx(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ly(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ig(n.i)}function zc(){this.g=new class{stringify(n){return hr.JSON.stringify(n,void 0)}parse(n){return hr.JSON.parse(n,void 0)}}}function Zc(n,e,t){const i=t||"";try{Zu(n,function(c,m){let C=c;Tl(c)&&(C=dc(c)),e.push(i+m+"="+encodeURIComponent(C))})}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}function Eg(n,e,t,i,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(i)}catch{}}function Tg(n){this.l=n.fc||null,this.j=n.ob||!1}function x_(n,e){Ea.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bx.prototype.cancel=function(){if(this.i=Ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Yo(Tg,a_),Tg.prototype.g=function(){return new x_(this.l,this.j)},Tg.prototype.i=function(n){return function(){return n}}({}),Yo(x_,Ea);var Fy=0;function Tx(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ih(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ju(n)}function ju(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ri=x_.prototype).open=function(n,e){if(this.readyState!=Fy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ju(this)},ri.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||hr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ri.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ih(this)),this.readyState=Fy},ri.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ju(this)),this.g&&(this.readyState=3,ju(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof hr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tx(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ri.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ih(this):ju(this),3==this.readyState&&Tx(this)}},ri.Za=function(n){this.g&&(this.response=this.responseText=n,Ih(this))},ri.Ya=function(n){this.g&&(this.response=n,Ih(this))},ri.ka=function(){this.g&&Ih(this)},ri.setRequestHeader=function(n,e){this.v.append(n,e)},ri.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ri.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(x_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cE=hr.JSON.parse;function mo(n){Ea.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cx,this.L=this.M=!1}Yo(mo,Ea);var Cx="",Sx=/^https?$/i,Ax=["POST","PUT"];function Ix(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Vy(n),Xf(n)}function Vy(n){n.F||(n.F=!0,sa(n,"complete"),sa(n,"error"))}function By(n){if(n.h&&typeof sy<"u"&&(!n.C[1]||4!=pc(n)||2!=n.da()))if(n.v&&4==pc(n))Dd(n.La,0,n);else if(sa(n,"readystatechange"),4==pc(n)){n.h=!1;try{const C=n.da();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===C){var c=String(n.I).match(gx)[1]||null;!c&&hr.self&&hr.self.location&&(c=hr.self.location.protocol.slice(0,-1)),i=!Sx.test(c?c.toLowerCase():"")}t=i}if(t)sa(n,"complete"),sa(n,"success");else{n.m=6;try{var m=2<pc(n)?n.g.statusText:""}catch{m=""}n.j=m+" ["+n.da()+"]",Vy(n)}}finally{Xf(n)}}}function Xf(n,e){if(n.g){Cg(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||sa(n,"ready");try{t.onreadystatechange=i}catch{}}}function Cg(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(hr.clearTimeout(n.A),n.A=null)}function pc(n){return n.g?n.g.readyState:0}function Uy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Cx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Hy(n){let e="";return e_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function E_(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Hy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):eo(n,e,t))}function Kf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zy(n){this.Ga=0,this.j=[],this.l=new hg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kf("baseRetryDelayMs",5e3,n),this.hb=Kf("retryDelaySeedMs",1e4,n),this.eb=Kf("forwardChannelMaxRetries",2,n),this.xa=Kf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new bx(n&&n.concurrentRequestLimit),this.Ja=new zc,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function T_(n){if(Zy(n),3==n.H){var e=n.W++,t=ll(n.I);if(eo(t,"SID",n.K),eo(t,"RID",e),eo(t,"TYPE","terminate"),Ag(n,t),(e=new Gf(n,n.l,e)).L=2,e.v=My(ll(t)),t=!1,hr.navigator&&hr.navigator.sendBeacon)try{t=hr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&hr.Image&&((new Image).src=e.v,t=!0),t||(e.g=Vx(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jf(e)}Lx(n)}function Sg(n){n.g&&(jy(n),n.g.cancel(),n.g=null)}function Zy(n){Sg(n),n.u&&(hr.clearTimeout(n.u),n.u=null),S_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hr.clearTimeout(n.m),n.m=null)}function C_(n){if(!lE(n.i)&&!n.m){n.m=!0;var e=n.Na;ou||Th(),au||(ou(),au=!0),Ad.add(e,n),n.C=0}}function kx(n,e){var t;t=e?e.m:n.W++;const i=ll(n.I);eo(i,"SID",n.K),eo(i,"RID",t),eo(i,"AID",n.V),Ag(n,i),n.o&&n.s&&E_(i,n.o,n.s),t=new Gf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Px(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),fc(n.i,t),p_(t,i,e)}function Ag(n,e){n.na&&e_(n.na,function(t,i){eo(e,i,t)}),n.h&&Zu({},function(t,i){eo(e,i,t)})}function Px(n,e,t){t=Math.min(n.j.length,t);var i=n.h?qa(n.h.Va,n.h,n):null;e:{var c=n.j;let m=-1;for(;;){const C=["count="+t];-1==m?0<t?(m=c[0].g,C.push("ofs="+m)):m=0:C.push("ofs="+m);let B=!0;for(let W=0;W<t;W++){let oe=c[W].g;const Ee=c[W].map;if(oe-=m,0>oe)m=Math.max(0,c[W].g-100),B=!1;else try{Zc(Ee,C,"req"+oe+"_")}catch{i&&i(Ee)}}if(B){i=C.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function Ox(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ou||Th(),au||(ou(),au=!0),Ad.add(e,n),n.A=0}}function Gy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=gg(qa(n.Ma,n),Nx(n,n.A)),n.A++,0))}function jy(n){null!=n.B&&(hr.clearTimeout(n.B),n.B=null)}function Mx(n){n.g=new Gf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ll(n.wa);eo(e,"RID","rpc"),eo(e,"SID",n.K),eo(e,"AID",n.V),eo(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&eo(e,"TO",n.qa),eo(e,"TYPE","xmlhttp"),Ag(n,e),n.o&&n.s&&E_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=My(ll(e)),t.s=null,t.S=!0,ky(t,n)}function S_(n){null!=n.v&&(hr.clearTimeout(n.v),n.v=null)}function Rx(n,e){var t=null;if(n.g==e){S_(n),jy(n),n.g=null;var i=2}else{if(!wg(n.i,e))return;t=e.F,wx(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var c=n.C;sa(i=zf(),new o_(i,t)),C_(n)}else Ox(n);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==i&&function uE(n,e){return!(b_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=gg(qa(n.Na,n,e),Nx(n,n.C)),n.C++,0)))}(n,e)||2==i&&Gy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),c){case 1:Dh(n,5);break;case 4:Dh(n,10);break;case 3:Dh(n,6);break;default:Dh(n,2)}}function Nx(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Dh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=qa(n.pb,n);t||(t=new Gu("//www.google.com/images/cleardot.gif"),hr.location&&"http"==hr.location.protocol||qf(t,"https"),My(t)),function Ex(n,e){const t=new hg;if(hr.Image){const i=new Image;i.onload=$m(Eg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=$m(Eg,t,i,"TestLoadImage: error",!1,e),i.onabort=$m(Eg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=$m(Eg,t,i,"TestLoadImage: timeout",!1,e),hr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ta(2);n.H=0,n.h&&n.h.za(e),Lx(n),Zy(n)}function Lx(n){if(n.H=0,n.ma=[],n.h){const e=Ly(n.i);(0!=e.length||0!=n.j.length)&&(rg(n.ma,e),rg(n.ma,n.j),n.i.i.length=0,ig(n.j),n.j.length=0),n.h.ya()}}function Fx(n,e,t){var i=t instanceof Gu?ll(t):new Gu(t);if(""!=i.g)e&&(i.g=e+"."+i.g),v_(i,i.m);else{var c=hr.location;i=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var m=new Gu(null);i&&qf(m,i),e&&(m.g=e),c&&v_(m,c),t&&(m.l=t),i=m}return e=n.Da,(t=n.F)&&e&&eo(i,t,e),eo(i,"VER",n.ra),Ag(n,i),i}function Vx(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mo(t&&n.Ha&&!n.va?new Tg({ob:!0}):n.va)).Oa(n.J),e}function Yy(){}function Ig(){if(Cl&&!(10<=Number(J1)))throw Error("Environmental error: no available transport.")}function Sl(n,e){Ea.call(this),this.g=new zy(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Xm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kh(this)}function qy(n){c_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Wy(){_g.call(this),this.status=1}function kh(n){this.g=n}function gc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function A_(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)i[c]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(c=0;16>c;++c)i[c]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=n.g[3],C=(e=n.g[0])+(m^(t=n.g[1])&((c=n.g[2])^m))+i[0]+3614090360&4294967295;C=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=(t=(c=(m=(e=t+(C<<7&4294967295|C>>>25))+((C=m+(c^e&(t^c))+i[1]+3905402710&4294967295)<<12&4294967295|C>>>20))+((C=c+(t^m&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|C>>>15))+((C=t+(e^c&(m^e))+i[3]+3250441966&4294967295)<<22&4294967295|C>>>10))+((C=e+(m^t&(c^m))+i[4]+4118548399&4294967295)<<7&4294967295|C>>>25))+((C=m+(c^e&(t^c))+i[5]+1200080426&4294967295)<<12&4294967295|C>>>20))+((C=c+(t^m&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|C>>>15))+((C=t+(e^c&(m^e))+i[7]+4249261313&4294967295)<<22&4294967295|C>>>10))+((C=e+(m^t&(c^m))+i[8]+1770035416&4294967295)<<7&4294967295|C>>>25))+((C=m+(c^e&(t^c))+i[9]+2336552879&4294967295)<<12&4294967295|C>>>20))+((C=c+(t^m&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|C>>>15))+((C=t+(e^c&(m^e))+i[11]+2304563134&4294967295)<<22&4294967295|C>>>10))+((C=e+(m^t&(c^m))+i[12]+1804603682&4294967295)<<7&4294967295|C>>>25))+((C=m+(c^e&(t^c))+i[13]+4254626195&4294967295)<<12&4294967295|C>>>20))+((C=c+(t^m&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|C>>>15))+((C=t+(e^c&(m^e))+i[15]+1236535329&4294967295)<<22&4294967295|C>>>10))+((C=e+(c^m&(t^c))+i[1]+4129170786&4294967295)<<5&4294967295|C>>>27))+((C=m+(t^c&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|C>>>23))+((C=c+(e^t&(m^e))+i[11]+643717713&4294967295)<<14&4294967295|C>>>18))+((C=t+(m^e&(c^m))+i[0]+3921069994&4294967295)<<20&4294967295|C>>>12))+((C=e+(c^m&(t^c))+i[5]+3593408605&4294967295)<<5&4294967295|C>>>27))+((C=m+(t^c&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|C>>>23))+((C=c+(e^t&(m^e))+i[15]+3634488961&4294967295)<<14&4294967295|C>>>18))+((C=t+(m^e&(c^m))+i[4]+3889429448&4294967295)<<20&4294967295|C>>>12))+((C=e+(c^m&(t^c))+i[9]+568446438&4294967295)<<5&4294967295|C>>>27))+((C=m+(t^c&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|C>>>23))+((C=c+(e^t&(m^e))+i[3]+4107603335&4294967295)<<14&4294967295|C>>>18))+((C=t+(m^e&(c^m))+i[8]+1163531501&4294967295)<<20&4294967295|C>>>12))+((C=e+(c^m&(t^c))+i[13]+2850285829&4294967295)<<5&4294967295|C>>>27))+((C=m+(t^c&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|C>>>23))+((C=c+(e^t&(m^e))+i[7]+1735328473&4294967295)<<14&4294967295|C>>>18))+((C=t+(m^e&(c^m))+i[12]+2368359562&4294967295)<<20&4294967295|C>>>12))+((C=e+(t^c^m)+i[5]+4294588738&4294967295)<<4&4294967295|C>>>28))+((C=m+(e^t^c)+i[8]+2272392833&4294967295)<<11&4294967295|C>>>21))+((C=c+(m^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|C>>>16))+((C=t+(c^m^e)+i[14]+4259657740&4294967295)<<23&4294967295|C>>>9))+((C=e+(t^c^m)+i[1]+2763975236&4294967295)<<4&4294967295|C>>>28))+((C=m+(e^t^c)+i[4]+1272893353&4294967295)<<11&4294967295|C>>>21))+((C=c+(m^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|C>>>16))+((C=t+(c^m^e)+i[10]+3200236656&4294967295)<<23&4294967295|C>>>9))+((C=e+(t^c^m)+i[13]+681279174&4294967295)<<4&4294967295|C>>>28))+((C=m+(e^t^c)+i[0]+3936430074&4294967295)<<11&4294967295|C>>>21))+((C=c+(m^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|C>>>16))+((C=t+(c^m^e)+i[6]+76029189&4294967295)<<23&4294967295|C>>>9))+((C=e+(t^c^m)+i[9]+3654602809&4294967295)<<4&4294967295|C>>>28))+((C=m+(e^t^c)+i[12]+3873151461&4294967295)<<11&4294967295|C>>>21))+((C=c+(m^e^t)+i[15]+530742520&4294967295)<<16&4294967295|C>>>16))+((C=t+(c^m^e)+i[2]+3299628645&4294967295)<<23&4294967295|C>>>9))+((C=e+(c^(t|~m))+i[0]+4096336452&4294967295)<<6&4294967295|C>>>26))+((C=m+(t^(e|~c))+i[7]+1126891415&4294967295)<<10&4294967295|C>>>22))+((C=c+(e^(m|~t))+i[14]+2878612391&4294967295)<<15&4294967295|C>>>17))+((C=t+(m^(c|~e))+i[5]+4237533241&4294967295)<<21&4294967295|C>>>11))+((C=e+(c^(t|~m))+i[12]+1700485571&4294967295)<<6&4294967295|C>>>26))+((C=m+(t^(e|~c))+i[3]+2399980690&4294967295)<<10&4294967295|C>>>22))+((C=c+(e^(m|~t))+i[10]+4293915773&4294967295)<<15&4294967295|C>>>17))+((C=t+(m^(c|~e))+i[1]+2240044497&4294967295)<<21&4294967295|C>>>11))+((C=e+(c^(t|~m))+i[8]+1873313359&4294967295)<<6&4294967295|C>>>26))+((C=m+(t^(e|~c))+i[15]+4264355552&4294967295)<<10&4294967295|C>>>22))+((C=c+(e^(m|~t))+i[6]+2734768916&4294967295)<<15&4294967295|C>>>17))+((C=t+(m^(c|~e))+i[13]+1309151649&4294967295)<<21&4294967295|C>>>11))+((m=(e=t+((C=e+(c^(t|~m))+i[4]+4149444226&4294967295)<<6&4294967295|C>>>26))+((C=m+(t^(e|~c))+i[11]+3174756917&4294967295)<<10&4294967295|C>>>22))^((c=m+((C=c+(e^(m|~t))+i[2]+718787259&4294967295)<<15&4294967295|C>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(c+(C<<21&4294967295|C>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+m&4294967295}function ps(n,e){this.h=e;for(var t=[],i=!0,c=n.length-1;0<=c;c--){var m=0|n[c];i&&m==e||(t[c]=m,i=!1)}this.g=t}(ri=mo.prototype).Oa=function(n){this.M=n},ri.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():u_.g(),this.C=function Iy(n){return n.h||(n.h=n.i())}(this.u?this.u:u_),this.g.onreadystatechange=qa(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(m){return void Ix(this,m)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var c in i)t.set(c,i[c]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const m of i.keys())t.set(m,i.get(m))}i=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),c=hr.FormData&&n instanceof hr.FormData,!(0<=ng(Ax,e))||i||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,C]of t)this.g.setRequestHeader(m,C);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Cg(this),0<this.B&&((this.L=function w_(n){return Cl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qa(this.ua,this)):this.A=Dd(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(m){Ix(this,m)}},ri.ua=function(){typeof sy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sa(this,"timeout"),this.abort(8))},ri.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,sa(this,"complete"),sa(this,"abort"),Xf(this))},ri.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xf(this,!0)),mo.$.N.call(this)},ri.La=function(){this.s||(this.G||this.v||this.l?By(this):this.kb())},ri.kb=function(){By(this)},ri.isActive=function(){return!!this.g},ri.da=function(){try{return 2<pc(this)?this.g.status:-1}catch{return-1}},ri.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ri.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cE(e)}},ri.Ia=function(){return this.m},ri.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ri=zy.prototype).ra=8,ri.H=1,ri.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new Gf(this,this.l,n);let m=this.s;if(this.U&&(m?(m=rx(m),sx(m,this.U)):m=this.U),null!==this.o||this.O||(c.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Px(this,c,e),eo(t=ll(this.I),"RID",n),eo(t,"CVER",22),this.F&&eo(t,"X-HTTP-Session-Id",this.F),Ag(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(Hy(m)))+"&"+e:this.o&&E_(t,this.o,m)),fc(this.i,c),this.bb&&eo(t,"TYPE","init"),this.P?(eo(t,"$req",e),eo(t,"SID","null"),c.aa=!0,p_(c,t,null)):p_(c,t,e),this.H=2}}else 3==this.H&&(n?kx(this,n):0==this.j.length||lE(this.i)||kx(this))},ri.Ma=function(){if(this.u=null,Mx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=gg(qa(this.jb,this),n)}},ri.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ta(10),Sg(this),Mx(this))},ri.ib=function(){null!=this.v&&(this.v=null,Sg(this),Gy(this),Ta(19))},ri.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ta(2)):(this.l.info("Failed to ping google.com"),Ta(1))},ri.isActive=function(){return!!this.h&&this.h.isActive(this)},(ri=Yy.prototype).Ba=function(){},ri.Aa=function(){},ri.za=function(){},ri.ya=function(){},ri.isActive=function(){return!0},ri.Va=function(){},Ig.prototype.g=function(n,e){return new Sl(n,e)},Yo(Sl,Ea),Sl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ta(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Fx(n,null,n.Y),C_(n)},Sl.prototype.close=function(){T_(this.g)},Sl.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dc(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&C_(e)},Sl.prototype.N=function(){this.g.h=null,delete this.j,T_(this.g),delete this.g,Sl.$.N.call(this)},Yo(qy,c_),Yo(Wy,_g),Yo(kh,Yy),kh.prototype.Ba=function(){sa(this.g,"a")},kh.prototype.Aa=function(n){sa(this.g,new qy(n))},kh.prototype.za=function(n){sa(this.g,new Wy)},kh.prototype.ya=function(){sa(this.g,"b")},Yo(gc,function Bx(){this.blockSize=-1}),gc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,c=this.h,m=0;m<e;){if(0==c)for(;m<=t;)A_(this,n,m),m+=this.blockSize;if("string"==typeof n){for(;m<e;)if(i[c++]=n.charCodeAt(m++),c==this.blockSize){A_(this,i),c=0;break}}else for(;m<e;)if(i[c++]=n[m++],c==this.blockSize){A_(this,i),c=0;break}}this.h=c,this.i+=e},gc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Ux={};function Yu(n){return-128<=n&&128>n?function ix(n,e){var t=Ux;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ps([0|e],0>e?-1:0)}):new ps([0|n],0>n?-1:0)}function cu(n){if(isNaN(n)||!isFinite(n))return Dg;if(0>n)return $a(cu(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Od;return new ps(e,0)}var Od=4294967296,Dg=Yu(0),kg=Yu(1),dE=Yu(16777216);function uu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Hl(n){return-1==n.h}function $a(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ps(t,~n.h).add(kg)}function Li(n,e){return n.add($a(e))}function I_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Pg(n,e){this.g=n,this.h=e}function D_(n,e){if(uu(e))throw Error("division by zero");if(uu(n))return new Pg(Dg,Dg);if(Hl(n))return e=D_($a(n),e),new Pg($a(e.g),$a(e.h));if(Hl(e))return e=D_(n,$a(e)),new Pg($a(e.g),e.h);if(30<n.g.length){if(Hl(n)||Hl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=kg,i=e;0>=i.X(n);)t=Ph(t),i=Ph(i);var c=Jf(t,1),m=Jf(i,1);for(i=Jf(i,2),t=Jf(t,2);!uu(i);){var C=m.add(i);0>=C.X(n)&&(c=c.add(t),m=C),i=Jf(i,1),t=Jf(t,1)}return e=Li(n,c.R(e)),new Pg(c,e)}for(c=Dg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),C=(m=cu(t)).R(e);Hl(C)||0<C.X(n);)C=(m=cu(t-=i)).R(e);uu(m)&&(m=kg),c=c.add(m),n=Li(n,C)}return new Pg(c,n)}function Ph(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ps(t,n.h)}function Jf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,c=[],m=0;m<i;m++)c[m]=0<e?n.D(m+t)>>>e|n.D(m+t+1)<<32-e:n.D(m+t);return new ps(c,n.h)}(ri=ps.prototype).ea=function(){if(Hl(this))return-$a(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Od+i)*e,e*=Od}return n},ri.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(uu(this))return"0";if(Hl(this))return"-"+$a(this).toString(n);for(var e=cu(Math.pow(n,6)),t=this,i="";;){var c=D_(t,e).g,m=((0<(t=Li(t,c.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(uu(t=c))return m+i;for(;6>m.length;)m="0"+m;i=m+i}},ri.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ri.X=function(n){return Hl(n=Li(this,n))?-1:uu(n)?0:1},ri.abs=function(){return Hl(this)?$a(this):this},ri.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,c=0;c<=e;c++){var m=i+(65535&this.D(c))+(65535&n.D(c)),C=(m>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);i=C>>>16,t[c]=(C&=65535)<<16|(m&=65535)}return new ps(t,-2147483648&t[t.length-1]?-1:0)},ri.R=function(n){if(uu(this)||uu(n))return Dg;if(Hl(this))return Hl(n)?$a(this).R($a(n)):$a($a(this).R(n));if(Hl(n))return $a(this.R($a(n)));if(0>this.X(dE)&&0>n.X(dE))return cu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var c=0;c<n.g.length;c++){var m=this.D(i)>>>16,C=65535&this.D(i),B=n.D(c)>>>16,W=65535&n.D(c);t[2*i+2*c]+=C*W,I_(t,2*i+2*c),t[2*i+2*c+1]+=m*W,I_(t,2*i+2*c+1),t[2*i+2*c+1]+=C*B,I_(t,2*i+2*c+1),t[2*i+2*c+2]+=m*B,I_(t,2*i+2*c+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ps(t,0)},ri.gb=function(n){return D_(this,n).h},ri.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ps(t,this.h&n.h)},ri.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ps(t,this.h|n.h)},ri.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ps(t,this.h^n.h)},Ig.prototype.createWebChannel=Ig.prototype.g,Sl.prototype.send=Sl.prototype.u,Sl.prototype.open=Sl.prototype.m,Sl.prototype.close=Sl.prototype.close,Sh.NO_ERROR=0,Sh.TIMEOUT=8,Sh.HTTP_ERROR=6,mg.COMPLETE="complete",l_.EventType=Zf,Zf.OPEN="a",Zf.CLOSE="b",Zf.ERROR="c",Zf.MESSAGE="d",Ea.prototype.listen=Ea.prototype.O,mo.prototype.listenOnce=mo.prototype.P,mo.prototype.getLastError=mo.prototype.Sa,mo.prototype.getLastErrorCode=mo.prototype.Ia,mo.prototype.getStatus=mo.prototype.da,mo.prototype.getResponseJson=mo.prototype.Wa,mo.prototype.getResponseText=mo.prototype.ja,mo.prototype.send=mo.prototype.ha,mo.prototype.setWithCredentials=mo.prototype.Oa,gc.prototype.digest=gc.prototype.l,gc.prototype.reset=gc.prototype.reset,gc.prototype.update=gc.prototype.j,ps.prototype.add=ps.prototype.add,ps.prototype.multiply=ps.prototype.R,ps.prototype.modulo=ps.prototype.gb,ps.prototype.compare=ps.prototype.X,ps.prototype.toNumber=ps.prototype.ea,ps.prototype.toString=ps.prototype.toString,ps.prototype.getBits=ps.prototype.D,ps.fromNumber=cu,ps.fromString=function Hx(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return $a(Hx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=cu(Math.pow(e,8)),i=Dg,c=0;c<n.length;c+=8){var m=Math.min(8,n.length-c),C=parseInt(n.substring(c,c+m),e);8>m?(m=cu(Math.pow(e,m)),i=i.R(m).add(cu(C))):i=(i=i.R(t)).add(cu(C))}return i};var k_=Uc.createWebChannelTransport=function(){return new Ig},P_=Uc.getStatEventTarget=function(){return zf()},to=Uc.ErrorCode=Sh,QC=Uc.EventType=mg,zx=Uc.Event=Ch,$y=Uc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hE=Uc.FetchXmlHttpFactory=Tg,Og=Uc.WebChannel=l_,Zx=Uc.XhrIo=mo,Gx=Uc.Md5=gc,Oh=Uc.Integer=ps;const jx="@firebase/firestore";class Ca{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ca.UNAUTHENTICATED=new Ca(null),Ca.GOOGLE_CREDENTIALS=new Ca("google-credentials-uid"),Ca.FIRST_PARTY=new Ca("first-party-uid"),Ca.MOCK_USER=new Ca("mock-user");let Qf="10.0.0";const mc=new Rt("@firebase/firestore");function Xy(){return mc.logLevel}function kn(n,...e){if(mc.logLevel<=ne.DEBUG){const t=e.map(O_);mc.debug(`Firestore (${Qf}): ${n}`,...t)}}function no(n,...e){if(mc.logLevel<=ne.ERROR){const t=e.map(O_);mc.error(`Firestore (${Qf}): ${n}`,...t)}}function zl(n,...e){if(mc.logLevel<=ne.WARN){const t=e.map(O_);mc.warn(`Firestore (${Qf}): ${n}`,...t)}}function O_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ci(n="Unexpected state"){const e=`FIRESTORE (${Qf}) INTERNAL ASSERTION FAILED: `+n;throw no(e),new Error(e)}function Ti(n,e){n||ci()}function Kn(n,e){return n}const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bn extends Tn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class aa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ky{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ca.UNAUTHENTICATED))}shutdown(){}}class qx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pE{constructor(e){this.t=e,this.currentUser=Ca.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let c=this.i;const m=oe=>this.i!==c?(c=this.i,t(oe)):Promise.resolve();let C=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new aa,e.enqueueRetryable(()=>m(this.currentUser))};const B=()=>{const oe=C;e.enqueueRetryable((0,ke.Z)(function*(){yield oe.promise,yield m(i.currentUser)}))},W=oe=>{kn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=oe,this.auth.addAuthTokenListener(this.o),B()};this.t.onInit(oe=>W(oe)),setTimeout(()=>{if(!this.auth){const oe=this.t.getImmediate({optional:!0});oe?W(oe):(kn("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new aa)}},0),B()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(kn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ti("string"==typeof i.accessToken),new Ky(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ti(null===e||"string"==typeof e),new Ca(e)}}class Wx{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ca.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gE{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Wx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ca.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $x{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=m=>{null!=m.error&&kn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const C=m.token!==this.R;return this.R=m.token,kn("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>i(m))};const c=m=>{kn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>c(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?c(m):kn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ti("string"==typeof t.token),this.R=t.token,new $x(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class mE{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const c=tS(40);for(let m=0;m<c.length;++m)i.length<20&&c[m]<t&&(i+=e.charAt(c[m]%e.length))}return i}}function rr(n,e){return n<e?-1:n>e?1:0}function qu(n,e,t){return n.length===e.length&&n.every((i,c)=>t(i,e[c]))}function Xx(n){return n+"\0"}class io{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new bn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new bn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new bn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return io.fromMillis(Date.now())}static fromDate(e){return io.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new io(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ci{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ci(e)}static min(){return new Ci(new io(0,0))}static max(){return new Ci(new io(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wu{constructor(e,t,i){void 0===t?t=0:t>e.length&&ci(),void 0===i?i=e.length-t:i>e.length-t&&ci(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Wu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const m=e.get(c),C=t.get(c);if(m<C)return-1;if(m>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jr extends Wu{construct(e,t,i){return new Jr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new bn(Wt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(c=>c.length>0))}return new Jr(t)}static emptyPath(){return new Jr([])}}const _E=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class So extends Wu{construct(e,t,i){return new So(e,t,i)}static isValidIdentifier(e){return _E.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),So.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new So(["__name__"])}static fromServerFormat(e){const t=[];let i="",c=0;const m=()=>{if(0===i.length)throw new bn(Wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let C=!1;for(;c<e.length;){const B=e[c];if("\\"===B){if(c+1===e.length)throw new bn(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const W=e[c+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new bn(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=W,c+=2}else"`"===B?(C=!C,c++):"."!==B||C?(i+=B,c++):(m(),c++)}if(m(),C)throw new bn(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new So(t)}static emptyPath(){return new So([])}}class Jn{constructor(e){this.path=e}static fromPath(e){return new Jn(Jr.fromString(e))}static fromName(e){return new Jn(Jr.fromString(e).popFirst(5))}static empty(){return new Jn(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jn(new Jr(e.slice()))}}class Jy{constructor(e,t,i,c){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=c}}function Qy(n){return n.fields.find(e=>2===e.kind)}function Md(n){return n.fields.filter(e=>2!==e.kind)}Jy.UNKNOWN_ID=-1;class M_{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ng{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ng(0,Al.min())}}function eb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,c=Ci.fromTimestamp(1e9===i?new io(t+1,0):new io(t,i));return new Al(c,Jn.empty(),e)}function Kx(n){return new Al(n.readTime,n.key,-1)}class Al{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Al(Ci.min(),Jn.empty(),-1)}static max(){return new Al(Ci.max(),Jn.empty(),-1)}}function tb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jn.comparator(n.documentKey,e.documentKey),0!==t?t:rr(n.largestBatchId,e.largestBatchId))}const nb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function du(n){return ib.apply(this,arguments)}function ib(){return ib=(0,ke.Z)(function*(n){if(n.code!==Wt.FAILED_PRECONDITION||n.message!==nb)throw n;kn("LocalStore","Unexpectedly lost primary lease")}),ib.apply(this,arguments)}class Bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ci(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Bt((i,c)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(i,c)},this.catchCallback=m=>{this.wrapFailure(t,m).next(i,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Bt?t:Bt.resolve(t)}catch(t){return Bt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Bt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Bt.reject(t)}static resolve(e){return new Bt((t,i)=>{t(e)})}static reject(e){return new Bt((t,i)=>{i(e)})}static waitFor(e){return new Bt((t,i)=>{let c=0,m=0,C=!1;e.forEach(B=>{++c,B.next(()=>{++m,C&&m===c&&t()},W=>i(W))}),C=!0,m===c&&t()})}static or(e){let t=Bt.resolve(!1);for(const i of e)t=t.next(c=>c?Bt.resolve(c):i());return t}static forEach(e,t){const i=[];return e.forEach((c,m)=>{i.push(t.call(this,c,m))}),this.waitFor(i)}static mapArray(e,t){return new Bt((i,c)=>{const m=e.length,C=new Array(m);let B=0;for(let W=0;W<m;W++){const oe=W;t(e[oe]).next(Ee=>{C[oe]=Ee,++B,B===m&&i(C)},Ee=>c(Ee))}})}static doWhile(e,t){return new Bt((i,c)=>{const m=()=>{!0===e()?t().next(()=>{m()},c):i()};m()})}}class Lg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new aa,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Fg(e,t.error)):this.m.resolve()},this.transaction.onerror=i=>{const c=rb(i.target.error);this.m.reject(new Fg(e,c))}}static open(e,t,i,c){try{return new Lg(t,e.transaction(c,i))}catch(m){throw new Fg(t,m)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(kn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bE(t)}}class Gc{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Gc.D(Nt())&&no("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return kn("SimpleDb","Removing database:",e),Rd(window.indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!en())return!1;if(Gc.C())return!0;const e=Nt(),t=Gc.D(e),i=0<t&&t<10,c=Gc.F(e),m=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static F(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}N(e){var t=this;return(0,ke.Z)(function*(){return t.db||(kn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,c)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=C=>{i(C.target.result)},m.onblocked=()=>{c(new Fg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=C=>{const B=C.target.error;c("VersionError"===B.name?new bn(Wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===B.name?new bn(Wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+B):new Fg(e,B))},m.onupgradeneeded=C=>{kn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.S.B(C.target.result,m.transaction,C.oldVersion,t.version).next(()=>{kn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.L&&(t.db.onversionchange=i=>t.L(i)),t.db})()}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,c){var m=this;return(0,ke.Z)(function*(){const C="readonly"===t;let B=0;for(;;){++B;try{m.db=yield m.N(e);const W=Lg.open(m.db,e,C?"readonly":"readwrite",i),oe=c(W).next(Ee=>(W.p(),Ee)).catch(Ee=>(W.abort(Ee),Bt.reject(Ee))).toPromise();return oe.catch(()=>{}),yield W.g,oe}catch(W){const oe=W,Ee="FirebaseError"!==oe.name&&B<3;if(kn("SimpleDb","Transaction failed with error:",oe.message,"Retrying:",Ee),m.close(),!Ee)return Promise.reject(oe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yE{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return Rd(this.q.delete())}}class Fg extends bn{constructor(e,t){super(Wt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hu(n){return"IndexedDbTransactionError"===n.name}class bE{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(kn("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(kn("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Rd(i)}add(e){return kn("SimpleDb","ADD",this.store.name,e,e),Rd(this.store.add(e))}get(e){return Rd(this.store.get(e)).next(t=>(void 0===t&&(t=null),kn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return kn("SimpleDb","DELETE",this.store.name,e),Rd(this.store.delete(e))}count(){return kn("SimpleDb","COUNT",this.store.name),Rd(this.store.count())}G(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const c=this.cursor(i),m=[];return this.j(c,(C,B)=>{m.push(B)}).next(()=>m)}{const c=this.store.getAll(i.range);return new Bt((m,C)=>{c.onerror=B=>{C(B.target.error)},c.onsuccess=B=>{m(B.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Bt((c,m)=>{i.onerror=C=>{m(C.target.error)},i.onsuccess=C=>{c(C.target.result)}})}J(e,t){kn("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const c=this.cursor(i);return this.j(c,(m,C,B)=>B.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const c=this.cursor(i);return this.j(c,t)}X(e){const t=this.cursor({});return new Bt((i,c)=>{t.onerror=m=>{const C=rb(m.target.error);c(C)},t.onsuccess=m=>{const C=m.target.result;C?e(C.primaryKey,C.value).next(B=>{B?C.continue():i()}):i()}})}j(e,t){const i=[];return new Bt((c,m)=>{e.onerror=C=>{m(C.target.error)},e.onsuccess=C=>{const B=C.target.result;if(!B)return void c();const W=new yE(B),oe=t(B.primaryKey,B.value,W);if(oe instanceof Bt){const Ee=oe.catch(De=>(W.done(),Bt.reject(De)));i.push(Ee)}W.isDone?c():null===W.U?B.continue():B.continue(W.U)}}).next(()=>Bt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rd(n){return new Bt((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const c=rb(i.target.error);t(c)}})}let Qx=!1;function rb(n){const e=Gc.D(Nt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new bn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qx||(Qx=!0,setTimeout(()=>{throw i},0)),i}}return n}class xE{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){var t=this;kn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ke.Z)(function*(){t.task=null;try{kn("IndexBackiller",`Documents written: ${yield t.ee.ne()}`)}catch(i){hu(i)?kn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield du(i)}yield t.te(6e4)}))}}class wE{constructor(e,t){this.localStore=e,this.persistence=t}ne(e=50){var t=this;return(0,ke.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.re(i,e))})()}re(e,t){const i=new Set;let c=t,m=!0;return Bt.doWhile(()=>!0===m&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!i.has(C))return kn("IndexBackiller",`Processing collection: ${C}`),this.ie(e,C,c).next(B=>{c-=B,i.add(C)});m=!1})).next(()=>t-c)}ie(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,i).next(m=>{const C=m.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.se(c,m)).next(B=>(kn("IndexBackiller",`Updating offset: ${B}`),this.localStore.indexManager.updateCollectionGroup(e,t,B))).next(()=>C.size)}))}se(e,t){let i=e;return t.changes.forEach((c,m)=>{const C=Kx(m);tb(C,i)>0&&(i=C)}),new Al(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Zl=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=c=>this.oe(c),this._e=c=>i.writeSequenceNumber(c))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function Vg(n){return null==n}function Bg(n){return 0===n&&1/n==-1/0}function ew(n){return"number"==typeof n&&Number.isInteger(n)&&!Bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ma(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sb(e)),e=tw(n.get(t),e);return sb(e)}function tw(n,e){let t=e;const i=n.length;for(let c=0;c<i;c++){const m=n.charAt(c);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function sb(n){return n+"\x01\x01"}function fu(n){const e=n.length;if(Ti(e>=2),2===e)return Ti("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jr.emptyPath();const t=e-2,i=[];let c="";for(let m=0;m<e;){const C=n.indexOf("\x01",m);switch((C<0||C>t)&&ci(),n.charAt(C+1)){case"\x01":const B=n.substring(m,C);let W;0===c.length?W=B:(c+=B,W=c,c=""),i.push(W);break;case"\x10":c+=n.substring(m,C),c+="\0";break;case"\x11":c+=n.substring(m,C+1);break;default:ci()}m=C+2}return new Jr(i)}const R_=["userId","batchId"];function Ug(n,e){return[n,Ma(e)]}function nw(n,e,t){return[n,Ma(e),t]}const EE={},ob=["prefixPath","collectionGroup","readTime","documentId"],ab=["prefixPath","collectionGroup","documentId"],iw=["collectionGroup","readTime","prefixPath","documentId"],lb=["canonicalId","targetId"],TE=["targetId","path"],CE=["path","targetId"],cb=["collectionId","parent"],SE=["indexId","uid"],rw=["uid","sequenceNumber"],ep=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sw=["indexId","uid","orderedDocumentKey"],AE=["userId","collectionPath","documentId"],nS=["userId","collectionPath","largestBatchId"],ow=["userId","collectionGroup","largestBatchId"],N_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IE=[...N_,"documentOverlays"],L_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aw=L_,lw=[...aw,"indexConfiguration","indexState","indexEntries"];class Hg extends Jx{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function la(n,e){const t=Kn(n);return Gc.O(t.ue,e)}function ub(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $u(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function db(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class js{constructor(e,t){this.comparator=e,this.root=t||Ra.EMPTY}insert(e,t){return new js(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ra.BLACK,null,null))}remove(e){return new js(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ra.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(0===c)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new F_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new F_(this.root,e,this.comparator,!1)}getReverseIterator(){return new F_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new F_(this.root,e,this.comparator,!0)}}class F_{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?i(e.key,t):1,t&&c&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ra{constructor(e,t,i,c,m){this.key=e,this.value=t,this.color=i??Ra.RED,this.left=c??Ra.EMPTY,this.right=m??Ra.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,m){return new Ra(e??this.key,t??this.value,i??this.color,c??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const m=i(e,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(e,t,i),null):0===m?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ra.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Ra.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ra.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ra.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ci();const e=this.left.check();if(e!==this.right.check())throw ci();return e+(this.isRed()?0:1)}}Ra.EMPTY=null,Ra.RED=!0,Ra.BLACK=!1,Ra.EMPTY=new class{constructor(){this.size=0}get key(){throw ci()}get value(){throw ci()}get color(){throw ci()}get left(){throw ci()}get right(){throw ci()}copy(e,t,i,c,m){return this}insert(e,t,i){return new Ra(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xs{constructor(e){this.comparator=e,this.data=new js(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hb(this.data.getIterator())}getIteratorFrom(e){return new hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Xs)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=i.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xs(this.comparator);return t.data=e,t}}class hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zg(n){return n.hasNext()?n.getNext():void 0}class cl{constructor(e){this.fields=e,e.sort(So.comparator)}static empty(){return new cl([])}unionWith(e){let t=new Xs(So.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new cl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(c){try{return atob(c)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new cw("Invalid base64 string: "+m):m}}(e);return new Sa(t)}static fromUint8Array(e){const t=function(c){let m="";for(let C=0;C<c.length;++C)m+=String.fromCharCode(c[C]);return m}(e);return new Sa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sa.EMPTY_BYTE_STRING=new Sa("");const kE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nd(n){if(Ti(!!n),"string"==typeof n){let e=0;const t=kE.exec(n);if(Ti(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ao(n.seconds),nanos:Ao(n.nanos)}}function Ao(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function pu(n){return"string"==typeof n?Sa.fromBase64String(n):Sa.fromUint8Array(n)}function Zg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Gg(n){const e=n.mapValue.fields.__previous_value__;return Zg(e)?Gg(e):e}function jg(n){const e=Nd(n.mapValue.fields.__local_write_time__.timestampValue);return new io(e.seconds,e.nanos)}class PE{constructor(e,t,i,c,m,C,B,W,oe){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=m,this.forceLongPolling=C,this.autoDetectLongPolling=B,this.longPollingOptions=W,this.useFetchStreams=oe}}class Ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}const Fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},V_={nullValue:"NULL_VALUE"};function Vd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zg(n)?4:ip(n)?9007199254740991:10:ci()}function Il(n,e){if(n===e)return!0;const t=Vd(n);if(t!==Vd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jg(n).isEqual(jg(e));case 3:return function(c,m){if("string"==typeof c.timestampValue&&"string"==typeof m.timestampValue&&c.timestampValue.length===m.timestampValue.length)return c.timestampValue===m.timestampValue;const C=Nd(c.timestampValue),B=Nd(m.timestampValue);return C.seconds===B.seconds&&C.nanos===B.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return m=e,pu(n.bytesValue).isEqual(pu(m.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(c,m){return Ao(c.geoPointValue.latitude)===Ao(m.geoPointValue.latitude)&&Ao(c.geoPointValue.longitude)===Ao(m.geoPointValue.longitude)}(n,e);case 2:return function(c,m){if("integerValue"in c&&"integerValue"in m)return Ao(c.integerValue)===Ao(m.integerValue);if("doubleValue"in c&&"doubleValue"in m){const C=Ao(c.doubleValue),B=Ao(m.doubleValue);return C===B?Bg(C)===Bg(B):isNaN(C)&&isNaN(B)}return!1}(n,e);case 9:return qu(n.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:return function(c,m){const C=c.mapValue.fields||{},B=m.mapValue.fields||{};if(ub(C)!==ub(B))return!1;for(const W in C)if(C.hasOwnProperty(W)&&(void 0===B[W]||!Il(C[W],B[W])))return!1;return!0}(n,e);default:return ci()}var m}function tp(n,e){return void 0!==(n.values||[]).find(t=>Il(t,e))}function Xu(n,e){if(n===e)return 0;const t=Vd(n),i=Vd(e);if(t!==i)return rr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return rr(n.booleanValue,e.booleanValue);case 2:return function(m,C){const B=Ao(m.integerValue||m.doubleValue),W=Ao(C.integerValue||C.doubleValue);return B<W?-1:B>W?1:B===W?0:isNaN(B)?isNaN(W)?0:-1:1}(n,e);case 3:return fb(n.timestampValue,e.timestampValue);case 4:return fb(jg(n),jg(e));case 5:return rr(n.stringValue,e.stringValue);case 6:return function(m,C){const B=pu(m),W=pu(C);return B.compareTo(W)}(n.bytesValue,e.bytesValue);case 7:return function(m,C){const B=m.split("/"),W=C.split("/");for(let oe=0;oe<B.length&&oe<W.length;oe++){const Ee=rr(B[oe],W[oe]);if(0!==Ee)return Ee}return rr(B.length,W.length)}(n.referenceValue,e.referenceValue);case 8:return function(m,C){const B=rr(Ao(m.latitude),Ao(C.latitude));return 0!==B?B:rr(Ao(m.longitude),Ao(C.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(m,C){const B=m.values||[],W=C.values||[];for(let oe=0;oe<B.length&&oe<W.length;++oe){const Ee=Xu(B[oe],W[oe]);if(Ee)return Ee}return rr(B.length,W.length)}(n.arrayValue,e.arrayValue);case 10:return function(m,C){if(m===Fd.mapValue&&C===Fd.mapValue)return 0;if(m===Fd.mapValue)return 1;if(C===Fd.mapValue)return-1;const B=m.fields||{},W=Object.keys(B),oe=C.fields||{},Ee=Object.keys(oe);W.sort(),Ee.sort();for(let De=0;De<W.length&&De<Ee.length;++De){const rt=rr(W[De],Ee[De]);if(0!==rt)return rt;const St=Xu(B[W[De]],oe[Ee[De]]);if(0!==St)return St}return rr(W.length,Ee.length)}(n.mapValue,e.mapValue);default:throw ci()}}function fb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rr(n,e);const t=Nd(n),i=Nd(e),c=rr(t.seconds,i.seconds);return 0!==c?c:rr(t.nanos,i.nanos)}function Mh(n){return B_(n)}function B_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Nd(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?pu(n.bytesValue).toBase64():"referenceValue"in n?Jn.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",c=!0;for(const m of t.values||[])c?c=!1:i+=",",i+=B_(m);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let c="{",m=!0;for(const C of i)m?m=!1:c+=",",c+=`${C}:${B_(t.fields[C])}`;return c+"}"}(n.mapValue):ci()}function Rh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uw(n){return!!n&&"integerValue"in n}function np(n){return!!n&&"arrayValue"in n}function pb(n){return!!n&&"nullValue"in n}function dw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function U_(n){return!!n&&"mapValue"in n}function qg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $u(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=qg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ip(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OE(n){return"nullValue"in n?V_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Rh(Ld.empty(),Jn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ci()}function gb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Rh(Ld.empty(),Jn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fd:ci()}function jc(n,e){const t=Xu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hw(n,e){const t=Xu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ca{constructor(e){this.value=e}static empty(){return new ca({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!U_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qg(t)}setAll(e){let t=So.emptyPath(),i={},c=[];e.forEach((C,B)=>{if(!t.isImmediateParentOf(B)){const W=this.getFieldsMap(t);this.applyChanges(W,i,c),i={},c=[],t=B.popLast()}C?i[B.lastSegment()]=qg(C):c.push(B.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,i,c)}delete(e){const t=this.field(e.popLast());U_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];U_(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){$u(t,(c,m)=>e[c]=m);for(const c of i)delete e[c]}clone(){return new ca(qg(this.value))}}function rp(n){const e=[];return $u(n.fields,(t,i)=>{const c=new So([t]);if(U_(i)){const m=rp(i.mapValue).fields;if(0===m.length)e.push(c);else for(const C of m)e.push(c.child(C))}else e.push(c)}),new cl(e)}class Ks{constructor(e,t,i,c,m,C,B){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=m,this.data=C,this.documentState=B}static newInvalidDocument(e){return new Ks(e,0,Ci.min(),Ci.min(),Ci.min(),ca.empty(),0)}static newFoundDocument(e,t,i,c){return new Ks(e,1,t,Ci.min(),i,c,0)}static newNoDocument(e,t){return new Ks(e,2,t,Ci.min(),Ci.min(),ca.empty(),0)}static newUnknownDocument(e,t){return new Ks(e,3,t,Ci.min(),Ci.min(),ca.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ci.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ca.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ca.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ci.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ks&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ks(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bd{constructor(e,t){this.position=e,this.inclusive=t}}function fw(n,e,t){let i=0;for(let c=0;c<n.position.length;c++){const m=e[c],C=n.position[c];if(i=m.field.isKeyField()?Jn.comparator(Jn.fromName(C.referenceValue),t.key):Xu(C,t.data.field(m.field)),"desc"===m.dir&&(i*=-1),0!==i)break}return i}function Wg(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Il(n.position[t],e.position[t]))return!1;return!0}class Ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function ME(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class pw{}class Vr extends pw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new RE(e,t,i):"array-contains"===t?new _b(e,i):"in"===t?new vb(e,i):"not-in"===t?new mw(e,i):"array-contains-any"===t?new _w(e,i):new Vr(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new NE(e,i):new LE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xu(t,this.value)):null!==t&&Vd(this.value)===Vd(t)&&this.matchesComparison(Xu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ci()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ys extends pw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ys(e,t)}matches(e){return Ud(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ud(n){return"and"===n.op}function H_(n){return"or"===n.op}function $g(n){return z_(n)&&Ud(n)}function z_(n){for(const e of n.filters)if(e instanceof ys)return!1;return!0}function Z_(n){if(n instanceof Vr)return n.field.canonicalString()+n.op.toString()+Mh(n.value);if($g(n))return n.filters.map(e=>Z_(e)).join(",");{const e=n.filters.map(t=>Z_(t)).join(",");return`${n.op}(${e})`}}function G_(n,e){return n instanceof Vr?(i=n,(c=e)instanceof Vr&&i.op===c.op&&i.field.isEqual(c.field)&&Il(i.value,c.value)):n instanceof ys?function(i,c){return c instanceof ys&&i.op===c.op&&i.filters.length===c.filters.length&&i.filters.reduce((m,C,B)=>m&&G_(C,c.filters[B]),!0)}(n,e):void ci();var i,c}function j_(n,e){const t=n.filters.concat(e);return ys.create(t,n.op)}function gw(n){return n instanceof Vr?`${(t=n).field.canonicalString()} ${t.op} ${Mh(t.value)}`:n instanceof ys?function(t){return t.op.toString()+" {"+t.getFilters().map(gw).join(" ,")+"}"}(n):"Filter";var t}class RE extends Vr{constructor(e,t,i){super(e,t,i),this.key=Jn.fromName(i.referenceValue)}matches(e){const t=Jn.comparator(e.key,this.key);return this.matchesComparison(t)}}class NE extends Vr{constructor(e,t){super(e,"in",t),this.keys=mb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LE extends Vr{constructor(e,t){super(e,"not-in",t),this.keys=mb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Jn.fromName(i.referenceValue))}class _b extends Vr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&tp(t.arrayValue,this.value)}}class vb extends Vr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tp(this.value.arrayValue,t)}}class mw extends Vr{constructor(e,t){super(e,"not-in",t)}matches(e){if(tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tp(this.value.arrayValue,t)}}class _w extends Vr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>tp(this.value.arrayValue,i))}}class vw{constructor(e,t=null,i=[],c=[],m=null,C=null,B=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=m,this.startAt=C,this.endAt=B,this.he=null}}function yb(n,e=null,t=[],i=[],c=null,m=null,C=null){return new vw(n,e,t,i,c,m,C)}function Hd(n){const e=Kn(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Z_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(m=i).field.canonicalString()+m.dir;var m}).join(","),Vg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mh(i)).join(",")),e.he=t}return e.he}function sp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ME(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!G_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wg(n.startAt,e.startAt)&&Wg(n.endAt,e.endAt)}function Y_(n){return Jn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Xg(n,e){return n.filters.filter(t=>t instanceof Vr&&t.field.isEqual(e))}function bb(n,e,t){let i=V_,c=!0;for(const m of Xg(n,e)){let C=V_,B=!0;switch(m.op){case"<":case"<=":C=OE(m.value);break;case"==":case"in":case">=":C=m.value;break;case">":C=m.value,B=!1;break;case"!=":case"not-in":C=V_}jc({value:i,inclusive:c},{value:C,inclusive:B})<0&&(i=C,c=B)}if(null!==t)for(let m=0;m<n.orderBy.length;++m)if(n.orderBy[m].field.isEqual(e)){const C=t.position[m];jc({value:i,inclusive:c},{value:C,inclusive:t.inclusive})<0&&(i=C,c=t.inclusive);break}return{value:i,inclusive:c}}function Xa(n,e,t){let i=Fd,c=!0;for(const m of Xg(n,e)){let C=Fd,B=!0;switch(m.op){case">=":case">":C=gb(m.value),B=!1;break;case"==":case"in":case"<=":C=m.value;break;case"<":C=m.value,B=!1;break;case"!=":case"not-in":C=Fd}hw({value:i,inclusive:c},{value:C,inclusive:B})>0&&(i=C,c=B)}if(null!==t)for(let m=0;m<n.orderBy.length;++m)if(n.orderBy[m].field.isEqual(e)){const C=t.position[m];hw({value:i,inclusive:c},{value:C,inclusive:t.inclusive})>0&&(i=C,c=t.inclusive);break}return{value:i,inclusive:c}}class Dl{constructor(e,t=null,i=[],c=[],m=null,C="F",B=null,W=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=m,this.limitType=C,this.startAt=B,this.endAt=W,this.Pe=null,this.Ie=null}}function yw(n,e,t,i,c,m,C,B){return new Dl(n,e,t,i,c,m,C,B)}function op(n){return new Dl(n)}function FE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function bw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Kg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function q_(n){return null!==n.collectionGroup}function Yc(n){const e=Kn(n);if(null===e.Pe){e.Pe=[];const t=Kg(e),i=bw(e);if(null!==t&&null===i)t.isKeyField()||e.Pe.push(new Ku(t)),e.Pe.push(new Ku(So.keyField(),"asc"));else{let c=!1;for(const m of e.explicitOrderBy)e.Pe.push(m),m.field.isKeyField()&&(c=!0);if(!c){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Ku(So.keyField(),m))}}}return e.Pe}function ul(n){const e=Kn(n);if(!e.Ie)if("F"===e.limitType)e.Ie=yb(e.path,e.collectionGroup,Yc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of Yc(e))t.push(new Ku(m.field,"desc"===m.dir?"asc":"desc"));const i=e.endAt?new Bd(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Bd(e.startAt.position,e.startAt.inclusive):null;e.Ie=yb(e.path,e.collectionGroup,t,e.filters,e.limit,i,c)}return e.Ie}function Jg(n,e){e.getFirstInequalityField(),Kg(n);const t=n.filters.concat([e]);return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function W_(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ap(n,e){return sp(ul(n),ul(e))&&n.limitType===e.limitType}function xw(n){return`${Hd(ul(n))}|lt:${n.limitType}`}function xb(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(c=>gw(c)).join(", ")}]`),Vg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(c=>{return`${(C=c).field.canonicalString()} (${C.dir})`;var C}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(c=>Mh(c)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(c=>Mh(c)).join(",")),`Target(${i})`}(ul(n))}; limitType=${n.limitType})`}function Qg(n,e){return e.isFoundDocument()&&function(i,c){const m=c.key.path;return null!==i.collectionGroup?c.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(m):Jn.isDocumentKey(i.path)?i.path.isEqual(m):i.path.isImmediateParentOf(m)}(n,e)&&function(i,c){for(const m of Yc(i))if(!m.field.isKeyField()&&null===c.data.field(m.field))return!1;return!0}(n,e)&&function(i,c){for(const m of i.filters)if(!m.matches(c))return!1;return!0}(n,e)&&(c=e,!((i=n).startAt&&!function(C,B,W){const oe=fw(C,B,W);return C.inclusive?oe<=0:oe<0}(i.startAt,Yc(i),c)||i.endAt&&!function(C,B,W){const oe=fw(C,B,W);return C.inclusive?oe>=0:oe>0}(i.endAt,Yc(i),c)));var i,c}function $_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wb(n){return(e,t)=>{let i=!1;for(const c of Yc(n)){const m=ww(c,e,t);if(0!==m)return m;i=i||c.field.isKeyField()}return 0}}function ww(n,e,t){const i=n.field.isKeyField()?Jn.comparator(e.key,t.key):function(m,C,B){const W=C.data.field(m),oe=B.data.field(m);return null!==W&&null!==oe?Xu(W,oe):ci()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ci()}}class _c{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[c,m]of i)if(this.equalsFn(c,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(void 0===c)return this.inner[i]=[[e,t]],void this.innerSize++;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return void(c[m]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return 1===i.length?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){$u(this.inner,(t,i)=>{for(const[c,m]of i)e(c,m)})}isEmpty(){return db(this.inner)}size(){return this.innerSize}}const Eb=new js(Jn.comparator);function Gl(){return Eb}const Tb=new js(Jn.comparator);function em(...n){let e=Tb;for(const t of n)e=e.insert(t.key,t);return e}function Cb(n){let e=Tb;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function dl(){return lp()}function Ew(){return lp()}function lp(){return new _c(n=>n.toString(),(n,e)=>n.isEqual(e))}const Sb=new js(Jn.comparator),iS=new Xs(Jn.comparator);function Cr(...n){let e=iS;for(const t of n)e=e.add(t);return e}const rS=new Xs(rr);function Ab(){return rS}function Tw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bg(e)?"-0":e}}function Cw(n){return{integerValue:""+n}}function Ib(n,e){return ew(e)?Cw(e):Tw(n,e)}class tm{constructor(){this._=void 0}}function VE(n,e,t){return n instanceof cp?function(c,m){const C={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return m&&Zg(m)&&(m=Gg(m)),m&&(C.fields.__previous_value__=m),{mapValue:C}}(t,e):n instanceof Nh?kb(n,e):n instanceof Lh?Pb(n,e):function(c,m){const C=Db(c,m),B=Ob(C)+Ob(c.Te);return uw(C)&&uw(c.Te)?Cw(B):Tw(c.serializer,B)}(n,e)}function Sw(n,e,t){return n instanceof Nh?kb(n,e):n instanceof Lh?Pb(n,e):t}function Db(n,e){return n instanceof Fh?uw(i=e)||(m=i)&&"doubleValue"in m?e:{integerValue:0}:null;var i,m}class cp extends tm{}class Nh extends tm{constructor(e){super(),this.elements=e}}function kb(n,e){const t=Mb(e);for(const i of n.elements)t.some(c=>Il(c,i))||t.push(i);return{arrayValue:{values:t}}}class Lh extends tm{constructor(e){super(),this.elements=e}}function Pb(n,e){let t=Mb(e);for(const i of n.elements)t=t.filter(c=>!Il(c,i));return{arrayValue:{values:t}}}class Fh extends tm{constructor(e,t){super(),this.serializer=e,this.Te=t}}function Ob(n){return Ao(n.integerValue||n.doubleValue)}function Mb(n){return np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nm{constructor(e,t){this.field=e,this.transform=t}}class sS{constructor(e,t){this.version=e,this.transformResults=t}}class Js{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Nb{}function UE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Vh(n.key,Js.none()):new rm(n.key,n.data,Js.none());{const t=n.data,i=ca.empty();let c=new Xs(So.comparator);for(let m of e.fields)if(!c.has(m)){let C=t.field(m);null===C&&m.length>1&&(m=m.popLast(),C=t.field(m)),null===C?i.delete(m):i.set(m,C),c=c.add(m)}return new vc(n.key,i,new cl(c.toArray()),Js.none())}}function HE(n,e,t){n instanceof rm?function(c,m,C){const B=c.value.clone(),W=Lb(c.fieldTransforms,m,C.transformResults);B.setAll(W),m.convertToFoundDocument(C.version,B).setHasCommittedMutations()}(n,e,t):n instanceof vc?function(c,m,C){if(!Rb(c.precondition,m))return void m.convertToUnknownDocument(C.version);const B=Lb(c.fieldTransforms,m,C.transformResults),W=m.data;W.setAll(ZE(c)),W.setAll(B),m.convertToFoundDocument(C.version,W).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function im(n,e,t,i){return n instanceof rm?function(m,C,B,W){if(!Rb(m.precondition,C))return B;const oe=m.value.clone(),Ee=sm(m.fieldTransforms,W,C);return oe.setAll(Ee),C.convertToFoundDocument(C.version,oe).setHasLocalMutations(),null}(n,e,t,i):n instanceof vc?function(m,C,B,W){if(!Rb(m.precondition,C))return B;const oe=sm(m.fieldTransforms,W,C),Ee=C.data;return Ee.setAll(ZE(m)),Ee.setAll(oe),C.convertToFoundDocument(C.version,Ee).setHasLocalMutations(),null===B?null:B.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(De=>De.field))}(n,e,t,i):(B=t,Rb(n.precondition,C=e)?(C.convertToNoDocument(C.version).setHasLocalMutations(),null):B);var C,B}function oS(n,e){let t=null;for(const i of n.fieldTransforms){const c=e.data.field(i.field),m=Db(i.transform,c||null);null!=m&&(null===t&&(t=ca.empty()),t.set(i.field,m))}return t||null}function zE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===c||i&&c&&qu(i,c,(m,C)=>function BE(n,e){return n.field.isEqual(e.field)&&(c=e.transform,(i=n.transform)instanceof Nh&&c instanceof Nh||i instanceof Lh&&c instanceof Lh?qu(i.elements,c.elements,Il):i instanceof Fh&&c instanceof Fh?Il(i.Te,c.Te):i instanceof cp&&c instanceof cp);var i,c}(m,C))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,c}class rm extends Nb{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class vc extends Nb{constructor(e,t,i,c,m=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Lb(n,e,t){const i=new Map;Ti(n.length===t.length);for(let c=0;c<t.length;c++){const m=n[c],C=m.transform,B=e.data.field(m.field);i.set(m.field,Sw(C,B,t[c]))}return i}function sm(n,e,t){const i=new Map;for(const c of n){const m=c.transform,C=t.data.field(c.field);i.set(c.field,VE(m,C,e))}return i}class Vh extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X_ extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(e.key)&&HE(m,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=im(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=im(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Ew();return this.mutations.forEach(c=>{const m=e.get(c.key),C=m.overlayedDocument;let B=this.applyToLocalView(C,m.mutatedFields);B=t.has(c.key)?null:B;const W=UE(C,B);null!==W&&i.set(c.key,W),C.isValidDocument()||C.convertToNoDocument(Ci.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cr())}isEqual(e){return this.batchId===e.batchId&&qu(this.mutations,e.mutations,(t,i)=>zE(t,i))&&qu(this.baseMutations,e.baseMutations,(t,i)=>zE(t,i))}}class om{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){Ti(e.mutations.length===i.length);let c=Sb;const m=e.mutations;for(let C=0;C<m.length;C++)c=c.insert(m[C].key,i[C].version);return new om(e,t,i,c)}}class K_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Iw{constructor(e,t){this.count=e,this.unchangedNames=t}}var ua,rs;function Dw(n){switch(n){default:return ci();case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0}}function kw(n){if(void 0===n)return no("GRPC error has no .code"),Wt.UNKNOWN;switch(n){case ua.OK:return Wt.OK;case ua.CANCELLED:return Wt.CANCELLED;case ua.UNKNOWN:return Wt.UNKNOWN;case ua.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case ua.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case ua.INTERNAL:return Wt.INTERNAL;case ua.UNAVAILABLE:return Wt.UNAVAILABLE;case ua.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case ua.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case ua.NOT_FOUND:return Wt.NOT_FOUND;case ua.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case ua.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case ua.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case ua.ABORTED:return Wt.ABORTED;case ua.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case ua.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case ua.DATA_LOSS:return Wt.DATA_LOSS;default:return ci()}}(rs=ua||(ua={}))[rs.OK=0]="OK",rs[rs.CANCELLED=1]="CANCELLED",rs[rs.UNKNOWN=2]="UNKNOWN",rs[rs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rs[rs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rs[rs.NOT_FOUND=5]="NOT_FOUND",rs[rs.ALREADY_EXISTS=6]="ALREADY_EXISTS",rs[rs.PERMISSION_DENIED=7]="PERMISSION_DENIED",rs[rs.UNAUTHENTICATED=16]="UNAUTHENTICATED",rs[rs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rs[rs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rs[rs.ABORTED=10]="ABORTED",rs[rs.OUT_OF_RANGE=11]="OUT_OF_RANGE",rs[rs.UNIMPLEMENTED=12]="UNIMPLEMENTED",rs[rs.INTERNAL=13]="INTERNAL",rs[rs.UNAVAILABLE=14]="UNAVAILABLE",rs[rs.DATA_LOSS=15]="DATA_LOSS";class up{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return J_}static getOrCreateInstance(){return null===J_&&(J_=new up),J_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let J_=null;function jE(){return new TextEncoder}const aS=new Oh([4294967295,4294967295],0);function YE(n){const e=jE().encode(n),t=new Gx;return t.update(e),new Uint8Array(t.digest())}function Pw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Oh([t,i],0),new Oh([c,m],0)]}class Fb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new am(`Invalid padding: ${t}`);if(i<0)throw new am(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new am(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new am(`Invalid padding when bitmap length is 0: ${t}`);this.de=8*e.length-t,this.Ae=Oh.fromNumber(this.de)}Re(e,t,i){let c=e.add(t.multiply(Oh.fromNumber(i)));return 1===c.compare(aS)&&(c=new Oh([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ae).toNumber()}Ve(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.de)return!1;const t=YE(e),[i,c]=Pw(t);for(let m=0;m<this.hashCount;m++){const C=this.Re(i,c,m);if(!this.Ve(C))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),C=new Fb(m,c,t);return i.forEach(B=>C.insert(B)),C}insert(e){if(0===this.de)return;const t=YE(e),[i,c]=Pw(t);for(let m=0;m<this.hashCount;m++){const C=this.Re(i,c,m);this.me(C)}}me(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class am extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Q_{constructor(e,t,i,c,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,lm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Q_(Ci.min(),c,new js(rr),Gl(),Cr())}}class lm{constructor(e,t,i,c,m){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new lm(i,t,Cr(),Cr(),Cr())}}class cm{constructor(e,t,i,c){this.fe=e,this.removedTargetIds=t,this.key=i,this.ge=c}}class Vb{constructor(e,t){this.targetId=e,this.pe=t}}class qE{constructor(e,t,i=Sa.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class yc{constructor(){this.ye=0,this.we=Ow(),this.Se=Sa.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return 0!==this.ye}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=Cr(),t=Cr(),i=Cr();return this.we.forEach((c,m)=>{switch(m){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:ci()}}),new lm(this.Se,this.be,e,t,i)}xe(){this.De=!1,this.we=Ow()}Oe(e,t){this.De=!0,this.we=this.we.insert(e,t)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class WE{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Gl(),this.$e=ev(),this.Ue=new js(rr)}We(e){for(const t of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(t,e.ge):this.ze(t,e.key,e.ge);for(const t of e.removedTargetIds)this.ze(t,e.key,e.ge)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Fe(e.resumeToken);break;case 1:i.Le(),i.ve||i.xe(),i.Fe(e.resumeToken);break;case 2:i.Le(),i.ve||this.removeTarget(t);break;case 3:this.Je(t)&&(i.ke(),i.Fe(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Fe(e.resumeToken));break;default:ci()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((i,c)=>{this.Je(c)&&t(c)})}Ze(e){var t,i;const c=e.targetId,m=e.pe.count,C=this.Xe(c);if(C){const B=C.target;if(Y_(B))if(0===m){const W=new Jn(B.path);this.ze(c,W,Ks.newNoDocument(W,Ci.min()))}else Ti(1===m);else{const W=this.et(c);if(W!==m){const oe=this.tt(e,W);0!==oe.status&&(this.Ye(c),this.Ue=this.Ue.insert(c,2===oe.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=up.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(De,rt,St,An){var jn,Yn,Vi,Yi,Ui,Br;const Cs={localCacheCount:St,existenceFilterCount:An.count},ls=An.unchangedNames;return ls&&(Cs.bloomFilter={applied:0===De,hashCount:null!==(jn=ls?.hashCount)&&void 0!==jn?jn:0,bitmapLength:null!==(Yi=null===(Vi=null===(Yn=ls?.bits)||void 0===Yn?void 0:Yn.bitmap)||void 0===Vi?void 0:Vi.length)&&void 0!==Yi?Yi:0,padding:null!==(Br=null===(Ui=ls?.bits)||void 0===Ui?void 0:Ui.padding)&&void 0!==Br?Br:0},rt&&(Cs.bloomFilter.mightContain=rt)),Cs}(oe.status,null!==(i=oe.nt)&&void 0!==i?i:null,W,e.pe))}}}}tt(e,t){const{unchangedNames:i,count:c}=e.pe;if(!i||!i.bits)return{status:1};const{bits:{bitmap:m="",padding:C=0},hashCount:B=0}=i;let W,oe;try{W=pu(m).toUint8Array()}catch(De){if(De instanceof cw)return zl("Decoding the base64 bloom filter in existence filter failed ("+De.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw De}try{oe=new Fb(W,C,B)}catch(De){return zl(De instanceof am?"BloomFilter error: ":"Applying bloom filter failed: ",De),{status:1}}const Ee=De=>{const rt=this.qe.rt();return oe.mightContain(`projects/${rt.projectId}/databases/${rt.database}/documents/${De}`)};return 0===oe.de?{status:1}:{status:c===t-this.it(e.targetId,Ee)?0:2,nt:Ee}}it(e,t){const i=this.qe.getRemoteKeysForTarget(e);let c=0;return i.forEach(m=>{t(m.path.canonicalString())||(this.ze(e,m,null),c++)}),c}st(e){const t=new Map;this.Qe.forEach((m,C)=>{const B=this.Xe(C);if(B){if(m.current&&Y_(B.target)){const W=new Jn(B.target.path);null!==this.Ke.get(W)||this.ot(C,W)||this.ze(C,W,Ks.newNoDocument(W,e))}m.Ce&&(t.set(C,m.Me()),m.xe())}});let i=Cr();this.$e.forEach((m,C)=>{let B=!0;C.forEachWhile(W=>{const oe=this.Xe(W);return!oe||"TargetPurposeLimboResolution"===oe.purpose||(B=!1,!1)}),B&&(i=i.add(m))}),this.Ke.forEach((m,C)=>C.setReadTime(e));const c=new Q_(e,t,this.Ue,this.Ke,i);return this.Ke=Gl(),this.$e=ev(),this.Ue=new js(rr),c}Ge(e,t){if(!this.Je(e))return;const i=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,i),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const c=this.He(e);this.ot(e,t)?c.Oe(t,1):c.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),i&&(this.Ke=this.Ke.insert(t,i))}removeTarget(e){this.Qe.delete(e)}et(e){const t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let t=this.Qe.get(e);return t||(t=new yc,this.Qe.set(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Xs(rr),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||kn("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new yc),this.qe.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ot(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}function ev(){return new js(Jn.comparator)}function Ow(){return new js(Jn.comparator)}const lS={asc:"ASCENDING",desc:"DESCENDING"},bc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$E={and:"AND",or:"OR"};class Bb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ub(n,e){return n.useProto3Json||Vg(e)?e:{value:e}}function dp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mw(n,e){return dp(n,e.toTimestamp())}function Io(n){return Ti(!!n),Ci.fromTimestamp(function(t){const i=Nd(t);return new io(i.seconds,i.nanos)}(n))}function Hb(n,e){return(i=n,new Jr(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function zb(n){const e=Jr.fromString(n);return Ti($b(e)),e}function hp(n,e){return Hb(n.databaseId,e.path)}function gu(n,e){const t=zb(e);if(t.get(1)!==n.databaseId.projectId)throw new bn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new bn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Jn(Ju(t))}function nv(n,e){return Hb(n.databaseId,e)}function Rw(n){const e=zb(n);return 4===e.length?Jr.emptyPath():Ju(e)}function Bh(n){return new Jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ju(n){return Ti(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Zb(n,e,t){return{name:hp(n,e),fields:t.value.mapValue.fields}}function iv(n,e,t){const i=gu(n,e.name),c=Io(e.updateTime),m=e.createTime?Io(e.createTime):Ci.min(),C=new ca({mapValue:{fields:e.fields}}),B=Ks.newFoundDocument(i,c,m,C);return t&&B.setHasCommittedMutations(),t?B.setHasCommittedMutations():B}function rv(n,e){let t;if(e instanceof rm)t={update:Zb(n,e.key,e.value)};else if(e instanceof Vh)t={delete:hp(n,e.key)};else if(e instanceof vc)t={update:Zb(n,e.key,e.data),updateMask:Fw(e.fieldMask)};else{if(!(e instanceof X_))return ci();t={verify:hp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(m,C){const B=C.transform;if(B instanceof cp)return{fieldPath:C.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(B instanceof Nh)return{fieldPath:C.field.canonicalString(),appendMissingElements:{values:B.elements}};if(B instanceof Lh)return{fieldPath:C.field.canonicalString(),removeAllFromArray:{values:B.elements}};if(B instanceof Fh)return{fieldPath:C.field.canonicalString(),increment:B.Te};throw ci()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Mw(n,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:ci()),t;var m}function Gb(n,e){const t=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?Js.updateTime(Io(m.updateTime)):void 0!==m.exists?Js.exists(m.exists):Js.none():Js.none(),i=e.updateTransforms?e.updateTransforms.map(c=>function(C,B){let W=null;"setToServerValue"in B?(Ti("REQUEST_TIME"===B.setToServerValue),W=new cp):"appendMissingElements"in B?W=new Nh(B.appendMissingElements.values||[]):"removeAllFromArray"in B?W=new Lh(B.removeAllFromArray.values||[]):"increment"in B?W=new Fh(C,B.increment):ci();const oe=So.fromServerFormat(B.fieldPath);return new nm(oe,W)}(n,c)):[];var m;if(e.update){const c=gu(n,e.update.name),m=new ca({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new cl((e.updateMask.fieldPaths||[]).map(Ee=>So.fromServerFormat(Ee)));return new vc(c,m,C,t,i)}return new rm(c,m,t,i)}if(e.delete){const c=gu(n,e.delete);return new Vh(c,t)}if(e.verify){const c=gu(n,e.verify);return new X_(c,t)}return ci()}function Nw(n,e){return{documents:[nv(n,e.path)]}}function jb(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=nv(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nv(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const c=function(W){if(0!==W.length)return Wb(ys.create(W,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const m=function(W){if(0!==W.length)return W.map(oe=>{return{field:mu((De=oe).field),direction:JE(De.dir)};var De})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const C=Ub(n,e.limit);return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(W=e.startAt).inclusive,values:W.position}),e.endAt&&(t.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(e.endAt)),t;var W}function Yb(n){let e=Rw(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){Ti(1===i);const Ee=t.from[0];Ee.allDescendants?c=Ee.collectionId:e=e.child(Ee.collectionId)}let m=[];t.where&&(m=function(De){const rt=qb(De);return rt instanceof ys&&$g(rt)?rt.getFilters():[rt]}(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(rt=>{return new Ku(Uh((An=rt).field),function(Yn){switch(Yn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(An.direction));var An}));let B=null;t.limit&&(B=function(De){let rt;return rt="object"==typeof De?De.value:De,Vg(rt)?null:rt}(t.limit));let W=null;var De;t.startAt&&(W=new Bd((De=t.startAt).values||[],!!De.before));let oe=null;return t.endAt&&(oe=function(De){return new Bd(De.values||[],!De.before)}(t.endAt)),yw(e,c,C,m,B,"F",W,oe)}function qb(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uh(t.unaryFilter.field);return Vr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=Uh(t.unaryFilter.field);return Vr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=Uh(t.unaryFilter.field);return Vr.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const C=Uh(t.unaryFilter.field);return Vr.create(C,"!=",{nullValue:"NULL_VALUE"});default:return ci()}}(n):void 0!==n.fieldFilter?Vr.create(Uh((t=n).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ci()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ys.create(t.compositeFilter.filters.map(i=>qb(i)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return ci()}}(t.compositeFilter.op))}(n):ci();var t}function JE(n){return lS[n]}function Lw(n){return bc[n]}function uS(n){return $E[n]}function mu(n){return{fieldPath:n.canonicalString()}}function Uh(n){return So.fromServerFormat(n.fieldPath)}function Wb(n){return n instanceof Vr?function(t){if("=="===t.op){if(dw(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NAN"}};if(pb(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(dw(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NOT_NAN"}};if(pb(t.value))return{unaryFilter:{field:mu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(t.field),op:Lw(t.op),value:t.value}}}(n):n instanceof ys?function(t){const i=t.getFilters().map(c=>Wb(c));return 1===i.length?i[0]:{compositeFilter:{op:uS(t.op),filters:i}}}(n):ci()}function Fw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $b(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class _u{constructor(e,t,i,c,m=Ci.min(),C=Ci.min(),B=Sa.EMPTY_BYTE_STRING,W=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=B,this.expectedCount=W}withSequenceNumber(e){return new _u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class um{constructor(e){this.ct=e}}function Xb(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ov(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:hp(m=n.ct,(C=e).key),fields:C.data.value.mapValue.fields,updateTime:dp(m,C.version.toTimestamp()),createTime:dp(m,C.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:fp(e.version)};else{if(!e.isUnknownDocument())return ci();i.unknownDocument={path:t.path.toArray(),version:fp(e.version)}}var m,C;return i}function ov(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hh(n){const e=new io(n.seconds,n.nanoseconds);return Ci.fromTimestamp(e)}function pp(n,e){const t=(e.baseMutations||[]).map(m=>Gb(n.ct,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const i=e.mutations.map(m=>Gb(n.ct,m)),c=io.fromMillis(e.localWriteTimeMs);return new Aw(e.batchId,c,t,i)}function av(n){const e=Hh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Hh(n.lastLimboFreeSnapshotVersion):Ci.min();let i;return i=void 0!==n.query.documents?(Ti(1===(m=n.query).documents.length),ul(op(Rw(m.documents[0])))):function(m){return ul(Yb(m))}(n.query),new _u(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Sa.fromBase64String(n.resumeToken));var m}function Kb(n,e){const t=fp(e.snapshotVersion),i=fp(e.lastLimboFreeSnapshotVersion);let c;c=Y_(e.target)?Nw(n.ct,e.target):jb(n.ct,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hd(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:c}}function Jb(n){const e=Yb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?W_(e,e.limit,"L"):e}function Qb(n,e){return new K_(e.largestBatchId,Gb(n.ct,e.overlayMutation))}function Vw(n,e){const t=e.path.lastSegment();return[n,Ma(e.path.popLast()),t]}function QE(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:fp(i.readTime),documentKey:Ma(i.documentKey.path),largestBatchId:i.largestBatchId}}class dS{getBundleMetadata(e,t){return eT(e).get(t).next(i=>{if(i)return{id:(m=i).bundleId,createTime:Hh(m.createTime),version:m.version};var m})}saveBundleMetadata(e,t){return eT(e).put({bundleId:(c=t).id,createTime:fp(Io(c.createTime)),version:c.version});var c}getNamedQuery(e,t){return tT(e).get(t).next(i=>{if(i)return{name:(m=i).name,query:Jb(m.bundledQuery),readTime:Hh(m.readTime)};var m})}saveNamedQuery(e,t){return tT(e).put({name:(c=t).name,readTime:fp(Io(c.readTime)),bundledQuery:c.bundledQuery});var c}}function eT(n){return la(n,"bundles")}function tT(n){return la(n,"namedQueries")}class e0{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new e0(e,t.uid||"")}getOverlay(e,t){return dm(e).get(Vw(this.userId,t)).next(i=>i?Qb(this.serializer,i):null)}getOverlays(e,t){const i=dl();return Bt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&i.set(c,m)})).next(()=>i)}saveOverlays(e,t,i){const c=[];return i.forEach((m,C)=>{const B=new K_(t,C);c.push(this.ht(e,B))}),Bt.waitFor(c)}removeOverlaysForBatchId(e,t,i){const c=new Set;t.forEach(C=>c.add(Ma(C.getCollectionPath())));const m=[];return c.forEach(C=>{const B=IDBKeyRange.bound([this.userId,C,i],[this.userId,C,i+1],!1,!0);m.push(dm(e).J("collectionPathOverlayIndex",B))}),Bt.waitFor(m)}getOverlaysForCollection(e,t,i){const c=dl(),m=Ma(t),C=IDBKeyRange.bound([this.userId,m,i],[this.userId,m,Number.POSITIVE_INFINITY],!0);return dm(e).G("collectionPathOverlayIndex",C).next(B=>{for(const W of B){const oe=Qb(this.serializer,W);c.set(oe.getKey(),oe)}return c})}getOverlaysForCollectionGroup(e,t,i,c){const m=dl();let C;const B=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dm(e).Z({index:"collectionGroupOverlayIndex",range:B},(W,oe,Ee)=>{const De=Qb(this.serializer,oe);m.size()<c||De.largestBatchId===C?(m.set(De.getKey(),De),C=De.largestBatchId):Ee.done()}).next(()=>m)}ht(e,t){return dm(e).put(function(c,m,C){const[B,W,oe]=Vw(m,C.mutation.key);return{userId:m,collectionPath:W,documentId:oe,collectionGroup:C.mutation.key.getCollectionGroup(),largestBatchId:C.largestBatchId,overlayMutation:rv(c.ct,C.mutation)}}(this.serializer,this.userId,t))}}function dm(n){return la(n,"documentOverlays")}class vu{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Ao(e.integerValue));else if("doubleValue"in e){const i=Ao(e.doubleValue);isNaN(i)?this.Et(t,13):(this.Et(t,15),Bg(i)?t.dt(0):t.dt(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Et(t,20),"string"==typeof i?t.At(i):(t.At(`${i.seconds||""}`),t.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(pu(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?ip(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ci()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const i=e.fields||{};this.Et(t,55);for(const c of Object.keys(i))this.Rt(c,t),this.It(i[c],t)}wt(e,t){const i=e.values||[];this.Et(t,50);for(const c of i)this.It(c,t)}gt(e,t){this.Et(t,37),Jn.fromName(e).path.forEach(i=>{this.Et(t,60),this.St(i,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function nT(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Bw(n){const e=64-function(i){let c=0;for(let m=0;m<8;++m){const C=nT(255&i[m]);if(c+=C,8!==C)break}return c}(n);return Math.ceil(e/8)}vu.bt=new vu;class Uw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.vt(i.value),i=t.next();this.Ct()}Ft(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Mt(i.value),i=t.next();this.xt()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{const c=t.codePointAt(0);this.vt(240|c>>>18),this.vt(128|63&c>>>12),this.vt(128|63&c>>>6),this.vt(128|63&c)}}this.Ct()}Nt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{const c=t.codePointAt(0);this.Mt(240|c>>>18),this.Mt(128|63&c>>>12),this.Mt(128|63&c>>>6),this.Mt(128|63&c)}}this.xt()}Bt(e){const t=this.Lt(e),i=Bw(t);this.kt(1+i),this.buffer[this.position++]=255&i;for(let c=t.length-i;c<t.length;++c)this.buffer[this.position++]=255&t[c]}qt(e){const t=this.Lt(e),i=Bw(t);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let c=t.length-i;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(m){const C=new DataView(new ArrayBuffer(8));return C.setFloat64(0,m,!1),new Uint8Array(C.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let c=1;c<t.length;++c)t[c]^=i?255:0;return t}vt(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ct(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const c=new Uint8Array(i);c.set(this.buffer),this.buffer=c}}class zh{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Hw{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Zh{constructor(){this.Gt=new Uw,this.zt=new zh(this.Gt),this.jt=new Hw(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ed{constructor(e,t,i,c){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=c}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ed(this.indexId,this.documentKey,this.arrayValue,i)}}function zd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=lv(n.arrayValue,e.arrayValue),0!==t?t:(t=lv(n.directionalValue,e.directionalValue),0!==t?t:Jn.comparator(n.documentKey,e.documentKey)))}function lv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class t0{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Xt=i:this.Zt.push(i)}}en(e){Ti(e.collectionGroup===this.collectionId);const t=Qy(e);if(void 0!==t&&!this.tn(t))return!1;const i=Md(e);let c=new Set,m=0,C=0;for(;m<i.length&&this.tn(i[m]);++m)c=c.add(i[m].fieldPath.canonicalString());if(m===i.length)return!0;if(void 0!==this.Xt){if(!c.has(this.Xt.field.canonicalString())){const B=i[m];if(!this.nn(this.Xt,B)||!this.rn(this.Yt[C++],B))return!1}++m}for(;m<i.length;++m)if(C>=this.Yt.length||!this.rn(this.Yt[C++],i[m]))return!1;return!0}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hm(n){var e,t;if(Ti(n instanceof Vr||n instanceof ys),n instanceof Vr){if(n instanceof vb){const c=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>Vr.create(n.field,"==",m)))||[];return ys.create(c,"or")}return n}const i=n.filters.map(c=>hm(c));return ys.create(i,n.op)}function hS(n){if(0===n.getFilters().length)return[];const e=cv(hm(n));return Ti(iT(e)),zw(e)||Zw(e)?[e]:e.getFilters()}function zw(n){return n instanceof Vr}function Zw(n){return n instanceof ys&&$g(n)}function iT(n){return zw(n)||Zw(n)||function(t){if(t instanceof ys&&H_(t)){for(const i of t.getFilters())if(!zw(i)&&!Zw(i))return!1;return!0}return!1}(n)}function cv(n){if(Ti(n instanceof Vr||n instanceof ys),n instanceof Vr)return n;if(1===n.filters.length)return cv(n.filters[0]);const e=n.filters.map(i=>cv(i));let t=ys.create(e,n.op);return t=uv(t),iT(t)?t:(Ti(t instanceof ys),Ti(Ud(t)),Ti(t.filters.length>1),t.filters.reduce((i,c)=>n0(i,c)))}function n0(n,e){let t;return Ti(n instanceof Vr||n instanceof ys),Ti(e instanceof Vr||e instanceof ys),t=n instanceof Vr?e instanceof Vr?ys.create([n,e],"and"):Gw(n,e):e instanceof Vr?Gw(e,n):function(c,m){if(Ti(c.filters.length>0&&m.filters.length>0),Ud(c)&&Ud(m))return j_(c,m.getFilters());const C=H_(c)?c:m,B=H_(c)?m:c,W=C.filters.map(oe=>n0(oe,B));return ys.create(W,"or")}(n,e),uv(t)}function Gw(n,e){if(Ud(e))return j_(e,n.getFilters());{const t=e.filters.map(i=>n0(n,i));return ys.create(t,"or")}}function uv(n){if(Ti(n instanceof Vr||n instanceof ys),n instanceof Vr)return n;const e=n.getFilters();if(1===e.length)return uv(e[0]);if(z_(n))return n;const t=e.map(c=>uv(c)),i=[];return t.forEach(c=>{c instanceof Vr?i.push(c):c instanceof ys&&(c.op===n.op?i.push(...c.filters):i.push(c))}),1===i.length?i[0]:ys.create(i,n.op)}class rT{constructor(){this.sn=new dv}addToCollectionParentIndex(e,t){return this.sn.add(t),Bt.resolve()}getCollectionParents(e,t){return Bt.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Bt.resolve()}deleteFieldIndex(e,t){return Bt.resolve()}getDocumentsMatchingTarget(e,t){return Bt.resolve(null)}getIndexType(e,t){return Bt.resolve(0)}getFieldIndexes(e,t){return Bt.resolve([])}getNextCollectionGroupToUpdate(e){return Bt.resolve(null)}getMinOffset(e,t){return Bt.resolve(Al.min())}getMinOffsetFromCollectionGroup(e,t){return Bt.resolve(Al.min())}updateCollectionGroup(e,t,i){return Bt.resolve()}updateIndexEntries(e,t){return Bt.resolve()}}class dv{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new Xs(Jr.comparator),m=!c.has(i);return this.index[t]=c.add(i),m}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new Xs(Jr.comparator)).toArray()}}const fm=new Uint8Array(0);class jw{constructor(e,t){this.user=e,this.databaseId=t,this.on=new dv,this._n=new _c(i=>Hd(i),(i,c)=>sp(i,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:i,parent:Ma(c)};return Yw(e).put(m)}return Bt.resolve()}getCollectionParents(e,t){const i=[],c=IDBKeyRange.bound([t,""],[Xx(t),""],!1,!0);return Yw(e).G(c).next(m=>{for(const C of m){if(C.collectionId!==t)break;i.push(fu(C.parent))}return i})}addFieldIndex(e,t){const i=gm(e),c={indexId:(B=t).indexId,collectionGroup:B.collectionGroup,fields:B.fields.map(W=>[W.fieldPath.canonicalString(),W.kind])};var B;delete c.indexId;const m=i.add(c);if(t.indexState){const C=Gh(e);return m.next(B=>{C.put(QE(B,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const i=gm(e),c=Gh(e),m=pm(e);return i.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=pm(e);let c=!0;const m=new Map;return Bt.forEach(this.an(t),C=>this.un(e,C).next(B=>{c&&(c=!!B),m.set(C,B)})).next(()=>{if(c){let C=Cr();const B=[];return Bt.forEach(m,(W,oe)=>{var Ui;kn("IndexedDbIndexManager",`Using index ${Ui=W,`id=${Ui.indexId}|cg=${Ui.collectionGroup}|f=${Ui.fields.map(Br=>`${Br.fieldPath}:${Br.kind}`).join(",")}`} to execute ${Hd(t)}`);const Ee=function(Ui,Br){const Cs=Qy(Br);if(void 0===Cs)return null;for(const ls of Xg(Ui,Cs.fieldPath))switch(ls.op){case"array-contains-any":return ls.value.arrayValue.values||[];case"array-contains":return[ls.value]}return null}(oe,W),De=function(Ui,Br){const Cs=new Map;for(const ls of Md(Br))for(const Na of Xg(Ui,ls.fieldPath))switch(Na.op){case"==":case"in":Cs.set(ls.fieldPath.canonicalString(),Na.value);break;case"not-in":case"!=":return Cs.set(ls.fieldPath.canonicalString(),Na.value),Array.from(Cs.values())}return null}(oe,W),rt=function(Ui,Br){const Cs=[];let ls=!0;for(const Na of Md(Br)){const Ep=0===Na.kind?bb(Ui,Na.fieldPath,Ui.startAt):Xa(Ui,Na.fieldPath,Ui.startAt);Cs.push(Ep.value),ls&&(ls=Ep.inclusive)}return new Bd(Cs,ls)}(oe,W),St=function(Ui,Br){const Cs=[];let ls=!0;for(const Na of Md(Br)){const Ep=0===Na.kind?Xa(Ui,Na.fieldPath,Ui.endAt):bb(Ui,Na.fieldPath,Ui.endAt);Cs.push(Ep.value),ls&&(ls=Ep.inclusive)}return new Bd(Cs,ls)}(oe,W),An=this.cn(W,oe,rt),jn=this.cn(W,oe,St),Yn=this.ln(W,oe,De),Vi=this.hn(W.indexId,Ee,An,rt.inclusive,jn,St.inclusive,Yn);return Bt.forEach(Vi,Yi=>i.H(Yi,t.limit).next(Ui=>{Ui.forEach(Br=>{const Cs=Jn.fromSegments(Br.documentKey);C.has(Cs)||(C=C.add(Cs),B.push(Cs))})}))}).next(()=>B)}return Bt.resolve(null)})}an(e){let t=this._n.get(e);return t||(t=0===e.filters.length?[e]:hS(ys.create(e.filters,"and")).map(i=>yb(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this._n.set(e,t),t)}hn(e,t,i,c,m,C,B){const W=(null!=t?t.length:1)*Math.max(i.length,m.length),oe=W/(null!=t?t.length:1),Ee=[];for(let De=0;De<W;++De){const rt=t?this.Pn(t[De/oe]):fm,St=this.In(e,rt,i[De%oe],c),An=this.Tn(e,rt,m[De%oe],C),jn=B.map(Yn=>this.In(e,rt,Yn,!0));Ee.push(...this.createRange(St,An,jn))}return Ee}In(e,t,i,c){const m=new ed(e,Jn.empty(),t,i);return c?m:m.Jt()}Tn(e,t,i,c){const m=new ed(e,Jn.empty(),t,i);return c?m.Jt():m}un(e,t){const i=new t0(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(m=>{let C=null;for(const B of m)i.en(B)&&(!C||B.fields.length>C.fields.length)&&(C=B);return C})}getIndexType(e,t){let i=2;const c=this.an(t);return Bt.forEach(c,m=>this.un(e,m).next(C=>{C?0!==i&&C.fields.length<function(W){let oe=new Xs(So.comparator),Ee=!1;for(const De of W.filters)for(const rt of De.getFlattenedFilters())rt.field.isKeyField()||("array-contains"===rt.op||"array-contains-any"===rt.op?Ee=!0:oe=oe.add(rt.field));for(const De of W.orderBy)De.field.isKeyField()||(oe=oe.add(De.field));return oe.size+(Ee?1:0)}(m)&&(i=1):i=0})).next(()=>null!==t.limit&&c.length>1&&2===i?1:i)}En(e,t){const i=new Zh;for(const c of Md(e)){const m=t.data.field(c.fieldPath);if(null==m)return null;const C=i.Ht(c.kind);vu.bt.Pt(m,C)}return i.Wt()}Pn(e){const t=new Zh;return vu.bt.Pt(e,t.Ht(0)),t.Wt()}dn(e,t){const i=new Zh;return vu.bt.Pt(Rh(this.databaseId,t),i.Ht(function(m){const C=Md(m);return 0===C.length?0:C[C.length-1].kind}(e))),i.Wt()}ln(e,t,i){if(null===i)return[];let c=[];c.push(new Zh);let m=0;for(const C of Md(e)){const B=i[m++];for(const W of c)if(this.An(t,C.fieldPath)&&np(B))c=this.Rn(c,C,B);else{const oe=W.Ht(C.kind);vu.bt.Pt(B,oe)}}return this.Vn(c)}cn(e,t,i){return this.ln(e,t,i.position)}Vn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Wt();return t}Rn(e,t,i){const c=[...e],m=[];for(const C of i.arrayValue.values||[])for(const B of c){const W=new Zh;W.seed(B.Wt()),vu.bt.Pt(C,W.Ht(t.kind)),m.push(W)}return m}An(e,t){return!!e.filters.find(i=>i instanceof Vr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=gm(e),c=Gh(e);return(t?i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.G()).next(m=>{const C=[];return Bt.forEach(m,B=>c.get([B.indexId,this.uid]).next(W=>{C.push(function(Ee,De){const rt=De?new Ng(De.sequenceNumber,new Al(Hh(De.readTime),new Jn(fu(De.documentKey)),De.largestBatchId)):Ng.empty(),St=Ee.fields.map(([An,jn])=>new M_(So.fromServerFormat(An),jn));return new Jy(Ee.indexId,Ee.collectionGroup,St,rt)}(B,W))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,c)=>{const m=i.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==m?m:rr(i.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const c=gm(e),m=Gh(e);return this.mn(e).next(C=>c.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(B=>Bt.forEach(B,W=>m.put(QE(W.indexId,this.user,C,i)))))}updateIndexEntries(e,t){const i=new Map;return Bt.forEach(t,(c,m)=>{const C=i.get(c.collectionGroup);return(C?Bt.resolve(C):this.getFieldIndexes(e,c.collectionGroup)).next(B=>(i.set(c.collectionGroup,B),Bt.forEach(B,W=>this.fn(e,c,W).next(oe=>{const Ee=this.gn(m,W);return oe.isEqual(Ee)?Bt.resolve():this.pn(e,m,W,oe,Ee)}))))})}yn(e,t,i,c){return pm(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.dn(i,t.key),documentKey:t.key.path.toArray()})}wn(e,t,i,c){return pm(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.dn(i,t.key),t.key.path.toArray()])}fn(e,t,i){const c=pm(e);let m=new Xs(zd);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.dn(i,t)])},(C,B)=>{m=m.add(new ed(i.indexId,t,B.arrayValue,B.directionalValue))}).next(()=>m)}gn(e,t){let i=new Xs(zd);const c=this.En(t,e);if(null==c)return i;const m=Qy(t);if(null!=m){const C=e.data.field(m.fieldPath);if(np(C))for(const B of C.arrayValue.values||[])i=i.add(new ed(t.indexId,e.key,this.Pn(B),c))}else i=i.add(new ed(t.indexId,e.key,fm,c));return i}pn(e,t,i,c,m){kn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(W,oe,Ee,De,rt){const St=W.getIterator(),An=oe.getIterator();let jn=zg(St),Yn=zg(An);for(;jn||Yn;){let Vi=!1,Yi=!1;if(jn&&Yn){const Ui=Ee(jn,Yn);Ui<0?Yi=!0:Ui>0&&(Vi=!0)}else null!=jn?Yi=!0:Vi=!0;Vi?(De(Yn),Yn=zg(An)):Yi?(rt(jn),jn=zg(St)):(jn=zg(St),Yn=zg(An))}}(c,m,zd,B=>{C.push(this.yn(e,t,i,B))},B=>{C.push(this.wn(e,t,i,B))}),Bt.waitFor(C)}mn(e){let t=1;return Gh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,c,m)=>{m.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((C,B)=>zd(C,B)).filter((C,B,W)=>!B||0!==zd(C,W[B-1]));const c=[];c.push(e);for(const C of i){const B=zd(C,e),W=zd(C,t);if(0===B)c[0]=e.Jt();else if(B>0&&W<0)c.push(C),c.push(C.Jt());else if(W>0)break}c.push(t);const m=[];for(let C=0;C<c.length;C+=2){if(this.Sn(c[C],c[C+1]))return[];m.push(IDBKeyRange.bound([c[C].indexId,this.uid,c[C].arrayValue,c[C].directionalValue,fm,[]],[c[C+1].indexId,this.uid,c[C+1].arrayValue,c[C+1].directionalValue,fm,[]]))}return m}Sn(e,t){return zd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sT)}getMinOffset(e,t){return Bt.mapArray(this.an(t),i=>this.un(e,i).next(c=>c||ci())).next(sT)}}function Yw(n){return la(n,"collectionParents")}function pm(n){return la(n,"indexEntries")}function gm(n){return la(n,"indexConfiguration")}function Gh(n){return la(n,"indexState")}function sT(n){Ti(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const c=n[i].indexState.offset;tb(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Al(e.readTime,e.documentKey,t)}const r0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Aa{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Aa(e,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qw(n,e,t){const i=n.store("mutations"),c=n.store("documentMutations"),m=[],C=IDBKeyRange.only(t.batchId);let B=0;const W=i.Z({range:C},(Ee,De,rt)=>(B++,rt.delete()));m.push(W.next(()=>{Ti(1===B)}));const oe=[];for(const Ee of t.mutations){const De=nw(e,Ee.key.path,t.batchId);m.push(c.delete(De)),oe.push(Ee.key)}return Bt.waitFor(m).next(()=>oe)}function hv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ci();e=n.noDocument}return JSON.stringify(e).length}Aa.DEFAULT_COLLECTION_PERCENTILE=10,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Aa.DEFAULT=new Aa(41943040,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Aa.DISABLED=new Aa(-1,0,0);class s0{constructor(e,t,i,c){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=c,this.bn={}}static lt(e,t,i,c){Ti(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new s0(m,t,i,c)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).Z({index:"userMutationsIndex",range:i},(c,m,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,i,c){const m=gp(e),C=Zd(e);return C.add({}).next(B=>{Ti("number"==typeof B);const W=new Aw(B,t,i,c),oe=function(St,An,jn){const Yn=jn.baseMutations.map(Yi=>rv(St.ct,Yi)),Vi=jn.mutations.map(Yi=>rv(St.ct,Yi));return{userId:An,batchId:jn.batchId,localWriteTimeMs:jn.localWriteTime.toMillis(),baseMutations:Yn,mutations:Vi}}(this.serializer,this.userId,W),Ee=[];let De=new Xs((rt,St)=>rr(rt.canonicalString(),St.canonicalString()));for(const rt of c){const St=nw(this.userId,rt.key.path,B);De=De.add(rt.key.path.popLast()),Ee.push(C.put(oe)),Ee.push(m.put(St,EE))}return De.forEach(rt=>{Ee.push(this.indexManager.addToCollectionParentIndex(e,rt))}),e.addOnCommittedListener(()=>{this.bn[B]=W.keys()}),Bt.waitFor(Ee).next(()=>W)})}lookupMutationBatch(e,t){return Zd(e).get(t).next(i=>i?(Ti(i.userId===this.userId),pp(this.serializer,i)):null)}Dn(e,t){return this.bn[t]?Bt.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const c=i.keys();return this.bn[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,c=IDBKeyRange.lowerBound([this.userId,i]);let m=null;return Zd(e).Z({index:"userMutationsIndex",range:c},(C,B,W)=>{B.userId===this.userId&&(Ti(B.batchId>=i),m=pp(this.serializer,B)),W.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Zd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,m,C)=>{i=m.batchId,C.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).G("userMutationsIndex",t).next(i=>i.map(c=>pp(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Ug(this.userId,t.path),c=IDBKeyRange.lowerBound(i),m=[];return gp(e).Z({range:c},(C,B,W)=>{const[oe,Ee,De]=C,rt=fu(Ee);if(oe===this.userId&&t.path.isEqual(rt))return Zd(e).get(De).next(St=>{if(!St)throw ci();Ti(St.userId===this.userId),m.push(pp(this.serializer,St))});W.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xs(rr);const c=[];return t.forEach(m=>{const C=Ug(this.userId,m.path),B=IDBKeyRange.lowerBound(C),W=gp(e).Z({range:B},(oe,Ee,De)=>{const[rt,St,An]=oe,jn=fu(St);rt===this.userId&&m.path.isEqual(jn)?i=i.add(An):De.done()});c.push(W)}),Bt.waitFor(c).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1,m=Ug(this.userId,i),C=IDBKeyRange.lowerBound(m);let B=new Xs(rr);return gp(e).Z({range:C},(W,oe,Ee)=>{const[De,rt,St]=W,An=fu(rt);De===this.userId&&i.isPrefixOf(An)?An.length===c&&(B=B.add(St)):Ee.done()}).next(()=>this.vn(e,B))}vn(e,t){const i=[],c=[];return t.forEach(m=>{c.push(Zd(e).get(m).next(C=>{if(null===C)throw ci();Ti(C.userId===this.userId),i.push(pp(this.serializer,C))}))}),Bt.waitFor(c).next(()=>i)}removeMutationBatch(e,t){return qw(e.ue,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Bt.forEach(i,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Cn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Bt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),c=[];return gp(e).Z({range:i},(m,C,B)=>{if(m[0]===this.userId){const W=fu(m[1]);c.push(W)}else B.done()}).next(()=>{Ti(0===c.length)})})}containsKey(e,t){return oT(e,this.userId,t)}Fn(e){return Ww(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oT(n,e,t){const i=Ug(e,t.path),c=i[1],m=IDBKeyRange.lowerBound(i);let C=!1;return gp(n).Z({range:m,Y:!0},(B,W,oe)=>{const[Ee,De,rt]=B;Ee===e&&De===c&&(C=!0),oe.done()}).next(()=>C)}function Zd(n){return la(n,"mutations")}function gp(n){return la(n,"documentMutations")}function Ww(n){return la(n,"mutationQueues")}class mp{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new mp(0)}static On(){return new mp(-1)}}class fS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Nn(e).next(t=>{const i=new mp(t.highestTargetId);return t.highestTargetId=i.next(),this.Bn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Nn(e).next(t=>Ci.fromTimestamp(new io(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Nn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Nn(e).next(c=>(c.highestListenSequenceNumber=t,i&&(c.lastRemoteSnapshotVersion=i.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Bn(e,c)))}addTargetData(e,t){return this.Ln(e,t).next(()=>this.Nn(e).next(i=>(i.targetCount+=1,this.kn(t,i),this.Bn(e,i))))}updateTargetData(e,t){return this.Ln(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>mm(e).delete(t.targetId)).next(()=>this.Nn(e)).next(i=>(Ti(i.targetCount>0),i.targetCount-=1,this.Bn(e,i)))}removeTargets(e,t,i){let c=0;const m=[];return mm(e).Z((C,B)=>{const W=av(B);W.sequenceNumber<=t&&null===i.get(W.targetId)&&(c++,m.push(this.removeTargetData(e,W)))}).next(()=>Bt.waitFor(m)).next(()=>c)}forEachTarget(e,t){return mm(e).Z((i,c)=>{const m=av(c);t(m)})}Nn(e){return aT(e).get("targetGlobalKey").next(t=>(Ti(null!==t),t))}Bn(e,t){return aT(e).put("targetGlobalKey",t)}Ln(e,t){return mm(e).put(Kb(this.serializer,t))}kn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Nn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Hd(t),c=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let m=null;return mm(e).Z({range:c,index:"queryTargetsIndex"},(C,B,W)=>{const oe=av(B);sp(t,oe.target)&&(m=oe,W.done())}).next(()=>m)}addMatchingKeys(e,t,i){const c=[],m=jh(e);return t.forEach(C=>{const B=Ma(C.path);c.push(m.put({targetId:i,path:B})),c.push(this.referenceDelegate.addReference(e,i,C))}),Bt.waitFor(c)}removeMatchingKeys(e,t,i){const c=jh(e);return Bt.forEach(t,m=>{const C=Ma(m.path);return Bt.waitFor([c.delete([i,C]),this.referenceDelegate.removeReference(e,i,m)])})}removeMatchingKeysForTargetId(e,t){const i=jh(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(c)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),c=jh(e);let m=Cr();return c.Z({range:i,Y:!0},(C,B,W)=>{const oe=fu(C[1]),Ee=new Jn(oe);m=m.add(Ee)}).next(()=>m)}containsKey(e,t){const i=Ma(t.path),c=IDBKeyRange.bound([i],[Xx(i)],!1,!0);let m=0;return jh(e).Z({index:"documentTargetsIndex",Y:!0,range:c},([C,B],W,oe)=>{0!==C&&(m++,oe.done())}).next(()=>m>0)}ut(e,t){return mm(e).get(t).next(i=>i?av(i):null)}}function mm(n){return la(n,"targets")}function aT(n){return la(n,"targetGlobal")}function jh(n){return la(n,"targetDocuments")}function $w([n,e],[t,i]){const c=rr(n,t);return 0===c?rr(e,i):c}class pS{constructor(e){this.qn=e,this.buffer=new Xs($w),this.Qn=0}Kn(){return++this.Qn}$n(e){const t=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$w(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lT{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Un=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Wn(6e4)}stop(){this.Un&&(this.Un.cancel(),this.Un=null)}get started(){return null!==this.Un}Wn(e){var t=this;kn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ke.Z)(function*(){t.Un=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){hu(i)?kn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield du(i)}yield t.Wn(3e5)}))}}class gS{constructor(e,t){this.Gn=e,this.params=t}calculateTargetCount(e,t){return this.Gn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Bt.resolve(Zl.ae);const i=new pS(t);return this.Gn.forEachTarget(e,c=>i.$n(c.sequenceNumber)).next(()=>this.Gn.jn(e,c=>i.$n(c))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Gn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Gn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(kn("LruGarbageCollector","Garbage collection skipped; disabled"),Bt.resolve(r0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(kn("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r0):this.Hn(e,t))}getCacheSize(e){return this.Gn.getCacheSize(e)}Hn(e,t){let i,c,m,C,B,W,oe;const Ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(kn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),c=this.params.maximumSequenceNumbersToCollect):c=De,C=Date.now(),this.nthSequenceNumber(e,c))).next(De=>(i=De,B=Date.now(),this.removeTargets(e,i,t))).next(De=>(m=De,W=Date.now(),this.removeOrphanedDocuments(e,i))).next(De=>(oe=Date.now(),Xy()<=ne.DEBUG&&kn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-Ee}ms\n\tDetermined least recently used ${c} in `+(B-C)+`ms\n\tRemoved ${m} targets in `+(W-B)+`ms\n\tRemoved ${De} documents in `+(oe-W)+`ms\nTotal Duration: ${oe-Ee}ms`),Bt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:De})))}}class uT{constructor(e,t){this.db=e,this.garbageCollector=function cT(n,e){return new gS(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(c=>i+c))}Jn(e){let t=0;return this.jn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}jn(e,t){return this.Yn(e,(i,c)=>t(c))}addReference(e,t,i){return o0(e,i)}removeReference(e,t,i){return o0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return o0(e,t)}Zn(e,t){return function(c,m){let C=!1;return Ww(c).X(B=>oT(c,B,m).next(W=>(W&&(C=!0),Bt.resolve(!W)))).next(()=>C)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.Yn(e,(C,B)=>{if(B<=t){const W=this.Zn(e,C).next(oe=>{if(!oe)return m++,i.getEntry(e,C).next(()=>(i.removeEntry(C,Ci.min()),jh(e).delete([0,Ma(C.path)])))});c.push(W)}}).next(()=>Bt.waitFor(c)).next(()=>i.apply(e)).next(()=>m)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return o0(e,t)}Yn(e,t){const i=jh(e);let c,m=Zl.ae;return i.Z({index:"documentTargetsIndex"},([C,B],{path:W,sequenceNumber:oe})=>{0===C?(m!==Zl.ae&&t(new Jn(fu(c)),m),m=oe,c=W):m=Zl.ae}).next(()=>{m!==Zl.ae&&t(new Jn(fu(c)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function o0(n,e){return jh(n).put((c=n.currentSequenceNumber,{targetId:0,path:Ma(e.path),sequenceNumber:c}));var c}class o{constructor(){this.changes=new _c(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ks.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Bt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class a{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return k(e).put(i)}removeEntry(e,t,i){return k(e).delete(function(m,C){const B=m.path.toArray();return[B.slice(0,B.length-2),B[B.length-2],ov(C),B[B.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Xn(e,i)))}getEntry(e,t){let i=Ks.newInvalidDocument(t);return k(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U(t))},(c,m)=>{i=this.er(t,m)}).next(()=>i)}tr(e,t){let i={size:0,document:Ks.newInvalidDocument(t)};return k(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U(t))},(c,m)=>{i={document:this.er(t,m),size:hv(m)}}).next(()=>i)}getEntries(e,t){let i=Gl();return this.nr(e,t,(c,m)=>{const C=this.er(c,m);i=i.insert(c,C)}).next(()=>i)}rr(e,t){let i=Gl(),c=new js(Jn.comparator);return this.nr(e,t,(m,C)=>{const B=this.er(m,C);i=i.insert(m,B),c=c.insert(m,hv(C))}).next(()=>({documents:i,ir:c}))}nr(e,t,i){if(t.isEmpty())return Bt.resolve();let c=new Xs(se);t.forEach(W=>c=c.add(W));const m=IDBKeyRange.bound(U(c.first()),U(c.last())),C=c.getIterator();let B=C.getNext();return k(e).Z({index:"documentKeyIndex",range:m},(W,oe,Ee)=>{const De=Jn.fromSegments([...oe.prefixPath,oe.collectionGroup,oe.documentId]);for(;B&&se(B,De)<0;)i(B,null),B=C.getNext();B&&B.isEqual(De)&&(i(B,oe),B=C.hasNext()?C.getNext():null),B?Ee.W(U(B)):Ee.done()}).next(()=>{for(;B;)i(B,null),B=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(e,t,i,c){const m=t.path,C=[m.popLast().toArray(),m.lastSegment(),ov(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],B=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return k(e).G(IDBKeyRange.bound(C,B,!0)).next(W=>{let oe=Gl();for(const Ee of W){const De=this.er(Jn.fromSegments(Ee.prefixPath.concat(Ee.collectionGroup,Ee.documentId)),Ee);De.isFoundDocument()&&(Qg(t,De)||c.has(De.key))&&(oe=oe.insert(De.key,De))}return oe})}getAllFromCollectionGroup(e,t,i,c){let m=Gl();const C=J(t,i),B=J(t,Al.max());return k(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,B,!0)},(W,oe,Ee)=>{const De=this.er(Jn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);m=m.insert(De.key,De),m.size===c&&Ee.done()}).next(()=>m)}newChangeBuffer(e){return new b(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return S(e).get("remoteDocumentGlobalKey").next(t=>(Ti(!!t),t))}Xn(e,t){return S(e).put("remoteDocumentGlobalKey",t)}er(e,t){if(t){const i=function sv(n,e){let t;if(e.document)t=iv(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Jn.fromSegments(e.noDocument.path),c=Hh(e.noDocument.readTime);t=Ks.newNoDocument(i,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ci();{const i=Jn.fromSegments(e.unknownDocument.path),c=Hh(e.unknownDocument.version);t=Ks.newUnknownDocument(i,c)}}return e.readTime&&t.setReadTime(function(c){const m=new io(c[0],c[1]);return Ci.fromTimestamp(m)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Ci.min()))return i}return Ks.newInvalidDocument(e)}}function d(n){return new a(n)}class b extends o{constructor(e,t){super(),this.sr=e,this.trackRemovals=t,this._r=new _c(i=>i.toString(),(i,c)=>i.isEqual(c))}applyChanges(e){const t=[];let i=0,c=new Xs((m,C)=>rr(m.canonicalString(),C.canonicalString()));return this.changes.forEach((m,C)=>{const B=this._r.get(m);if(t.push(this.sr.removeEntry(e,m,B.readTime)),C.isValidDocument()){const W=Xb(this.sr.serializer,C);c=c.add(m.path.popLast());const oe=hv(W);i+=oe-B.size,t.push(this.sr.addEntry(e,m,W))}else if(i-=B.size,this.trackRemovals){const W=Xb(this.sr.serializer,C.convertToNoDocument(Ci.min()));t.push(this.sr.addEntry(e,m,W))}}),c.forEach(m=>{t.push(this.sr.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.sr.updateMetadata(e,i)),Bt.waitFor(t)}getFromCache(e,t){return this.sr.tr(e,t).next(i=>(this._r.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.sr.rr(e,t).next(({documents:i,ir:c})=>(c.forEach((m,C)=>{this._r.set(m,{size:C,readTime:i.get(m).readTime})}),i))}}function S(n){return la(n,"remoteDocumentGlobal")}function k(n){return la(n,"remoteDocumentsV14")}function U(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function J(n,e){const t=e.documentKey.path.toArray();return[n,ov(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function se(n,e){const t=n.path.toArray(),i=e.path.toArray();let c=0;for(let m=0;m<t.length-2&&m<i.length-2;++m)if(c=rr(t[m],i[m]),c)return c;return c=rr(t.length,i.length),c||(c=rr(t[t.length-2],i[i.length-2]),c||rr(t[t.length-1],i[i.length-1]))}class we{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fe{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(i=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==i&&im(i.mutation,c,cl.empty(),io.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Cr()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Cr()){const c=dl();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,i).next(m=>{let C=em();return m.forEach((B,W)=>{C=C.insert(B,W.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const i=dl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Cr()))}populateOverlays(e,t,i){const c=[];return i.forEach(m=>{t.has(m)||c.push(m)}),this.documentOverlayCache.getOverlays(e,c).next(m=>{m.forEach((C,B)=>{t.set(C,B)})})}computeViews(e,t,i,c){let m=Gl();const C=lp(),B=lp();return t.forEach((W,oe)=>{const Ee=i.get(oe.key);c.has(oe.key)&&(void 0===Ee||Ee.mutation instanceof vc)?m=m.insert(oe.key,oe):void 0!==Ee?(C.set(oe.key,Ee.mutation.getFieldMask()),im(Ee.mutation,oe,Ee.mutation.getFieldMask(),io.now())):C.set(oe.key,cl.empty())}),this.recalculateAndSaveOverlays(e,m).next(W=>(W.forEach((oe,Ee)=>C.set(oe,Ee)),t.forEach((oe,Ee)=>{var De;return B.set(oe,new we(Ee,null!==(De=C.get(oe))&&void 0!==De?De:null))}),B))}recalculateAndSaveOverlays(e,t){const i=lp();let c=new js((C,B)=>C-B),m=Cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const B of C)B.keys().forEach(W=>{const oe=t.get(W);if(null===oe)return;let Ee=i.get(W)||cl.empty();Ee=B.applyToLocalView(oe,Ee),i.set(W,Ee);const De=(c.get(B.batchId)||Cr()).add(W);c=c.insert(B.batchId,De)})}).next(()=>{const C=[],B=c.getReverseIterator();for(;B.hasNext();){const W=B.getNext(),oe=W.key,Ee=W.value,De=Ew();Ee.forEach(rt=>{if(!m.has(rt)){const St=UE(t.get(rt),i.get(rt));null!==St&&De.set(rt,St),m=m.add(rt)}}),C.push(this.documentOverlayCache.saveOverlays(e,oe,De))}return Bt.waitFor(C)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Jn.isDocumentKey((m=t).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):q_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var m}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next(m=>{const C=c-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-m.size):Bt.resolve(dl());let B=-1,W=m;return C.next(oe=>Bt.forEach(oe,(Ee,De)=>(B<De.largestBatchId&&(B=De.largestBatchId),m.get(Ee)?Bt.resolve():this.remoteDocumentCache.getEntry(e,Ee).next(rt=>{W=W.insert(Ee,rt)}))).next(()=>this.populateOverlays(e,oe,m)).next(()=>this.computeViews(e,W,oe,Cr())).next(Ee=>({batchId:B,changes:Cb(Ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jn(t)).next(i=>{let c=em();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const c=t.collectionGroup;let m=em();return this.indexManager.getCollectionParents(e,c).next(C=>Bt.forEach(C,B=>{const W=(Ee=t,De=B.child(c),new Dl(De,null,Ee.explicitOrderBy.slice(),Ee.filters.slice(),Ee.limit,Ee.limitType,Ee.startAt,Ee.endAt));var Ee,De;return this.getDocumentsMatchingCollectionQuery(e,W,i).next(oe=>{oe.forEach((Ee,De)=>{m=m.insert(Ee,De)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(m=>(c=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c))).next(m=>{c.forEach((B,W)=>{const oe=W.getKey();null===m.get(oe)&&(m=m.insert(oe,Ks.newInvalidDocument(oe)))});let C=em();return m.forEach((B,W)=>{const oe=c.get(B);void 0!==oe&&im(oe.mutation,W,cl.empty(),io.now()),Qg(t,W)&&(C=C.insert(B,W))}),C})}}class Je{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,t){return Bt.resolve(this.ar.get(t))}saveBundleMetadata(e,t){return this.ar.set(t.id,{id:(c=t).id,version:c.version,createTime:Io(c.createTime)}),Bt.resolve();var c}getNamedQuery(e,t){return Bt.resolve(this.ur.get(t))}saveNamedQuery(e,t){return this.ur.set(t.name,{name:(c=t).name,query:Jb(c.bundledQuery),readTime:Io(c.readTime)}),Bt.resolve();var c}}class _t{constructor(){this.overlays=new js(Jn.comparator),this.cr=new Map}getOverlay(e,t){return Bt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=dl();return Bt.forEach(t,c=>this.getOverlay(e,c).next(m=>{null!==m&&i.set(c,m)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((c,m)=>{this.ht(e,t,m)}),Bt.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.cr.get(i);return void 0!==c&&(c.forEach(m=>this.overlays=this.overlays.remove(m)),this.cr.delete(i)),Bt.resolve()}getOverlaysForCollection(e,t,i){const c=dl(),m=t.length+1,C=new Jn(t.child("")),B=this.overlays.getIteratorFrom(C);for(;B.hasNext();){const W=B.getNext().value,oe=W.getKey();if(!t.isPrefixOf(oe.path))break;oe.path.length===m&&W.largestBatchId>i&&c.set(W.getKey(),W)}return Bt.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let m=new js((oe,Ee)=>oe-Ee);const C=this.overlays.getIterator();for(;C.hasNext();){const oe=C.getNext().value;if(oe.getKey().getCollectionGroup()===t&&oe.largestBatchId>i){let Ee=m.get(oe.largestBatchId);null===Ee&&(Ee=dl(),m=m.insert(oe.largestBatchId,Ee)),Ee.set(oe.getKey(),oe)}}const B=dl(),W=m.getIterator();for(;W.hasNext()&&(W.getNext().value.forEach((oe,Ee)=>B.set(oe,Ee)),!(B.size()>=c)););return Bt.resolve(B)}ht(e,t,i){const c=this.overlays.get(i.key);if(null!==c){const C=this.cr.get(c.largestBatchId).delete(i.key);this.cr.set(c.largestBatchId,C)}this.overlays=this.overlays.insert(i.key,new K_(t,i));let m=this.cr.get(t);void 0===m&&(m=Cr(),this.cr.set(t,m)),this.cr.set(t,m.add(i.key))}}class Mt{constructor(){this.lr=new Xs(Xt.hr),this.Pr=new Xs(Xt.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.lr=this.lr.add(i),this.Pr=this.Pr.add(i)}Tr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Er(new Xt(e,t))}dr(e,t){e.forEach(i=>this.removeReference(i,t))}Ar(e){const t=new Jn(new Jr([])),i=new Xt(t,e),c=new Xt(t,e+1),m=[];return this.Pr.forEachInRange([i,c],C=>{this.Er(C),m.push(C.key)}),m}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const t=new Jn(new Jr([])),i=new Xt(t,e),c=new Xt(t,e+1);let m=Cr();return this.Pr.forEachInRange([i,c],C=>{m=m.add(C.key)}),m}containsKey(e){const t=new Xt(e,0),i=this.lr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.mr=t}static hr(e,t){return Jn.comparator(e.key,t.key)||rr(e.mr,t.mr)}static Ir(e,t){return rr(e.mr,t.mr)||Jn.comparator(e.key,t.key)}}class Ln{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.gr=1,this.pr=new Xs(Xt.hr)}checkEmpty(e){return Bt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,c){const m=this.gr;this.gr++;const C=new Aw(m,t,i,c);this.mutationQueue.push(C);for(const B of c)this.pr=this.pr.add(new Xt(B.key,m)),this.indexManager.addToCollectionParentIndex(e,B.key.path.popLast());return Bt.resolve(C)}lookupMutationBatch(e,t){return Bt.resolve(this.yr(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.wr(t+1),m=c<0?0:c;return Bt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Bt.resolve(0===this.mutationQueue.length?-1:this.gr-1)}getAllMutationBatches(e){return Bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),c=new Xt(t,Number.POSITIVE_INFINITY),m=[];return this.pr.forEachInRange([i,c],C=>{const B=this.yr(C.mr);m.push(B)}),Bt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Xs(rr);return t.forEach(c=>{const m=new Xt(c,0),C=new Xt(c,Number.POSITIVE_INFINITY);this.pr.forEachInRange([m,C],B=>{i=i.add(B.mr)})}),Bt.resolve(this.Sr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let m=i;Jn.isDocumentKey(m)||(m=m.child(""));const C=new Xt(new Jn(m),0);let B=new Xs(rr);return this.pr.forEachWhile(W=>{const oe=W.key.path;return!!i.isPrefixOf(oe)&&(oe.length===c&&(B=B.add(W.mr)),!0)},C),Bt.resolve(this.Sr(B))}Sr(e){const t=[];return e.forEach(i=>{const c=this.yr(i);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Ti(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();let i=this.pr;return Bt.forEach(t.mutations,c=>{const m=new Xt(c.key,t.batchId);return i=i.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.pr=i})}Cn(e){}containsKey(e,t){const i=new Xt(t,0),c=this.pr.firstAfterOrEqual(i);return Bt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Bt.resolve()}br(e,t){return this.wr(e)}wr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}yr(e){const t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ei{constructor(e){this.Dr=e,this.docs=new js(Jn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),m=c?c.size:0,C=this.Dr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:C}),this.size+=C-m,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Bt.resolve(i?i.document.mutableCopy():Ks.newInvalidDocument(t))}getEntries(e,t){let i=Gl();return t.forEach(c=>{const m=this.docs.get(c);i=i.insert(c,m?m.document.mutableCopy():Ks.newInvalidDocument(c))}),Bt.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let m=Gl();const C=t.path,B=new Jn(C.child("")),W=this.docs.getIteratorFrom(B);for(;W.hasNext();){const{key:oe,value:{document:Ee}}=W.getNext();if(!C.isPrefixOf(oe.path))break;oe.path.length>C.length+1||tb(Kx(Ee),i)<=0||(c.has(Ee.key)||Qg(t,Ee))&&(m=m.insert(Ee.key,Ee.mutableCopy()))}return Bt.resolve(m)}getAllFromCollectionGroup(e,t,i,c){ci()}vr(e,t){return Bt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _i(this)}getSize(e){return Bt.resolve(this.size)}}class _i extends o{constructor(e){super(),this.sr=e}applyChanges(e){const t=[];return this.changes.forEach((i,c)=>{c.isValidDocument()?t.push(this.sr.addEntry(e,c)):this.sr.removeEntry(i)}),Bt.waitFor(t)}getFromCache(e,t){return this.sr.getEntry(e,t)}getAllFromCache(e,t){return this.sr.getEntries(e,t)}}class Zi{constructor(e){this.persistence=e,this.Cr=new _c(t=>Hd(t),sp),this.lastRemoteSnapshotVersion=Ci.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Mt,this.targetCount=0,this.Or=mp.xn()}forEachTarget(e,t){return this.Cr.forEach((i,c)=>t(c)),Bt.resolve()}getLastRemoteSnapshotVersion(e){return Bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Bt.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),Bt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Fr&&(this.Fr=t),Bt.resolve()}Ln(e){this.Cr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Or=new mp(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,t){return this.Ln(t),this.targetCount+=1,Bt.resolve()}updateTargetData(e,t){return this.Ln(t),Bt.resolve()}removeTargetData(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,Bt.resolve()}removeTargets(e,t,i){let c=0;const m=[];return this.Cr.forEach((C,B)=>{B.sequenceNumber<=t&&null===i.get(B.targetId)&&(this.Cr.delete(C),m.push(this.removeMatchingKeysForTargetId(e,B.targetId)),c++)}),Bt.waitFor(m).next(()=>c)}getTargetCount(e){return Bt.resolve(this.targetCount)}getTargetData(e,t){const i=this.Cr.get(t)||null;return Bt.resolve(i)}addMatchingKeys(e,t,i){return this.Mr.Tr(t,i),Bt.resolve()}removeMatchingKeys(e,t,i){this.Mr.dr(t,i);const c=this.persistence.referenceDelegate,m=[];return c&&t.forEach(C=>{m.push(c.markPotentiallyOrphaned(e,C))}),Bt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Mr.Ar(t),Bt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Mr.Vr(t);return Bt.resolve(i)}containsKey(e,t){return Bt.resolve(this.Mr.containsKey(t))}}class En{constructor(e,t){this.Nr={},this.overlays={},this.Br=new Zl(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new Zi(this),this.indexManager=new rT,this.remoteDocumentCache=new ei(i=>this.referenceDelegate.qr(i)),this.serializer=new um(t),this.Qr=new Je(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _t,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Nr[e.toKey()];return i||(i=new Ln(t,this.referenceDelegate),this.Nr[e.toKey()]=i),i}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,t,i){kn("MemoryPersistence","Starting transaction:",e);const c=new fr(this.Br.next());return this.referenceDelegate.Kr(),i(c).next(m=>this.referenceDelegate.$r(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}Ur(e,t){return Bt.or(Object.values(this.Nr).map(i=>()=>i.containsKey(e,t)))}}class fr extends Jx{constructor(e){super(),this.currentSequenceNumber=e}}class Vs{constructor(e){this.persistence=e,this.Wr=new Mt,this.Gr=null}static zr(e){return new Vs(e)}get jr(){if(this.Gr)return this.Gr;throw ci()}addReference(e,t,i){return this.Wr.addReference(i,t),this.jr.delete(i.toString()),Bt.resolve()}removeReference(e,t,i){return this.Wr.removeReference(i,t),this.jr.add(i.toString()),Bt.resolve()}markPotentiallyOrphaned(e,t){return this.jr.add(t.toString()),Bt.resolve()}removeTarget(e,t){this.Wr.Ar(t.targetId).forEach(c=>this.jr.add(c.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(m=>this.jr.add(m.toString()))}).next(()=>i.removeTargetData(e,t))}Kr(){this.Gr=new Set}$r(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bt.forEach(this.jr,i=>{const c=Jn.fromPath(i);return this.Hr(e,c).next(m=>{m||t.removeEntry(c,Ci.min())})}).next(()=>(this.Gr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hr(e,t).next(i=>{i?this.jr.delete(t.toString()):this.jr.add(t.toString())})}qr(e){return 0}Hr(e,t){return Bt.or([()=>Bt.resolve(this.Wr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ur(e,t)])}}class mS{constructor(e){this.serializer=e}B(e,t,i,c){const m=new Lg("createOrUpgrade",t);var W;i<1&&c>=1&&(e.createObjectStore("owner"),(W=e).createObjectStore("mutationQueues",{keyPath:"userId"}),W.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R_,{unique:!0}),W.createObjectStore("documentMutations"),_S(e),function(W){W.createObjectStore("remoteDocuments")}(e));let C=Bt.resolve();return i<3&&c>=3&&(0!==i&&(function(W){W.deleteObjectStore("targetDocuments"),W.deleteObjectStore("targets"),W.deleteObjectStore("targetGlobal")}(e),_S(e)),C=C.next(()=>function(W){const oe=W.store("targetGlobal"),Ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ci.min().toTimestamp(),targetCount:0};return oe.put("targetGlobalKey",Ee)}(m))),i<4&&c>=4&&(0!==i&&(C=C.next(()=>function(W,oe){return oe.store("mutations").G().next(Ee=>{W.deleteObjectStore("mutations"),W.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R_,{unique:!0});const De=oe.store("mutations"),rt=Ee.map(St=>De.put(St));return Bt.waitFor(rt)})}(e,m))),C=C.next(()=>{!function(W){W.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&c>=5&&(C=C.next(()=>this.Yr(m))),i<6&&c>=6&&(C=C.next(()=>(function(W){W.createObjectStore("remoteDocumentGlobal")}(e),this.Zr(m)))),i<7&&c>=7&&(C=C.next(()=>this.Xr(m))),i<8&&c>=8&&(C=C.next(()=>this.ei(e,m))),i<9&&c>=9&&(C=C.next(()=>{!function(W){W.objectStoreNames.contains("remoteDocumentChanges")&&W.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&c>=10&&(C=C.next(()=>this.ti(m))),i<11&&c>=11&&(C=C.next(()=>{(function(W){W.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(W){W.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&c>=12&&(C=C.next(()=>{!function(W){const oe=W.createObjectStore("documentOverlays",{keyPath:AE});oe.createIndex("collectionPathOverlayIndex",nS,{unique:!1}),oe.createIndex("collectionGroupOverlayIndex",ow,{unique:!1})}(e)})),i<13&&c>=13&&(C=C.next(()=>function(W){const oe=W.createObjectStore("remoteDocumentsV14",{keyPath:ob});oe.createIndex("documentKeyIndex",ab),oe.createIndex("collectionGroupIndex",iw)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&c>=14&&(C=C.next(()=>this.ri(e,m))),i<15&&c>=15&&(C=C.next(()=>function(W){W.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),W.createObjectStore("indexState",{keyPath:SE}).createIndex("sequenceNumberIndex",rw,{unique:!1}),W.createObjectStore("indexEntries",{keyPath:ep}).createIndex("documentKeyIndex",sw,{unique:!1})}(e))),C}Zr(e){let t=0;return e.store("remoteDocuments").Z((i,c)=>{t+=hv(c)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Yr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.G().next(c=>Bt.forEach(c,m=>{const C=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return i.G("userMutationsIndex",C).next(B=>Bt.forEach(B,W=>{Ti(W.userId===m.userId);const oe=pp(this.serializer,W);return qw(e,m.userId,oe).next(()=>{})}))}))}Xr(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const m=[];return i.Z((C,B)=>{const W=new Jr(C),oe=[0,Ma(W)];m.push(t.get(oe).next(Ee=>Ee?Bt.resolve():t.put({targetId:0,path:Ma(W),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Bt.waitFor(m))})}ei(e,t){e.createObjectStore("collectionParents",{keyPath:cb});const i=t.store("collectionParents"),c=new dv,m=C=>{if(c.add(C)){const B=C.lastSegment(),W=C.popLast();return i.put({collectionId:B,parent:Ma(W)})}};return t.store("remoteDocuments").Z({Y:!0},(C,B)=>{const W=new Jr(C);return m(W.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([C,B,W],oe)=>{const Ee=fu(B);return m(Ee.popLast())}))}ti(e){const t=e.store("targets");return t.Z((i,c)=>{const m=av(c),C=Kb(this.serializer,m);return t.put(C)})}ni(e,t){const i=t.store("remoteDocuments"),c=[];return i.Z((m,C)=>{const B=t.store("remoteDocumentsV14"),W=(De=C,De.document?new Jn(Jr.fromString(De.document.name).popFirst(5)):De.noDocument?Jn.fromSegments(De.noDocument.path):De.unknownDocument?Jn.fromSegments(De.unknownDocument.path):ci()).path.toArray(),oe={prefixPath:W.slice(0,W.length-2),collectionGroup:W[W.length-2],documentId:W[W.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};var De;c.push(B.put(oe))}).next(()=>Bt.waitFor(c))}ri(e,t){const i=t.store("mutations"),c=d(this.serializer),m=new En(Vs.zr,this.serializer.ct);return i.G().next(C=>{const B=new Map;return C.forEach(W=>{var oe;let Ee=null!==(oe=B.get(W.userId))&&void 0!==oe?oe:Cr();pp(this.serializer,W).keys().forEach(De=>Ee=Ee.add(De)),B.set(W.userId,Ee)}),Bt.forEach(B,(W,oe)=>{const Ee=new Ca(oe),De=e0.lt(this.serializer,Ee),rt=m.getIndexManager(Ee),St=s0.lt(Ee,this.serializer,rt,m.referenceDelegate);return new Fe(c,St,De,rt).recalculateAndSaveOverlaysForDocumentKeys(new Hg(t,Zl.ae),W).next()})})}}function _S(n){n.createObjectStore("targetDocuments",{keyPath:TE}).createIndex("documentTargetsIndex",CE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lb,{unique:!0}),n.createObjectStore("targetGlobal")}const dT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hT{constructor(e,t,i,c,m,C,B,W,oe,Ee,De=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=m,this.window=C,this.document=B,this.si=oe,this.oi=Ee,this._i=De,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=rt=>Promise.resolve(),!hT.v())throw new bn(Wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uT(this,c),this.Pi=t+"main",this.serializer=new um(W),this.Ii=new Gc(this.Pi,this._i,new mS(this.serializer)),this.kr=new fS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=d(this.serializer),this.Qr=new dS,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,!1===Ee&&no("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ei().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new bn(Wt.FAILED_PRECONDITION,dT);return this.di(),this.Ai(),this.Ri(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.kr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new Zl(e,this.si)}).then(()=>{this.Lr=!0}).catch(e=>(this.Ii&&this.Ii.close(),Promise.reject(e)))}Vi(e){var t=this;return this.hi=function(){var i=(0,ke.Z)(function*(c){if(t.started)return e(c)});return function(c){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ii.k(function(){var t=(0,ke.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ke.Z)(function*(){t.started&&(yield t.Ei())})))}Ei(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.mi(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.hi(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.gi(e).next(()=>!1):!!t&&this.pi(e).next(()=>!0))).catch(e=>{if(hu(e))return kn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return kn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.hi(e)),this.isPrimary=e})}mi(e){return a0(e).get("owner").next(t=>Bt.resolve(this.yi(t)))}wi(e){return Xw(e).delete(this.clientId)}Si(){var e=this;return(0,ke.Z)(function*(){if(e.isPrimary&&!e.bi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const c=la(i,"clientMetadata");return c.G().next(m=>{const C=e.Di(m,18e5),B=m.filter(W=>-1===C.indexOf(W));return Bt.forEach(B,W=>c.delete(W.clientId)).next(()=>B)})}).catch(()=>[]);if(e.Ti)for(const i of t)e.Ti.removeItem(e.vi(i.clientId))}})()}Ri(){this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ei().then(()=>this.Si()).then(()=>this.Ri()))}yi(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.oi?Bt.resolve(!0):a0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new bn(Wt.FAILED_PRECONDITION,dT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xw(e).G().next(i=>void 0===this.Di(i,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(t=>(this.isPrimary!==t&&kn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ke.Z)(function*(){e.Lr=!1,e.Fi(),e.ci&&(e.ci.cancel(),e.ci=null),e.Mi(),e.xi(),yield e.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Hg(t,Zl.ae);return e.gi(i).next(()=>e.wi(i))}),e.Ii.close(),e.Oi()})()}Di(e,t){return e.filter(i=>this.bi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}Ni(){return this.runTransaction("getActiveClients","readonly",e=>Xw(e).G().next(t=>this.Di(t,18e5).map(i=>i.clientId)))}get started(){return this.Lr}getMutationQueue(e,t){return s0.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jw(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return e0.lt(this.serializer,e)}getBundleCache(){return this.Qr}runTransaction(e,t,i){kn("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",m=15===(W=this._i)?lw:14===W?aw:13===W?L_:12===W?IE:11===W?N_:void ci();var W;let C;return this.Ii.runTransaction(e,c,m,B=>(C=new Hg(B,this.Br?this.Br.next():Zl.ae),"readwrite-primary"===t?this.mi(C).next(W=>!!W||this.fi(C)).next(W=>{if(!W)throw no(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.hi(!1)),new bn(Wt.FAILED_PRECONDITION,nb);return i(C)}).next(W=>this.pi(C).next(()=>W)):this.Bi(C).next(()=>i(C)))).then(B=>(C.raiseOnCommittedEvent(),B))}Bi(e){return a0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.yi(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new bn(Wt.FAILED_PRECONDITION,dT)})}pi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return a0(e).put("owner",t)}static v(){return Gc.v()}gi(e){const t=a0(e);return t.get("owner").next(i=>this.yi(i)?(kn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Bt.resolve())}bi(e,t){const i=Date.now();return!(e<i-t||e>i&&(no(`Detected an update time that is in the future: ${e} > ${i}`),1))}di(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ui=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ei()))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground="visible"===this.document.visibilityState)}Mi(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}Ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ai=()=>{this.Fi();const t=/(?:Version|Mobile)\/1[456]/;(function pn(){return!Cn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ai))}xi(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}Ci(e){var t;try{const i=null!==(null===(t=this.Ti)||void 0===t?void 0:t.getItem(this.vi(e)));return kn("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return no("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Fi(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){no("Failed to set zombie client id.",e)}}Oi(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function a0(n){return la(n,"owner")}function Xw(n){return la(n,"clientMetadata")}function fT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pT{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Li=i,this.ki=c}static qi(e,t){let i=Cr(),c=Cr();for(const m of t.docChanges)switch(m.type){case 0:i=i.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new pT(e,t.fromCache,i,c)}}class vS{constructor(){this.Qi=!1}initialize(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}getDocumentsMatchingQuery(e,t,i,c){return this.$i(e,t).next(m=>m||this.Ui(e,t,c,i)).next(m=>m||this.Wi(e,t))}$i(e,t){if(FE(t))return Bt.resolve(null);let i=ul(t);return this.indexManager.getIndexType(e,i).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=W_(t,null,"F"),i=ul(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(m=>{const C=Cr(...m);return this.Ki.getDocuments(e,C).next(B=>this.indexManager.getMinOffset(e,i).next(W=>{const oe=this.Gi(t,B);return this.zi(t,oe,C,W.readTime)?this.$i(e,W_(t,null,"F")):this.ji(e,oe,t,W)}))})))}Ui(e,t,i,c){return FE(t)||c.isEqual(Ci.min())?this.Wi(e,t):this.Ki.getDocuments(e,i).next(m=>{const C=this.Gi(t,m);return this.zi(t,C,i,c)?this.Wi(e,t):(Xy()<=ne.DEBUG&&kn("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),xb(t)),this.ji(e,C,t,eb(c,-1)))})}Gi(e,t){let i=new Xs(wb(e));return t.forEach((c,m)=>{Qg(e,m)&&(i=i.add(m))}),i}zi(e,t,i,c){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}Wi(e,t){return Xy()<=ne.DEBUG&&kn("QueryEngine","Using full collection scan to execute query:",xb(t)),this.Ki.getDocumentsMatchingQuery(e,t,Al.min())}ji(e,t,i,c){return this.Ki.getDocumentsMatchingQuery(e,i,c).next(m=>(t.forEach(C=>{m=m.insert(C.key,C)}),m))}}class GA{constructor(e,t,i,c){this.persistence=e,this.Hi=t,this.serializer=c,this.Ji=new js(rr),this.Yi=new _c(m=>Hd(m),sp),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(i)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fe(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function yS(n,e,t,i){return new GA(n,e,t,i)}function bS(n,e){return gT.apply(this,arguments)}function gT(){return gT=(0,ke.Z)(function*(n,e){const t=Kn(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next(m=>(c=m,t.es(e),t.mutationQueue.getAllMutationBatches(i))).next(m=>{const C=[],B=[];let W=Cr();for(const oe of c){C.push(oe.batchId);for(const Ee of oe.mutations)W=W.add(Ee.key)}for(const oe of m){B.push(oe.batchId);for(const Ee of oe.mutations)W=W.add(Ee.key)}return t.localDocuments.getDocuments(i,W).next(oe=>({ts:oe,removedBatchIds:C,addedBatchIds:B}))})})}),gT.apply(this,arguments)}function jA(n,e){const t=Kn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const c=e.batch.keys(),m=t.Xi.newChangeBuffer({trackRemovals:!0});return function(B,W,oe,Ee){const De=oe.batch,rt=De.keys();let St=Bt.resolve();return rt.forEach(An=>{St=St.next(()=>Ee.getEntry(W,An)).next(jn=>{const Yn=oe.docVersions.get(An);Ti(null!==Yn),jn.version.compareTo(Yn)<0&&(De.applyToRemoteDocument(jn,oe),jn.isValidDocument()&&(jn.setReadTime(oe.commitVersion),Ee.addEntry(jn)))})}),St.next(()=>B.mutationQueue.removeMutationBatch(W,De))}(t,i,e,m).next(()=>m.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(B){let W=Cr();for(let oe=0;oe<B.mutationResults.length;++oe)B.mutationResults[oe].transformResults.length>0&&(W=W.add(B.batch.mutations[oe].key));return W}(e))).next(()=>t.localDocuments.getDocuments(i,c))})}function xS(n){const e=Kn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.kr.getLastRemoteSnapshotVersion(t))}function YA(n,e){const t=Kn(n),i=e.snapshotVersion;let c=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const C=t.Xi.newChangeBuffer({trackRemovals:!0});c=t.Ji;const B=[];e.targetChanges.forEach((Ee,De)=>{const rt=c.get(De);if(!rt)return;B.push(t.kr.removeMatchingKeys(m,Ee.removedDocuments,De).next(()=>t.kr.addMatchingKeys(m,Ee.addedDocuments,De)));let St=rt.withSequenceNumber(m.currentSequenceNumber);var jn,Yn,Vi;null!==e.targetMismatches.get(De)?St=St.withResumeToken(Sa.EMPTY_BYTE_STRING,Ci.min()).withLastLimboFreeSnapshotVersion(Ci.min()):Ee.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(Ee.resumeToken,i)),c=c.insert(De,St),Yn=St,Vi=Ee,(0===(jn=rt).resumeToken.approximateByteSize()||Yn.snapshotVersion.toMicroseconds()-jn.snapshotVersion.toMicroseconds()>=3e8||Vi.addedDocuments.size+Vi.modifiedDocuments.size+Vi.removedDocuments.size>0)&&B.push(t.kr.updateTargetData(m,St))});let W=Gl(),oe=Cr();if(e.documentUpdates.forEach(Ee=>{e.resolvedLimboDocuments.has(Ee)&&B.push(t.persistence.referenceDelegate.updateLimboDocument(m,Ee))}),B.push(wS(m,C,e.documentUpdates).next(Ee=>{W=Ee.ns,oe=Ee.rs})),!i.isEqual(Ci.min())){const Ee=t.kr.getLastRemoteSnapshotVersion(m).next(De=>t.kr.setTargetsMetadata(m,m.currentSequenceNumber,i));B.push(Ee)}return Bt.waitFor(B).next(()=>C.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,W,oe)).next(()=>W)}).then(m=>(t.Ji=c,m))}function wS(n,e,t){let i=Cr(),c=Cr();return t.forEach(m=>i=i.add(m)),e.getEntries(n,i).next(m=>{let C=Gl();return t.forEach((B,W)=>{const oe=m.get(B);W.isFoundDocument()!==oe.isFoundDocument()&&(c=c.add(B)),W.isNoDocument()&&W.version.isEqual(Ci.min())?(e.removeEntry(B,W.readTime),C=C.insert(B,W)):!oe.isValidDocument()||W.version.compareTo(oe.version)>0||0===W.version.compareTo(oe.version)&&oe.hasPendingWrites?(e.addEntry(W),C=C.insert(B,W)):kn("LocalStore","Ignoring outdated watch update for ",B,". Current version:",oe.version," Watch version:",W.version)}),{ns:C,rs:c}})}function qA(n,e){const t=Kn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fv(n,e){const t=Kn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let c;return t.kr.getTargetData(i,e).next(m=>m?(c=m,Bt.resolve(c)):t.kr.allocateTargetId(i).next(C=>(c=new _u(e,C,"TargetPurposeListen",i.currentSequenceNumber),t.kr.addTargetData(i,c).next(()=>c))))}).then(i=>{const c=t.Ji.get(i.targetId);return(null===c||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function pv(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=(0,ke.Z)(function*(n,e,t){const i=Kn(n),c=i.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",m,C=>i.persistence.referenceDelegate.removeTarget(C,c)))}catch(C){if(!hu(C))throw C;kn("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(c.target)}),mT.apply(this,arguments)}function Kw(n,e,t){const i=Kn(n);let c=Ci.min(),m=Cr();return i.persistence.runTransaction("Execute query","readonly",C=>function(W,oe,Ee){const De=Kn(W),rt=De.Yi.get(Ee);return void 0!==rt?Bt.resolve(De.Ji.get(rt)):De.kr.getTargetData(oe,Ee)}(i,C,ul(e)).next(B=>{if(B)return c=B.lastLimboFreeSnapshotVersion,i.kr.getMatchingKeysForTargetId(C,B.targetId).next(W=>{m=W})}).next(()=>i.Hi.getDocumentsMatchingQuery(C,e,t?c:Ci.min(),t?m:Cr())).next(B=>(CS(i,$_(e),B),{documents:B,ss:m})))}function ES(n,e){const t=Kn(n),i=Kn(t.kr),c=t.Ji.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",m=>i.ut(m,e).next(C=>C?C.target:null))}function TS(n,e){const t=Kn(n),i=t.Zi.get(e)||Ci.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Xi.getAllFromCollectionGroup(c,e,eb(i,-1),Number.MAX_SAFE_INTEGER)).then(c=>(CS(t,e,c),c))}function CS(n,e,t){let i=n.Zi.get(e)||Ci.min();t.forEach((c,m)=>{m.readTime.compareTo(i)>0&&(i=m.readTime)}),n.Zi.set(e,i)}function _T(){return _T=(0,ke.Z)(function*(n,e,t,i){const c=Kn(n);let m=Cr(),C=Gl();for(const oe of t){const Ee=e.os(oe.metadata.name);oe.document&&(m=m.add(Ee));const De=e._s(oe);De.setReadTime(e.us(oe.metadata.readTime)),C=C.insert(Ee,De)}const B=c.Xi.newChangeBuffer({trackRemovals:!0}),W=yield fv(c,(Ee=i,ul(op(Jr.fromString(`__bundle__/docs/${Ee}`)))));var Ee;return c.persistence.runTransaction("Apply bundle documents","readwrite",oe=>wS(oe,B,C).next(Ee=>(B.apply(oe),Ee)).next(Ee=>c.kr.removeMatchingKeysForTargetId(oe,W.targetId).next(()=>c.kr.addMatchingKeys(oe,m,W.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(oe,Ee.ns,Ee.rs)).next(()=>Ee.ns)))}),_T.apply(this,arguments)}function $A(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,ke.Z)(function*(n,e,t=Cr()){const i=yield fv(n,ul(Jb(e.bundledQuery))),c=Kn(n);return c.persistence.runTransaction("Save named query","readwrite",m=>{const C=Io(e.readTime);if(i.snapshotVersion.compareTo(C)>=0)return c.Qr.saveNamedQuery(m,e);const B=i.withResumeToken(Sa.EMPTY_BYTE_STRING,C);return c.Ji=c.Ji.insert(B.targetId,B),c.kr.updateTargetData(m,B).next(()=>c.kr.removeMatchingKeysForTargetId(m,i.targetId)).next(()=>c.kr.addMatchingKeys(m,t,i.targetId)).next(()=>c.Qr.saveNamedQuery(m,e))})}),vT.apply(this,arguments)}function SS(n,e){return`firestore_clients_${n}_${e}`}function AS(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function yT(n,e){return`firestore_targets_${n}_${e}`}class Jw{constructor(e,t,i,c){this.user=e,this.batchId=t,this.state=i,this.error=c}static cs(e,t,i){const c=JSON.parse(i);let m,C="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return C&&c.error&&(C="string"==typeof c.error.message&&"string"==typeof c.error.code,C&&(m=new bn(c.error.code,c.error.message))),C?new Jw(e,t,c.state,m):(no("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}ls(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class l0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static cs(e,t){const i=JSON.parse(t);let c,m="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return m&&i.error&&(m="string"==typeof i.error.message&&"string"==typeof i.error.code,m&&(c=new bn(i.error.code,i.error.message))),m?new l0(e,i.state,c):(no("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ls(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cs(e,t){const i=JSON.parse(t);let c="object"==typeof i&&i.activeTargetIds instanceof Array,m=Ab();for(let C=0;c&&C<i.activeTargetIds.length;++C)c=ew(i.activeTargetIds[C]),m=m.add(i.activeTargetIds[C]);return c?new Qw(e,m):(no("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bT{constructor(e,t){this.clientId=e,this.onlineState=t}static cs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bT(t.clientId,t.onlineState):(no("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xT{constructor(){this.activeTargetIds=Ab()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wT{constructor(e,t,i,c,m){this.window=e,this.ii=t,this.persistenceKey=i,this.Is=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new js(rr),this.started=!1,this.As=[];const C=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.Rs=SS(this.persistenceKey,this.Is),this.Vs=`firestore_sequence_number_${this.persistenceKey}`,this.ds=this.ds.insert(this.Is,new xT),this.fs=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.gs=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.ps=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.ys=`firestore_online_state_${this.persistenceKey}`,this.ws=function(W){return`firestore_bundle_loaded_v2_${W}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}static v(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ke.Z)(function*(){const t=yield e.syncEngine.Ni();for(const c of t){if(c===e.Is)continue;const m=e.getItem(SS(e.persistenceKey,c));if(m){const C=Qw.cs(c,m);C&&(e.ds=e.ds.insert(C.clientId,C))}}e.Ss();const i=e.storage.getItem(e.ys);if(i){const c=e.bs(i);c&&e.Ds(c)}for(const c of e.As)e.Es(c);e.As=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.vs(this.ds)}isActiveQueryTarget(e){let t=!1;return this.ds.forEach((i,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Cs(e,"pending")}updateMutationState(e,t,i){this.Cs(e,t,i),this.Fs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(yT(this.persistenceKey,e));if(i){const c=l0.cs(e,i);c&&(t=c.state)}}return this.Ms.hs(e),this.Ss(),t}removeLocalQueryTarget(e){this.Ms.Ps(e),this.Ss()}isLocalQueryTarget(e){return this.Ms.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yT(this.persistenceKey,e))}updateQueryState(e,t,i){this.xs(e,t,i)}handleUserChange(e,t,i){t.forEach(c=>{this.Fs(c)}),this.currentUser=e,i.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Os(e)}notifyBundleLoaded(e){this.Ns(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return kn("SharedClientState","READ",e,t),t}setItem(e,t){kn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){kn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Es(e){var t=this;const i=e;if(i.storageArea===this.storage){if(kn("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Rs)return void no("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ke.Z)(function*(){if(t.started){if(null!==i.key)if(t.fs.test(i.key)){if(null==i.newValue){const c=t.Bs(i.key);return t.Ls(c,null)}{const c=t.ks(i.key,i.newValue);if(c)return t.Ls(c.clientId,c)}}else if(t.gs.test(i.key)){if(null!==i.newValue){const c=t.qs(i.key,i.newValue);if(c)return t.Qs(c)}}else if(t.ps.test(i.key)){if(null!==i.newValue){const c=t.Ks(i.key,i.newValue);if(c)return t.$s(c)}}else if(i.key===t.ys){if(null!==i.newValue){const c=t.bs(i.newValue);if(c)return t.Ds(c)}}else if(i.key===t.Vs){const c=function(C){let B=Zl.ae;if(null!=C)try{const W=JSON.parse(C);Ti("number"==typeof W),B=W}catch(W){no("SharedClientState","Failed to read sequence number from WebStorage",W)}return B}(i.newValue);c!==Zl.ae&&t.sequenceNumberHandler(c)}else if(i.key===t.ws){const c=t.Us(i.newValue);yield Promise.all(c.map(m=>t.syncEngine.Ws(m)))}}else t.As.push(i)}))}}get Ms(){return this.ds.get(this.Is)}Ss(){this.setItem(this.Rs,this.Ms.ls())}Cs(e,t,i){const c=new Jw(this.currentUser,e,t,i),m=AS(this.persistenceKey,this.currentUser,e);this.setItem(m,c.ls())}Fs(e){const t=AS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Os(e){this.storage.setItem(this.ys,JSON.stringify({clientId:this.Is,onlineState:e}))}xs(e,t,i){const c=yT(this.persistenceKey,e),m=new l0(e,t,i);this.setItem(c,m.ls())}Ns(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ws,t)}Bs(e){const t=this.fs.exec(e);return t?t[1]:null}ks(e,t){const i=this.Bs(e);return Qw.cs(i,t)}qs(e,t){const i=this.gs.exec(e),c=Number(i[1]);return Jw.cs(new Ca(void 0!==i[2]?i[2]:null),c,t)}Ks(e,t){const i=this.ps.exec(e),c=Number(i[1]);return l0.cs(c,t)}bs(e){return bT.cs(e)}Us(e){return JSON.parse(e)}Qs(e){var t=this;return(0,ke.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Gs(e.batchId,e.state,e.error);kn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}$s(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}Ls(e,t){const i=t?this.ds.insert(e,t):this.ds.remove(e),c=this.vs(this.ds),m=this.vs(i),C=[],B=[];return m.forEach(W=>{c.has(W)||C.push(W)}),c.forEach(W=>{m.has(W)||B.push(W)}),this.syncEngine.js(C,B).then(()=>{this.ds=i})}Ds(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}vs(e){let t=Ab();return e.forEach((i,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class IS{constructor(){this.Hs=new xT,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,t,i){this.Js[e]=t}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new xT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class XA{Ys(e){}shutdown(){}}class DS{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){kn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){kn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let e1=null;function ET(){return null===e1?e1=268435456+Math.round(2147483648*Math.random()):e1++,"0x"+e1.toString(16)}const KA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JA{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}const kl="WebChannelConnection";class QA extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.To=(t.ssl?"https":"http")+"://"+t.host,this.Eo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get Ao(){return!1}Ro(t,i,c,m,C){const B=ET(),W=this.Vo(t,i);kn("RestConnection",`Sending RPC '${t}' ${B}:`,W,c);const oe={};return this.mo(oe,m,C),this.fo(t,W,oe,c).then(Ee=>(kn("RestConnection",`Received RPC '${t}' ${B}: `,Ee),Ee),Ee=>{throw zl("RestConnection",`RPC '${t}' ${B} failed with error: `,Ee,"url: ",W,"request:",c),Ee})}po(t,i,c,m,C,B){return this.Ro(t,i,c,m,C)}mo(t,i,c){t["X-Goog-Api-Client"]="gl-js/ fire/"+Qf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((m,C)=>t[C]=m),c&&c.headers.forEach((m,C)=>t[C]=m)}Vo(t,i){return`${this.To}/v1/${i}:${KA[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}fo(e,t,i,c){const m=ET();return new Promise((C,B)=>{const W=new Zx;W.setWithCredentials(!0),W.listenOnce(QC.COMPLETE,()=>{try{switch(W.getLastErrorCode()){case to.NO_ERROR:const Ee=W.getResponseJson();kn(kl,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Ee)),C(Ee);break;case to.TIMEOUT:kn(kl,`RPC '${e}' ${m} timed out`),B(new bn(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case to.HTTP_ERROR:const De=W.getStatus();if(kn(kl,`RPC '${e}' ${m} failed with status:`,De,"response text:",W.getResponseText()),De>0){let rt=W.getResponseJson();Array.isArray(rt)&&(rt=rt[0]);const St=rt?.error;if(St&&St.status&&St.message){const An=function(Yn){const Vi=Yn.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(Vi)>=0?Vi:Wt.UNKNOWN}(St.status);B(new bn(An,St.message))}else B(new bn(Wt.UNKNOWN,"Server responded with status "+W.getStatus()))}else B(new bn(Wt.UNAVAILABLE,"Connection failed."));break;default:ci()}}finally{kn(kl,`RPC '${e}' ${m} completed.`)}});const oe=JSON.stringify(c);kn(kl,`RPC '${e}' ${m} sending request:`,c),W.send(t,"POST",oe,i,15)})}yo(e,t,i){const c=ET(),m=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],C=k_(),B=P_(),W={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},oe=this.longPollingOptions.timeoutSeconds;void 0!==oe&&(W.longPollingTimeout=Math.round(1e3*oe)),this.useFetchStreams&&(W.xmlHttpFactory=new hE({})),this.mo(W.initMessageHeaders,t,i),W.encodeInitMessageHeaders=!0;const Ee=m.join("");kn(kl,`Creating RPC '${e}' stream ${c}: ${Ee}`,W);const De=C.createWebChannel(Ee,W);let rt=!1,St=!1;const An=new JA({so:Yn=>{St?kn(kl,`Not sending because RPC '${e}' stream ${c} is closed:`,Yn):(rt||(kn(kl,`Opening RPC '${e}' stream ${c} transport.`),De.open(),rt=!0),kn(kl,`RPC '${e}' stream ${c} sending:`,Yn),De.send(Yn))},oo:()=>De.close()}),jn=(Yn,Vi,Yi)=>{Yn.listen(Vi,Ui=>{try{Yi(Ui)}catch(Br){setTimeout(()=>{throw Br},0)}})};return jn(De,Og.EventType.OPEN,()=>{St||kn(kl,`RPC '${e}' stream ${c} transport opened.`)}),jn(De,Og.EventType.CLOSE,()=>{St||(St=!0,kn(kl,`RPC '${e}' stream ${c} transport closed`),An.Po())}),jn(De,Og.EventType.ERROR,Yn=>{St||(St=!0,zl(kl,`RPC '${e}' stream ${c} transport errored:`,Yn),An.Po(new bn(Wt.UNAVAILABLE,"The operation could not be completed")))}),jn(De,Og.EventType.MESSAGE,Yn=>{var Vi;if(!St){const Yi=Yn.data[0];Ti(!!Yi);const Br=Yi.error||(null===(Vi=Yi[0])||void 0===Vi?void 0:Vi.error);if(Br){kn(kl,`RPC '${e}' stream ${c} received error:`,Br);const Cs=Br.status;let ls=function(T0){const E1=ua[T0];if(void 0!==E1)return kw(E1)}(Cs),Na=Br.message;void 0===ls&&(ls=Wt.INTERNAL,Na="Unknown error status: "+Cs+" with message "+Br.message),St=!0,An.Po(new bn(ls,Na)),De.close()}else kn(kl,`RPC '${e}' stream ${c} received:`,Yi),An.Io(Yi)}}),jn(B,zx.STAT_EVENT,Yn=>{Yn.stat===$y.PROXY?kn(kl,`RPC '${e}' stream ${c} detected buffering proxy`):Yn.stat===$y.NOPROXY&&kn(kl,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{An.ho()},0),An}}function kS(){return typeof window<"u"?window:null}function t1(){return typeof document<"u"?document:null}function c0(n){return new Bb(n,!0)}class TT{constructor(e,t,i=1e3,c=1.5,m=6e4){this.ii=e,this.timerId=t,this.wo=i,this.So=c,this.bo=m,this.Do=0,this.vo=null,this.Co=Date.now(),this.reset()}reset(){this.Do=0}Fo(){this.Do=this.bo}Mo(e){this.cancel();const t=Math.floor(this.Do+this.xo()),i=Math.max(0,Date.now()-this.Co),c=Math.max(0,t-i);c>0&&kn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Do} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.vo=this.ii.enqueueAfterDelay(this.timerId,c,()=>(this.Co=Date.now(),e())),this.Do*=this.So,this.Do<this.wo&&(this.Do=this.wo),this.Do>this.bo&&(this.Do=this.bo)}Oo(){null!==this.vo&&(this.vo.skipDelay(),this.vo=null)}cancel(){null!==this.vo&&(this.vo.cancel(),this.vo=null)}xo(){return(Math.random()-.5)*this.Do}}class PS{constructor(e,t,i,c,m,C,B,W){this.ii=e,this.No=i,this.Bo=c,this.connection=m,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=B,this.listener=W,this.state=0,this.Lo=0,this.ko=null,this.qo=null,this.stream=null,this.Qo=new TT(e,t)}Ko(){return 1===this.state||5===this.state||this.$o()}$o(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Uo()}stop(){var e=this;return(0,ke.Z)(function*(){e.Ko()&&(yield e.close(0))})()}Wo(){this.state=0,this.Qo.reset()}Go(){this.$o()&&null===this.ko&&(this.ko=this.ii.enqueueAfterDelay(this.No,6e4,()=>this.zo()))}jo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ke.Z)(function*(){if(e.$o())return e.close(0)})()}Ho(){this.ko&&(this.ko.cancel(),this.ko=null)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}close(e,t){var i=this;return(0,ke.Z)(function*(){i.Ho(),i.Jo(),i.Qo.cancel(),i.Lo++,4!==e?i.Qo.reset():t&&t.code===Wt.RESOURCE_EXHAUSTED?(no(t.toString()),no("Using maximum backoff delay to prevent overloading the backend."),i.Qo.Fo()):t&&t.code===Wt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.uo(t)})()}Yo(){}auth(){this.state=1;const e=this.Zo(this.Lo),t=this.Lo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,c])=>{this.Lo===t&&this.Xo(i,c)},i=>{e(()=>{const c=new bn(Wt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.e_(c)})})}Xo(e,t){const i=this.Zo(this.Lo);this.stream=this.t_(e,t),this.stream._o(()=>{i(()=>(this.state=2,this.qo=this.ii.enqueueAfterDelay(this.Bo,1e4,()=>(this.$o()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(c=>{i(()=>this.e_(c))}),this.stream.onMessage(c=>{i(()=>this.onMessage(c))})}Uo(){var e=this;this.state=5,this.Qo.Mo((0,ke.Z)(function*(){e.state=0,e.start()}))}e_(e){return kn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Zo(e){return t=>{this.ii.enqueueAndForget(()=>this.Lo===e?t():(kn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eI extends PS{constructor(e,t,i,c,m,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,C),this.serializer=m}t_(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.Qo.reset();const t=function XE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(oe=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===oe?1:"REMOVE"===oe?2:"CURRENT"===oe?3:"RESET"===oe?4:ci(),c=e.targetChange.targetIds||[],m=function(oe,Ee){return oe.useProto3Json?(Ti(void 0===Ee||"string"==typeof Ee),Sa.fromBase64String(Ee||"")):(Ti(void 0===Ee||Ee instanceof Uint8Array),Sa.fromUint8Array(Ee||new Uint8Array))}(n,e.targetChange.resumeToken),C=e.targetChange.cause,B=C&&function(oe){const Ee=void 0===oe.code?Wt.UNKNOWN:kw(oe.code);return new bn(Ee,oe.message||"")}(C);t=new qE(i,c,m,B||null)}else if("documentChange"in e){const i=e.documentChange,c=gu(n,i.document.name),m=Io(i.document.updateTime),C=i.document.createTime?Io(i.document.createTime):Ci.min(),B=new ca({mapValue:{fields:i.document.fields}}),W=Ks.newFoundDocument(c,m,C,B);t=new cm(i.targetIds||[],i.removedTargetIds||[],W.key,W)}else if("documentDelete"in e){const i=e.documentDelete,c=gu(n,i.document),m=i.readTime?Io(i.readTime):Ci.min(),C=Ks.newNoDocument(c,m);t=new cm([],i.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const i=e.documentRemove,c=gu(n,i.document);t=new cm([],i.removedTargetIds||[],c,null)}else{if(!("filter"in e))return ci();{const i=e.filter,{count:c=0,unchangedNames:m}=i,C=new Iw(c,m);t=new Vb(i.targetId,C)}}var oe;return t}(this.serializer,e),i=function(m){if(!("targetChange"in m))return Ci.min();const C=m.targetChange;return C.targetIds&&C.targetIds.length?Ci.min():C.readTime?Io(C.readTime):Ci.min()}(e);return this.listener.n_(t,i)}r_(e){const t={};t.database=Bh(this.serializer),t.addTarget=function(m,C){let B;const W=C.target;if(B=Y_(W)?{documents:Nw(m,W)}:{query:jb(m,W)},B.targetId=C.targetId,C.resumeToken.approximateByteSize()>0){B.resumeToken=tv(m,C.resumeToken);const oe=Ub(m,C.expectedCount);null!==oe&&(B.expectedCount=oe)}else if(C.snapshotVersion.compareTo(Ci.min())>0){B.readTime=dp(m,C.snapshotVersion.toTimestamp());const oe=Ub(m,C.expectedCount);null!==oe&&(B.expectedCount=oe)}return B}(this.serializer,e);const i=function cS(n,e){const t=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ci()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.jo(t)}i_(e){const t={};t.database=Bh(this.serializer),t.removeTarget=e,this.jo(t)}}class tI extends PS{constructor(e,t,i,c,m,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,C),this.serializer=m,this.s_=!1}get o_(){return this.s_}start(){this.s_=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.s_&&this.__([])}t_(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Ti(!!e.streamToken),this.lastStreamToken=e.streamToken,this.s_){this.Qo.reset();const t=function KE(n,e){return n&&n.length>0?(Ti(void 0!==e),n.map(t=>function(c,m){let C=Io(c.updateTime?c.updateTime:m);return C.isEqual(Ci.min())&&(C=Io(m)),new sS(C,c.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Io(e.commitTime);return this.listener.a_(i,t)}return Ti(!e.writeResults||0===e.writeResults.length),this.s_=!0,this.listener.u_()}c_(){const e={};e.database=Bh(this.serializer),this.jo(e)}__(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>rv(this.serializer,i))};this.jo(t)}}class nI extends class{}{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.l_=!1}h_(){if(this.l_)throw new bn(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}Ro(e,t,i){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Ro(e,t,i,c,m)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new bn(Wt.UNKNOWN,c.toString())})}po(e,t,i,c){return this.h_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,C])=>this.connection.po(e,t,i,m,C,c)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new bn(Wt.UNKNOWN,m.toString())})}terminate(){this.l_=!0}}class rI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.I_=0,this.T_=null,this.E_=!0}d_(){0===this.I_&&(this.A_("Unknown"),this.T_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.T_=null,this.R_("Backend didn't respond within 10 seconds."),this.A_("Offline"),Promise.resolve())))}V_(e){"Online"===this.state?this.A_("Unknown"):(this.I_++,this.I_>=1&&(this.m_(),this.R_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.A_("Offline")))}set(e){this.m_(),this.I_=0,"Online"===e&&(this.E_=!1),this.A_(e)}A_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}R_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.E_?(no(t),this.E_=!1):kn("OnlineStateTracker",t)}m_(){null!==this.T_&&(this.T_.cancel(),this.T_=null)}}class sI{constructor(e,t,i,c,m){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.f_=[],this.g_=new Map,this.p_=new Set,this.y_=[],this.w_=m,this.w_.Ys(B=>{i.enqueueAndForget((0,ke.Z)(function*(){var W;_p(C)&&(kn("RemoteStore","Restarting streams for network reachability change."),yield(W=(0,ke.Z)(function*(Ee){const De=Kn(Ee);De.p_.add(4),yield gv(De),De.S_.set("Unknown"),De.p_.delete(4),yield u0(De)}),function oe(Ee){return W.apply(this,arguments)})(C))}))}),this.S_=new rI(i,c)}}function u0(n){return ST.apply(this,arguments)}function ST(){return ST=(0,ke.Z)(function*(n){if(_p(n))for(const e of n.y_)yield e(!0)}),ST.apply(this,arguments)}function gv(n){return AT.apply(this,arguments)}function AT(){return AT=(0,ke.Z)(function*(n){for(const e of n.y_)yield e(!1)}),AT.apply(this,arguments)}function n1(n,e){const t=Kn(n);t.g_.has(e.targetId)||(t.g_.set(e.targetId,e),kT(t)?DT(t):_v(t).$o()&&IT(t,e))}function d0(n,e){const t=Kn(n),i=_v(t);t.g_.delete(e),i.$o()&&OS(t,e),0===t.g_.size&&(i.$o()?i.Go():_p(t)&&t.S_.set("Unknown"))}function IT(n,e){if(n.b_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ci.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_v(n).r_(e)}function OS(n,e){n.b_.Be(e),_v(n).i_(e)}function DT(n){n.b_=new WE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.g_.get(e)||null,rt:()=>n.datastore.serializer.databaseId}),_v(n).start(),n.S_.d_()}function kT(n){return _p(n)&&!_v(n).Ko()&&n.g_.size>0}function _p(n){return 0===Kn(n).p_.size}function MS(n){n.b_=void 0}function oI(n){return PT.apply(this,arguments)}function PT(){return PT=(0,ke.Z)(function*(n){n.g_.forEach((e,t)=>{IT(n,e)})}),PT.apply(this,arguments)}function aI(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,ke.Z)(function*(n,e){MS(n),kT(n)?(n.S_.V_(e),DT(n)):n.S_.set("Unknown")}),OT.apply(this,arguments)}function lI(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=(0,ke.Z)(function*(n,e,t){if(n.S_.set("Online"),e instanceof qE&&2===e.state&&e.cause)try{yield(i=(0,ke.Z)(function*(m,C){const B=C.cause;for(const W of C.targetIds)m.g_.has(W)&&(yield m.remoteSyncer.rejectListen(W,B),m.g_.delete(W),m.b_.removeTarget(W))}),function c(m,C){return i.apply(this,arguments)})(n,e)}catch(i){kn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield r1(n,i)}else if(e instanceof cm?n.b_.We(e):e instanceof Vb?n.b_.Ze(e):n.b_.je(e),!t.isEqual(Ci.min()))try{const i=yield xS(n.localStore);t.compareTo(i)>=0&&(yield function(m,C){const B=m.b_.st(C);return B.targetChanges.forEach((W,oe)=>{if(W.resumeToken.approximateByteSize()>0){const Ee=m.g_.get(oe);Ee&&m.g_.set(oe,Ee.withResumeToken(W.resumeToken,C))}}),B.targetMismatches.forEach((W,oe)=>{const Ee=m.g_.get(W);if(!Ee)return;m.g_.set(W,Ee.withResumeToken(Sa.EMPTY_BYTE_STRING,Ee.snapshotVersion)),OS(m,W);const De=new _u(Ee.target,W,oe,Ee.sequenceNumber);IT(m,De)}),m.remoteSyncer.applyRemoteEvent(B)}(n,t))}catch(i){kn("RemoteStore","Failed to raise snapshot:",i),yield r1(n,i)}var i}),MT.apply(this,arguments)}function r1(n,e,t){return RT.apply(this,arguments)}function RT(){return RT=(0,ke.Z)(function*(n,e,t){if(!hu(e))throw e;n.p_.add(1),yield gv(n),n.S_.set("Offline"),t||(t=()=>xS(n.localStore)),n.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){kn("RemoteStore","Retrying IndexedDB access"),yield t(),n.p_.delete(1),yield u0(n)}))}),RT.apply(this,arguments)}function RS(n,e){return e().catch(t=>r1(n,t,e))}function mv(n){return NT.apply(this,arguments)}function NT(){return NT=(0,ke.Z)(function*(n){const e=Kn(n),t=vp(e);let i=e.f_.length>0?e.f_[e.f_.length-1].batchId:-1;for(;cI(e);)try{const c=yield qA(e.localStore,i);if(null===c){0===e.f_.length&&t.Go();break}i=c.batchId,uI(e,c)}catch(c){yield r1(e,c)}NS(e)&&LS(e)}),NT.apply(this,arguments)}function cI(n){return _p(n)&&n.f_.length<10}function uI(n,e){n.f_.push(e);const t=vp(n);t.$o()&&t.o_&&t.__(e.mutations)}function NS(n){return _p(n)&&!vp(n).Ko()&&n.f_.length>0}function LS(n){vp(n).start()}function dI(n){return LT.apply(this,arguments)}function LT(){return LT=(0,ke.Z)(function*(n){vp(n).c_()}),LT.apply(this,arguments)}function hI(n){return FT.apply(this,arguments)}function FT(){return FT=(0,ke.Z)(function*(n){const e=vp(n);for(const t of n.f_)e.__(t.mutations)}),FT.apply(this,arguments)}function fI(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,ke.Z)(function*(n,e,t){const i=n.f_.shift(),c=om.from(i,e,t);yield RS(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),yield mv(n)}),VT.apply(this,arguments)}function pI(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,ke.Z)(function*(n,e){var t;e&&vp(n).o_&&(yield(t=(0,ke.Z)(function*(c,m){if(Dw(B=m.code)&&B!==Wt.ABORTED){const C=c.f_.shift();vp(c).Wo(),yield RS(c,()=>c.remoteSyncer.rejectFailedWrite(C.batchId,m)),yield mv(c)}var B}),function i(c,m){return t.apply(this,arguments)})(n,e)),NS(n)&&LS(n)}),BT.apply(this,arguments)}function FS(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,ke.Z)(function*(n,e){const t=Kn(n);t.asyncQueue.verifyOperationInProgress(),kn("RemoteStore","RemoteStore received new credentials");const i=_p(t);t.p_.add(3),yield gv(t),i&&t.S_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.p_.delete(3),yield u0(t)}),UT.apply(this,arguments)}function HT(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,ke.Z)(function*(n,e){const t=Kn(n);e?(t.p_.delete(2),yield u0(t)):e||(t.p_.add(2),yield gv(t),t.S_.set("Unknown"))}),zT.apply(this,arguments)}function _v(n){return n.D_||(n.D_=function(t,i,c){const m=Kn(t);return m.h_(),new eI(i,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(n.datastore,n.asyncQueue,{_o:oI.bind(null,n),uo:aI.bind(null,n),n_:lI.bind(null,n)}),n.y_.push(function(){var e=(0,ke.Z)(function*(t){t?(n.D_.Wo(),kT(n)?DT(n):n.S_.set("Unknown")):(yield n.D_.stop(),MS(n))});return function(t){return e.apply(this,arguments)}}())),n.D_}function vp(n){return n.v_||(n.v_=function(t,i,c){const m=Kn(t);return m.h_(),new tI(i,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(n.datastore,n.asyncQueue,{_o:dI.bind(null,n),uo:pI.bind(null,n),u_:hI.bind(null,n),a_:fI.bind(null,n)}),n.y_.push(function(){var e=(0,ke.Z)(function*(t){t?(n.v_.Wo(),yield mv(n)):(yield n.v_.stop(),n.f_.length>0&&(kn("RemoteStore",`Stopping write stream with ${n.f_.length} pending writes`),n.f_=[]))});return function(t){return e.apply(this,arguments)}}())),n.v_}class ZT{constructor(e,t,i,c,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=m,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,i,c,m){const C=Date.now()+i,B=new ZT(e,t,C,c,m);return B.start(i),B}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bn(Wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(n,e){if(no("AsyncQueue",`${e}: ${n}`),hu(n))return new bn(Wt.UNAVAILABLE,`${e}: ${n}`);throw n}class yv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Jn.comparator(t.key,i.key):(t,i)=>Jn.comparator(t.key,i.key),this.keyedMap=em(),this.sortedSet=new js(this.comparator)}static emptySet(e){return new yv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,m=i.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new yv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class VS{constructor(){this.C_=new js(Jn.comparator)}track(e){const t=e.doc.key,i=this.C_.get(t);i?0!==e.type&&3===i.type?this.C_=this.C_.insert(t,e):3===e.type&&1!==i.type?this.C_=this.C_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.C_=this.C_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.C_=this.C_.remove(t):1===e.type&&2===i.type?this.C_=this.C_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.C_=this.C_.insert(t,{type:2,doc:e.doc}):ci():this.C_=this.C_.insert(t,e)}F_(){const e=[];return this.C_.inorderTraversal((t,i)=>{e.push(i)}),e}}class bv{constructor(e,t,i,c,m,C,B,W,oe){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=m,this.fromCache=C,this.syncStateChanged=B,this.excludesMetadataChanges=W,this.hasCachedResults=oe}static fromInitialDocuments(e,t,i,c,m){const C=[];return t.forEach(B=>{C.push({type:0,doc:B})}),new bv(e,t,yv.emptySet(t),C,i,c,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class gI{constructor(){this.M_=void 0,this.listeners=[]}}class mI{constructor(){this.queries=new _c(e=>xw(e),ap),this.onlineState="Unknown",this.x_=new Set}}function GT(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,ke.Z)(function*(n,e){const t=Kn(n),i=e.query;let c=!1,m=t.queries.get(i);if(m||(c=!0,m=new gI),c)try{m.M_=yield t.onListen(i)}catch(C){const B=vv(C,`Initialization of query '${xb(e.query)}' failed`);return void e.onError(B)}t.queries.set(i,m),m.listeners.push(e),e.O_(t.onlineState),m.M_&&e.N_(m.M_)&&WT(t)}),jT.apply(this,arguments)}function YT(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,ke.Z)(function*(n,e){const t=Kn(n),i=e.query;let c=!1;const m=t.queries.get(i);if(m){const C=m.listeners.indexOf(e);C>=0&&(m.listeners.splice(C,1),c=0===m.listeners.length)}if(c)return t.queries.delete(i),t.onUnlisten(i)}),qT.apply(this,arguments)}function _I(n,e){const t=Kn(n);let i=!1;for(const c of e){const C=t.queries.get(c.query);if(C){for(const B of C.listeners)B.N_(c)&&(i=!0);C.M_=c}}i&&WT(t)}function vI(n,e,t){const i=Kn(n),c=i.queries.get(e);if(c)for(const m of c.listeners)m.onError(t);i.queries.delete(e)}function WT(n){n.x_.forEach(e=>{e.next()})}class $T{constructor(e,t,i){this.query=e,this.B_=t,this.L_=!1,this.k_=null,this.onlineState="Unknown",this.options=i||{}}N_(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)3!==c.type&&i.push(c);e=new bv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.L_?this.q_(e)&&(this.B_.next(e),t=!0):this.Q_(e,this.onlineState)&&(this.K_(e),t=!0),this.k_=e,t}onError(e){this.B_.error(e)}O_(e){this.onlineState=e;let t=!1;return this.k_&&!this.L_&&this.Q_(this.k_,e)&&(this.K_(this.k_),t=!0),t}Q_(e,t){return!e.fromCache||(!this.options.U_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}q_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.k_&&this.k_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}K_(e){e=bv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.L_=!0,this.B_.next(e)}}class yI{constructor(e,t){this.W_=e,this.byteLength=t}G_(){return"metadata"in this.W_}}class BS{constructor(e){this.serializer=e}os(e){return gu(this.serializer,e)}_s(e){return e.metadata.exists?iv(this.serializer,e.document,!1):Ks.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}us(e){return Io(e)}}class bI{constructor(e,t,i){this.z_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=US(e)}j_(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.W_.namedQuery)this.queries.push(e.W_.namedQuery);else if(e.W_.documentMetadata){this.documents.push({metadata:e.W_.documentMetadata}),e.W_.documentMetadata.exists||++t;const i=Jr.fromString(e.W_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.W_.document&&(this.documents[this.documents.length-1].document=e.W_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}H_(e){const t=new Map,i=new BS(this.serializer);for(const c of e)if(c.metadata.queries){const m=i.os(c.metadata.name);for(const C of c.metadata.queries){const B=(t.get(C)||Cr()).add(m);t.set(C,B)}}return t}complete(){var e=this;return(0,ke.Z)(function*(){const t=yield function WA(n,e,t,i){return _T.apply(this,arguments)}(e.localStore,new BS(e.serializer),e.documents,e.z_.id),i=e.H_(e.documents);for(const c of e.queries)yield $A(e.localStore,c,i.get(c.name));return e.progress.taskState="Success",{progress:e.progress,J_:e.collectionGroups,Y_:t}})()}}function US(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class HS{constructor(e){this.key=e}}class zS{constructor(e){this.key=e}}class ZS{constructor(e,t){this.query=e,this.Z_=t,this.X_=null,this.hasCachedResults=!1,this.current=!1,this.ea=Cr(),this.mutatedKeys=Cr(),this.ta=wb(e),this.na=new yv(this.ta)}get ra(){return this.Z_}ia(e,t){const i=t?t.sa:new VS,c=t?t.na:this.na;let m=t?t.mutatedKeys:this.mutatedKeys,C=c,B=!1;const W="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,oe="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((Ee,De)=>{const rt=c.get(Ee),St=Qg(this.query,De)?De:null,An=!!rt&&this.mutatedKeys.has(rt.key),jn=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let Yn=!1;rt&&St?rt.data.isEqual(St.data)?An!==jn&&(i.track({type:3,doc:St}),Yn=!0):this.oa(rt,St)||(i.track({type:2,doc:St}),Yn=!0,(W&&this.ta(St,W)>0||oe&&this.ta(St,oe)<0)&&(B=!0)):!rt&&St?(i.track({type:0,doc:St}),Yn=!0):rt&&!St&&(i.track({type:1,doc:rt}),Yn=!0,(W||oe)&&(B=!0)),Yn&&(St?(C=C.add(St),m=jn?m.add(Ee):m.delete(Ee)):(C=C.delete(Ee),m=m.delete(Ee)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const Ee="F"===this.query.limitType?C.last():C.first();C=C.delete(Ee.key),m=m.delete(Ee.key),i.track({type:1,doc:Ee})}return{na:C,sa:i,zi:B,mutatedKeys:m}}oa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const c=this.na;this.na=e.na,this.mutatedKeys=e.mutatedKeys;const m=e.sa.F_();m.sort((oe,Ee)=>function(rt,St){const An=jn=>{switch(jn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ci()}};return An(rt)-An(St)}(oe.type,Ee.type)||this.ta(oe.doc,Ee.doc)),this._a(i);const C=t?this.aa():[],B=0===this.ea.size&&this.current?1:0,W=B!==this.X_;return this.X_=B,0!==m.length||W?{snapshot:new bv(this.query,e.na,c,m,e.mutatedKeys,0===B,W,!1,!!i&&i.resumeToken.approximateByteSize()>0),ua:C}:{ua:C}}O_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({na:this.na,sa:new VS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ua:[]}}ca(e){return!this.Z_.has(e)&&!!this.na.has(e)&&!this.na.get(e).hasLocalMutations}_a(e){e&&(e.addedDocuments.forEach(t=>this.Z_=this.Z_.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Z_=this.Z_.delete(t)),this.current=e.current)}aa(){if(!this.current)return[];const e=this.ea;this.ea=Cr(),this.na.forEach(i=>{this.ca(i.key)&&(this.ea=this.ea.add(i.key))});const t=[];return e.forEach(i=>{this.ea.has(i)||t.push(new zS(i))}),this.ea.forEach(i=>{e.has(i)||t.push(new HS(i))}),t}la(e){this.Z_=e.ss,this.ea=Cr();const t=this.ia(e.documents);return this.applyChanges(t,!0)}ha(){return bv.fromInitialDocuments(this.query,this.na,this.mutatedKeys,0===this.X_,this.hasCachedResults)}}class xI{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wI{constructor(e){this.key=e,this.Pa=!1}}class EI{constructor(e,t,i,c,m,C){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=C,this.Ia={},this.Ta=new _c(B=>xw(B),ap),this.Ea=new Map,this.da=new Set,this.Aa=new js(Jn.comparator),this.Ra=new Map,this.Va=new Mt,this.ma={},this.fa=new Map,this.ga=mp.On(),this.onlineState="Unknown",this.pa=void 0}get isPrimaryClient(){return!0===this.pa}}function TI(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,ke.Z)(function*(n,e){const t=yC(n);let i,c;const m=t.Ta.get(e);if(m)i=m.targetId,t.sharedClientState.addLocalQueryTarget(i),c=m.view.ha();else{const C=yield fv(t.localStore,ul(e)),B=t.sharedClientState.addLocalQueryTarget(C.targetId);i=C.targetId,c=yield KT(t,e,i,"current"===B,C.resumeToken),t.isPrimaryClient&&n1(t.remoteStore,C)}return c}),XT.apply(this,arguments)}function KT(n,e,t,i,c){return JT.apply(this,arguments)}function JT(){return JT=(0,ke.Z)(function*(n,e,t,i,c){n.ya=(De,rt,St)=>{return(An=(0,ke.Z)(function*(Yn,Vi,Yi,Ui){let Br=Vi.view.ia(Yi);Br.zi&&(Br=yield Kw(Yn.localStore,Vi.query,!1).then(({documents:Na})=>Vi.view.ia(Na,Br)));const Cs=Ui&&Ui.targetChanges.get(Vi.targetId),ls=Vi.view.applyChanges(Br,Yn.isPrimaryClient,Cs);return lC(Yn,Vi.targetId,ls.ua),ls.snapshot}),function jn(Yn,Vi,Yi,Ui){return An.apply(this,arguments)})(n,De,rt,St);var An};const m=yield Kw(n.localStore,e,!0),C=new ZS(e,m.ss),B=C.ia(m.documents),W=lm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,c),oe=C.applyChanges(B,n.isPrimaryClient,W);lC(n,t,oe.ua);const Ee=new xI(e,t,C);return n.Ta.set(e,Ee),n.Ea.has(t)?n.Ea.get(t).push(e):n.Ea.set(t,[e]),oe.snapshot}),JT.apply(this,arguments)}function CI(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,ke.Z)(function*(n,e){const t=Kn(n),i=t.Ta.get(e),c=t.Ea.get(i.targetId);if(c.length>1)return t.Ea.set(i.targetId,c.filter(m=>!ap(m,e))),void t.Ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),d0(t.remoteStore,i.targetId),xv(t,i.targetId)}).catch(du))):(xv(t,i.targetId),yield pv(t.localStore,i.targetId,!0))}),QT.apply(this,arguments)}function eC(){return eC=(0,ke.Z)(function*(n,e,t){const i=bC(n);try{const c=yield function(C,B){const W=Kn(C),oe=io.now(),Ee=B.reduce((St,An)=>St.add(An.key),Cr());let De,rt;return W.persistence.runTransaction("Locally write mutations","readwrite",St=>{let An=Gl(),jn=Cr();return W.Xi.getEntries(St,Ee).next(Yn=>{An=Yn,An.forEach((Vi,Yi)=>{Yi.isValidDocument()||(jn=jn.add(Vi))})}).next(()=>W.localDocuments.getOverlayedDocuments(St,An)).next(Yn=>{De=Yn;const Vi=[];for(const Yi of B){const Ui=oS(Yi,De.get(Yi.key).overlayedDocument);null!=Ui&&Vi.push(new vc(Yi.key,Ui,rp(Ui.value.mapValue),Js.exists(!0)))}return W.mutationQueue.addMutationBatch(St,oe,Vi,B)}).next(Yn=>{rt=Yn;const Vi=Yn.applyToLocalDocumentSet(De,jn);return W.documentOverlayCache.saveOverlays(St,Yn.batchId,Vi)})}).then(()=>({batchId:rt.batchId,changes:Cb(De)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),function(C,B,W){let oe=C.ma[C.currentUser.toKey()];oe||(oe=new js(rr)),oe=oe.insert(B,W),C.ma[C.currentUser.toKey()]=oe}(i,c.batchId,t),yield Yh(i,c.changes),yield mv(i.remoteStore)}catch(c){const m=vv(c,"Failed to persist write");t.reject(m)}}),eC.apply(this,arguments)}function GS(n,e){return tC.apply(this,arguments)}function tC(){return tC=(0,ke.Z)(function*(n,e){const t=Kn(n);try{const i=yield YA(t.localStore,e);e.targetChanges.forEach((c,m)=>{const C=t.Ra.get(m);C&&(Ti(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?C.Pa=!0:c.modifiedDocuments.size>0?Ti(C.Pa):c.removedDocuments.size>0&&(Ti(C.Pa),C.Pa=!1))}),yield Yh(t,i,e)}catch(i){yield du(i)}}),tC.apply(this,arguments)}function jS(n,e,t){const i=Kn(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const c=[];i.Ta.forEach((m,C)=>{const B=C.view.O_(e);B.snapshot&&c.push(B.snapshot)}),function(C,B){const W=Kn(C);W.onlineState=B;let oe=!1;W.queries.forEach((Ee,De)=>{for(const rt of De.listeners)rt.O_(B)&&(oe=!0)}),oe&&WT(W)}(i.eventManager,e),c.length&&i.Ia.n_(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function AI(n,e,t){return nC.apply(this,arguments)}function nC(){return nC=(0,ke.Z)(function*(n,e,t){const i=Kn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.Ra.get(e),m=c&&c.key;if(m){let C=new js(Jn.comparator);C=C.insert(m,Ks.newNoDocument(m,Ci.min()));const B=Cr().add(m),W=new Q_(Ci.min(),new Map,new js(rr),C,B);yield GS(i,W),i.Aa=i.Aa.remove(m),i.Ra.delete(e),cC(i)}else yield pv(i.localStore,e,!1).then(()=>xv(i,e,t)).catch(du)}),nC.apply(this,arguments)}function II(n,e){return iC.apply(this,arguments)}function iC(){return iC=(0,ke.Z)(function*(n,e){const t=Kn(n),i=e.batch.batchId;try{const c=yield jA(t.localStore,e);aC(t,i,null),oC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Yh(t,c)}catch(c){yield du(c)}}),iC.apply(this,arguments)}function DI(n,e,t){return rC.apply(this,arguments)}function rC(){return rC=(0,ke.Z)(function*(n,e,t){const i=Kn(n);try{const c=yield function(C,B){const W=Kn(C);return W.persistence.runTransaction("Reject batch","readwrite-primary",oe=>{let Ee;return W.mutationQueue.lookupMutationBatch(oe,B).next(De=>(Ti(null!==De),Ee=De.keys(),W.mutationQueue.removeMutationBatch(oe,De))).next(()=>W.mutationQueue.performConsistencyCheck(oe)).next(()=>W.documentOverlayCache.removeOverlaysForBatchId(oe,Ee,B)).next(()=>W.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(oe,Ee)).next(()=>W.localDocuments.getDocuments(oe,Ee))})}(i.localStore,e);aC(i,e,t),oC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Yh(i,c)}catch(c){yield du(c)}}),rC.apply(this,arguments)}function sC(){return sC=(0,ke.Z)(function*(n,e){const t=Kn(n);_p(t.remoteStore)||kn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(C){const B=Kn(C);return B.persistence.runTransaction("Get highest unacknowledged batch id","readonly",W=>B.mutationQueue.getHighestUnacknowledgedBatchId(W))}(t.localStore);if(-1===i)return void e.resolve();const c=t.fa.get(i)||[];c.push(e),t.fa.set(i,c)}catch(i){const c=vv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),sC.apply(this,arguments)}function oC(n,e){(n.fa.get(e)||[]).forEach(t=>{t.resolve()}),n.fa.delete(e)}function aC(n,e,t){const i=Kn(n);let c=i.ma[i.currentUser.toKey()];if(c){const m=c.get(e);m&&(t?m.reject(t):m.resolve(),c=c.remove(e)),i.ma[i.currentUser.toKey()]=c}}function xv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ea.get(e))n.Ta.delete(i),t&&n.Ia.wa(i,t);n.Ea.delete(e),n.isPrimaryClient&&n.Va.Ar(e).forEach(i=>{n.Va.containsKey(i)||YS(n,i)})}function YS(n,e){n.da.delete(e.path.canonicalString());const t=n.Aa.get(e);null!==t&&(d0(n.remoteStore,t),n.Aa=n.Aa.remove(e),n.Ra.delete(t),cC(n))}function lC(n,e,t){for(const i of t)i instanceof HS?(n.Va.addReference(i.key,e),PI(n,i)):i instanceof zS?(kn("SyncEngine","Document no longer in limbo: "+i.key),n.Va.removeReference(i.key,e),n.Va.containsKey(i.key)||YS(n,i.key)):ci()}function PI(n,e){const t=e.key,i=t.path.canonicalString();n.Aa.get(t)||n.da.has(i)||(kn("SyncEngine","New document in limbo: "+t),n.da.add(i),cC(n))}function cC(n){for(;n.da.size>0&&n.Aa.size<n.maxConcurrentLimboResolutions;){const e=n.da.values().next().value;n.da.delete(e);const t=new Jn(Jr.fromString(e)),i=n.ga.next();n.Ra.set(i,new wI(t)),n.Aa=n.Aa.insert(t,i),n1(n.remoteStore,new _u(ul(op(t.path)),i,"TargetPurposeLimboResolution",Zl.ae))}}function Yh(n,e,t){return uC.apply(this,arguments)}function uC(){return uC=(0,ke.Z)(function*(n,e,t){const i=Kn(n),c=[],m=[],C=[];var B;i.Ta.isEmpty()||(i.Ta.forEach((B,W)=>{C.push(i.ya(W,e,t).then(oe=>{if((oe||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(W.targetId,oe?.fromCache?"not-current":"current"),oe){c.push(oe);const Ee=pT.qi(W.targetId,oe);m.push(Ee)}}))}),yield Promise.all(C),i.Ia.n_(c),yield(B=(0,ke.Z)(function*(oe,Ee){const De=Kn(oe);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",rt=>Bt.forEach(Ee,St=>Bt.forEach(St.Li,An=>De.persistence.referenceDelegate.addReference(rt,St.targetId,An)).next(()=>Bt.forEach(St.ki,An=>De.persistence.referenceDelegate.removeReference(rt,St.targetId,An)))))}catch(rt){if(!hu(rt))throw rt;kn("LocalStore","Failed to update sequence numbers: "+rt)}for(const rt of Ee){const St=rt.targetId;if(!rt.fromCache){const An=De.Ji.get(St),Yn=An.withLastLimboFreeSnapshotVersion(An.snapshotVersion);De.Ji=De.Ji.insert(St,Yn)}}}),function W(oe,Ee){return B.apply(this,arguments)})(i.localStore,m))}),uC.apply(this,arguments)}function OI(n,e){return dC.apply(this,arguments)}function dC(){return dC=(0,ke.Z)(function*(n,e){const t=Kn(n);if(!t.currentUser.isEqual(e)){kn("SyncEngine","User change. New user:",e.toKey());const i=yield bS(t.localStore,e);t.currentUser=e,(m=t).fa.forEach(B=>{B.forEach(W=>{W.reject(new bn(Wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.fa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Yh(t,i.ts)}var m}),dC.apply(this,arguments)}function MI(n,e){const t=Kn(n),i=t.Ra.get(e);if(i&&i.Pa)return Cr().add(i.key);{let c=Cr();const m=t.Ea.get(e);if(!m)return c;for(const C of m){const B=t.Ta.get(C);c=c.unionWith(B.view.ra)}return c}}function RI(n,e){return hC.apply(this,arguments)}function hC(){return hC=(0,ke.Z)(function*(n,e){const t=Kn(n),i=yield Kw(t.localStore,e.query,!0),c=e.view.la(i);return t.isPrimaryClient&&lC(t,e.targetId,c.ua),c}),hC.apply(this,arguments)}function NI(n,e){return fC.apply(this,arguments)}function fC(){return fC=(0,ke.Z)(function*(n,e){const t=Kn(n);return TS(t.localStore,e).then(i=>Yh(t,i))}),fC.apply(this,arguments)}function LI(n,e,t,i){return pC.apply(this,arguments)}function pC(){return pC=(0,ke.Z)(function*(n,e,t,i){const c=Kn(n),m=yield function(B,W){const oe=Kn(B),Ee=Kn(oe.mutationQueue);return oe.persistence.runTransaction("Lookup mutation documents","readonly",De=>Ee.Dn(De,W).next(rt=>rt?oe.localDocuments.getDocuments(De,rt):Bt.resolve(null)))}(c.localStore,e);var W;null!==m?("pending"===t?yield mv(c.remoteStore):"acknowledged"===t||"rejected"===t?(aC(c,e,i||null),oC(c,e),W=e,Kn(Kn(c.localStore).mutationQueue).Cn(W)):ci(),yield Yh(c,m)):kn("SyncEngine","Cannot apply mutation batch with id: "+e)}),pC.apply(this,arguments)}function gC(){return gC=(0,ke.Z)(function*(n,e){const t=Kn(n);if(yC(t),bC(t),!0===e&&!0!==t.pa){const i=t.sharedClientState.getAllActiveQueryTargets(),c=yield qS(t,i.toArray());t.pa=!0,yield HT(t.remoteStore,!0);for(const m of c)n1(t.remoteStore,m)}else if(!1===e&&!1!==t.pa){const i=[];let c=Promise.resolve();t.Ea.forEach((m,C)=>{t.sharedClientState.isLocalQueryTarget(C)?i.push(C):c=c.then(()=>(xv(t,C),pv(t.localStore,C,!0))),d0(t.remoteStore,C)}),yield c,yield qS(t,i),function(C){const B=Kn(C);B.Ra.forEach((W,oe)=>{d0(B.remoteStore,oe)}),B.Va.Rr(),B.Ra=new Map,B.Aa=new js(Jn.comparator)}(t),t.pa=!1,yield HT(t.remoteStore,!1)}}),gC.apply(this,arguments)}function qS(n,e,t){return mC.apply(this,arguments)}function mC(){return mC=(0,ke.Z)(function*(n,e,t){const i=Kn(n),c=[],m=[];for(const C of e){let B;const W=i.Ea.get(C);if(W&&0!==W.length){B=yield fv(i.localStore,ul(W[0]));for(const oe of W){const Ee=i.Ta.get(oe),De=yield RI(i,Ee);De.snapshot&&m.push(De.snapshot)}}else{const oe=yield ES(i.localStore,C);B=yield fv(i.localStore,oe),yield KT(i,WS(oe),C,!1,B.resumeToken)}c.push(B)}return i.Ia.n_(m),c}),mC.apply(this,arguments)}function WS(n){return yw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function VI(n){return t=Kn(n).localStore,Kn(Kn(t).persistence).Ni();var t}function BI(n,e,t,i){return _C.apply(this,arguments)}function _C(){return _C=(0,ke.Z)(function*(n,e,t,i){const c=Kn(n);if(c.pa)return void kn("SyncEngine","Ignoring unexpected query state notification.");const m=c.Ea.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const C=yield TS(c.localStore,$_(m[0])),B=Q_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Sa.EMPTY_BYTE_STRING);yield Yh(c,C,B);break}case"rejected":yield pv(c.localStore,e,!0),xv(c,e,i);break;default:ci()}}),_C.apply(this,arguments)}function UI(n,e,t){return vC.apply(this,arguments)}function vC(){return vC=(0,ke.Z)(function*(n,e,t){const i=yC(n);if(i.pa){for(const c of e){if(i.Ea.has(c)){kn("SyncEngine","Adding an already active target "+c);continue}const m=yield ES(i.localStore,c),C=yield fv(i.localStore,m);yield KT(i,WS(m),C.targetId,!1,C.resumeToken),n1(i.remoteStore,C)}for(const c of t)i.Ea.has(c)&&(yield pv(i.localStore,c,!1).then(()=>{d0(i.remoteStore,c),xv(i,c)}).catch(du))}}),vC.apply(this,arguments)}function yC(n){const e=Kn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AI.bind(null,e),e.Ia.n_=_I.bind(null,e.eventManager),e.Ia.wa=vI.bind(null,e.eventManager),e}function bC(n){const e=Kn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=II.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DI.bind(null,e),e}class h0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ke.Z)(function*(){t.serializer=c0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return yS(this.persistence,new vS,e.initialUser,this.serializer)}createPersistence(e){return new En(Vs.zr,this.serializer)}createSharedClientState(e){return new IS}terminate(){var e=this;return(0,ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xC extends h0{constructor(e,t,i){super(),this.ba=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ke.Z)(function*(){yield t().call(i,e),yield i.ba.initialize(i,e),yield bC(i.ba.syncEngine),yield mv(i.ba.remoteStore),yield i.persistence.Vi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return yS(this.persistence,new vS,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new lT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new wE(t,this.persistence);return new xE(e.asyncQueue,i)}createPersistence(e){const t=fT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Aa.withCacheSize(this.cacheSizeBytes):Aa.DEFAULT;return new hT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,kS(),t1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new IS}}class $S extends xC{constructor(e,t){super(e,t,!1),this.ba=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ke.Z)(function*(){yield t().call(i,e);const c=i.ba.syncEngine;i.sharedClientState instanceof wT&&(i.sharedClientState.syncEngine={Gs:LI.bind(null,c),zs:BI.bind(null,c),js:UI.bind(null,c),Ni:VI.bind(null,c),Ws:NI.bind(null,c)},yield i.sharedClientState.start()),yield i.persistence.Vi(function(){var m=(0,ke.Z)(function*(C){yield function FI(n,e){return gC.apply(this,arguments)}(i.ba.syncEngine,C),i.gcScheduler&&(C&&!i.gcScheduler.started?i.gcScheduler.start():C||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(C&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():C||i.indexBackfillerScheduler.stop())});return function(C){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=kS();if(!wT.v(t))throw new bn(Wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=fT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class wv{initialize(e,t){var i=this;return(0,ke.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=c=>jS(i.syncEngine,c,1),i.remoteStore.remoteSyncer.handleCredentialChange=OI.bind(null,i.syncEngine),yield HT(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mI}createDatastore(e){const t=c0(e.databaseInfo.databaseId),i=new QA(e.databaseInfo);return new nI(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,c=this.datastore,m=e.asyncQueue,C=t=>jS(this.syncEngine,t,0),B=DS.v()?new DS:new XA,new sI(i,c,m,C,B);var i,c,m,C,B}createSyncEngine(e,t){return function(c,m,C,B,W,oe,Ee){const De=new EI(c,m,C,B,W,oe);return Ee&&(De.pa=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=(0,ke.Z)(function*(i){const c=Kn(i);kn("RemoteStore","RemoteStore shutting down."),c.p_.add(5),yield gv(c),c.w_.shutdown(),c.S_.set("Unknown")});return function t(i){return e.apply(this,arguments)}}()(this.remoteStore)}}function XS(n,e=10240){let t=0;return{read:()=>(0,ke.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class s1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Da(this.observer.next,e)}error(e){this.observer.error?this.Da(this.observer.error,e):no("Uncaught Error in snapshot listener:",e.toString())}va(){this.muted=!0}Da(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ZI{constructor(e,t){this.Ca=e,this.serializer=t,this.metadata=new aa,this.buffer=new Uint8Array,this.Fa=new TextDecoder("utf-8"),this.Ma().then(i=>{i&&i.G_()?this.metadata.resolve(i.W_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.W_)}`))},i=>this.metadata.reject(i))}close(){return this.Ca.cancel()}getMetadata(){var e=this;return(0,ke.Z)(function*(){return e.metadata.promise})()}Sa(){var e=this;return(0,ke.Z)(function*(){return yield e.getMetadata(),e.Ma()})()}Ma(){var e=this;return(0,ke.Z)(function*(){const t=yield e.xa();if(null===t)return null;const i=e.Fa.decode(t),c=Number(i);isNaN(c)&&e.Oa(`length string (${i}) is not valid number`);const m=yield e.Na(c);return new yI(JSON.parse(m),t.length+c)})()}Ba(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}xa(){var e=this;return(0,ke.Z)(function*(){for(;e.Ba()<0&&!(yield e.La()););if(0===e.buffer.length)return null;const t=e.Ba();t<0&&e.Oa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Na(e){var t=this;return(0,ke.Z)(function*(){for(;t.buffer.length<e;)(yield t.La())&&t.Oa("Reached the end of bundle when more is expected.");const i=t.Fa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Oa(e){throw this.Ca.cancel(),new Error(`Invalid bundle format: ${e}`)}La(){var e=this;return(0,ke.Z)(function*(){const t=yield e.Ca.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class GI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new bn(Wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(c=(0,ke.Z)(function*(C,B){const W=Kn(C),oe=Bh(W.serializer)+"/documents",Ee={documents:B.map(An=>hp(W.serializer,An))},De=yield W.po("BatchGetDocuments",oe,Ee,B.length),rt=new Map;De.forEach(An=>{const jn=function Qu(n,e){return"found"in e?function(i,c){Ti(!!c.found);const m=gu(i,c.found.name),C=Io(c.found.updateTime),B=c.found.createTime?Io(c.found.createTime):Ci.min(),W=new ca({mapValue:{fields:c.found.fields}});return Ks.newFoundDocument(m,C,B,W)}(n,e):"missing"in e?function(i,c){Ti(!!c.missing),Ti(!!c.readTime);const m=gu(i,c.missing),C=Io(c.readTime);return Ks.newNoDocument(m,C)}(n,e):ci()}(W.serializer,An);rt.set(jn.key.toString(),jn)});const St=[];return B.forEach(An=>{const jn=rt.get(An.toString());Ti(!!jn),St.push(jn)}),St}),function m(C,B){return c.apply(this,arguments)})(t.datastore,e);var c;return i.forEach(c=>t.recordVersion(c)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,c)=>{const m=Jn.fromPath(c);e.mutations.push(new X_(m,e.precondition(m)))}),yield(i=(0,ke.Z)(function*(m,C){const B=Kn(m),W=Bh(B.serializer)+"/documents",oe={writes:C.map(Ee=>rv(B.serializer,Ee))};yield B.Ro("Commit",W,oe)}),function c(m,C){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ci();t=Ci.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new bn(Wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ci.min())?Js.exists(!1):Js.updateTime(t):Js.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ci.min()))throw new bn(Wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Js.updateTime(t)}return Js.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class jI{constructor(e,t,i,c,m){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=c,this.deferred=m,this.ka=i.maxAttempts,this.Qo=new TT(this.asyncQueue,"transaction_retry")}run(){this.ka-=1,this.qa()}qa(){var e=this;this.Qo.Mo((0,ke.Z)(function*(){const t=new GI(e.datastore),i=e.Qa(t);i&&i.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(m=>{e.Ka(m)}))}).catch(c=>{e.Ka(c)})}))}Qa(e){try{const t=this.updateFunction(e);return!Vg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ka(e){this.ka>0&&this.$a(e)?(this.ka-=1,this.asyncQueue.enqueueAndForget(()=>(this.qa(),Promise.resolve()))):this.deferred.reject(e)}$a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Dw(t)}return!1}}class YI{constructor(e,t,i,c){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=c,this.user=Ca.UNAUTHENTICATED,this.clientId=mE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var C=(0,ke.Z)(function*(B){kn("FirestoreClient","Received user=",B.uid),yield m.authCredentialListener(B),m.user=B});return function(B){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(i,C=>(kn("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new bn(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const c=vv(i,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function o1(n,e){return wC.apply(this,arguments)}function wC(){return wC=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),kn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var c=(0,ke.Z)(function*(m){i.isEqual(m)||(yield bS(e.localStore,m),i=m)});return function(m){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wC.apply(this,arguments)}function EC(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,ke.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CC(n);kn("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(c=>FS(e.remoteStore,c)),n.setAppCheckTokenChangeListener((c,m)=>FS(e.remoteStore,m)),n._onlineComponents=e}),TC.apply(this,arguments)}function KS(n){return"FirebaseError"===n.name?n.code===Wt.FAILED_PRECONDITION||n.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function CC(n){return SC.apply(this,arguments)}function SC(){return SC=(0,ke.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){kn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield o1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!KS(t))throw t;zl("Error using user provided cache. Falling back to memory cache: "+t),yield o1(n,new h0)}}else kn("FirestoreClient","Using default OfflineComponentProvider"),yield o1(n,new h0);return n._offlineComponents}),SC.apply(this,arguments)}function a1(n){return AC.apply(this,arguments)}function AC(){return AC=(0,ke.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(kn("FirestoreClient","Using user provided OnlineComponentProvider"),yield EC(n,n._uninitializedComponentsProvider._online)):(kn("FirestoreClient","Using default OnlineComponentProvider"),yield EC(n,new wv))),n._onlineComponents}),AC.apply(this,arguments)}function JS(n){return CC(n).then(e=>e.persistence)}function l1(n){return CC(n).then(e=>e.localStore)}function QS(n){return a1(n).then(e=>e.remoteStore)}function IC(n){return a1(n).then(e=>e.syncEngine)}function Ev(n){return DC.apply(this,arguments)}function DC(){return DC=(0,ke.Z)(function*(n){const e=yield a1(n),t=e.eventManager;return t.onListen=TI.bind(null,e.syncEngine),t.onUnlisten=CI.bind(null,e.syncEngine),t}),DC.apply(this,arguments)}function tA(n,e,t={}){const i=new aa;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(m,C,B,W,oe){const Ee=new s1({next:rt=>{C.enqueueAndForget(()=>YT(m,De));const St=rt.docs.has(B);!St&&rt.fromCache?oe.reject(new bn(Wt.UNAVAILABLE,"Failed to get document because the client is offline.")):St&&rt.fromCache&&W&&"server"===W.source?oe.reject(new bn(Wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):oe.resolve(rt)},error:rt=>oe.reject(rt)}),De=new $T(op(B.path),Ee,{includeMetadataChanges:!0,U_:!0});return GT(m,De)}(yield Ev(n),n.asyncQueue,e,t,i)})),i.promise}function nA(n,e,t={}){const i=new aa;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(m,C,B,W,oe){const Ee=new s1({next:rt=>{C.enqueueAndForget(()=>YT(m,De)),rt.fromCache&&"server"===W.source?oe.reject(new bn(Wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):oe.resolve(rt)},error:rt=>oe.reject(rt)}),De=new $T(B,Ee,{includeMetadataChanges:!0,U_:!0});return GT(m,De)}(yield Ev(n),n.asyncQueue,e,t,i)})),i.promise}function iA(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const rA=new Map;function kC(n,e,t){if(!t)throw new bn(Wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sA(n,e,t,i){if(!0===e&&!0===i)throw new bn(Wt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oA(n){if(!Jn.isDocumentKey(n))throw new bn(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aA(n){if(Jn.isDocumentKey(n))throw new bn(Wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":ci()}function Qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new bn(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=c1(n);throw new bn(Wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lA(n,e){if(e<=0)throw new bn(Wt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cA{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new bn(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new bn(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iA(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new bn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new bn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new bn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f0{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new bn(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new bn(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cA(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Yx;switch(i.type){case"firstParty":return new gE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new bn(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=rA.get(t);i&&(kn("ComponentProvider","Removing Datastore"),rA.delete(t),i.terminate())}(this),Promise.resolve()}}class hl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hl(this.firestore,e,this._query)}}class _o{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _o(this.firestore,e,this._key)}}class Gd extends hl{constructor(e,t,i){super(e,t,op(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _o(this.firestore,null,new Jn(e))}withConverter(e){return new Gd(this.firestore,e,this._path)}}function dA(n,e,...t){if(n=cn(n),kC("collection","path",e),n instanceof f0){const i=Jr.fromString(e,...t);return aA(i),new Gd(n,null,i)}{if(!(n instanceof _o||n instanceof Gd))throw new bn(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jr.fromString(e,...t));return aA(i),new Gd(n.firestore,null,i)}}function u1(n,e,...t){if(n=cn(n),1===arguments.length&&(e=mE.V()),kC("doc","path",e),n instanceof f0){const i=Jr.fromString(e,...t);return oA(i),new _o(n,null,new Jn(i))}{if(!(n instanceof _o||n instanceof Gd))throw new bn(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jr.fromString(e,...t));return oA(i),new _o(n.firestore,n instanceof Gd?n.converter:null,new Jn(i))}}function hA(n,e){return n=cn(n),e=cn(e),(n instanceof _o||n instanceof Gd)&&(e instanceof _o||e instanceof Gd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function PC(n,e){return n=cn(n),e=cn(e),n instanceof hl&&e instanceof hl&&n.firestore===e.firestore&&ap(n._query,e._query)&&n.converter===e.converter}class nD{constructor(){this.Ua=Promise.resolve(),this.Wa=[],this.Ga=!1,this.za=[],this.ja=null,this.Ha=!1,this.Ja=!1,this.Ya=[],this.Qo=new TT(this,"async_queue_retry"),this.Za=()=>{const t=t1();t&&kn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Qo.Oo()};const e=t1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Za)}get isShuttingDown(){return this.Ga}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xa(),this.eu(e)}enterRestrictedMode(e){if(!this.Ga){this.Ga=!0,this.Ja=e||!1;const t=t1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Za)}}enqueue(e){if(this.Xa(),this.Ga)return new Promise(()=>{});const t=new aa;return this.eu(()=>this.Ga&&this.Ja?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Wa.push(e),this.tu()))}tu(){var e=this;return(0,ke.Z)(function*(){if(0!==e.Wa.length){try{yield e.Wa[0](),e.Wa.shift(),e.Qo.reset()}catch(t){if(!hu(t))throw t;kn("AsyncQueue","Operation failed with retryable error: "+t)}e.Wa.length>0&&e.Qo.Mo(()=>e.tu())}})()}eu(e){const t=this.Ua.then(()=>(this.Ha=!0,e().catch(i=>{throw this.ja=i,this.Ha=!1,no("INTERNAL UNHANDLED ERROR: ",function(C){let B=C.message||"";return C.stack&&(B=C.stack.includes(C.message)?C.stack:C.message+"\n"+C.stack),B}(i)),i}).then(i=>(this.Ha=!1,i))));return this.Ua=t,t}enqueueAfterDelay(e,t,i){this.Xa(),this.Ya.indexOf(e)>-1&&(t=0);const c=ZT.createAndSchedule(this,e,t,i,m=>this.nu(m));return this.za.push(c),c}Xa(){this.ja&&ci()}verifyOperationInProgress(){}ru(){var e=this;return(0,ke.Z)(function*(){let t;do{t=e.Ua,yield t}while(t!==e.Ua)})()}iu(e){for(const t of this.za)if(t.timerId===e)return!0;return!1}su(e){return this.ru().then(()=>{this.za.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.za)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ru()})}ou(e){this.Ya.push(e)}nu(e){const t=this.za.indexOf(e);this.za.splice(t,1)}}function OC(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const c=t;for(const m of["next","error","complete"])if(m in c&&"function"==typeof c[m])return!0;return!1}(n)}class iD{constructor(){this._progressObserver={},this._taskCompletionResolver=new aa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vo extends f0{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new nD,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fA(this),this._firestoreClient.terminate()}}function da(n){return n._firestoreClient||fA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fA(n){var e,t,i;const c=n._freezeSettings(),m=(W=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PE(n._databaseId,W,n._persistenceKey,(Ee=c).host,Ee.ssl,Ee.experimentalForceLongPolling,Ee.experimentalAutoDetectLongPolling,iA(Ee.experimentalLongPollingOptions),Ee.useFetchStreams));var W,Ee;n._firestoreClient=new YI(n._authCredentials,n._appCheckCredentials,n._queue,m),null!==(t=c.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=c.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function pA(n,e,t){const i=new aa;return n.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield o1(n,t),yield EC(n,e),i.resolve()}catch(c){const m=c;if(!KS(m))throw m;zl("Error enabling indexeddb cache. Falling back to memory cache: "+m),i.reject(m)}})).then(()=>i.promise)}function gA(n){if(n._initialized||n._terminated)throw new bn(Wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jd(Sa.fromBase64String(e))}catch(t){throw new bn(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jd(Sa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new bn(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new So(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _m{constructor(e){this._methodName=e}}class d1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new bn(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new bn(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}}const pD=/^__.*__$/;class gD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new vc(e,this.data,this.fieldMask,t,this.fieldTransforms):new rm(e,this.data,t,this.fieldTransforms)}}class mA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new vc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _A(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ci()}}class h1{constructor(e,t,i,c,m,C){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,void 0===m&&this._u(),this.fieldTransforms=m||[],this.fieldMask=C||[]}get path(){return this.settings.path}get au(){return this.settings.au}uu(e){return new h1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}cu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.uu({path:i,lu:!1});return c.hu(e),c}Pu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.uu({path:i,lu:!1});return c._u(),c}Iu(e){return this.uu({path:void 0,lu:!0})}Tu(e){return g1(e,this.settings.methodName,this.settings.Eu||!1,this.path,this.settings.du)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}_u(){if(this.path)for(let e=0;e<this.path.length;e++)this.hu(this.path.get(e))}hu(e){if(0===e.length)throw this.Tu("Document fields must not be empty");if(_A(this.au)&&pD.test(e))throw this.Tu('Document fields cannot begin and end with "__"')}}class mD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||c0(e)}Au(e,t,i,c=!1){return new h1({au:e,methodName:t,du:i,path:So.emptyPath(),lu:!1,Eu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vm(n){const e=n._freezeSettings(),t=c0(n._databaseId);return new mD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function f1(n,e,t,i,c,m={}){const C=n.Au(m.merge||m.mergeFields?2:0,e,t,c);LC("Data must be an object, but it was:",C,i);const B=bA(i,C);let W,oe;if(m.merge)W=new cl(C.fieldMask),oe=C.fieldTransforms;else if(m.mergeFields){const Ee=[];for(const De of m.mergeFields){const rt=m0(e,De,t);if(!C.contains(rt))throw new bn(Wt.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);wA(Ee,rt)||Ee.push(rt)}W=new cl(Ee),oe=C.fieldTransforms.filter(De=>W.covers(De.field))}else W=null,oe=C.fieldTransforms;return new gD(new ca(B),W,oe)}class g0 extends _m{_toFieldTransform(e){if(2!==e.au)throw e.Tu(1===e.au?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}function vA(n,e,t){return new h1({au:3,du:e.settings.du,methodName:n._methodName,lu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class MC extends _m{_toFieldTransform(e){return new nm(e.path,new cp)}isEqual(e){return e instanceof MC}}class _D extends _m{constructor(e,t){super(e),this.Ru=t}_toFieldTransform(e){const t=vA(this,e,!0),i=this.Ru.map(m=>ym(m,t)),c=new Nh(i);return new nm(e.path,c)}isEqual(e){return this===e}}class vD extends _m{constructor(e,t){super(e),this.Ru=t}_toFieldTransform(e){const t=vA(this,e,!0),i=this.Ru.map(m=>ym(m,t)),c=new Lh(i);return new nm(e.path,c)}isEqual(e){return this===e}}class yD extends _m{constructor(e,t){super(e),this.Vu=t}_toFieldTransform(e){const t=new Fh(e.serializer,Ib(e.serializer,this.Vu));return new nm(e.path,t)}isEqual(e){return this===e}}function RC(n,e,t,i){const c=n.Au(1,e,t);LC("Data must be an object, but it was:",c,i);const m=[],C=ca.empty();$u(i,(W,oe)=>{const Ee=p1(e,W,t);oe=cn(oe);const De=c.Pu(Ee);if(oe instanceof g0)m.push(Ee);else{const rt=ym(oe,De);null!=rt&&(m.push(Ee),C.set(Ee,rt))}});const B=new cl(m);return new mA(C,B,c.fieldTransforms)}function NC(n,e,t,i,c,m){const C=n.Au(1,e,t),B=[m0(e,i,t)],W=[c];if(m.length%2!=0)throw new bn(Wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<m.length;rt+=2)B.push(m0(e,m[rt])),W.push(m[rt+1]);const oe=[],Ee=ca.empty();for(let rt=B.length-1;rt>=0;--rt)if(!wA(oe,B[rt])){const St=B[rt];let An=W[rt];An=cn(An);const jn=C.Pu(St);if(An instanceof g0)oe.push(St);else{const Yn=ym(An,jn);null!=Yn&&(oe.push(St),Ee.set(St,Yn))}}const De=new cl(oe);return new mA(Ee,De,C.fieldTransforms)}function yA(n,e,t,i=!1){return ym(t,n.Au(i?4:3,e))}function ym(n,e){if(xA(n=cn(n)))return LC("Unsupported field value:",e,n),bA(n,e);if(n instanceof _m)return function(i,c){if(!_A(c.au))throw c.Tu(`${i._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Tu(`${i._methodName}() is not currently supported inside arrays`);const m=i._toFieldTransform(c);m&&c.fieldTransforms.push(m)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.lu&&4!==e.au)throw e.Tu("Nested arrays are not supported");return function(i,c){const m=[];let C=0;for(const B of i){let W=ym(B,c.Iu(C));null==W&&(W={nullValue:"NULL_VALUE"}),m.push(W),C++}return{arrayValue:{values:m}}}(n,e)}return function(i,c){if(null===(i=cn(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Ib(c.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const m=io.fromDate(i);return{timestampValue:dp(c.serializer,m)}}if(i instanceof io){const m=new io(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dp(c.serializer,m)}}if(i instanceof d1)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jd)return{bytesValue:tv(c.serializer,i._byteString)};if(i instanceof _o){const m=c.databaseId,C=i.firestore._databaseId;if(!C.isEqual(m))throw c.Tu(`Document reference is for database ${C.projectId}/${C.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Hb(i.firestore._databaseId||c.databaseId,i._key.path)}}throw c.Tu(`Unsupported field value: ${c1(i)}`)}(n,e)}function bA(n,e){const t={};return db(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$u(n,(i,c)=>{const m=ym(c,e.cu(i));null!=m&&(t[i]=m)}),{mapValue:{fields:t}}}function xA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof io||n instanceof d1||n instanceof jd||n instanceof _o||n instanceof _m)}function LC(n,e,t){if(!xA(t)||"object"!=typeof(c=t)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const i=c1(t);throw e.Tu("an object"===i?n+" a custom object":n+" "+i)}var c}function m0(n,e,t){if((e=cn(e))instanceof qh)return e._internalPath;if("string"==typeof e)return p1(n,e);throw g1("Field path arguments must be of type string or ",n,!1,void 0,t)}const bD=new RegExp("[~\\*/\\[\\]]");function p1(n,e,t){if(e.search(bD)>=0)throw g1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qh(...e.split("."))._internalPath}catch{throw g1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function g1(n,e,t,i,c){const m=i&&!i.isEmpty(),C=void 0!==c;let B=`Function ${e}() called with invalid data`;t&&(B+=" (via `toFirestore()`)"),B+=". ";let W="";return(m||C)&&(W+=" (found",m&&(W+=` in field ${i}`),C&&(W+=` in document ${c}`),W+=")"),new bn(Wt.INVALID_ARGUMENT,B+n+W)}function wA(n,e){return n.some(t=>t.isEqual(e))}class _0{constructor(e,t,i,c,m){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new _o(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(m1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xD extends _0{data(){return super.data()}}function m1(n,e){return"string"==typeof e?p1(n,e):e instanceof qh?e._internalPath:e._delegate._internalPath}function EA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new bn(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FC{}class v0 extends FC{}function yp(n,e,...t){let i=[];e instanceof FC&&i.push(e),i=i.concat(t),function(m){const C=m.filter(W=>W instanceof Tv).length,B=m.filter(W=>W instanceof y0).length;if(C>1||C>0&&B>0)throw new bn(Wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const c of i)n=c._apply(n);return n}class y0 extends v0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new y0(e,t,i)}_apply(e){const t=this._parse(e);return AA(e._query,t),new hl(e.firestore,e.converter,Jg(e._query,t))}_parse(e){const t=vm(e.firestore);return function(m,C,B,W,oe,Ee,De){let rt;if(oe.isKeyField()){if("array-contains"===Ee||"array-contains-any"===Ee)throw new bn(Wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ee}' queries on documentId().`);if("in"===Ee||"not-in"===Ee){SA(De,Ee);const St=[];for(const An of De)St.push(CA(W,m,An));rt={arrayValue:{values:St}}}else rt=CA(W,m,De)}else"in"!==Ee&&"not-in"!==Ee&&"array-contains-any"!==Ee||SA(De,Ee),rt=yA(B,"where",De,"in"===Ee||"not-in"===Ee);return Vr.create(oe,Ee,rt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Tv extends FC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(c,m){let C=c;const B=m.getFlattenedFilters();for(const W of B)AA(C,W),C=Jg(C,W)}(e._query,t),new hl(e.firestore,e.converter,Jg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VC extends v0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VC(e,t)}_apply(e){const t=function(c,m,C){if(null!==c.startAt)throw new bn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new bn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const B=new Ku(m,C);return function(oe,Ee){if(null===bw(oe)){const De=Kg(oe);null!==De&&IA(0,De,Ee.field)}}(c,B),B}(e._query,this._field,this._direction);return new hl(e.firestore,e.converter,function(c,m){const C=c.explicitOrderBy.concat([m]);return new Dl(c.path,c.collectionGroup,C,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,t))}}class _1 extends v0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new _1(e,t,i)}_apply(e){return new hl(e.firestore,e.converter,W_(e._query,this._limit,this._limitType))}}class v1 extends v0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new v1(e,t,i)}_apply(e){const t=TA(e,this.type,this._docOrFields,this._inclusive);return new hl(e.firestore,e.converter,(m=t,new Dl((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,m,c.endAt)));var c,m}}class y1 extends v0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new y1(e,t,i)}_apply(e){const t=TA(e,this.type,this._docOrFields,this._inclusive);return new hl(e.firestore,e.converter,(m=t,new Dl((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,m)));var c,m}}function TA(n,e,t,i){if(t[0]=cn(t[0]),t[0]instanceof _0)return function(m,C,B,W,oe){if(!W)throw new bn(Wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${B}().`);const Ee=[];for(const De of Yc(m))if(De.field.isKeyField())Ee.push(Rh(C,W.key));else{const rt=W.data.field(De.field);if(Zg(rt))throw new bn(Wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===rt){const St=De.field.canonicalString();throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${St}' (used as the orderBy) does not exist.`)}Ee.push(rt)}return new Bd(Ee,oe)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const c=vm(n.firestore);return function(C,B,W,oe,Ee,De){const rt=C.explicitOrderBy;if(Ee.length>rt.length)throw new bn(Wt.INVALID_ARGUMENT,`Too many arguments provided to ${oe}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const St=[];for(let An=0;An<Ee.length;An++){const jn=Ee[An];if(rt[An].field.isKeyField()){if("string"!=typeof jn)throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${oe}(), but got a ${typeof jn}`);if(!q_(C)&&-1!==jn.indexOf("/"))throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${oe}() must be a plain document ID, but '${jn}' contains a slash.`);const Yn=C.path.child(Jr.fromString(jn));if(!Jn.isDocumentKey(Yn))throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${oe}() must result in a valid document path, but '${Yn}' is not because it contains an odd number of segments.`);const Vi=new Jn(Yn);St.push(Rh(B,Vi))}else{const Yn=yA(W,oe,jn);St.push(Yn)}}return new Bd(St,De)}(n._query,n.firestore._databaseId,c,e,t,i)}}function CA(n,e,t){if("string"==typeof(t=cn(t))){if(""===t)throw new bn(Wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q_(e)&&-1!==t.indexOf("/"))throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Jr.fromString(t));if(!Jn.isDocumentKey(i))throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Rh(n,new Jn(i))}if(t instanceof _o)return Rh(n,t._key);throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c1(t)}.`)}function SA(n,e){if(!Array.isArray(n)||0===n.length)throw new bn(Wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(n,e){if(e.isInequality()){const i=Kg(n),c=e.field;if(null!==i&&!i.isEqual(c))throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${c.toString()}'`);const m=bw(n);null!==m&&IA(0,c,m)}const t=function(c,m){for(const C of c)for(const B of C.getFlattenedFilters())if(m.indexOf(B.op)>=0)return B.op;return null}(n.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new bn(Wt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function IA(n,e,t){if(!t.isEqual(e))throw new bn(Wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class BC{convertValue(e,t="none"){switch(Vd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ao(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ci()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return $u(e,(c,m)=>{i[c]=this.convertValue(m,t)}),i}convertGeoPoint(e){return new d1(Ao(e.latitude),Ao(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Gg(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jg(e));default:return null}}convertTimestamp(e){const t=Nd(e);return new io(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Jr.fromString(e);Ti($b(i));const c=new Ld(i.get(1),i.get(3)),m=new Jn(i.popFirst(5));return c.isEqual(t)||no(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function b1(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class kD extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _o(this.firestore,null,t)}}class bm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wh extends _0{constructor(e,t,i,c,m,C){super(e,t,i,c,C),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new b0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(m1("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class b0 extends Wh{data(e={}){return super.data(e)}}class bp{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new bm(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new b0(this._firestore,this._userDataWriter,i.key,i,new bm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bn(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(c,m){if(c._snapshot.oldDocs.isEmpty()){let C=0;return c._snapshot.docChanges.map(B=>({type:"added",doc:new b0(c._firestore,c._userDataWriter,B.doc.key,B.doc,new bm(c._snapshot.mutatedKeys.has(B.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:C++}))}{let C=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(B=>m||3!==B.type).map(B=>{const W=new b0(c._firestore,c._userDataWriter,B.doc.key,B.doc,new bm(c._snapshot.mutatedKeys.has(B.doc.key),c._snapshot.fromCache),c.query.converter);let oe=-1,Ee=-1;return 0!==B.type&&(oe=C.indexOf(B.doc.key),C=C.delete(B.doc.key)),1!==B.type&&(C=C.add(B.doc),Ee=C.indexOf(B.doc.key)),{type:OD(B.type),doc:W,oldIndex:oe,newIndex:Ee}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ci()}}function kA(n,e){return n instanceof Wh&&e instanceof Wh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bp&&e instanceof bp&&n._firestore===e._firestore&&PC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class xp extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _o(this.firestore,null,t)}}function PA(n,e,t){n=Qr(n,_o);const i=Qr(n.firestore,vo),c=b1(n.converter,e,t);return Cv(i,[f1(vm(i),"setDoc",n._key,c,null!==n.converter,t).toMutation(n._key,Js.none())])}function OA(n,e,t,...i){n=Qr(n,_o);const c=Qr(n.firestore,vo),m=vm(c);let C;return C="string"==typeof(e=cn(e))||e instanceof qh?NC(m,"updateDoc",n._key,e,t,i):RC(m,"updateDoc",n._key,e),Cv(c,[C.toMutation(n._key,Js.exists(!0))])}function MA(n,...e){var t,i,c;n=cn(n);let m={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||OC(e[C])||(m=e[C],C++);const B={includeMetadataChanges:m.includeMetadataChanges};if(OC(e[C])){const De=e[C];e[C]=null===(t=De.next)||void 0===t?void 0:t.bind(De),e[C+1]=null===(i=De.error)||void 0===i?void 0:i.bind(De),e[C+2]=null===(c=De.complete)||void 0===c?void 0:c.bind(De)}let W,oe,Ee;if(n instanceof _o)oe=Qr(n.firestore,vo),Ee=op(n._key.path),W={next:De=>{e[C]&&e[C](UC(oe,n,De))},error:e[C+1],complete:e[C+2]};else{const De=Qr(n,hl);oe=Qr(De.firestore,vo),Ee=De._query;const rt=new xp(oe);W={next:St=>{e[C]&&e[C](new bp(oe,rt,De,St))},error:e[C+1],complete:e[C+2]},EA(n._query)}return function(rt,St,An,jn){const Yn=new s1(jn),Vi=new $T(St,Yn,An);return rt.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return GT(yield Ev(rt),Vi)})),()=>{Yn.va(),rt.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return YT(yield Ev(rt),Vi)}))}}(da(oe),Ee,B,W)}function Cv(n,e){return function(i,c){const m=new aa;return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function SI(n,e,t){return eC.apply(this,arguments)}(yield IC(i),c,m)})),m.promise}(da(n),e)}function UC(n,e,t){const i=t.docs.get(e._key),c=new xp(n);return new Wh(n,c,e._key,i,new bm(t.hasPendingWrites,t.fromCache),e.converter)}const XD={maxAttempts:5};class RA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vm(e)}set(e,t,i){this._verifyNotCommitted();const c=wp(e,this._firestore),m=b1(c.converter,t,i),C=f1(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,i);return this._mutations.push(C.toMutation(c._key,Js.none())),this}update(e,t,i,...c){this._verifyNotCommitted();const m=wp(e,this._firestore);let C;return C="string"==typeof(t=cn(t))||t instanceof qh?NC(this._dataReader,"WriteBatch.update",m._key,t,i,c):RC(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(C.toMutation(m._key,Js.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wp(e,this._firestore);return this._mutations=this._mutations.concat(new Vh(t._key,Js.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new bn(Wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wp(n,e){if((n=cn(n)).firestore!==e)throw new bn(Wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class KD extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=vm(t)}get(t){const i=wp(t,this._firestore),c=new kD(this._firestore);return this._transaction.lookup([i._key]).then(m=>{if(!m||1!==m.length)return ci();const C=m[0];if(C.isFoundDocument())return new _0(this._firestore,c,C.key,C,i.converter);if(C.isNoDocument())return new _0(this._firestore,c,i._key,null,i.converter);throw ci()})}set(t,i,c){const m=wp(t,this._firestore),C=b1(m.converter,i,c),B=f1(this._dataReader,"Transaction.set",m._key,C,null!==m.converter,c);return this._transaction.set(m._key,B),this}update(t,i,c,...m){const C=wp(t,this._firestore);let B;return B="string"==typeof(i=cn(i))||i instanceof qh?NC(this._dataReader,"Transaction.update",C._key,i,c,m):RC(this._dataReader,"Transaction.update",C._key,i),this._transaction.update(C._key,B),this}delete(t){const i=wp(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wp(e,this._firestore),i=new xp(this._firestore);return super.get(e).then(c=>new Wh(this._firestore,i,t._key,c._document,new bm(!1,!1),t.converter))}}function HC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new bn("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function LA(){if(typeof Uint8Array>"u")throw new bn("unimplemented","Uint8Arrays are not available in this environment.")}function FA(){if(!function DE(){return typeof atob<"u"}())throw new bn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Qf=Ue,lr(new vi("firestore",(i,{instanceIdentifier:c,options:m})=>{const C=i.getProvider("app").getImmediate(),B=new vo(new pE(i.getProvider("auth-internal")),new eS(i.getProvider("app-check-internal")),function(oe,Ee){if(!Object.prototype.hasOwnProperty.apply(oe.options,["projectId"]))throw new bn(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(oe.options.projectId,Ee)}(C,c),C);return m=Object.assign({useFetchStreams:t},m),B._setSettings(m),B},"PUBLIC").setMultipleInstances(!0)),Ai(jx,"4.0.0",e),Ai(jx,"4.0.0","esm2017")}();class x0{constructor(e){this._delegate=e}static fromBase64String(e){return FA(),new x0(jd.fromBase64String(e))}static fromUint8Array(e){return LA(),new x0(jd.fromUint8Array(e))}toBase64(){return FA(),this._delegate.toBase64()}toUint8Array(){return LA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zC(n){return function ok(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class ak{enableIndexedDbPersistence(e,t){return function sD(n,e){gA(n=Qr(n,vo));const t=da(n);if(t._uninitializedComponentsProvider)throw new bn(Wt.FAILED_PRECONDITION,"SDK cache is already specified.");zl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),c=new wv;return pA(t,c,new xC(c,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function oD(n){gA(n=Qr(n,vo));const e=da(n);if(e._uninitializedComponentsProvider)throw new bn(Wt.FAILED_PRECONDITION,"SDK cache is already specified.");zl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new wv;return pA(e,i,new $S(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function aD(n){if(n._initialized&&!n._terminated)throw new bn(Wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new aa;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(t=(0,ke.Z)(function*(c){if(!Gc.v())return Promise.resolve();const m=c+"main";yield Gc.delete(m)}),function i(c){return t.apply(this,arguments)})(fT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VA{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ld||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function uA(n,e,t,i={}){var c;const m=(n=Qr(n,f0))._getSettings(),C=`${e}:${t}`;if("firestore.googleapis.com"!==m.host&&m.host!==C&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},m),{host:C,ssl:!1})),i.mockUserToken){let B,W;if("string"==typeof i.mockUserToken)B=i.mockUserToken,W=Ca.MOCK_USER;else{B=function Qt(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",c=n.iat||0,m=n.sub||n.user_id;if(!m)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const C=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:c,exp:c+3600,auth_time:c,sub:m,user_id:m,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bt(JSON.stringify({alg:"none",type:"JWT"})),bt(JSON.stringify(C)),""].join(".")}(i.mockUserToken,null===(c=n._app)||void 0===c?void 0:c.options.projectId);const oe=i.mockUserToken.sub||i.mockUserToken.user_id;if(!oe)throw new bn(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");W=new Ca(oe)}n._authCredentials=new qx(new Ky(B,W))}}(this._delegate,e,t,i)}enableNetwork(){return function cD(n){return function qI(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield JS(n),t=yield QS(n);return e.setNetworkEnabled(!0),function(c){const m=Kn(c);return m.p_.delete(0),u0(m)}(t)}))}(da(n=Qr(n,vo)))}(this._delegate)}disableNetwork(){return function uD(n){return function WI(n){return n.asyncQueue.enqueue((0,ke.Z)(function*(){const e=yield JS(n),t=yield QS(n);return e.setNetworkEnabled(!1),(i=(0,ke.Z)(function*(m){const C=Kn(m);C.p_.add(0),yield gv(C),C.S_.set("Offline")}),function c(m){return i.apply(this,arguments)})(t);var i}))}(da(n=Qr(n,vo)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,sA("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function lD(n){return function(t){const i=new aa;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function kI(n,e){return sC.apply(this,arguments)}(yield IC(t),i)})),i.promise}(da(n=Qr(n,vo)))}(this._delegate)}onSnapshotsInSync(e){return function HD(n,e){return function KI(n,e){const t=new s1(e);return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return c=yield Ev(n),m=t,Kn(c).x_.add(m),void m.next();var c,m})),()=>{t.va(),n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return c=yield Ev(n),m=t,void Kn(c).x_.delete(m);var c,m}))}}(da(n=Qr(n,vo)),OC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new bn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sv(this,dA(this._delegate,e))}catch(t){throw jl(t,"collection()","Firestore.collection()")}}doc(e){try{return new yu(this,u1(this._delegate,e))}catch(t){throw jl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yl(this,function tD(n,e){if(n=Qr(n,f0),kC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new bn(Wt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hl(n,null,(i=e,new Dl(Jr.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw jl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function JD(n,e,t){n=Qr(n,vo);const i=Object.assign(Object.assign({},XD),t);return function(m){if(m.maxAttempts<1)throw new bn(Wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(m,C,B){const W=new aa;return m.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const oe=yield function eA(n){return a1(n).then(e=>e.datastore)}(m);new jI(m.asyncQueue,oe,B,C,W).run()})),W.promise}(da(n),c=>e(new KD(n,c)),i)}(this._delegate,t=>e(new BA(this,t)))}batch(){return da(this._delegate),new UA(new RA(this._delegate,e=>Cv(this._delegate,e)))}loadBundle(e){return function dD(n,e){const t=da(n=Qr(n,vo)),i=new iD;return function JI(n,e,t,i){const c=function(C,B){let W;return W="string"==typeof C?jE().encode(C):C,Ee=function(Ee,De){if(Ee instanceof Uint8Array)return XS(Ee,void 0);if(Ee instanceof ArrayBuffer)return XS(new Uint8Array(Ee),void 0);if(Ee instanceof ReadableStream)return Ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(W),new ZI(Ee,B);var Ee}(t,c0(e));n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function HI(n,e,t){const i=Kn(n);var c;(c=(0,ke.Z)(function*(C,B,W){try{const oe=yield B.getMetadata();if(yield function(An,jn){const Yn=Kn(An),Vi=Io(jn.createTime);return Yn.persistence.runTransaction("hasNewerBundle","readonly",Yi=>Yn.Qr.getBundleMetadata(Yi,jn.id)).then(Yi=>!!Yi&&Yi.createTime.compareTo(Vi)>=0)}(C.localStore,oe))return yield B.close(),W._completeWith({taskState:"Success",documentsLoaded:(An=oe).totalDocuments,bytesLoaded:An.totalBytes,totalDocuments:An.totalDocuments,totalBytes:An.totalBytes}),Promise.resolve(new Set);W._updateProgress(US(oe));const Ee=new bI(oe,C.localStore,B.serializer);let De=yield B.Sa();for(;De;){const St=yield Ee.j_(De);St&&W._updateProgress(St),De=yield B.Sa()}const rt=yield Ee.complete();return yield Yh(C,rt.Y_,void 0),yield function(An,jn){const Yn=Kn(An);return Yn.persistence.runTransaction("Save bundle","readwrite",Vi=>Yn.Qr.saveBundleMetadata(Vi,jn))}(C.localStore,oe),W._completeWith(rt.progress),Promise.resolve(rt.J_)}catch(oe){return zl("SyncEngine",`Loading bundle failed with ${oe}`),W._failWith(oe),Promise.resolve(new Set)}var An}),function m(C,B,W){return c.apply(this,arguments)})(i,e,t).then(c=>{i.sharedClientState.notifyBundleLoaded(c)})}(yield IC(n),c,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function hD(n,e){return function QI(n,e){return n.asyncQueue.enqueue((0,ke.Z)(function*(){return function(i,c){const m=Kn(i);return m.persistence.runTransaction("Get named query","readonly",C=>m.Qr.getNamedQuery(C,c))}(yield l1(n),e)}))}(da(n=Qr(n,vo)),e).then(t=>t?new hl(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Yl(this,t):null)}}class x1 extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new jd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return yu.forKey(t,this.firestore,null)}}class BA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new x1(e)}get(e){const t=wm(e);return this._delegate.get(t).then(i=>new w0(this._firestore,new Wh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const c=wm(e);return i?(HC("Transaction.set",i),this._delegate.set(c,t,i)):this._delegate.set(c,t),this}update(e,t,i,...c){const m=wm(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,i,...c),this}delete(e){const t=wm(e);return this._delegate.delete(t),this}}class UA{constructor(e){this._delegate=e}set(e,t,i){const c=wm(e);return i?(HC("WriteBatch.set",i),this._delegate.set(c,t,i)):this._delegate.set(c,t),this}update(e,t,i,...c){const m=wm(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,i,...c),this}delete(e){const t=wm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new b0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=xm.INSTANCES;let c=i.get(e);c||(c=new WeakMap,i.set(e,c));let m=c.get(t);return m||(m=new xm(e,new x1(e),t),c.set(t,m)),m}}xm.INSTANCES=new WeakMap;class yu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new x1(e)}static forPath(e,t,i){if(e.length%2!=0)throw new bn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yu(t,new _o(t._delegate,i,new Jn(e)))}static forKey(e,t,i){return new yu(t,new _o(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Sv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sv(this.firestore,dA(this._delegate,e))}catch(t){throw jl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=cn(e))instanceof _o&&hA(this._delegate,e)}set(e,t){t=HC("DocumentReference.set",t);try{return t?PA(this._delegate,e,t):PA(this._delegate,e)}catch(i){throw jl(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?OA(this._delegate,e):OA(this._delegate,e,t,...i)}catch(c){throw jl(c,"updateDoc()","DocumentReference.update()")}}delete(){return function BD(n){return Cv(Qr(n.firestore,vo),[new Vh(n._key,Js.none())])}(this._delegate)}onSnapshot(...e){const t=HA(e),i=zA(e,c=>new w0(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return MA(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function RD(n){n=Qr(n,_o);const e=Qr(n.firestore,vo),t=da(e),i=new xp(e);return function $I(n,e){const t=new aa;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(i=(0,ke.Z)(function*(m,C,B){try{const W=yield function(Ee,De){const rt=Kn(Ee);return rt.persistence.runTransaction("read document","readonly",St=>rt.localDocuments.getDocument(St,De))}(m,C);W.isFoundDocument()?B.resolve(W):W.isNoDocument()?B.resolve(null):B.reject(new bn(Wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(W){const oe=vv(W,`Failed to get document '${C} from cache`);B.reject(oe)}}),function c(m,C,B){return i.apply(this,arguments)})(yield l1(n),e,t);var i})),t.promise}(t,n._key).then(c=>new Wh(e,i,n._key,c,new bm(null!==c&&c.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ND(n){n=Qr(n,_o);const e=Qr(n.firestore,vo);return tA(da(e),n._key,{source:"server"}).then(t=>UC(e,n,t))}(this._delegate):function MD(n){n=Qr(n,_o);const e=Qr(n.firestore,vo);return tA(da(e),n._key).then(t=>UC(e,n,t))}(this._delegate),t.then(i=>new w0(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new yu(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}function jl(n,e,t){return n.message=n.message.replace(e,t),n}function HA(n){for(const e of n)if("object"==typeof e&&!zC(e))return e;return{}}function zA(n,e){var t,i;let c;return c=zC(n[0])?n[0]:zC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:m=>{c.next&&c.next(e(m))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(i=c.complete)||void 0===i?void 0:i.bind(c)}}class w0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new yu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return kA(this._delegate,e._delegate)}}class E0 extends w0{data(e){const t=this._delegate.data(e);return function Mg(n,e){n||ci()}(void 0!==t),t}}class Yl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new x1(e)}where(e,t,i){try{return new Yl(this.firestore,yp(this._delegate,function wD(n,e,t){const i=e,c=m1("where",n);return y0._create(c,i,t)}(e,t,i)))}catch(c){throw jl(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yl(this.firestore,yp(this._delegate,function ED(n,e="asc"){const t=e,i=m1("orderBy",n);return VC._create(i,t)}(e,t)))}catch(i){throw jl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yl(this.firestore,yp(this._delegate,function TD(n){return lA("limit",n),_1._create("limit",n,"F")}(e)))}catch(t){throw jl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yl(this.firestore,yp(this._delegate,function CD(n){return lA("limitToLast",n),_1._create("limitToLast",n,"L")}(e)))}catch(t){throw jl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yl(this.firestore,yp(this._delegate,function SD(...n){return v1._create("startAt",n,!0)}(...e)))}catch(t){throw jl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yl(this.firestore,yp(this._delegate,function AD(...n){return v1._create("startAfter",n,!1)}(...e)))}catch(t){throw jl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yl(this.firestore,yp(this._delegate,function ID(...n){return y1._create("endBefore",n,!1)}(...e)))}catch(t){throw jl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yl(this.firestore,yp(this._delegate,function DD(...n){return y1._create("endAt",n,!0)}(...e)))}catch(t){throw jl(t,"endAt()","Query.endAt()")}}isEqual(e){return PC(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function FD(n){n=Qr(n,hl);const e=Qr(n.firestore,vo),t=da(e),i=new xp(e);return function XI(n,e){const t=new aa;return n.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(i=(0,ke.Z)(function*(m,C,B){try{const W=yield Kw(m,C,!0),oe=new ZS(C,W.ss),Ee=oe.ia(W.documents),De=oe.applyChanges(Ee,!1);B.resolve(De.snapshot)}catch(W){const oe=vv(W,`Failed to execute query '${C} against cache`);B.reject(oe)}}),function c(m,C,B){return i.apply(this,arguments)})(yield l1(n),e,t);var i})),t.promise}(t,n._query).then(c=>new bp(e,i,n,c))}(this._delegate):"server"===e?.source?function VD(n){n=Qr(n,hl);const e=Qr(n.firestore,vo),t=da(e),i=new xp(e);return nA(t,n._query,{source:"server"}).then(c=>new bp(e,i,n,c))}(this._delegate):function LD(n){n=Qr(n,hl);const e=Qr(n.firestore,vo),t=da(e),i=new xp(e);return EA(n._query),nA(t,n._query).then(c=>new bp(e,i,n,c))}(this._delegate),t.then(i=>new ZC(this.firestore,new bp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=HA(e),i=zA(e,c=>new ZC(this.firestore,new bp(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return MA(this._delegate,t,i)}withConverter(e){return new Yl(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}class ck{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new E0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new E0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ck(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new E0(this._firestore,i))})}isEqual(e){return kA(this._delegate,e._delegate)}}class Sv extends Yl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yu(this.firestore,e):null}doc(e){try{return new yu(this.firestore,void 0===e?u1(this._delegate):u1(this._delegate,e))}catch(t){throw jl(t,"doc()","CollectionReference.doc()")}}add(e){return function UD(n,e){const t=Qr(n.firestore,vo),i=u1(n),c=b1(n.converter,e);return Cv(t,[f1(vm(n.firestore),"addDoc",i._key,c,null!==n.converter,{}).toMutation(i._key,Js.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new yu(this.firestore,t))}isEqual(e){return hA(this._delegate,e._delegate)}withConverter(e){return new Sv(this.firestore,this._delegate.withConverter(e?xm.getInstance(this.firestore,e):null))}}function wm(n){return Qr(n,_o)}class GC{constructor(...e){this._delegate=new qh(...e)}static documentId(){return new GC(So.keyField().canonicalString())}isEqual(e){return(e=cn(e))instanceof qh&&this._delegate._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ek(){return new MC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Em(e)}static delete(){const e=function QD(){return new g0("deleteField")}();return e._methodName="FieldValue.delete",new Em(e)}static arrayUnion(...e){const t=function tk(...n){return new _D("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Em(t)}static arrayRemove(...e){const t=function nk(...n){return new vD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Em(t)}static increment(e){const t=function ik(n){return new yD("increment",n)}(e);return t._methodName="FieldValue.increment",new Em(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uk={Firestore:VA,GeoPoint:d1,Timestamp:io,Blob:x0,Transaction:BA,WriteBatch:UA,DocumentReference:yu,DocumentSnapshot:w0,Query:Yl,QueryDocumentSnapshot:E0,QuerySnapshot:ZC,CollectionReference:Sv,FieldPath:GC,FieldValue:Em,setLogLevel:function lk(n){!function fE(n){mc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function hk(n){(function dk(n,e){n.INTERNAL.registerComponent(new vi("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(i,c)},"PUBLIC").setServiceProps(Object.assign({},uk)))})(n,(e,t)=>new VA(e,t,new ak)),n.registerVersion("@firebase/firestore-compat","0.3.13")}(Re);class fk{constructor(e){this.registerUser=(t,i)=>new Promise((c,m)=>{Re.auth().createUserWithEmailAndPassword(t,i).then(B=>{B=Re.auth().currentUser,c(B)},C=>{m(this._handleError(C))})}),this.loginUser=(t,i)=>new Promise((c,m)=>{Re.auth().signInWithEmailAndPassword(t,i).then(B=>{B=Re.auth().currentUser,c(B)},C=>{m(this._handleError(C))})}),this.forgetPassword=t=>new Promise((i,c)=>{Re.auth().sendPasswordResetEmail(t,{url:window.location.protocol+"//"+window.location.host+"/login"}).then(()=>{i(!0)}).catch(m=>{c(this._handleError(m))})}),this.logout=()=>new Promise((t,i)=>{Re.auth().signOut().then(()=>{t(!0)}).catch(c=>{i(this._handleError(c))})}),this.setLoggeedInUser=t=>{sessionStorage.setItem("authUser",JSON.stringify(t))},this.getAuthenticatedUser=()=>sessionStorage.getItem("authUser")?JSON.parse(sessionStorage.getItem("authUser")):null,e&&(Re.initializeApp(e),Re.auth().onAuthStateChanged(t=>{t?sessionStorage.setItem("authUser",JSON.stringify(t)):sessionStorage.removeItem("authUser")}))}_handleError(e){return e.message}}let w1=null;const pk=n=>(w1||(w1=new fk(n)),w1),gk=()=>w1},263:(Hn,gt,ue)=>{"use strict";ue.d(gt,{$:()=>l});var Xe,f=ue(9531),v=ue(4650),He=ue(2605);class l{constructor(je){this.router=je}currentUser(){return(0,f.Z)().getAuthenticatedUser()}login(je,tt){return(0,f.Z)().loginUser(je,tt).then(vt=>vt)}register(je,tt){return(0,f.Z)().registerUser(je,tt).then(vt=>vt)}resetPassword(je){return(0,f.Z)().forgetPassword(je).then(tt=>tt.data)}logout(){"/account/login"!==window.location.href&&(sessionStorage.clear(),this.router.navigate(["/account/login"]))}}(Xe=l).\u0275fac=function(je){return new(je||Xe)(v.LFG(He.F0))},Xe.\u0275prov=v.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})},2293:(Hn,gt,ue)=>{"use strict";ue.d(gt,{g:()=>Qe});var l,f=ue(1135),v=ue(4004),He=ue(4650),Xe=ue(529);class Qe{constructor(tt){this.http=tt,this.currentUserSubject=new f.X(JSON.parse(localStorage.getItem("currentUser"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(tt,vt){return this.http.post("/users/authenticate",{email:tt,password:vt}).pipe((0,v.U)(bt=>(bt&&bt.token&&(localStorage.setItem("currentUser",JSON.stringify(bt)),this.currentUserSubject.next(bt)),bt)))}logout(){localStorage.removeItem("currentUser"),this.currentUserSubject.next(null)}}(l=Qe).\u0275fac=function(tt){return new(tt||l)(He.LFG(Xe.eN))},l.\u0275prov=He.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})},1031:(Hn,gt,ue)=>{"use strict";ue.r(gt),ue.d(gt,{PagesModule:()=>Lu});var Qe,f=ue(6895),v=ue(4006),He=ue(9668),Xe=ue(5958),l=ue(4650);class je{}(Qe=je).\u0275fac=function(M){return new(M||Qe)},Qe.\u0275mod=l.oAB({type:Qe}),Qe.\u0275inj=l.cJS({imports:[f.ez,v.u5,Xe.ZS,Xe.jF]});var tt=ue(2605),vt=ue(8407);const bt={series:[{name:"2020",type:"column",data:[23,42,35,27,43,22,17,31,22,22,12,16]},{name:"2019",type:"line",data:[23,32,27,38,27,32,27,38,22,31,21,16]}],chart:{height:280,type:"line",toolbar:{show:!1}},stroke:{width:[0,3],curve:"smooth"},plotOptions:{bar:{horizontal:!1,columnWidth:"20%"}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c"],labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},xt={series:[42,26,15],chart:{height:250,type:"donut"},labels:["Product A","Product B","Product C"],plotOptions:{pie:{donut:{size:"75%"}}},dataLabels:{enabled:!1},legend:{show:!1},colors:["#5664d2","#1cbb8c","#eeb902"]},Et={series:[72],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#5664d2"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},Jt={series:[65],chart:{type:"radialBar",wight:60,height:60,sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#1cbb8c"],stroke:{lineCap:"round"},plotOptions:{radialBar:{hollow:{margin:0,size:"70%"},track:{margin:0},dataLabels:{show:!1}}}},ct=[{id:1,name:"Frank Vickery",message:"Hey! I am available",image:"assets/images/users/avatar-2.jpg",time:"12:09"},{id:2,align:"right",name:"Ricky Clark",message:"Hi, How are you? What about our next meeting?",time:"10:02"},{text:"Today"},{id:3,name:"Frank Vickery",message:"Hello!",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:4,name:"Frank Vickery",message:"& Next meeting tomorrow 10.00AM",image:"assets/images/users/avatar-2.jpg",time:"10:06"},{id:5,align:"right",name:"Ricky Clark",message:"Wow that's great",time:"10:07"}],Ft=[{orderid:"#NZ1563",date:"28 Mar, 2020",billingname:"Frank Dean",total:"$164",paymentstatus:"Unpaid"},{orderid:"#NZ1564",date:"28 Mar, 2020",billingname:"Eddy Torres",total:"$141",paymentstatus:"Paid"},{orderid:"#NZ1565",date:"29 Mar, 2020",billingname:"Jamison Clark",total:"$123",paymentstatus:"Paid"},{orderid:"#NZ1566",date:"30 Mar, 2020",billingname:"Jewel Buckley",total:"$112",paymentstatus:"Paid"},{orderid:"#NZ1567",date:"31 Mar, 2020",billingname:"Jeffrey Waltz",total:"$105",paymentstatus:"Unpaid"},{orderid:"#NZ1568",date:"01 Apr, 2020",billingname:"Jefferson Allen",total:"$160",paymentstatus:"Chargeback"}],on=[{icon:"ri-stack-line",title:"Number of Sales",value:"1452"},{icon:"ri-store-2-line",title:"Sales Revenue",value:"$ 38452"},{icon:"ri-briefcase-4-line",title:"Average Price",value:"$ 15.4"}];var At;function Ye(H,M){if(1&H&&(l.TgZ(0,"li",9)(1,"a",10),l._uU(2),l.qZA()()),2&H){const _=l.oxw().$implicit;l.xp6(2),l.Oqu(_.label)}}function Ut(H,M){if(1&H&&(l.TgZ(0,"li",11),l._uU(1),l.qZA()),2&H){const _=l.oxw().$implicit;l.xp6(1),l.hij("",_.label," ")}}function un(H,M){if(1&H&&(l.ynx(0),l.YNc(1,Ye,3,1,"li",7),l.YNc(2,Ut,2,1,"li",8),l.BQk()),2&H){const _=M.$implicit;l.xp6(1),l.Q6J("ngIf",!_.active),l.xp6(1),l.Q6J("ngIf",_.active)}}class et{constructor(){}ngOnInit(){}}(At=et).\u0275fac=function(M){return new(M||At)},At.\u0275cmp=l.Xpm({type:At,selectors:[["app-pagetitle"]],inputs:{breadcrumbItems:"breadcrumbItems",title:"title"},decls:8,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-flex","align-items-center","justify-content-between"],[1,"mb-0"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[4,"ngFor","ngForOf"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"]],template:function(M,_){1&M&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l._uU(4),l.qZA(),l.TgZ(5,"div",4)(6,"ol",5),l.YNc(7,un,3,2,"ng-container",6),l.qZA()()()()()),2&M&&(l.xp6(4),l.Oqu(_.title),l.xp6(3),l.Q6J("ngForOf",_.breadcrumbItems))},dependencies:[f.sg,f.O5]});var jt=ue(4408);let Fn,fn=1;const Qt={};function Nt(H){return H in Qt&&(delete Qt[H],!0)}const vn={setImmediate(H){const M=fn++;return Qt[M]=!0,Fn||(Fn=Promise.resolve()),Fn.then(()=>Nt(M)&&H()),M},clearImmediate(H){Nt(H)}},{setImmediate:Bn,clearImmediate:In}=vn,mn={setImmediate(...H){const{delegate:M}=mn;return(M?.setImmediate||Bn)(...H)},clearImmediate(H){const{delegate:M}=mn;return(M?.clearImmediate||In)(H)},delegate:void 0};var Lt=ue(7565);const Gt=new class pt extends Lt.v{flush(M){this._active=!0;const _=this._scheduled;this._scheduled=void 0;const{actions:j}=this;let be;M=M||j.shift();do{if(be=M.execute(M.state,M.delay))break}while((M=j[0])&&M.id===_&&j.shift());if(this._active=!1,be){for(;(M=j[0])&&M.id===_&&j.shift();)M.unsubscribe();throw be}}}(class mt extends jt.o{constructor(M,_){super(M,_),this.scheduler=M,this.work=_}requestAsyncId(M,_,j=0){return null!==j&&j>0?super.requestAsyncId(M,_,j):(M.actions.push(this),M._scheduled||(M._scheduled=mn.setImmediate(M.flush.bind(M,void 0))))}recycleAsyncId(M,_,j=0){var be;if(null!=j?j>0:this.delay>0)return super.recycleAsyncId(M,_,j);const{actions:We}=M;null!=_&&(null===(be=We[We.length-1])||void 0===be?void 0:be.id)!==_&&(mn.clearImmediate(_),M._scheduled=void 0)}});var en=ue(3597);const rn=["chart"];let Dt=(()=>{class H{constructor(_){this.ngZone=_,this.autoUpdateSeries=!0}ngOnChanges(_){Gt.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(_).filter(j=>"series"!==j).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const _={};this.annotations&&(_.annotations=this.annotations),this.chart&&(_.chart=this.chart),this.colors&&(_.colors=this.colors),this.dataLabels&&(_.dataLabels=this.dataLabels),this.series&&(_.series=this.series),this.stroke&&(_.stroke=this.stroke),this.labels&&(_.labels=this.labels),this.legend&&(_.legend=this.legend),this.fill&&(_.fill=this.fill),this.tooltip&&(_.tooltip=this.tooltip),this.plotOptions&&(_.plotOptions=this.plotOptions),this.responsive&&(_.responsive=this.responsive),this.markers&&(_.markers=this.markers),this.noData&&(_.noData=this.noData),this.xaxis&&(_.xaxis=this.xaxis),this.yaxis&&(_.yaxis=this.yaxis),this.forecastDataPoints&&(_.forecastDataPoints=this.forecastDataPoints),this.grid&&(_.grid=this.grid),this.states&&(_.states=this.states),this.title&&(_.title=this.title),this.subtitle&&(_.subtitle=this.subtitle),this.theme&&(_.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new en(this.chartElement.nativeElement,_)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(_,j,be,We){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(_,j,be,We))}updateSeries(_,j){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(_,j))}appendSeries(_,j){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(_,j))}appendData(_){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(_))}toggleSeries(_){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(_))}showSeries(_){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(_))}hideSeries(_){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(_))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(_,j){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(_,j))}toggleDataPointSelection(_,j){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(_,j))}destroy(){this.chartObj.destroy()}setLocale(_){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(_))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(_,j,be){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(_,j,be))}addYaxisAnnotation(_,j,be){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(_,j,be))}addPointAnnotation(_,j,be){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(_,j,be))}removeAnnotation(_,j){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(_,j))}clearAnnotations(_){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(_))}dataURI(_){return this.chartObj.dataURI(_)}}return H.\u0275fac=function(_){return new(_||H)(l.Y36(l.R0b))},H.\u0275cmp=l.Xpm({type:H,selectors:[["apx-chart"]],viewQuery:function(_,j){if(1&_&&l.Gf(rn,7),2&_){let be;l.iGM(be=l.CRH())&&(j.chartElement=be.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[l.TTD],decls:2,vars:0,consts:[["chart",""]],template:function(_,j){1&_&&l._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),H})();window.ApexCharts=en;let Tn=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=l.oAB({type:H}),H.\u0275inj=l.cJS({}),H})();var Vn,ui,Pn=ue(9234);class Rn{constructor(){}ngOnInit(){}}(Vn=Rn).\u0275fac=function(M){return new(M||Vn)},Vn.\u0275cmp=l.Xpm({type:Vn,selectors:[["app-stat"]],inputs:{title:"title",value:"value",icon:"icon"},decls:17,vars:5,consts:[[1,"card"],[1,"card-body"],[1,"d-flex"],[1,"flex-1","overflow-hidden"],[1,"text-truncate","font-size-14","mb-2"],[1,"mb-0"],[1,"text-primary","ms-auto"],[1,"card-body","border-top","py-3"],[1,"text-truncate"],[1,"badge","bg-success-subtle","text-success","font-size-11"],[1,"mdi","mdi-menu-up"],[1,"text-muted","ms-2"]],template:function(M,_){1&M&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),l._uU(5),l.qZA(),l.TgZ(6,"h4",5),l._uU(7),l.qZA()(),l.TgZ(8,"div",6),l._UZ(9,"i"),l.qZA()()(),l.TgZ(10,"div",7)(11,"div",8)(12,"span",9),l._UZ(13,"i",10),l._uU(14," 2.4% "),l.qZA(),l.TgZ(15,"span",11),l._uU(16,"From previous period"),l.qZA()()()()),2&M&&(l.xp6(5),l.Oqu(_.title),l.xp6(2),l.Oqu(_.value),l.xp6(2),l.Gre("",_.icon," font-size-24"))}});class Di{}(ui=Di).\u0275fac=function(M){return new(M||ui)},ui.\u0275cmp=l.Xpm({type:ui,selectors:[["app-underconstraction-page"]],decls:49,vars:0,consts:[[1,"my-5","pt-sm-5"],[1,"container"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"mb-5"],["routerLink",""],[1,"row","justify-content-center"],[1,"col-sm-4"],[1,"maintenance-img"],["src","assets/images/maintenance-bg.png","alt","",1,"img-fluid","mx-auto","d-block"],[1,"mt-5"],[1,"col-md-4"],[1,"mt-4","maintenance-box"],[1,"p-3"],[1,"avatar-sm","mx-auto"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle"],[1,"mdi","mdi-access-point-network","font-size-24","text-primary"],[1,"font-size-15","text-uppercase","mt-4"],[1,"text-muted","mb-0"],[1,"mdi","mdi-clock-outline","font-size-24","text-primary"],[1,"mdi","mdi-email-outline","font-size-24","text-primary"],["href","mailto:no-reply@domain.com",1,"text-decoration-underline"]],template:function(M,_){1&M&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),l._uU(7," E-SHOP "),l.qZA()(),l.TgZ(8,"div",7)(9,"div",8)(10,"div",9),l._UZ(11,"img",10),l.qZA()()(),l.TgZ(12,"h3",11),l._uU(13,"Site is Under Constraction"),l.qZA(),l.TgZ(14,"p"),l._uU(15,"Please check back in sometime."),l.qZA(),l.TgZ(16,"div",2)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"span",16),l._UZ(22,"i",17),l.qZA()(),l.TgZ(23,"h5",18),l._uU(24," Why is the Site Down? "),l.qZA(),l.TgZ(25,"p",19),l._uU(26,' Certainly! For a concise message to display on your under construction page, you might consider something like: "We\'re currently working on some improvements. Our site will be back shortly. Thank you for your patience!" '),l.qZA()()()(),l.TgZ(27,"div",12)(28,"div",13)(29,"div",14)(30,"div",15)(31,"span",16),l._UZ(32,"i",20),l.qZA()(),l.TgZ(33,"h5",18),l._uU(34," What is the Downtime? "),l.qZA(),l.TgZ(35,"p",19),l._uU(36," Curious about the downtime? Our team is actively working on improvements. Thank you for your patience! "),l.qZA()()()(),l.TgZ(37,"div",12)(38,"div",13)(39,"div",14)(40,"div",15)(41,"span",16),l._UZ(42,"i",21),l.qZA()(),l.TgZ(43,"h5",18),l._uU(44," Do you need Support? "),l.qZA(),l.TgZ(45,"p",19),l._uU(46," Need assistance? We're here to help! Reach out to us at . "),l.TgZ(47,"a",22),l._uU(48,"jnichoraus3@gmail.com"),l.qZA()()()()()()()()()()())},dependencies:[tt.rH]});let bi=(()=>{class H{transform(_,j){return j&&_?H.filter(_,j):_}static filter(_,j){const be=j.toLowerCase();function We(dt,Mn){for(let Ri in dt)if(null!==dt[Ri]&&null!=dt[Ri]&&("object"==typeof dt[Ri]&&We(dt[Ri],Mn)||dt[Ri].toString().toLowerCase().includes(be)))return!0;return!1}return _.filter(function(dt){return We(dt,j)})}}return H.\u0275fac=function(_){return new(_||H)},H.\u0275pipe=l.Yjl({name:"filter",type:H,pure:!1}),H.\u0275prov=l.Yz7({token:H,factory:H.\u0275fac}),H})(),li=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=l.oAB({type:H}),H.\u0275inj=l.cJS({}),H})();var gn;function Si(H,M){1&H&&(l.ynx(0),l.TgZ(1,"div"),l._uU(2,"This is shown when condition is true"),l.qZA(),l.BQk())}function sr(H,M){1&H&&l._UZ(0,"app-underconstraction-page")}function Bi(H,M){if(1&H&&(l.TgZ(0,"div",59),l._UZ(1,"app-stat",60),l.qZA()),2&H){const _=M.$implicit;l.xp6(1),l.Q6J("title",_.title)("value",_.value)("icon",_.icon)}}const ki=function(H,M,_){return{"bg-danger-subtle text-danger":H,"bg-success-subtle text-success":M,"bg-warning-subtle text-warning":_}};function Pi(H,M){if(1&H&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td")(10,"div",61),l._uU(11),l.qZA()(),l.TgZ(12,"td")(13,"a",62),l._UZ(14,"i",63),l.qZA(),l.TgZ(15,"a",64),l._UZ(16,"i",65),l.qZA()()()),2&H){const _=M.$implicit;l.xp6(2),l.Oqu(_.orderid),l.xp6(2),l.Oqu(_.date),l.xp6(2),l.Oqu(_.billingname),l.xp6(2),l.Oqu(_.total),l.xp6(2),l.Q6J("ngClass",l.kEZ(6,ki,"Chargeback"===_.paymentstatus,"Paid"===_.paymentstatus,"Unpaid"===_.paymentstatus)),l.xp6(1),l.hij(" ",_.paymentstatus," ")}}function qi(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"div",3),l._UZ(1,"app-pagetitle",4),l.TgZ(2,"div",5)(3,"div",6)(4,"div",5),l.YNc(5,Bi,2,3,"div",7),l.qZA(),l.TgZ(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11)(10,"button",12),l._uU(11," Today "),l.qZA(),l.TgZ(12,"button",13),l._uU(13," Weekly "),l.qZA(),l.TgZ(14,"button",12),l._uU(15," Monthly "),l.qZA()()(),l.TgZ(16,"h4",14),l._uU(17,"Revenue Analytics"),l.qZA(),l.TgZ(18,"div"),l._UZ(19,"apx-chart",15),l.qZA()(),l.TgZ(20,"div",16)(21,"div",5)(22,"div",17)(23,"div",18)(24,"h5",19),l._uU(25,"$12,253"),l.qZA(),l.TgZ(26,"div",20),l._UZ(27,"i",21),l._uU(28,"2.2 % "),l.qZA()(),l.TgZ(29,"p",22),l._uU(30,"This month"),l.qZA()(),l.TgZ(31,"div",17)(32,"div",23)(33,"p",24),l._UZ(34,"i",25),l._uU(35," This Year : "),l.qZA(),l.TgZ(36,"div",18)(37,"h5",26),l._uU(38,"$ 34,254"),l.qZA(),l.TgZ(39,"div",20),l._UZ(40,"i",21),l._uU(41,"2.1 % "),l.qZA()()()(),l.TgZ(42,"div",17)(43,"div",23)(44,"p",24),l._UZ(45,"i",27),l._uU(46," Previous Year : "),l.qZA(),l.TgZ(47,"div",18)(48,"h5",28),l._uU(49,"$ 32,695"),l.qZA()()()()()()()(),l.TgZ(50,"div",29)(51,"div",8)(52,"div",30)(53,"div",31)(54,"a",32),l._UZ(55,"i",33),l.qZA(),l.TgZ(56,"div",34)(57,"a",35),l._uU(58,"Sales Report"),l.qZA(),l.TgZ(59,"a",35),l._uU(60,"Export Report"),l.qZA(),l.TgZ(61,"a",35),l._uU(62,"Profit"),l.qZA(),l.TgZ(63,"a",35),l._uU(64,"Action"),l.qZA()()(),l.TgZ(65,"h4",14),l._uU(66,"Recent Activity Feed"),l.qZA(),l.TgZ(67,"perfect-scrollbar",36)(68,"ul",37)(69,"li",38)(70,"div",39)(71,"span",40),l._UZ(72,"i",41),l.qZA()(),l.TgZ(73,"div")(74,"div")(75,"h5",42),l._uU(76," 28 Apr, 2020 "),l.TgZ(77,"small",43),l._uU(78,"12:07 am"),l.qZA()()(),l.TgZ(79,"div")(80,"p",44),l._uU(81," Responded to need \u201cVolunteer Activities\u201d "),l.qZA()()()(),l.TgZ(82,"li",38)(83,"div",39)(84,"span",40),l._UZ(85,"i",45),l.qZA()(),l.TgZ(86,"div")(87,"div")(88,"h5",42),l._uU(89," 21 Apr, 2020 "),l.TgZ(90,"small",43),l._uU(91,"08:01 pm"),l.qZA()()(),l.TgZ(92,"div")(93,"p",44),l._uU(94," Added an interest \u201cVolunteer Activities\u201d "),l.qZA()()()(),l.TgZ(95,"li",38)(96,"div",39)(97,"span",40),l._UZ(98,"i",46),l.qZA()(),l.TgZ(99,"div")(100,"div")(101,"h5",42),l._uU(102," 17 Apr, 2020 "),l.TgZ(103,"small",43),l._uU(104,"09:23 am"),l.qZA()()(),l.TgZ(105,"div")(106,"p",44),l._uU(107," Joined the group \u201cBoardsmanship Forum\u201d "),l.qZA()()()(),l.TgZ(108,"li",38)(109,"div",39)(110,"span",40),l._UZ(111,"i",47),l.qZA()(),l.TgZ(112,"div")(113,"div")(114,"h5",42),l._uU(115," 11 Apr, 2020 "),l.TgZ(116,"small",43),l._uU(117,"05:10 pm"),l.qZA()()(),l.TgZ(118,"div")(119,"p",44),l._uU(120," Responded to need \u201cIn-Kind Opportunity\u201d "),l.qZA()()()(),l.TgZ(121,"li",38)(122,"div",39)(123,"span",40),l._UZ(124,"i",48),l.qZA()(),l.TgZ(125,"div")(126,"div")(127,"h5",42),l._uU(128," 07 Apr, 2020 "),l.TgZ(129,"small",43),l._uU(130,"12:47 pm"),l.qZA()()(),l.TgZ(131,"div")(132,"p",44),l._uU(133," Created need \u201cVolunteer Activities\u201d "),l.qZA()()()(),l.TgZ(134,"li",38)(135,"div",39)(136,"span",40),l._UZ(137,"i",41),l.qZA()(),l.TgZ(138,"div")(139,"div")(140,"h5",42),l._uU(141," 05 Apr, 2020 "),l.TgZ(142,"small",43),l._uU(143,"03:09 pm"),l.qZA()()(),l.TgZ(144,"div")(145,"p",44),l._uU(146," Attending the event \u201cSome New Event\u201d "),l.qZA()()()(),l.TgZ(147,"li",38)(148,"div",39)(149,"span",40),l._UZ(150,"i",45),l.qZA()(),l.TgZ(151,"div")(152,"div")(153,"h5",42),l._uU(154," 02 Apr, 2020 "),l.TgZ(155,"small",43),l._uU(156,"12:07 am"),l.qZA()()(),l.TgZ(157,"div")(158,"p",44),l._uU(159," Responded to need \u201cIn-Kind Opportunity\u201d "),l.qZA()()()()()()()()()(),l.TgZ(160,"div",5)(161,"div",49)(162,"div",8)(163,"div",30)(164,"div",31)(165,"a",50),l._UZ(166,"i",33),l.qZA(),l.TgZ(167,"div",34)(168,"a",35),l._uU(169,"Sales Report"),l.qZA(),l.TgZ(170,"a",35),l._uU(171,"Export Report"),l.qZA(),l.TgZ(172,"a",35),l._uU(173,"Profit"),l.qZA(),l.TgZ(174,"a",35),l._uU(175,"Action"),l.qZA()()(),l.TgZ(176,"h4",14),l._uU(177,"Latest Sales"),l.qZA(),l.TgZ(178,"div",5)(179,"div",51)(180,"div",52)(181,"label",53),l._uU(182,"Search: "),l.TgZ(183,"input",54),l.NdJ("ngModelChange",function(be){l.CHM(_);const We=l.oxw();return l.KtG(We.term=be)}),l.qZA()()()()(),l.TgZ(184,"div",55)(185,"table",56)(186,"thead",57)(187,"tr")(188,"th"),l._uU(189,"Order ID"),l.qZA(),l.TgZ(190,"th"),l._uU(191,"Date"),l.qZA(),l.TgZ(192,"th"),l._uU(193,"Billing Name"),l.qZA(),l.TgZ(194,"th"),l._uU(195,"Total"),l.qZA(),l.TgZ(196,"th"),l._uU(197,"Payment Status"),l.qZA(),l.TgZ(198,"th"),l._uU(199,"Action"),l.qZA()()(),l.TgZ(200,"tbody"),l.YNc(201,Pi,17,10,"tr",58),l.ALo(202,"filter"),l.qZA()()()()()()()()}if(2&H){const _=l.oxw();l.xp6(1),l.Q6J("breadcrumbItems",_.breadCrumbItems),l.xp6(4),l.Q6J("ngForOf",_.statData),l.xp6(14),l.Q6J("series",_.revenueChart.series)("chart",_.revenueChart.chart)("legend",_.revenueChart.legend)("colors",_.revenueChart.colors)("labels",_.revenueChart.labels)("stroke",_.revenueChart.stroke)("plotOptions",_.revenueChart.plotOptions),l.xp6(164),l.Q6J("ngModel",_.term),l.xp6(18),l.Q6J("ngForOf",l.xi3(202,11,_.transactions,_.term))}}class Un{constructor(M){this.formBuilder=M,this.underconstraction=!1,this.options={layers:[(0,vt.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:6,center:(0,vt.latLng)(46.879966,-121.726909)}}ngOnInit(){this.breadCrumbItems=[{label:"E-shop"},{label:"Dashboard",active:!0}],this.formData=this.formBuilder.group({message:["",[v.kI.required]]}),this._fetchData(),this.underconstraction=!0}_fetchData(){this.revenueChart=bt,this.salesAnalytics=xt,this.sparklineEarning=Et,this.sparklineMonthly=Jt,this.chatData=ct,this.transactions=Ft,this.statData=on}get form(){return this.formData.controls}messageSave(){const M=this.formData.get("message").value,_=new Date;this.formData.valid&&M&&(this.chatData.push({align:"right",name:"Ricky Clark",message:M,time:_.getHours()+":"+_.getMinutes()}),this.formData=this.formBuilder.group({message:null})),this.chatSubmit=!0}}(gn=Un).\u0275fac=function(M){return new(M||gn)(l.Y36(v.QS))},gn.\u0275cmp=l.Xpm({type:gn,selectors:[["app-dashboard"]],decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["showUnderCpage",""],["elseBlock",""],[1,"container-fluid"],["title","Dashboard",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-8"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"card"],[1,"card-body","pb-1"],[1,"float-end","d-none","d-md-inline-block"],[1,"btn-group","mb-2"],["type","button",1,"btn","btn-sm","btn-light"],["type","button",1,"btn","btn-sm","btn-light","active"],[1,"card-title","mb-4"],["dir","ltr",1,"apex-charts",3,"series","chart","legend","colors","labels","stroke","plotOptions"],[1,"card-body","border-top","text-center"],[1,"col-sm-4"],[1,"d-inline-flex"],[1,"me-2"],[1,"text-success"],[1,"mdi","mdi-menu-up","font-size-14"],[1,"text-muted","text-truncate","mb-0"],[1,"mt-4","mt-sm-0"],[1,"mb-2","text-muted","text-truncate"],[1,"mdi","mdi-circle","text-primary","font-size-10","me-1"],[1,"mb-0","me-2"],[1,"mdi","mdi-circle","text-success","font-size-10","me-1"],[1,"mb-0"],[1,"col-lg-4"],[1,"card-body"],["ngbDropdown","",1,"dropdown","float-end"],["href","javascript: void(0);","data-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"dropdown-toggle","arrow-none","card-drop"],[1,"mdi","mdi-dots-vertical"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item"],[2,"height","550px"],[1,"list-unstyled","activity-wid"],[1,"activity-list"],[1,"activity-icon","avatar-xs"],[1,"avatar-title","bg-primary-subtle","text-primary","text-primary","rounded-circle"],[1,"ri-edit-2-fill"],[1,"font-size-13"],[1,"text-muted"],[1,"text-muted","mb-0"],[1,"ri-user-2-fill"],[1,"ri-bar-chart-fill"],[1,"ri-mail-fill"],[1,"ri-calendar-2-fill"],[1,"col-lg-12"],["href","javascript: void(0);","ngbDropdownToggle","","data-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","arrow-none","card-drop"],[1,"col-sm-12","col-md-12"],["id","tickets-table_filter",1,"dataTables_filter","text-md-end"],[1,"d-inline-flex","align-items-center"],["type","text","name","searchTerm","aria-controls","tickets-table",1,"form-control","form-control-sm","ms-2",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-centered"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"col-md-4"],[3,"title","value","icon"],[1,"badge","font-size-12",3,"ngClass"],["href","javascript:void(0);","ngbTooltip","Edit",1,"me-3","text-primary"],[1,"mdi","mdi-pencil","font-size-18"],["href","javascript:void(0);","ngbTooltip","Delete",1,"text-danger"],[1,"mdi","mdi-trash-can","font-size-18"]],template:function(M,_){if(1&M&&(l.YNc(0,Si,3,0,"ng-container",0),l.YNc(1,sr,1,0,"ng-template",null,1,l.W1O),l.YNc(3,qi,203,14,"ng-template",null,2,l.W1O)),2&M){const j=l.MAs(2),be=l.MAs(4);l.Q6J("ngIf",_.underconstraction)("ngIfThen",j)("ngIfElse",be)}},dependencies:[f.mk,f.sg,f.O5,v.Fj,v.JJ,v.On,et,Xe.jt,Xe.iD,Xe.Vi,Xe._L,Dt,Pn.Vv,Rn,Di,bi]});var ni,Dn=ue(2340),Rs=ue(5226),Oi=ue.n(Rs),Hi=ue(8311),xr=ue(6583);function ti(H,M){1&H&&l._UZ(0,"ngb-highlight",28),2&H&&l.Q6J("result","Active")}function ln(H,M){1&H&&l._UZ(0,"ngb-highlight",28),2&H&&l.Q6J("result","InActive")}function es(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"tr")(1,"td")(2,"a",27),l._UZ(3,"ngb-highlight",28),l.qZA()(),l.TgZ(4,"td"),l._UZ(5,"ngb-highlight",28),l.qZA(),l.TgZ(6,"td"),l._UZ(7,"ngb-highlight"),l.qZA(),l.TgZ(8,"td"),l.YNc(9,ti,1,1,"ngb-highlight",29),l.YNc(10,ln,1,1,"ngb-highlight",29),l.qZA(),l.TgZ(11,"td")(12,"a",30),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw(),Mn=l.MAs(42);return l.KtG(dt._editCategoryModal(Mn,We.id))}),l._UZ(13,"i",31),l.qZA(),l.TgZ(14,"a",32),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw();return l.KtG(dt._comfirmAndDeleteCategory(We.id))}),l._UZ(15,"i",33),l.qZA()()()}if(2&H){const _=M.$implicit;l.xp6(3),l.Q6J("result",null==_?null:_.id),l.xp6(2),l.Q6J("result",null==_?null:_.name),l.xp6(4),l.Q6J("ngIf",1==(null==_?null:_.status)),l.xp6(1),l.Q6J("ngIf",2==(null==_?null:_.status))}}function cr(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"a",34),l.NdJ("click",function(){l.CHM(_);const be=l.oxw();return l.KtG(be._getAllCategory(null,null==be.categoryModel?null:be.categoryModel.previous))}),l._uU(1,"Previous"),l.qZA()}}function Qi(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"a",34),l.NdJ("click",function(){l.CHM(_);const be=l.oxw();return l.KtG(be._getAllCategory(null,null==be.categoryModel?null:be.categoryModel.next))}),l._uU(1,"next"),l.qZA()}}function ii(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ki(H,M){if(1&H&&(l.TgZ(0,"div",55),l.YNc(1,ii,2,0,"span",56),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.name.errors.required)}}function pr(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Mi(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"description must be at least 6 characters."),l.qZA())}function $r(H,M){if(1&H&&(l.TgZ(0,"div",55),l.YNc(1,pr,2,0,"span",56),l.YNc(2,Mi,2,0,"span",56),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.description.errors.required),l.xp6(1),l.Q6J("ngIf",_.editForm.description.errors.minlength)}}function fi(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function ur(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be the same."),l.qZA())}function Ur(H,M){if(1&H&&(l.TgZ(0,"div",55),l.YNc(1,fi,2,0,"span",56),l.YNc(2,ur,2,0,"span",56),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.status.errors.required),l.xp6(1),l.Q6J("ngIf",_.editForm.status.errors.mustMatch)}}const gi=function(H){return{"is-invalid":H}};function or(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"div",35)(1,"h5",36),l._uU(2,"Edit Category"),l.qZA(),l.TgZ(3,"button",37),l.NdJ("click",function(){const We=l.CHM(_).$implicit;return l.KtG(We.dismiss("Cross click"))}),l.qZA()(),l.TgZ(4,"div",38)(5,"div",39)(6,"div",2)(7,"div",40)(8,"div",4)(9,"div",5)(10,"form",41),l.NdJ("ngSubmit",function(){l.CHM(_);const be=l.oxw();return l.KtG(be._editCategory(null==be.categoryDetails||null==be.categoryDetails.data?null:be.categoryDetails.data.id))}),l.TgZ(11,"div",42)(12,"label"),l._uU(13,"Required"),l.qZA(),l._UZ(14,"input",43),l.YNc(15,Ki,2,1,"div",44),l.qZA(),l.TgZ(16,"div",42)(17,"label"),l._uU(18,"Equal To"),l.qZA(),l.TgZ(19,"div"),l._UZ(20,"input",45),l.YNc(21,$r,3,2,"div",44),l.qZA()(),l.TgZ(22,"div",42)(23,"label",46),l._uU(24,"Select"),l.qZA(),l.TgZ(25,"div",47)(26,"select",48)(27,"option",49),l._uU(28,"Select status"),l.qZA(),l.TgZ(29,"option",50),l._uU(30,"Active"),l.qZA(),l.TgZ(31,"option",51),l._uU(32,"In active"),l.qZA()(),l.YNc(33,Ur,3,2,"div",44),l.qZA()(),l.TgZ(34,"div",52)(35,"div")(36,"button",53),l._uU(37," Submit "),l.qZA(),l.TgZ(38,"button",54),l._uU(39," Cancel "),l.qZA()()()()()()()()()()}if(2&H){const _=l.oxw();l.xp6(10),l.Q6J("formGroup",_.editCategoryForm),l.xp6(4),l.Q6J("ngClass",l.VKq(7,gi,_.submitted&&_.editForm.name.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editForm.name.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(9,gi,_.submitted&&_.editForm.description.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editForm.description.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(11,gi,_.submitted&&_.editForm.status.errors)),l.xp6(7),l.Q6J("ngIf",_.submitted&&_.editForm.status.errors)}}function Yt(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function nt(H,M){if(1&H&&(l.TgZ(0,"div",55),l.YNc(1,Yt,2,0,"span",56),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.name.errors.required)}}function ft(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function hn(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"description must be at least 6 characters."),l.qZA())}function tn(H,M){if(1&H&&(l.TgZ(0,"div",55),l.YNc(1,ft,2,0,"span",56),l.YNc(2,hn,2,0,"span",56),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.description.errors.required),l.xp6(1),l.Q6J("ngIf",_.editForm.description.errors.minlength)}}function cn(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function ke(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be the same."),l.qZA())}function vi(H,M){if(1&H&&(l.TgZ(0,"div",55),l.YNc(1,cn,2,0,"span",56),l.YNc(2,ke,2,0,"span",56),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.status.errors.required),l.xp6(1),l.Q6J("ngIf",_.editForm.status.errors.mustMatch)}}function Gn(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"div",35)(1,"h5",36),l._uU(2,"Add Category"),l.qZA(),l.TgZ(3,"button",37),l.NdJ("click",function(){const We=l.CHM(_).$implicit;return l.KtG(We.dismiss("Cross click"))}),l.qZA()(),l.TgZ(4,"div",38)(5,"div",39)(6,"div",2)(7,"div",40)(8,"div",4)(9,"div",5)(10,"form",41),l.NdJ("ngSubmit",function(){l.CHM(_);const be=l.oxw();return l.KtG(be._addCategory())}),l.TgZ(11,"div",42)(12,"label"),l._uU(13,"Required"),l.qZA(),l._UZ(14,"input",43),l.YNc(15,nt,2,1,"div",44),l.qZA(),l.TgZ(16,"div",42)(17,"label"),l._uU(18,"Equal To"),l.qZA(),l.TgZ(19,"div"),l._UZ(20,"input",45),l.YNc(21,tn,3,2,"div",44),l.qZA()(),l.TgZ(22,"div",42)(23,"label",46),l._uU(24,"Select"),l.qZA(),l.TgZ(25,"div",47)(26,"select",48)(27,"option",49),l._uU(28,"Select status"),l.qZA(),l.TgZ(29,"option",50),l._uU(30,"Active"),l.qZA(),l.TgZ(31,"option",51),l._uU(32,"In active"),l.qZA()(),l.YNc(33,vi,3,2,"div",44),l.qZA()(),l.TgZ(34,"div",52)(35,"div")(36,"button",53),l._uU(37," Submit "),l.qZA(),l.TgZ(38,"button",54),l._uU(39," Cancel "),l.qZA()()()()()()()()()()}if(2&H){const _=l.oxw();l.xp6(10),l.Q6J("formGroup",_.addCategoryForm),l.xp6(4),l.Q6J("ngClass",l.VKq(7,gi,_.submitted&&_.editForm.name.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editForm.name.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(9,gi,_.submitted&&_.editForm.description.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editForm.description.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(11,gi,_.submitted&&_.editForm.status.errors)),l.xp6(7),l.Q6J("ngIf",_.submitted&&_.editForm.status.errors)}}class dr{constructor(M,_,j,be){this.httpShareService=M,this.customAlert=_,this.formBuilder=j,this.modalService=be,this.submitted=!1}ngOnInit(){this.breadCrumbItems=[{label:"IMS"},{label:"Categories",active:!0}],this.editCategoryForm=this.formBuilder.group({status:["",[v.kI.required]],name:["",[v.kI.required]],description:["",[v.kI.required]]}),this.addCategoryForm=this.formBuilder.group({status:["",[v.kI.required]],name:["",[v.kI.required]],description:["",[v.kI.required]]}),this._getAllCategory(1)}get editForm(){return this.editCategoryForm.controls}_getAllCategory(M,_){let j="";j=null!=_?_:Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_CAT_BASE_URL+Dn.N.IMS.CATEGORY_SUB_BASE_URL+`?page=${M}`,this.httpShareService.get(j,null).subscribe(be=>{this.categoryModel=be},be=>{this.error=be||"",this.customAlert.successmsg("An error Occured",`${be}`,"warning")})}_comfirmAndDeleteCategory(M){Oi().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#ff3d60",confirmButtonText:"Yes, delete it!"}).then(_=>{_.value&&this._deleteCategory(M)})}_deleteCategory(M){this.httpShareService.delete(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_CAT_BASE_URL+Dn.N.IMS.CATEGORY_SUB_BASE_URL+`?category_id=${M}`).subscribe(j=>{this._getAllCategory(1),Oi().fire("Deleted!","Your file has been deleted.","success")},j=>{this.error=j||"",this.customAlert.successmsg("An error Occured",`${j}`,"warning")})}_editCategory(M){if(this.editCategoryForm.invalid)return Oi().fire("Warning!","Form is invalid.","warning"),!1;this.httpShareService.put(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_CAT_BASE_URL+Dn.N.IMS.CATEGORY_SUB_BASE_URL+`?category_id=${M}`,this.editCategoryForm.value,null).subscribe(j=>{this._getAllCategory(1),Oi().fire("Edited!","Your file has been Edited.","success")},j=>{this.error=j||"",this.customAlert.successmsg("An error Occured",`${j}`,"warning")})}_addCategory(){if(this.addCategoryForm.invalid)return!1;let M=Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_CAT_BASE_URL+Dn.N.IMS.CATEGORY_SUB_BASE_URL;confirm(`Are you sure you want to add the category with the following Details \n  - Name: ${this.addCategoryForm.value.name} \n - Description: ${this.addCategoryForm.value.description} \n - Status: ${this.addCategoryForm.value.status} `)&&this.httpShareService.post(null,M,this.addCategoryForm.value).subscribe(_=>{this._getAllCategory(1),Oi().fire("Added!","Your file has been Added.","success")},_=>{this.error=_||"",this.customAlert.successmsg("An error Occured",`${_}`,"warning")})}_getCategoryInfos(M){this.httpShareService.get(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_CAT_BASE_URL+Dn.N.IMS.CATEGORY_SUB_BASE_URL+`?category_id=${M}`,null).subscribe(j=>{this.categoryDetails=j,this.editCategoryForm.get("name").setValue(j?.data?.name),this.editCategoryForm.get("description").setValue(j?.data?.description),this.editCategoryForm.get("status").setValue(j?.data?.status)},j=>{this.error=j||"",this.customAlert.successmsg("An error Occured",`${j}`,"warning")})}_editCategoryModal(M,_){this._getCategoryInfos(_),this.modalService.open(M,{scrollable:!0})}_addCategoryModal(M){this.modalService.open(M,{scrollable:!0})}}var Gi;function On(H,M){1&H&&l._UZ(0,"ngb-highlight",28),2&H&&l.Q6J("result","Active")}function Wi(H,M){1&H&&l._UZ(0,"ngb-highlight",28),2&H&&l.Q6J("result","InActive")}function ot(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"tr")(1,"td")(2,"a",27),l._UZ(3,"ngb-highlight",28),l.qZA()(),l.TgZ(4,"td"),l._UZ(5,"ngb-highlight",28),l.qZA(),l.TgZ(6,"td"),l._UZ(7,"ngb-highlight",28),l.qZA(),l.TgZ(8,"td"),l.YNc(9,On,1,1,"ngb-highlight",29),l.YNc(10,Wi,1,1,"ngb-highlight",29),l.qZA(),l.TgZ(11,"td")(12,"a",30),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw(),Mn=l.MAs(44);return l.KtG(dt.editProductModal(Mn,We))}),l._UZ(13,"i",31),l.qZA(),l.TgZ(14,"a",32),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw();return l.KtG(dt._comfirmAndDelete(null==We?null:We.id))}),l._UZ(15,"i",33),l.qZA()()()}if(2&H){const _=M.$implicit;l.xp6(3),l.Q6J("result",null==_?null:_.id),l.xp6(2),l.Q6J("result",null==_?null:_.name),l.xp6(2),l.Q6J("result",null==_?null:_.description),l.xp6(2),l.Q6J("ngIf",1==(null==_?null:_.status)),l.xp6(1),l.Q6J("ngIf",2==(null==_?null:_.status))}}function ne(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"a",34),l.NdJ("click",function(){l.CHM(_);const be=l.oxw();return l.KtG(be.getAllProduct(null,null==be.productModel?null:be.productModel.previous))}),l._uU(1,"Previous"),l.qZA()}}function de(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"a",34),l.NdJ("click",function(){l.CHM(_);const be=l.oxw();return l.KtG(be.getAllProduct(null,null==be.productModel?null:be.productModel.next))}),l._uU(1,"next"),l.qZA()}}function Ie(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ge(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,Ie,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.addForm.category.errors.required)}}function lt(H,M){if(1&H&&(l.TgZ(0,"option",59),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.s9C("value",_.id),l.xp6(1),l.hij(" ",null==_?null:_.name," ")}}function Rt(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function an(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Name must be at least 6 characters."),l.qZA())}function ye(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,Rt,2,0,"span",58),l.YNc(2,an,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.addForm.name.errors.required),l.xp6(1),l.Q6J("ngIf",_.addForm.name.errors.minlength)}}function r(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function s(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Description is required."),l.qZA())}function u(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,r,2,0,"span",58),l.YNc(2,s,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.addForm.description.errors.required),l.xp6(1),l.Q6J("ngIf",_.addForm.description.errors.minlength)}}function p(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function y(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be the same."),l.qZA())}function x(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,p,2,0,"span",58),l.YNc(2,y,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.addForm.status.errors.required),l.xp6(1),l.Q6J("ngIf",_.addForm.status.errors.mustMatch)}}(ni=dr).\u0275fac=function(M){return new(M||ni)(l.Y36(Hi.F),l.Y36(xr.y),l.Y36(v.QS),l.Y36(Xe.FF))},ni.\u0275cmp=l.Xpm({type:ni,selectors:[["app-category"]],decls:45,vars:6,consts:[[1,"container-fluid"],["title","Categories",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"nav","nav-tabs","nav-tabs-custom","mb-4"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link","fw-bold","p-3","active"],["type","button",1,"btn","btn-primary","btn-rounded",3,"click"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-centered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],["sortable","id"],["sortable","name"],["sortable","description"],["sortable","status"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-end","float-md-end","pagination-rounded"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["style","cursor: pointer","class","page-link","tabindex","-1",3,"click",4,"ngIf"],["editModal",""],["addModal",""],[1,"text-dark","fw-bold"],[3,"result"],[3,"result",4,"ngIf"],["placement","top","ngbTooltip","Edit",1,"me-3","text-primary",2,"background-color","rgb(227, 227, 21)","border-radius","100%","padding","10px","margin","2px",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["placement","top","ngbTooltip","Delete",1,"text-danger",3,"click"],[1,"mdi","mdi-trash-can","font-size-18"],["tabindex","-1",1,"page-link",2,"cursor","pointer",3,"click"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"p-2","mb-3"],[1,"col-lg-12"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","name","placeholder","Category Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","description","placeholder","Description","formControlName","description",1,"form-control",3,"ngClass"],[1,""],[1,"col-md-12"],["formControlName","status",1,"form-control",3,"ngClass"],["value","","disabled",""],["value","1"],["value","2"],[1,"form-group","mt-3"],["type","submit",1,"btn","btn-primary","me-1"],["type","reset",1,"btn","btn-secondary"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(M,_){if(1&M){const j=l.EpF();l.TgZ(0,"div",0),l._UZ(1,"app-pagetitle",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),l._uU(9,"All Category"),l.qZA()(),l.TgZ(10,"li",7)(11,"button",9),l.NdJ("click",function(){l.CHM(j);const We=l.MAs(44);return l.KtG(_._addCategoryModal(We))}),l._uU(12," Add Category "),l.qZA()()(),l.TgZ(13,"div",10)(14,"table",11)(15,"thead")(16,"tr")(17,"th",12),l._uU(18,"Id"),l.qZA(),l.TgZ(19,"th",13),l._uU(20,"Name"),l.qZA(),l.TgZ(21,"th",14),l._uU(22,"Description"),l.qZA(),l.TgZ(23,"th",15),l._uU(24,"Stattus"),l.qZA(),l.TgZ(25,"th"),l._uU(26,"Action"),l.qZA()()(),l.TgZ(27,"tbody"),l.YNc(28,es,16,4,"tr",16),l.qZA()()(),l.TgZ(29,"div",17)(30,"div",18)(31,"div",19),l._uU(32),l.qZA()(),l.TgZ(33,"div",18)(34,"div",20)(35,"nav",21)(36,"ul",22)(37,"li",23),l.YNc(38,cr,2,0,"a",24),l.qZA(),l.TgZ(39,"li",23),l.YNc(40,Qi,2,0,"a",24),l.qZA()()()()()()()()()()(),l.YNc(41,or,40,13,"ng-template",null,25,l.W1O),l.YNc(43,Gn,40,13,"ng-template",null,26,l.W1O)}2&M&&(l.xp6(1),l.Q6J("breadcrumbItems",_.breadCrumbItems),l.xp6(27),l.Q6J("ngForOf",null==_.categoryModel?null:_.categoryModel.results),l.xp6(4),l.AsE(" Showing 1 to ",null==_.categoryModel?null:_.categoryModel.page_size," of ",null==_.categoryModel?null:_.categoryModel.count," entries "),l.xp6(6),l.Q6J("ngIf",null!=(null==_.categoryModel?null:_.categoryModel.previous)),l.xp6(2),l.Q6J("ngIf",null!=(null==_.categoryModel?null:_.categoryModel.next)))},dependencies:[f.mk,f.sg,f.O5,v._Y,v.YN,v.Kr,v.Fj,v.EJ,v.JJ,v.JL,v.sg,v.u,et,Xe._L,Xe._h]});const w=function(H){return{"is-invalid":H}};function I(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"div",35)(1,"h5",36),l._uU(2,"Add Category"),l.qZA(),l.TgZ(3,"button",37),l.NdJ("click",function(){const We=l.CHM(_).$implicit;return l.KtG(We.dismiss("Cross click"))}),l.qZA()(),l.TgZ(4,"div",38)(5,"div",39)(6,"div",2)(7,"div",40)(8,"div",4)(9,"div",5)(10,"form",41),l.NdJ("ngSubmit",function(){l.CHM(_);const be=l.oxw();return l.KtG(be._addProduct())}),l.TgZ(11,"div",42)(12,"label"),l._uU(13,"Category"),l.qZA(),l.TgZ(14,"select",43),l.YNc(15,Ge,2,1,"div",44),l.TgZ(16,"option",45),l._uU(17,"Select Category"),l.qZA(),l.YNc(18,lt,2,2,"option",46),l.qZA()(),l.TgZ(19,"div",42)(20,"label"),l._uU(21,"Name"),l.qZA(),l.TgZ(22,"div"),l._UZ(23,"input",47),l.YNc(24,ye,3,2,"div",44),l.qZA()(),l.TgZ(25,"div",42)(26,"label"),l._uU(27,"Description"),l.qZA(),l.TgZ(28,"div"),l._UZ(29,"input",48),l.YNc(30,u,3,2,"div",44),l.qZA()(),l.TgZ(31,"div",42)(32,"label",49),l._uU(33,"Status"),l.qZA(),l.TgZ(34,"div",50)(35,"select",51)(36,"option",45),l._uU(37,"Select status"),l.qZA(),l.TgZ(38,"option",52),l._uU(39,"Active"),l.qZA(),l.TgZ(40,"option",53),l._uU(41,"In active"),l.qZA()(),l.YNc(42,x,3,2,"div",44),l.qZA()(),l.TgZ(43,"div",54)(44,"div")(45,"button",55),l._uU(46," Submit "),l.qZA(),l.TgZ(47,"button",56),l._uU(48," Cancel "),l.qZA()()()()()()()()()()}if(2&H){const _=l.oxw();l.xp6(10),l.Q6J("formGroup",_.addProductForm),l.xp6(4),l.Q6J("ngClass",l.VKq(10,w,_.submitted&&_.addForm.category.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.addForm.category.errors),l.xp6(3),l.Q6J("ngForOf",_.categoryModel),l.xp6(5),l.Q6J("ngClass",l.VKq(12,w,_.submitted&&_.addForm.name.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.addForm.name.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(14,w,_.submitted&&_.addForm.description.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.addForm.description.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(16,w,_.submitted&&_.addForm.status.errors)),l.xp6(7),l.Q6J("ngIf",_.submitted&&_.addForm.status.errors)}}function P(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function N(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,P,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.category.errors.required)}}function F(H,M){if(1&H&&(l.TgZ(0,"option",59),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.s9C("value",_.id),l.xp6(1),l.hij(" ",null==_?null:_.name," ")}}function z(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function X(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Name must be at least 6 characters."),l.qZA())}function le(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,z,2,0,"span",58),l.YNc(2,X,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.name.errors.required),l.xp6(1),l.Q6J("ngIf",_.editForm.name.errors.minlength)}}function ie(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function me(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Description is required."),l.qZA())}function Ae(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,ie,2,0,"span",58),l.YNc(2,me,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.description.errors.required),l.xp6(1),l.Q6J("ngIf",_.editForm.description.errors.minlength)}}function Ve(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function D(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be the same."),l.qZA())}function Z(H,M){if(1&H&&(l.TgZ(0,"div",57),l.YNc(1,Ve,2,0,"span",58),l.YNc(2,D,2,0,"span",58),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editForm.status.errors.required),l.xp6(1),l.Q6J("ngIf",_.editForm.status.errors.mustMatch)}}function ce(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"div",35)(1,"h5",36),l._uU(2,"Add Category"),l.qZA(),l.TgZ(3,"button",37),l.NdJ("click",function(){const We=l.CHM(_).$implicit;return l.KtG(We.dismiss("Cross click"))}),l.qZA()(),l.TgZ(4,"div",38)(5,"div",39)(6,"div",2)(7,"div",40)(8,"div",4)(9,"div",5)(10,"form",41),l.NdJ("ngSubmit",function(){l.CHM(_);const be=l.oxw();return l.KtG(be._editProduct())}),l.TgZ(11,"div",42)(12,"label"),l._uU(13,"Category"),l.qZA(),l.TgZ(14,"select",43),l.YNc(15,N,2,1,"div",44),l.TgZ(16,"option",45),l._uU(17,"Select Category"),l.qZA(),l.YNc(18,F,2,2,"option",46),l.qZA()(),l.TgZ(19,"div",42)(20,"label"),l._uU(21,"Name"),l.qZA(),l.TgZ(22,"div"),l._UZ(23,"input",47),l.YNc(24,le,3,2,"div",44),l.qZA()(),l.TgZ(25,"div",42)(26,"label"),l._uU(27,"Description"),l.qZA(),l.TgZ(28,"div"),l._UZ(29,"input",48),l.YNc(30,Ae,3,2,"div",44),l.qZA()(),l.TgZ(31,"div",42)(32,"label",49),l._uU(33,"Status"),l.qZA(),l.TgZ(34,"div",50)(35,"select",51)(36,"option",45),l._uU(37,"Select status"),l.qZA(),l.TgZ(38,"option",52),l._uU(39,"Active"),l.qZA(),l.TgZ(40,"option",53),l._uU(41,"In active"),l.qZA()(),l.YNc(42,Z,3,2,"div",44),l.qZA()(),l.TgZ(43,"div",54)(44,"div")(45,"button",55),l._uU(46," Submit "),l.qZA(),l.TgZ(47,"button",56),l._uU(48," Cancel "),l.qZA()()()()()()()()()()}if(2&H){const _=l.oxw();l.xp6(10),l.Q6J("formGroup",_.editProductForm),l.xp6(4),l.Q6J("ngClass",l.VKq(10,w,_.submitted&&_.editForm.category.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editForm.category.errors),l.xp6(3),l.Q6J("ngForOf",_.categoryModel),l.xp6(5),l.Q6J("ngClass",l.VKq(12,w,_.submitted&&_.editForm.name.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editForm.name.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(14,w,_.submitted&&_.editForm.description.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editForm.description.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(16,w,_.submitted&&_.editForm.status.errors)),l.xp6(7),l.Q6J("ngIf",_.submitted&&_.editForm.status.errors)}}class xe{constructor(M,_,j,be){this.httpShareService=M,this.customAlert=_,this.formBuilder=j,this.modalService=be,this.submitted=!1}ngOnInit(){this.getAllProduct(1),this._getAllCategory(),this.addProductForm=this.formBuilder.group({status:["",[v.kI.required]],category:["",[v.kI.required]],name:["",[v.kI.required]],description:["",[v.kI.required]]}),this.editProductForm=this.formBuilder.group({status:["",[v.kI.required]],category:["",[v.kI.required]],name:["",[v.kI.required]],description:["",[v.kI.required]]})}_getAllCategory(){this.httpShareService.get(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_CAT_BASE_URL+Dn.N.IMS.CATEGORY_LIST_WITH_NO_PAGENATION,null).subscribe(_=>{this.categoryModel=_},_=>{this.error=_||"",this.customAlert.successmsg("An error Occured",`${_}`,"warning")})}get addForm(){return this.addProductForm.controls}get editForm(){return this.addProductForm.controls}getAllProduct(M,_){let j="";j=null!=_?_:Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_PRODUCT_BASE_URL+`?page=${M}`,console.log(j),this.httpShareService.get(j,null).subscribe(be=>{console.log(be),this.productModel=be},be=>{console.log(be)})}_addProduct(){console.log(this.addProductForm.value),this.submitted=!0,this.addProductForm.invalid||this.httpShareService.post(null,Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_PRODUCT_BASE_URL,this.addProductForm.value).subscribe(_=>{console.log(_),this.customAlert.successmsg("Success","Product Added Successfully","success"),this.getAllProduct(1)},_=>{this.customAlert.successmsg("An error Occured",`${_}`,"warning")})}_deleteProduct(M){this.httpShareService.delete(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_PRODUCT_BASE_URL+`?product_id=${M}`).subscribe(j=>{this.customAlert.successmsg("Success","Product Deleted Successfully","success"),this.getAllProduct(1)},j=>{this.customAlert.successmsg("An error Occured",`${j}`,"warning")})}_comfirmAndDelete(M){Oi().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#ff3d60",confirmButtonText:"Yes, delete it!"}).then(_=>{_.value&&this._deleteProduct(M)})}addProductModal(M){this.modalService.open(M,{scrollable:!0,size:"lg"})}editProductModal(M,_){this.modalService.open(M,{scrollable:!0,size:"lg"}),this._feedEditProductForm(_)}_feedEditProductForm(M){this.productDetails=M,this.editProductForm.patchValue({status:M.status,category:M.category,name:M.name,description:M.description})}_editProduct(){console.log(this.editProductForm.value),this.httpShareService.put(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_PRODUCT_BASE_URL+`?product_id=${this.productDetails.id}`,this.editProductForm.value,null).subscribe(_=>{this.customAlert.successmsg("Success","Product Edited Successfully","success"),this.getAllProduct(1)},_=>{this.customAlert.successmsg("An error Occured",`${_}`,"warning")})}}var Pe;function ze(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),l._UZ(4,"img",9),l.TgZ(5,"div",10)(6,"h5",11)(7,"a",12),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw();return l.KtG(dt.gotoStockItems(We.id))}),l._uU(8),l.qZA()(),l.TgZ(9,"small",13),l._uU(10),l.qZA(),l.TgZ(11,"p",13),l._UZ(12,"i",14),l._uU(13),l.qZA()()(),l._UZ(14,"hr",15),l.TgZ(15,"div",16)(16,"div",17)(17,"p",18),l._uU(18,"Products"),l.qZA(),l.TgZ(19,"h5"),l._uU(20),l.qZA()(),l.TgZ(21,"div",17)(22,"p",18),l._uU(23,"TEOP"),l.qZA(),l.TgZ(24,"h5"),l._uU(25),l.qZA()()()()()()}if(2&H){const _=M.$implicit;l.xp6(4),l.s9C("src",_.image,l.LSH),l.xp6(4),l.Oqu(_.name),l.xp6(2),l.Oqu(_.date_created),l.xp6(3),l.hij(" ",_.create_by.username," "),l.xp6(7),l.Oqu(_.total_products),l.xp6(5),l.hij("",_.total_estmated_profit,"/=")}}function Ke(H,M){1&H&&(l.TgZ(0,"div",2)(1,"div",19)(2,"div",20)(3,"a",21),l._UZ(4,"i",22),l._uU(5," Loading... "),l.qZA()()()())}(Gi=xe).\u0275fac=function(M){return new(M||Gi)(l.Y36(Hi.F),l.Y36(xr.y),l.Y36(v.QS),l.Y36(Xe.FF))},Gi.\u0275cmp=l.Xpm({type:Gi,selectors:[["app-products"]],decls:45,vars:5,consts:[[1,"container-fluid"],["title","Categories"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"nav","nav-tabs","nav-tabs-custom","mb-4"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link","fw-bold","p-3","active"],["type","button",1,"btn","btn-primary","btn-rounded",3,"click"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-centered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],["sortable","id"],["sortable","name"],["sortable","description"],["sortable","status"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-end","float-md-end","pagination-rounded"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["style","cursor: pointer","class","page-link","tabindex","-1",3,"click",4,"ngIf"],["addModal",""],["editModal",""],[1,"text-dark","fw-bold"],[3,"result"],[3,"result",4,"ngIf"],["placement","top","ngbTooltip","Edit",1,"me-3","text-primary",2,"background-color","rgb(227, 227, 21)","border-radius","50%","padding","10px","margin","2px",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["placement","top","ngbTooltip","Delete",1,"text-danger",2,"background-color","rgb(239, 231, 231)","border-radius","50%","padding","10px","margin","2px",3,"click"],[1,"mdi","mdi-trash-can","font-size-18"],["tabindex","-1",1,"page-link",2,"cursor","pointer",3,"click"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"p-2","mb-3"],[1,"col-lg-12"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","category","placeholder","Category Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Name","formControlName","name",1,"form-control",3,"ngClass"],["type","text","placeholder","Description","formControlName","description",1,"form-control",3,"ngClass"],[1,""],[1,"col-md-12"],["formControlName","status",1,"form-control",3,"ngClass"],["value","1"],["value","2"],[1,"form-group","mt-3"],["type","submit",1,"btn","btn-primary","me-1"],["type","reset",1,"btn","btn-secondary"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(M,_){if(1&M){const j=l.EpF();l.TgZ(0,"div",0),l._UZ(1,"app-pagetitle",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),l._uU(9,"All product"),l.qZA()(),l.TgZ(10,"li",7)(11,"button",9),l.NdJ("click",function(){l.CHM(j);const We=l.MAs(42);return l.KtG(_.addProductModal(We))}),l._uU(12," Add product "),l.qZA()()(),l.TgZ(13,"div",10)(14,"table",11)(15,"thead")(16,"tr")(17,"th",12),l._uU(18,"Id"),l.qZA(),l.TgZ(19,"th",13),l._uU(20,"Name"),l.qZA(),l.TgZ(21,"th",14),l._uU(22,"Description"),l.qZA(),l.TgZ(23,"th",15),l._uU(24,"Stattus"),l.qZA(),l.TgZ(25,"th"),l._uU(26,"Action"),l.qZA()()(),l.TgZ(27,"tbody"),l.YNc(28,ot,16,5,"tr",16),l.qZA()()(),l.TgZ(29,"div",17)(30,"div",18)(31,"div",19),l._uU(32),l.qZA()(),l.TgZ(33,"div",18)(34,"div",20)(35,"nav",21)(36,"ul",22)(37,"li",23),l.YNc(38,ne,2,0,"a",24),l.qZA(),l.TgZ(39,"li",23),l.YNc(40,de,2,0,"a",24),l.qZA()()()()()()()()()()(),l.YNc(41,I,49,18,"ng-template",null,25,l.W1O),l.YNc(43,ce,49,18,"ng-template",null,26,l.W1O)}2&M&&(l.xp6(28),l.Q6J("ngForOf",null==_.productModel?null:_.productModel.results),l.xp6(4),l.AsE(" Showing 1 to ",null==_.productModel?null:_.productModel.page_size," of ",null==_.productModel?null:_.productModel.count," entries "),l.xp6(6),l.Q6J("ngIf",null!=(null==_.productModel?null:_.productModel.previous)),l.xp6(2),l.Q6J("ngIf",null!=(null==_.productModel?null:_.productModel.next)))},dependencies:[f.mk,f.sg,f.O5,v._Y,v.YN,v.Kr,v.Fj,v.EJ,v.JJ,v.JL,v.sg,v.u,et,Xe._L,Xe._h]});class st{ngOnInit(){this.getAllStock()}constructor(M,_,j,be,We){this.httpShareService=M,this.customAlert=_,this.formBuilder=j,this.modalService=be,this.router=We,this.stockLodding=!1}getAllStock(){this.stockLodding=!0,this.httpShareService.get(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_BASE_URL,null).subscribe(_=>{this.stockLodding=!1,this.stockModel=_},_=>{this.stockLodding=!1,this.customAlert.successmsg("Error in fetching stock details","Something went wrong, please try again later","error")})}gotoStockItems(M){this.router.navigate(["/stock-items",M])}}(Pe=st).\u0275fac=function(M){return new(M||Pe)(l.Y36(Hi.F),l.Y36(xr.y),l.Y36(v.QS),l.Y36(Xe.FF),l.Y36(tt.F0))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-stock"]],decls:5,vars:2,consts:[[1,"container-fluid"],["title","Stocks"],[1,"row"],["class","col-xl-3 col-sm-6",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-xl-3","col-sm-6"],[1,"card"],[1,"card-body"],[1,"text-center"],["alt","",1,"avatar-sm","mt-2","mb-4",3,"src"],[1,"flex-1"],[1,"text-truncate"],[1,"text-primary",3,"click"],[1,"text-muted"],[1,"mdi","mdi-account","me-1"],[1,"my-4"],[1,"row","text-center"],[1,"col-6"],[1,"text-muted","mb-2"],[1,"col-xl-12"],[1,"text-center","my-3"],["href","javascript:void(0);",1,"text-primary"],[1,"mdi","mdi-loading","mdi-spin","font-size-20","align-middle","me-2"]],template:function(M,_){1&M&&(l.TgZ(0,"div",0),l._UZ(1,"app-pagetitle",1),l.TgZ(2,"div",2),l.YNc(3,ze,26,6,"div",3),l.qZA(),l.YNc(4,Ke,6,0,"div",4),l.qZA()),2&M&&(l.xp6(3),l.Q6J("ngForOf",_.stockModel),l.xp6(1),l.Q6J("ngIf",_.stockLodding))},dependencies:[f.sg,f.O5,et]});var $t,Ht,Qn,Tt=ue(1135);class zt{constructor(){this._salesState=new Tt.X(null),this._currentStockItemState=new Tt.X(null),this._stockItemList=new Tt.X(null),this._stockSalesList=new Tt.X(null),this._currentStock=new Tt.X(null)}get salesState$(){return this._salesState.asObservable()}get currentStockItemState$(){return this._currentStockItemState.asObservable()}get stockItemList$(){return this._stockItemList.asObservable()}get stockSalesList$(){return this._stockSalesList.asObservable()}get currentStock$(){return this._currentStock.asObservable()}setSalesState(M){this._salesState.next(M)}setCurrentStockItemState(M){this._currentStockItemState.next(M)}setStockItemListState(M){this._stockItemList.next(M)}setStockSalesListState(M){this._stockSalesList.next(M)}setCurrentStockState(M){this._currentStock.next(M)}}($t=zt).\u0275fac=function(M){return new(M||$t)},$t.\u0275prov=l.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"root"});class zn{constructor(M){this.httpShareService=M}getList(M,_,j){this.httpShareService.get(M,null).subscribe(be=>{_(be)},be=>{j(be)})}getSingle(M,_,j){this.httpShareService.get(M,null).subscribe(be=>{_(be)},be=>{j(be)})}}function di(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function xi(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,di,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.product.errors.required)}}function ji(H,M){if(1&H&&(l.TgZ(0,"option",24),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.Q6J("value",_.id),l.xp6(1),l.hij(" ",_.name," ")}}function pi(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function $i(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity must be at least 6 characters."),l.qZA())}function wr(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,pi,2,0,"span",23),l.YNc(2,$i,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.qty.errors.required),l.xp6(1),l.Q6J("ngIf",_.addStockItemform.qty.errors.minlength)}}function Ss(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function As(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity_in must be at least 6 characters."),l.qZA())}function ss(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,Ss,2,0,"span",23),l.YNc(2,As,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.qty_in.errors.required),l.xp6(1),l.Q6J("ngIf",_.addStockItemform.qty_in.errors.minlength)}}function kr(H,M){if(1&H&&(l.TgZ(0,"option",24),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.Q6J("value",_.id),l.xp6(1),l.hij(" ",_.name," ")}}function zi(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Qs(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be a valid unit estmated profit."),l.qZA())}function ai(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,zi,2,0,"span",23),l.YNc(2,Qs,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.unit_price.errors.required),l.xp6(1),l.Q6J("ngIf",_.addStockItemform.unit_price.errors.pattern)}}function gr(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function ar(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity_in must be at least 6 characters."),l.qZA())}function gs(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,gr,2,0,"span",23),l.YNc(2,ar,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.unit_selling_price.errors.required),l.xp6(1),l.Q6J("ngIf",_.addStockItemform.unit_selling_price.errors.minlength)}}function cs(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Or(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be a valid unit estmated profit."),l.qZA())}function Lo(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,cs,2,0,"span",23),l.YNc(2,Or,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.unit_estmated_profit.errors.required),l.xp6(1),l.Q6J("ngIf",_.addStockItemform.unit_estmated_profit.errors.pattern)}}function Ns(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ls(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be a valid status."),l.qZA())}function ms(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,Ns,2,0,"span",23),l.YNc(2,Ls,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.status.errors.required),l.xp6(1),l.Q6J("ngIf",_.addStockItemform.status.errors.pattern)}}function Er(H,M){if(1&H&&(l.TgZ(0,"option",24),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.Q6J("value",_.id),l.xp6(1),l.hij(" ",_.name," ")}}function Fs(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function _s(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be date_created."),l.qZA())}function yo(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,Fs,2,0,"span",23),l.YNc(2,_s,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.date_created.errors.required),l.xp6(1),l.Q6J("ngIf",_.addStockItemform.date_created.errors.pattern)}}function so(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ys(H,M){if(1&H&&(l.TgZ(0,"div",22),l.YNc(1,so,2,0,"span",23),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.addStockItemform.description.errors.required)}}(Ht=zn).\u0275fac=function(M){return new(M||Ht)(l.LFG(Hi.F))},Ht.\u0275prov=l.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"});const lr=function(H){return{"is-invalid":H}};class bs{constructor(M,_,j,be){this.formBuilder=M,this.httpShareService=_,this.customAlert=j,this.modalService=be,this.STATUS=[{id:"1",name:"in-stock"},{id:"2",name:"out-stock"}],this.SI_UNIT_CHOICES=[{id:"m",name:"Meter (m)"},{id:"kg",name:"Kilogram (kg)"},{id:"g",name:"Gram (g)"},{id:"just_no",name:"just_no"},{id:"pic",name:"Pic"}]}ngOnInit(){this.breadCrumbItems=[{label:"Forms"},{label:"Form Validation",active:!0}],this.addNewStockItemForm=this.formBuilder.group({product:["",[v.kI.required]],description:["",[v.kI.required]],qty:["",[v.kI.required]],qty_in:["",[v.kI.required]],unit_price:["",[v.kI.required]],unit_estmated_profit:["",[v.kI.required]],unit_selling_price:["",[v.kI.required]],status:["",[v.kI.required]],date_created:["",[v.kI.required]]}),this.submit=!1,this.getProductsList()}get addStockItemform(){return this.addNewStockItemForm.controls}addStockItemSubmit(){if(this.submit=!0,this.addNewStockItemForm.invalid)return;const M={product:this.addNewStockItemForm.value.product,stock:this.stockId,description:this.addNewStockItemForm.value.description,qty:this.addNewStockItemForm.value.qty,qty_in:this.addNewStockItemForm.value.qty_in,unit_price:this.addNewStockItemForm.value.unit_price,unit_selling_price:this.addNewStockItemForm.value.unit_selling_price,unit_estmated_profit:this.addNewStockItemForm.value.unit_estmated_profit,status:this.addNewStockItemForm.value.status,date_created:this.addNewStockItemForm.value.date_created},_=Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_ITEMS_BASE_URL;console.log(this.addNewStockItemForm.value),console.log(_),this.httpShareService.post(null,_,M).subscribe(j=>{this.customAlert.successmsg("Stock Item Added","Stock Item Added Successfully","success")},j=>{this.error=j||"",this.customAlert.successmsg("An error Occured",`${j}`,"warning")})}getProductsList(){this.httpShareService.get(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_PRODUCT_LIST_WITH_NO_PAGENATION,null).subscribe(_=>{this.productsModel=_},_=>{this.error=_||"",this.customAlert.successmsg("An error Occured",`${_}`,"warning")})}}var Fo;function Fi(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Be(H,M){if(1&H&&(l.TgZ(0,"div",43),l.YNc(1,Fi,2,0,"span",44),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.salesForm.stock_item.errors.required)}}function Ce(H,M){if(1&H&&(l.TgZ(0,"option",45),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.Q6J("value",_.id),l.xp6(1),l.AsE(" ",_.product.name,"-",_.stock.name," ")}}function fe(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ue(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity_in must be at least 6 characters."),l.qZA())}function ut(H,M){if(1&H&&(l.TgZ(0,"div",43),l.YNc(1,fe,2,0,"span",44),l.YNc(2,Ue,2,0,"span",44),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.salesForm.quantity_sold.errors.required),l.xp6(1),l.Q6J("ngIf",_.salesForm.quantity_sold.errors.minlength)}}function Pt(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function sn(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity_in must be at least 6 characters."),l.qZA())}function wn(H,M){if(1&H&&(l.TgZ(0,"div",43),l.YNc(1,Pt,2,0,"span",44),l.YNc(2,sn,2,0,"span",44),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.salesForm.price.errors.required),l.xp6(1),l.Q6J("ngIf",_.salesForm.price.errors.minlength)}}function yi(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ai(H,M){if(1&H&&(l.TgZ(0,"div",43),l.YNc(1,yi,2,0,"span",44),l.qZA()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngIf",_.salesForm.reason_for_change.errors.required)}}function hi(H,M){1&H&&(l.TgZ(0,"span",46),l._uU(1," No quantity to sell "),l.qZA())}function Yr(H,M){if(1&H&&(l.TgZ(0,"tr")(1,"th",47),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA()()),2&H){const _=M.$implicit;let j,be;l.xp6(2),l.Oqu(_.stock_item.product.name),l.xp6(2),l.Oqu(null!==(j=null==_?null:_.total_price)&&void 0!==j?j:0),l.xp6(2),l.Oqu(null!==(be=null==_?null:_.total_revenue)&&void 0!==be?be:0)}}(Qn=bs).\u0275fac=function(M){return new(M||Qn)(l.Y36(v.QS),l.Y36(Hi.F),l.Y36(xr.y),l.Y36(Xe.FF))},Qn.\u0275cmp=l.Xpm({type:Qn,selectors:[["app-add-new-stock-item"]],inputs:{stockId:"stockId"},decls:85,vars:40,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-md-6"],["type","text","formControlName","product","placeholder","Type something",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","Enter Quantity","formControlName","qty",1,"form-control",3,"ngClass"],["type","text","placeholder","qty in  ","formControlName","qty_in",1,"form-control",3,"ngClass"],["type","text","formControlName","unit_price","placeholder","unit price",1,"form-control",3,"ngClass"],["type","text","placeholder","unit selling price","formControlName","unit_selling_price",1,"form-control",3,"ngClass"],["type","text","formControlName","unit_estmated_profit","placeholder","Enter only unit estmated profit",1,"form-control",3,"ngClass"],["type","url","placeholder","status","formControlName","status",1,"form-control",3,"ngClass"],["formControlName","date_created","type","date","placeholder","Enter only date_created",1,"form-control",3,"ngClass"],["formControlName","description","rows","5",1,"form-control",3,"ngClass"],[1,"form-group","mb-0"],["type","submit",1,"btn","btn-primary","me-1"],["type","reset",1,"btn","btn-secondary"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(M,_){1&M&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),l.NdJ("ngSubmit",function(){return _.addStockItemSubmit()}),l.TgZ(5,"div",5)(6,"div",0)(7,"div",6)(8,"label"),l._uU(9,"Product to add"),l.qZA(),l.TgZ(10,"select",7),l.YNc(11,xi,2,1,"div",8),l.TgZ(12,"option",9),l._uU(13,"Select Product"),l.qZA(),l.YNc(14,ji,2,2,"option",10),l.qZA()(),l.TgZ(15,"div",6)(16,"div",5)(17,"div",0)(18,"label"),l._uU(19,"Qty"),l.qZA(),l.TgZ(20,"div",6)(21,"div"),l._UZ(22,"input",11),l.YNc(23,wr,3,2,"div",8),l.qZA()(),l.TgZ(24,"div",6)(25,"div")(26,"select",12),l.YNc(27,ss,3,2,"div",8),l.TgZ(28,"option",9),l._uU(29," Select qty in "),l.qZA(),l.YNc(30,kr,2,2,"option",10),l.qZA()()()()()()()(),l._UZ(31,"hr"),l.TgZ(32,"div",5)(33,"div",0)(34,"div",6)(35,"label"),l._uU(36,"Unit price"),l.qZA(),l.TgZ(37,"div"),l._UZ(38,"input",13),l.YNc(39,ai,3,2,"div",8),l.qZA()(),l.TgZ(40,"div",6)(41,"label"),l._uU(42,"unit selling price"),l.qZA(),l.TgZ(43,"div"),l._UZ(44,"input",14),l.YNc(45,gs,3,2,"div",8),l.qZA()()()(),l._UZ(46,"hr"),l.TgZ(47,"div",5)(48,"div",0)(49,"div",6)(50,"label"),l._uU(51,"Unit estmated profit"),l.qZA(),l.TgZ(52,"div"),l._UZ(53,"input",15),l.YNc(54,Lo,3,2,"div",8),l.qZA()()()(),l._UZ(55,"hr"),l.TgZ(56,"div",5)(57,"div",0)(58,"div",6)(59,"label"),l._uU(60,"status"),l.qZA(),l.TgZ(61,"div")(62,"select",16),l.YNc(63,ms,3,2,"div",8),l.TgZ(64,"option",9),l._uU(65,"Select status"),l.qZA(),l.YNc(66,Er,2,2,"option",10),l.qZA()()(),l.TgZ(67,"div",6)(68,"label"),l._uU(69,"Create date"),l.qZA(),l.TgZ(70,"div"),l._UZ(71,"input",17),l.YNc(72,yo,3,2,"div",8),l.qZA()()()(),l.TgZ(73,"div",5)(74,"label"),l._uU(75,"description"),l.qZA(),l.TgZ(76,"div"),l._UZ(77,"textarea",18),l.YNc(78,Ys,2,1,"div",8),l.qZA()(),l.TgZ(79,"div",19)(80,"div")(81,"button",20),l._uU(82,"Submit"),l.qZA(),l.TgZ(83,"button",21),l._uU(84,"Cancel"),l.qZA()()()()()()()()),2&M&&(l.xp6(4),l.Q6J("formGroup",_.addNewStockItemForm),l.xp6(6),l.Q6J("ngClass",l.VKq(22,lr,_.submit&&_.addStockItemform.product.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.product.errors),l.xp6(3),l.Q6J("ngForOf",_.productsModel),l.xp6(8),l.Q6J("ngClass",l.VKq(24,lr,_.submit&&_.addStockItemform.qty.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.qty.errors),l.xp6(3),l.Q6J("ngClass",l.VKq(26,lr,_.submit&&_.addStockItemform.qty_in.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.qty_in.errors),l.xp6(3),l.Q6J("ngForOf",_.SI_UNIT_CHOICES),l.xp6(8),l.Q6J("ngClass",l.VKq(28,lr,_.submit&&_.addStockItemform.unit_price.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.unit_price.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(30,lr,_.submit&&_.addStockItemform.unit_selling_price.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.unit_selling_price.errors),l.xp6(8),l.Q6J("ngClass",l.VKq(32,lr,_.submit&&_.addStockItemform.unit_estmated_profit.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.unit_estmated_profit.errors),l.xp6(8),l.Q6J("ngClass",l.VKq(34,lr,_.submit&&_.addStockItemform.status.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.status.errors),l.xp6(3),l.Q6J("ngForOf",_.STATUS),l.xp6(5),l.Q6J("ngClass",l.VKq(36,lr,_.submit&&_.addStockItemform.date_created.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.date_created.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(38,lr,_.submit&&_.addStockItemform.description.errors)),l.xp6(1),l.Q6J("ngIf",_.submit&&_.addStockItemform.description.errors))},dependencies:[f.mk,f.sg,f.O5,v._Y,v.YN,v.Kr,v.Fj,v.wV,v.EJ,v.JJ,v.JL,v.sg,v.u]});const Hr=function(H){return{"is-invalid":H}};class Bs{constructor(M,_,j,be,We,dt,Mn){this.httpShareService=M,this.customAlert=_,this.formBuilder=j,this.modalService=be,this.route=We,this.moduleStateService=dt,this.repositoryService=Mn,this.submitted=!1,this.isSalesDisabled=!1,this.priceChanged=!1}ngOnInit(){this.createSalesForm=this.formBuilder.group({stock_item:["",[v.kI.required]],quantity_sold:["",[v.kI.required]],price:["",[v.kI.required]],product_price_changed:[!1,[v.kI.required]],reason_for_change:["",[v.kI.required]]}),this.submitted=!1,this.createSalesForm.get("reason_for_change").disable(),this.createSalesForm.get("price").disable(),this.moduleStateService.salesState$.subscribe(M=>{this.stockItemSales=M}),this.moduleStateService.currentStockItemState$.subscribe(M=>{null!==M&&(this.curentStockItem=M,this.feedTheForm(M))}),this.moduleStateService.stockItemList$.subscribe(M=>{null!==M&&(this.stockItemModelList=M,console.log(this.stockItemModelList))})}get salesForm(){return this.createSalesForm.controls}createSalesFormSubmit(){this.submitted=!0,console.log(this.createSalesForm.value),this.httpShareService.post(null,Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_SALES_BASE_URL+`?stock_item_id=${this.curentStockItem.id}`,{stock_item:this.createSalesForm.value.stock_item,quantity_sold:this.createSalesForm.value.quantity_sold,price:this.curentStockItem.unit_selling_price,product_price_changed:!1,reason_for_change:""}).subscribe(j=>{console.log(j),this.customAlert.successmsg("Success","Sales created successfully","success"),this.getStockItemSales(),this.submitted=!1},j=>{this.customAlert.successmsg("Error in creating sales","Something went wrong, please try again later","error"),this.submitted=!1})}feedTheForm(M){this.createSalesForm.patchValue({stock_item:M?.id,price:M?.unit_selling_price,product_price_changed:!1,reason_for_change:""}),0===M.qty?(console.log("sales disabled"),console.log(M),console.log(M.qty),this.isSalesDisabled=!0):this.isSalesDisabled=!1}onCheckboxChange(M){this.priceChanged=M.target.checked,this.priceChanged?(this.createSalesForm.get("reason_for_change").enable(),this.createSalesForm.get("price").enable()):(this.createSalesForm.get("reason_for_change").disable(),this.createSalesForm.get("price").disable())}getStockItemSales(){this.repositoryService.getList(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_SALES_BASE_URL+`?stock_item_id=${this.curentStockItem.id}`,_=>{this.stockItemSales=_,this.moduleStateService.setSalesState(_),this.getCurrentStockItemState()},_=>{this.customAlert.successmsg("Error in fetching stock details","Something went wrong, please try again later","error")})}getCurrentStockItemState(){this.repositoryService.getSingle(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_ITEM_OBJ+`?stock_item_id=${this.curentStockItem.id}`,_=>{this.moduleStateService.setCurrentStockItemState(_),this.feedTheForm(_)},_=>{this.customAlert.successmsg("Error in fetching stock details","Something went wrong, please try again later","error")})}}var xs;function oo(H,M){1&H&&l._UZ(0,"ngb-highlight",18),2&H&&l.Q6J("result","in-stock")}function ha(H,M){1&H&&l._UZ(0,"ngb-highlight",18),2&H&&l.Q6J("result","Out of stock")}(Fo=Bs).\u0275fac=function(M){return new(M||Fo)(l.Y36(Hi.F),l.Y36(xr.y),l.Y36(v.QS),l.Y36(Xe.FF),l.Y36(tt.gz),l.Y36(zt),l.Y36(zn))},Fo.\u0275cmp=l.Xpm({type:Fo,selectors:[["app-sales"]],decls:103,vars:31,consts:[[1,"container-fluid"],["title","Sales"],[1,"row"],[1,"col-lg-8"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-lg-4"],[1,"form-group","mb-4"],["for","billing-name"],["type","text","formControlName","stock_item","placeholder","Select stock item",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","billing-email-address"],[1,"text-success"],["type","text","formControlName","quantity_sold",1,"form-control",3,"placeholder","ngClass"],[1,"col-lg-12"],["for","price"],["type","text","placeholder","Selling price","formControlName","price",1,"form-control",3,"ngClass"],[1,"col-lg-6"],[1,"form-group","mb-4","mb-lg-0"],[1,"col-md-12","ms-auto"],[1,"mt-4","mt-lg-0"],[1,"form-check","mb-3"],["type","checkbox","formControlName","product_price_changed","id","customCheck1",1,"form-check-input",3,"change"],["for","customCheck1",1,"form-check-label"],["formControlName","reason_for_change","rows","2",1,"form-control",3,"ngClass"],[1,"row","mb-4","mt-4"],[1,"col-md-6"],["type","submit",1,"btn","btn-primary","me-1",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"card","checkout-order-summary"],[1,"p-3","bg-light","mb-4"],[1,"font-size-14","mb-0"],[1,"float-end","ms-2"],[1,"table-responsive"],[1,"table","table-centered","mb-0","table-nowrap"],["scope","col",1,"border-top-0",2,"width","110px"],["scope","col",1,"border-top-0"],[4,"ngFor","ngForOf"],[1,"bg-light","text-end"],["scope","row","colspan","3"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"text-danger"],["scope","row"]],template:function(M,_){1&M&&(l.TgZ(0,"div",0),l._UZ(1,"app-pagetitle",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),l.NdJ("ngSubmit",function(){return _.createSalesFormSubmit()}),l.TgZ(7,"div")(8,"div",2)(9,"div",7)(10,"div",8)(11,"label",9),l._uU(12,"stock item"),l.qZA(),l.TgZ(13,"select",10),l.YNc(14,Be,2,1,"div",11),l.TgZ(15,"option",12),l._uU(16," Select stock item "),l.qZA(),l.YNc(17,Ce,2,3,"option",13),l.qZA()()(),l.TgZ(18,"div",3)(19,"div",8)(20,"label",14),l._uU(21," Available Quantity - "),l.TgZ(22,"span",15),l._uU(23),l.qZA()(),l._UZ(24,"input",16),l.YNc(25,ut,3,2,"div",11),l.qZA()()(),l.TgZ(26,"div",2)(27,"div",17)(28,"div",8)(29,"label",18),l._uU(30,"Selling price"),l.qZA(),l._UZ(31,"input",19),l.YNc(32,wn,3,2,"div",11),l.qZA()()(),l.TgZ(33,"div",2)(34,"div",20)(35,"div",21)(36,"div",22)(37,"div",23)(38,"div",24)(39,"input",25),l.NdJ("change",function(be){return _.onCheckboxChange(be)}),l.qZA(),l.TgZ(40,"label",26),l._uU(41,"Is price Changed?"),l.qZA()()()()()(),l.TgZ(42,"div",20)(43,"label",18),l._uU(44,"Reason for Changes"),l.qZA(),l.TgZ(45,"div"),l._UZ(46,"textarea",27),l.YNc(47,Ai,2,1,"div",11),l.qZA()()(),l.TgZ(48,"div",28)(49,"div",29)(50,"button",30),l._uU(51," Submit "),l.qZA(),l.YNc(52,hi,2,0,"span",31),l.qZA()()()()()()(),l.TgZ(53,"div",7)(54,"div",32)(55,"div",5)(56,"div",33)(57,"h5",34),l._uU(58," Item Sales Summary "),l.TgZ(59,"span",35),l._uU(60),l.qZA()()(),l.TgZ(61,"div",36)(62,"table",37)(63,"thead")(64,"tr")(65,"th",38),l._uU(66," Product "),l.qZA(),l.TgZ(67,"th",39),l._uU(68,"UCS"),l.qZA(),l.TgZ(69,"th",39),l._uU(70,"UCR"),l.qZA()()(),l.TgZ(71,"tbody"),l.YNc(72,Yr,7,3,"tr",40),l.qZA()(),l._UZ(73,"hr"),l.TgZ(74,"h4"),l._uU(75,"Summary"),l.qZA(),l.TgZ(76,"table")(77,"tbody")(78,"tr",41)(79,"th",42),l._uU(80,"Total Item estimated profit :"),l.qZA(),l.TgZ(81,"td",15),l._uU(82),l.qZA()(),l.TgZ(83,"tr",41)(84,"th",42),l._uU(85,"Total item estimated sales:"),l.qZA(),l.TgZ(86,"td",15),l._uU(87),l.qZA()(),l.TgZ(88,"tr",41)(89,"th",42),l._uU(90,"Total stock Current Profit:"),l.qZA(),l.TgZ(91,"td",15),l._uU(92),l.qZA()(),l.TgZ(93,"tr",41)(94,"th",42),l._uU(95,"Total stock estmated Profit"),l.qZA(),l.TgZ(96,"td",15),l._uU(97),l.qZA()(),l.TgZ(98,"tr",41)(99,"th",42),l._uU(100,"Total stock sales"),l.qZA(),l.TgZ(101,"td",15),l._uU(102),l.qZA()()()()()()()()()()),2&M&&(l.xp6(6),l.Q6J("formGroup",_.createSalesForm),l.xp6(7),l.Q6J("ngClass",l.VKq(23,Hr,_.submitted&&_.salesForm.stock_item.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.salesForm.stock_item.errors),l.xp6(3),l.Q6J("ngForOf",_.stockItemModelList),l.xp6(6),l.AsE("",null==_.curentStockItem?null:_.curentStockItem.qty,"",null==_.curentStockItem?null:_.curentStockItem.qty_in,""),l.xp6(1),l.hYB("placeholder","Enter Quantity to be sold, must be less than or equal to ",null==_.curentStockItem?null:_.curentStockItem.qty,"",null==_.curentStockItem?null:_.curentStockItem.qty_in,""),l.Q6J("ngClass",l.VKq(25,Hr,_.submitted&&_.salesForm.quantity_sold.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.salesForm.quantity_sold.errors),l.xp6(6),l.Q6J("ngClass",l.VKq(27,Hr,_.submitted&&_.salesForm.price.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.salesForm.price.errors),l.xp6(14),l.Q6J("ngClass",l.VKq(29,Hr,_.submitted&&_.salesForm.reason_for_change.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.salesForm.reason_for_change.errors),l.xp6(3),l.Q6J("disabled",_.isSalesDisabled),l.xp6(2),l.Q6J("ngIf",_.isSalesDisabled),l.xp6(8),l.hij(" From: ",null==_.curentStockItem||null==_.curentStockItem.stock?null:_.curentStockItem.stock.name,""),l.xp6(12),l.Q6J("ngForOf",_.stockItemSales),l.xp6(10),l.hij(" ",null==_.curentStockItem?null:_.curentStockItem.total_estmated_profit," /= "),l.xp6(5),l.hij(" ",null==_.curentStockItem?null:_.curentStockItem.total_selling_price," /= "),l.xp6(5),l.hij(" ",null==_.curentStockItem||null==_.curentStockItem.stock?null:_.curentStockItem.stock.total_sales_revenue,"/= "),l.xp6(5),l.hij(" ",null==_.curentStockItem||null==_.curentStockItem.stock?null:_.curentStockItem.stock.total_estmated_profit,"/= "),l.xp6(5),l.hij(" ",null==_.curentStockItem||null==_.curentStockItem.stock?null:_.curentStockItem.stock.total_sales,"/= "))},dependencies:[f.mk,f.sg,f.O5,v._Y,v.YN,v.Kr,v.Fj,v.Wl,v.EJ,v.JJ,v.JL,v.sg,v.u,et]});const fa=function(H,M){return{"bg-danger-subtle text-danger":H,"bg-success-subtle text-success":M}};function ws(H,M){if(1&H&&(l.TgZ(0,"tr")(1,"td")(2,"a",17),l._UZ(3,"ngb-highlight",18),l.qZA()(),l.TgZ(4,"td"),l._UZ(5,"ngb-highlight",18),l.qZA(),l.TgZ(6,"td")(7,"div",19),l._UZ(8,"ngb-highlight",18),l.qZA()(),l.TgZ(9,"td")(10,"b",20),l._uU(11),l.qZA()(),l.TgZ(12,"td"),l._UZ(13,"ngb-highlight",18),l.qZA(),l.TgZ(14,"td"),l._UZ(15,"ngb-highlight",18),l.qZA(),l.TgZ(16,"td"),l._UZ(17,"ngb-highlight",18),l.qZA(),l.TgZ(18,"td"),l._UZ(19,"ngb-highlight",18),l.qZA(),l.TgZ(20,"td"),l._UZ(21,"ngb-highlight",18),l.qZA(),l.TgZ(22,"td")(23,"div",19),l.YNc(24,oo,1,1,"ngb-highlight",21),l.YNc(25,ha,1,1,"ngb-highlight",21),l.qZA()(),l.TgZ(26,"td")(27,"a",22),l._UZ(28,"i",23),l.qZA()()()),2&H){const _=M.$implicit;l.xp6(3),l.Q6J("result",_.id),l.xp6(2),l.Q6J("result",null==_||null==_.stock_item||null==_.stock_item.stock?null:_.stock_item.stock.name),l.xp6(2),l.Q6J("ngClass",l.WLB(14,fa,"2"===(null==_||null==_.stock_item?null:_.stock_item.product.status),"1"===(null==_||null==_.stock_item?null:_.stock_item.product.status))),l.xp6(1),l.Q6J("result",null==_||null==_.stock_item?null:_.stock_item.product.name),l.xp6(3),l.AsE("",null==_?null:_.quantity_sold," (",null==_||null==_.stock_item?null:_.stock_item.qty_in,")"),l.xp6(2),l.Q6J("result",null==_||null==_.stock_item?null:_.stock_item.unit_price),l.xp6(2),l.Q6J("result",null==_.stock_item?null:_.stock_item.unit_selling_price),l.xp6(2),l.Q6J("result",null==_||null==_.stock_item?null:_.stock_item.total_selling_price),l.xp6(2),l.Q6J("result",null==_||null==_.stock_item?null:_.stock_item.unit_estmated_profit),l.xp6(2),l.Q6J("result",null==_||null==_.stock_item?null:_.stock_item.total_estmated_profit),l.xp6(2),l.Q6J("ngClass",l.WLB(17,fa,"2"===(null==_||null==_.stock_item?null:_.stock_item.status),"1"===(null==_||null==_.stock_item?null:_.stock_item.status))),l.xp6(1),l.Q6J("ngIf",1==(null==_||null==_.stock_item?null:_.stock_item.status)),l.xp6(1),l.Q6J("ngIf",2==(null==_||null==_.stock_item?null:_.stock_item.status))}}class Do{constructor(M,_,j,be,We,dt,Mn){this.httpShareService=M,this.customAlert=_,this.formBuilder=j,this.modalService=be,this.route=We,this.moduleStateService=dt,this.repositoryService=Mn}ngOnInit(){this.moduleStateService.stockSalesList$.subscribe(M=>{null!==M&&(this.stockItemsSalesModel=M)}),this.moduleStateService.currentStock$.subscribe(M=>{null!==M&&(this.curentStock=M)})}}var Us;(xs=Do).\u0275fac=function(M){return new(M||xs)(l.Y36(Hi.F),l.Y36(xr.y),l.Y36(v.QS),l.Y36(Xe.FF),l.Y36(tt.gz),l.Y36(zt),l.Y36(zn))},xs.\u0275cmp=l.Xpm({type:xs,selectors:[["app-stock-sales"]],decls:48,vars:5,consts:[[1,"table-responsive"],["id","basic-datatable",1,"table","table-centered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],["sortable","id"],["sortable","name"],["sortable","Qty"],["sortable","Unit_Price"],["sortable","unit_SP"],["sortable","Total_SP"],["sortable","unit ER"],["sortable","Total EP"],["sortable","Stattus"],[4,"ngFor","ngForOf"],[1,"bg-light","text-end"],["scope","row","colspan","1"],["colspan","8",1,"text-success"],["scope","row","colspan","10"],[1,"text-success"],[1,"text-dark","fw-bold"],[3,"result"],[1,"badge","font-size-12",3,"ngClass"],[2,"color","green"],[3,"result",4,"ngIf"],["placement","top","ngbTooltip","View details",1,"me-3","text-primary",2,"background-color","rgb(227, 227, 21)","border-radius","50%","padding","10px","margin","2px"],[1,"fa","fa-eye"]],template:function(M,_){1&M&&(l.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),l._uU(5,"Stock Id"),l.qZA(),l.TgZ(6,"th",3),l._uU(7,"Stock Name"),l.qZA(),l.TgZ(8,"th",3),l._uU(9,"Product status"),l.qZA(),l.TgZ(10,"th",4),l._uU(11,"Sold Qty"),l.qZA(),l.TgZ(12,"th",5),l._uU(13,"unit Price"),l.qZA(),l.TgZ(14,"th",6),l._uU(15,"USP"),l.qZA(),l.TgZ(16,"th",7),l._uU(17,"TSP"),l.qZA(),l.TgZ(18,"th",8),l._uU(19,"UER"),l.qZA(),l.TgZ(20,"th",9),l._uU(21,"TER"),l.qZA(),l.TgZ(22,"th",10),l._uU(23,"stock Item Stattus"),l.qZA(),l.TgZ(24,"th"),l._uU(25,"Action"),l.qZA()()(),l.TgZ(26,"tbody"),l.YNc(27,ws,29,20,"tr",11),l.TgZ(28,"tr",12)(29,"th",13),l._uU(30,"Total :"),l.qZA(),l.TgZ(31,"td",14),l._uU(32),l.qZA()(),l.TgZ(33,"tr",12)(34,"th",15),l._uU(35,"Stock Current revenue :"),l.qZA(),l.TgZ(36,"td",16),l._uU(37),l.qZA()(),l.TgZ(38,"tr",12)(39,"th",15),l._uU(40,"Total item :"),l.qZA(),l.TgZ(41,"td",16),l._uU(42),l.qZA()(),l.TgZ(43,"tr",12)(44,"th",15),l._uU(45,"Total Current Sales :"),l.qZA(),l.TgZ(46,"td",16),l._uU(47),l.qZA()()()()()),2&M&&(l.xp6(27),l.Q6J("ngForOf",_.stockItemsSalesModel),l.xp6(5),l.hij(" ",null==_.curentStock?null:_.curentStock.total_estmated_profit,"/= "),l.xp6(5),l.hij("",null==_.curentStock?null:_.curentStock.total_sales_revenue,"/="),l.xp6(5),l.Oqu(null==_.curentStock?null:_.curentStock.total_products),l.xp6(5),l.hij("",null==_.curentStock?null:_.curentStock.total_sales," /="))},dependencies:[f.mk,f.sg,f.O5,Xe._L,Xe._h]});const Xr=["customNav"];function ao(H,M){1&H&&(l.TgZ(0,"div",24)(1,"p"),l._uU(2,"Loading..."),l.qZA()())}function qo(H,M){1&H&&l._UZ(0,"ngb-highlight",38),2&H&&l.Q6J("result","in-stock")}function Tr(H,M){1&H&&l._UZ(0,"ngb-highlight",38),2&H&&l.Q6J("result","Out of stock")}const Ia=function(H,M){return{"bg-danger-subtle text-danger":H,"bg-success-subtle text-success":M}};function bo(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"tr")(1,"td")(2,"a",37),l._UZ(3,"ngb-highlight",38),l.qZA()(),l.TgZ(4,"td"),l._UZ(5,"ngb-highlight",38),l.qZA(),l.TgZ(6,"td")(7,"div",39),l._UZ(8,"ngb-highlight",38),l.qZA()(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._UZ(12,"ngb-highlight",38),l.qZA(),l.TgZ(13,"td"),l._UZ(14,"ngb-highlight",38),l.qZA(),l.TgZ(15,"td"),l._UZ(16,"ngb-highlight",38),l.qZA(),l.TgZ(17,"td"),l._UZ(18,"ngb-highlight",38),l.qZA(),l.TgZ(19,"td"),l._UZ(20,"ngb-highlight",38),l.qZA(),l.TgZ(21,"td")(22,"div",39),l.YNc(23,qo,1,1,"ngb-highlight",40),l.YNc(24,Tr,1,1,"ngb-highlight",40),l.qZA()(),l.TgZ(25,"td")(26,"a",41),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw(2),Mn=l.MAs(41);return l.KtG(dt.editStockItemtModal(Mn,We))}),l._UZ(27,"i",42),l.qZA(),l.TgZ(28,"a",43),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw(2);return l.KtG(dt._comfirmAndDeleteStockItem(null==We?null:We.id))}),l._UZ(29,"i",44),l.qZA(),l.TgZ(30,"button",45),l.NdJ("click",function(){const We=l.CHM(_).$implicit,dt=l.oxw(2);return l.KtG(dt.changeTab(3,We))}),l._uU(31," Sell "),l.qZA()()()}if(2&H){const _=M.$implicit;l.xp6(3),l.Q6J("result",null==_?null:_.id),l.xp6(2),l.Q6J("result",null==_?null:_.stock.name),l.xp6(2),l.Q6J("ngClass",l.WLB(14,Ia,"2"===(null==_?null:_.product.status),"1"===(null==_?null:_.product.status))),l.xp6(1),l.Q6J("result",null==_?null:_.product.name),l.xp6(2),l.AsE("",null==_?null:_.qty,"",null==_?null:_.qty_in,""),l.xp6(2),l.Q6J("result",null==_?null:_.unit_price),l.xp6(2),l.Q6J("result",null==_?null:_.unit_selling_price),l.xp6(2),l.Q6J("result",null==_?null:_.unit_estmated_profit),l.xp6(2),l.Q6J("result",null==_?null:_.total_estmated_profit),l.xp6(2),l.Q6J("result",null==_?null:_.total_selling_price),l.xp6(2),l.Q6J("ngClass",l.WLB(17,Ia,"2"===(null==_?null:_.status),"1"===(null==_?null:_.status))),l.xp6(1),l.Q6J("ngIf",1==(null==_?null:_.status)),l.xp6(1),l.Q6J("ngIf",2==(null==_?null:_.status))}}function ko(H,M){if(1&H&&(l.TgZ(0,"div",25)(1,"table",26)(2,"thead")(3,"tr")(4,"th",27),l._uU(5,"Stock Id"),l.qZA(),l.TgZ(6,"th",28),l._uU(7,"Stock Name"),l.qZA(),l.TgZ(8,"th",28),l._uU(9,"Product"),l.qZA(),l.TgZ(10,"th",29),l._uU(11,"Qty"),l.qZA(),l.TgZ(12,"th",30),l._uU(13,"Unit Price"),l.qZA(),l.TgZ(14,"th",31),l._uU(15,"unit SP"),l.qZA(),l.TgZ(16,"th",32),l._uU(17,"unit ER"),l.qZA(),l.TgZ(18,"th",33),l._uU(19,"Total ER"),l.qZA(),l.TgZ(20,"th",34),l._uU(21,"Total SP"),l.qZA(),l.TgZ(22,"th",35),l._uU(23,"Stattus"),l.qZA(),l.TgZ(24,"th"),l._uU(25,"Action"),l.qZA()()(),l.TgZ(26,"tbody"),l.YNc(27,bo,32,20,"tr",36),l.qZA()()()),2&H){const _=l.oxw();l.xp6(27),l.Q6J("ngForOf",_.stockItemsModel)}}function vs(H,M){if(1&H&&l._UZ(0,"app-add-new-stock-item",46),2&H){const _=l.oxw();l.Q6J("stockId",_.stockId)}}function Po(H,M){1&H&&l._UZ(0,"app-sales")}function lo(H,M){1&H&&l._UZ(0,"app-stock-sales")}function Wo(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Kr(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,Wo,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.product.errors.required)}}function co(H,M){if(1&H&&(l.TgZ(0,"option",79),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.Q6J("value",_.id),l.xp6(1),l.hij(" ",_.name," ")}}function xo(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ii(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity_in must be at least 6 characters."),l.qZA())}function $o(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,xo,2,0,"span",78),l.YNc(2,Ii,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.unit_selling_price.errors.required),l.xp6(1),l.Q6J("ngIf",_.editStockIform.unit_selling_price.errors.minlength)}}function ge(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function pe(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity must be at least 6 characters."),l.qZA())}function re(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,ge,2,0,"span",78),l.YNc(2,pe,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.qty.errors.required),l.xp6(1),l.Q6J("ngIf",_.editStockIform.qty.errors.minlength)}}function Re(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Vt(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"Quantity_in must be at least 6 characters."),l.qZA())}function Zn(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,Re,2,0,"span",78),l.YNc(2,Vt,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.qty_in.errors.required),l.xp6(1),l.Q6J("ngIf",_.editStockIform.qty_in.errors.minlength)}}function Ar(H,M){if(1&H&&(l.TgZ(0,"option",79),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.Q6J("value",_.id),l.xp6(1),l.hij(" ",_.name," ")}}function qt(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ei(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be a valid unit estmated profit."),l.qZA())}function Xo(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,qt,2,0,"span",78),l.YNc(2,Ei,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.unit_price.errors.required),l.xp6(1),l.Q6J("ngIf",_.editStockIform.unit_price.errors.pattern)}}function Ko(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function zr(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be a valid unit estmated profit."),l.qZA())}function wo(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,Ko,2,0,"span",78),l.YNc(2,zr,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.unit_estmated_profit.errors.required),l.xp6(1),l.Q6J("ngIf",_.editStockIform.unit_estmated_profit.errors.pattern)}}function pa(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Is(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be a valid status."),l.qZA())}function fl(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,pa,2,0,"span",78),l.YNc(2,Is,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.status.errors.required),l.xp6(1),l.Q6J("ngIf",_.editStockIform.status.errors.pattern)}}function Eo(H,M){if(1&H&&(l.TgZ(0,"option",79),l._uU(1),l.qZA()),2&H){const _=M.$implicit;l.Q6J("value",_.id),l.xp6(1),l.hij(" ",_.name," ")}}function pl(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function La(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value should be date_updated."),l.qZA())}function Da(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,pl,2,0,"span",78),l.YNc(2,La,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.date_updated.errors.required),l.xp6(1),l.Q6J("ngIf",_.editStockIform.date_updated.errors.pattern)}}function us(H,M){1&H&&(l.TgZ(0,"span"),l._uU(1,"This value is required."),l.qZA())}function Ji(H,M){if(1&H&&(l.TgZ(0,"div",77),l.YNc(1,us,2,0,"span",78),l.qZA()),2&H){const _=l.oxw(2);l.xp6(1),l.Q6J("ngIf",_.editStockIform.description.errors.required)}}const yr=function(H){return{"is-invalid":H}};function uo(H,M){if(1&H){const _=l.EpF();l.TgZ(0,"div",47)(1,"h5",48),l._uU(2,"Edit Stock item"),l.qZA(),l.TgZ(3,"button",49),l.NdJ("click",function(){const We=l.CHM(_).$implicit;return l.KtG(We.dismiss("Cross click"))}),l.qZA()(),l.TgZ(4,"div",50)(5,"div",51)(6,"div",52)(7,"div",2)(8,"div",3)(9,"div",4)(10,"form",53),l.NdJ("ngSubmit",function(){l.CHM(_);const be=l.oxw();return l.KtG(be.editStockItemSubmit())}),l.TgZ(11,"div",54)(12,"div",52)(13,"div",55)(14,"label"),l._uU(15,"Product to add"),l.qZA(),l.TgZ(16,"select",56),l.YNc(17,Kr,2,1,"div",57),l.TgZ(18,"option",58),l._uU(19," Select Product "),l.qZA(),l.YNc(20,co,2,2,"option",59),l.qZA()(),l.TgZ(21,"div",55)(22,"label"),l._uU(23,"unit selling price"),l.qZA(),l.TgZ(24,"div"),l._UZ(25,"input",60),l.YNc(26,$o,3,2,"div",57),l.qZA()()()(),l.TgZ(27,"div",54)(28,"label"),l._uU(29,"Quantity"),l.qZA(),l.TgZ(30,"div",52)(31,"div",55)(32,"div"),l._UZ(33,"input",61),l.YNc(34,re,3,2,"div",57),l.qZA()(),l.TgZ(35,"div",55)(36,"div")(37,"select",62),l.YNc(38,Zn,3,2,"div",57),l.TgZ(39,"option",58),l._uU(40," Select qty in "),l.qZA(),l.YNc(41,Ar,2,2,"option",59),l.qZA()()()()(),l.TgZ(42,"div",54)(43,"div",52)(44,"div",55)(45,"label"),l._uU(46,"Unit price"),l.qZA(),l.TgZ(47,"div"),l._UZ(48,"input",63),l.YNc(49,Xo,3,2,"div",57),l.qZA()(),l.TgZ(50,"div",55)(51,"label"),l._uU(52,"Unit estmated profit"),l.qZA(),l.TgZ(53,"div"),l._UZ(54,"input",64),l.YNc(55,wo,3,2,"div",57),l.qZA()()()(),l.TgZ(56,"div",54)(57,"div",52)(58,"div",55)(59,"label"),l._uU(60,"status"),l.qZA(),l.TgZ(61,"div")(62,"select",65),l.YNc(63,fl,3,2,"div",57),l.TgZ(64,"option",58),l._uU(65," Select status "),l.qZA(),l.YNc(66,Eo,2,2,"option",59),l.qZA()()(),l.TgZ(67,"div",55)(68,"label"),l._uU(69,"Update date"),l.qZA(),l.TgZ(70,"div"),l._UZ(71,"input",66),l.YNc(72,Da,3,2,"div",57),l.qZA()()()(),l.TgZ(73,"div",54)(74,"label"),l._uU(75,"description"),l.qZA(),l.TgZ(76,"div"),l._UZ(77,"textarea",67),l.YNc(78,Ji,2,1,"div",57),l.qZA()(),l.TgZ(79,"div",68)(80,"div",69)(81,"h5",70),l._uU(82," Is this updates because you sold this product? "),l.qZA(),l.TgZ(83,"div",71),l._UZ(84,"input",72),l.TgZ(85,"label",73),l._uU(86,"Update for sales?"),l.qZA()()()(),l.TgZ(87,"div",74)(88,"div")(89,"button",75),l._uU(90," submitted "),l.qZA(),l.TgZ(91,"button",76),l._uU(92," Cancel "),l.qZA()()()()()()()()()()}if(2&H){const _=l.oxw();l.xp6(10),l.Q6J("formGroup",_.editStockItemForm),l.xp6(6),l.Q6J("ngClass",l.VKq(22,yr,_.submitted&&_.editStockIform.product.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.product.errors),l.xp6(3),l.Q6J("ngForOf",_.productsModel),l.xp6(5),l.Q6J("ngClass",l.VKq(24,yr,_.submitted&&_.editStockIform.unit_selling_price.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.unit_selling_price.errors),l.xp6(7),l.Q6J("ngClass",l.VKq(26,yr,_.submitted&&_.editStockIform.qty.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.qty.errors),l.xp6(3),l.Q6J("ngClass",l.VKq(28,yr,_.submitted&&_.editStockIform.qty_in.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.qty_in.errors),l.xp6(3),l.Q6J("ngForOf",_.SI_UNIT_CHOICES),l.xp6(7),l.Q6J("ngClass",l.VKq(30,yr,_.submitted&&_.editStockIform.unit_price.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.unit_price.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(32,yr,_.submitted&&_.editStockIform.unit_estmated_profit.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.unit_estmated_profit.errors),l.xp6(7),l.Q6J("ngClass",l.VKq(34,yr,_.submitted&&_.editStockIform.status.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.status.errors),l.xp6(3),l.Q6J("ngForOf",_.STATUS),l.xp6(5),l.Q6J("ngClass",l.VKq(36,yr,_.submitted&&_.editStockIform.date_updated.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.date_updated.errors),l.xp6(5),l.Q6J("ngClass",l.VKq(38,yr,_.submitted&&_.editStockIform.description.errors)),l.xp6(1),l.Q6J("ngIf",_.submitted&&_.editStockIform.description.errors)}}class Es{constructor(M,_,j,be,We,dt,Mn){this.httpShareService=M,this.customAlert=_,this.formBuilder=j,this.modalService=be,this.route=We,this.moduleStateService=dt,this.repositoryService=Mn,this.submitted=!1,this.isLoading=!1,this.error="",this.STATUS=[{id:"1",name:"in-stock"},{id:"2",name:"out-stock"}],this.SI_UNIT_CHOICES=[{id:"m",name:"Meter (m)"},{id:"kg",name:"Kilogram (kg)"},{id:"g",name:"Gram (g)"},{id:"just_no",name:"just_no"},{id:"pic",name:"Pic"}]}ngOnInit(){this.isLoading=!0,this.getAllStockList(),this.editStockItemForm=this.formBuilder.group({product:["",[v.kI.required]],description:["",[v.kI.required]],qty:["",[v.kI.required]],qty_in:["",[v.kI.required]],unit_price:["",[v.kI.required]],unit_estmated_profit:["",[v.kI.required]],unit_selling_price:["",[v.kI.required]],status:["",[v.kI.required]],date_updated:["",[v.kI.required]],is_sales_update:[!1,[v.kI.required]]}),this.getProductsList(),this.isLoading=!1}get editStockIform(){return this.editStockItemForm.controls}getAllStockList(){this.route.params.subscribe(M=>{this.stockId=+M.ID,this.getAllStockItems(+M.ID)})}getAllStockItems(M){this.httpShareService.get(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_ITEMS_BASE_URL+`?stock_id=${M}`,null).subscribe(j=>{console.log(j),this.stockItemsModel=j,this.moduleStateService.setStockItemListState(j)},j=>{this.customAlert.successmsg("Error in fetching stock details","Something went wrong, please try again later","error")})}editStockItemtModal(M,_){this.modalService.open(M,{scrollable:!0,size:"lg"}),this.stockItem=_,this.editStockItemForm.patchValue({product:_.product.id,description:_.description,qty:_.qty,qty_in:_.qty_in,unit_price:_.unit_price,unit_selling_price:_.unit_selling_price,unit_estmated_profit:_.unit_estmated_profit,status:_.status,date_updated:_.date_created})}editStockItemSubmit(){if(this.submitted=!0,this.isLoading=!0,this.editStockItemForm.invalid)return this.isLoading=!1,this.customAlert.successmsg("Form is not valid","Please fill all the required fields","error"),void(this.isLoading=!1);this.httpShareService.put(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_ITEMS_BASE_URL+`?stock_item_id=${this.stockItem.id}`,this.editStockItemForm.value,null).subscribe(_=>{this.customAlert.successmsg("Stock Item Updated Successfully","Stock Item Updated Successfully","success"),this.modalService.dismissAll(),this.isLoading=!1,this.getAllStockList()},_=>{this.customAlert.successmsg("Error in updating stock item","Something went wrong, please try again later","error"),this.isLoading=!1})}deleteStockItem(M){this.httpShareService.delete(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_ITEMS_BASE_URL+`?stock_item_id=${M}`).subscribe(j=>{this.customAlert.successmsg("Stock Item Deleted Successfully","Stock Item Deleted Successfully","success"),this.getAllStockList()},j=>{this.customAlert.successmsg("Error in deleting stock item","Something went wrong, please try again later","error")})}_comfirmAndDeleteStockItem(M){this.customAlert.comfirmAndDelete({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",comfirm:_=>{console.log(_),_&&this.deleteStockItem(M)}})}getProductsList(){this.httpShareService.get(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_PRODUCT_LIST_WITH_NO_PAGENATION,null).subscribe(_=>{this.productsModel=_},_=>{this.error=_||"",this.customAlert.successmsg("An error Occured",`${_}`,"warning")})}changeTab(M,_){this.customNav.select(M),this.getStockItemSales(_)}onTabKClick(M){console.log(M),this.getAllStockList(),this.getCurrentStockItemState()}getStockItemSales(M){this.stockItem=M,this.repositoryService.getList(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_SALES_BASE_URL+`?stock_item_id=${M.id}`,j=>{this.stockItemSales=j,this.moduleStateService.setSalesState(j),this.getCurrentStockItemState()},j=>{this.customAlert.successmsg("Error in fetching stock details","Something went wrong, please try again later","error")})}goBack(){window.history.back(),this.getCurrentStockItemState()}getCurrentStockItemState(){this.repositoryService.getSingle(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_ITEM_OBJ+`?stock_item_id=${this.stockItem.id}`,_=>{this.stockItem=_,this.moduleStateService.setCurrentStockItemState(_)},_=>{this.customAlert.successmsg("Error in fetching stock details","Something went wrong, please try again later","error")})}getStock(){this.route.params.subscribe(M=>{this.stockId=+M.ID,this.repositoryService.getSingle(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_STOCK_BASE_URL+`?stock_id=${this.stockId}`,be=>{this.moduleStateService.setCurrentStockState(be)},be=>{console.log("error",be)})})}getStockSales(){this.repositoryService.getList(Dn.N.E_SHOP_BASE_URL+Dn.N.IMS.IMS_SALES_LIST_BY_STOCK+"?stock_id="+this.stockId,_=>{this.moduleStateService.setStockSalesListState(_),console.log("this.stockItemsSalesModel",_),this.getStock()},_=>{console.log("error",_)})}}var os;(Us=Es).\u0275fac=function(M){return new(M||Us)(l.Y36(Hi.F),l.Y36(xr.y),l.Y36(v.QS),l.Y36(Xe.FF),l.Y36(tt.gz),l.Y36(zt),l.Y36(zn))},Us.\u0275cmp=l.Xpm({type:Us,selectors:[["app-stock-items"]],viewQuery:function(M,_){if(1&M&&l.Gf(Xr,5),2&M){let j;l.iGM(j=l.CRH())&&(_.customNav=j.first)}},decls:42,vars:7,consts:[[1,"container-fluid"],["class","loader",4,"ngIf"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],["ngbNav","",1,"nav-tabs","nav-tabs-custom","nav-justified",3,"activeId"],["customNav","ngbNav"],[3,"ngbNavItem","click"],["ngbNavLink",""],[1,"d-block","d-sm-none"],[1,"fas","fa-chevron-left"],[1,"d-none","d-sm-block"],[1,"fas","fa-chevron-left",2,"padding-right","24px",3,"click"],["ngbNavContent",""],[3,"ngbNavItem"],[1,"far","fa-plus-square"],[1,"far","fa-plus-square",2,"padding-right","24px"],[1,"fa","fa-shopping-cart"],[1,"fa","fa-shopping-cart",2,"padding-right","24px"],["ngbNavLink","",3,"click"],[1,"fas","fa-comments-dollar"],[1,"fas","fa-comments-dollar",2,"padding-right","24px"],[3,"ngbNavOutlet"],["editModal",""],[1,"loader"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-centered","dt-responsive","nowrap","datatables","no-footer","dtr-inline"],["sortable","id"],["sortable","name"],["sortable","Qty"],["sortable","Unit_Price"],["sortable","unit_SP"],["sortable","unit EP"],["sortable","Total EP"],["sortable","Total_SP"],["sortable","Stattus"],[4,"ngFor","ngForOf"],[1,"text-dark","fw-bold"],[3,"result"],[1,"badge","font-size-12",3,"ngClass"],[3,"result",4,"ngIf"],["placement","top","ngbTooltip","Edit",1,"me-3","text-primary",2,"background-color","rgb(227, 227, 21)","border-radius","50%","padding","10px","margin","2px",3,"click"],[1,"mdi","mdi-pencil","font-size-18"],["placement","top","ngbTooltip","Delete",1,"text-danger",2,"background-color","rgb(239, 231, 231)","border-radius","50%","padding","10px","margin","2px",3,"click"],[1,"mdi","mdi-trash-can","font-size-18"],["placement","top","ngbTooltip","Sell the product from stock",1,"btn","btn-primary","text-danger",2,"background-color","rgb(239, 231, 231)","border-radius","50%","padding","10px","margin","2px",3,"click"],[3,"stockId"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"p-2","mb-3"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"col-md-6"],["type","text","formControlName","product","placeholder","Type something",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","unit selling price","formControlName","unit_selling_price",1,"form-control",3,"ngClass"],["type","number","placeholder","Enter Quantity","formControlName","qty",1,"form-control",3,"ngClass"],["type","text","placeholder","qty in  ","formControlName","qty_in",1,"form-control",3,"ngClass"],["type","text","formControlName","unit_price","placeholder","unit price",1,"form-control",3,"ngClass"],["type","text","formControlName","unit_estmated_profit","placeholder","Enter only unit estmated profit",1,"form-control",3,"ngClass"],["type","url","placeholder","status","formControlName","status",1,"form-control",3,"ngClass"],["formControlName","date_updated","type","date","placeholder","Enter only date_updated",1,"form-control",3,"ngClass"],["formControlName","description","rows","5",1,"form-control",3,"ngClass"],[1,"col-md-12","ms-auto"],[1,"mt-4","mt-lg-0"],[1,"font-size-14","mb-4"],[1,"form-check","mb-3"],["type","checkbox","formControlName","is_sales_update","id","customCheck1",1,"form-check-input"],["for","customCheck1",1,"form-check-label"],[1,"form-group","mb-0"],["type","submitted",1,"btn","btn-primary","me-1"],["type","reset",1,"btn","btn-secondary"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(M,_){if(1&M&&(l.TgZ(0,"div",0),l.YNc(1,ao,3,0,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5,6)(7,"li",7),l.NdJ("click",function(be){return _.onTabKClick(be)}),l.TgZ(8,"a",8)(9,"span",9),l._UZ(10,"i",10),l.qZA(),l.TgZ(11,"span",11)(12,"i",12),l.NdJ("click",function(){return _.goBack()}),l.qZA(),l._uU(13,"Stock Items"),l.qZA()(),l.YNc(14,ko,28,1,"ng-template",13),l.qZA(),l.TgZ(15,"li",14)(16,"a",8)(17,"span",9),l._UZ(18,"i",15),l.qZA(),l.TgZ(19,"span",11),l._UZ(20,"i",16),l._uU(21,"Add new Item "),l.qZA()(),l.YNc(22,vs,1,1,"ng-template",13),l.qZA(),l.TgZ(23,"li",14)(24,"a",8)(25,"span",9),l._UZ(26,"i",17),l.qZA(),l.TgZ(27,"span",11),l._UZ(28,"i",18),l._uU(29,"Stock sales space"),l.qZA()(),l.YNc(30,Po,1,0,"ng-template",13),l.qZA(),l.TgZ(31,"li",14)(32,"a",19),l.NdJ("click",function(){return _.getStockSales()}),l.TgZ(33,"span",9),l._UZ(34,"i",20),l.qZA(),l.TgZ(35,"span",11),l._UZ(36,"i",21),l._uU(37,"Stock revenues"),l.qZA()(),l.YNc(38,lo,1,0,"ng-template",13),l.qZA()(),l._UZ(39,"div",22),l.qZA()()()(),l.YNc(40,uo,93,40,"ng-template",null,23,l.W1O)),2&M){const j=l.MAs(6);l.xp6(1),l.Q6J("ngIf",_.isLoading),l.xp6(4),l.Q6J("activeId",1),l.xp6(2),l.Q6J("ngbNavItem",1),l.xp6(8),l.Q6J("ngbNavItem",2),l.xp6(8),l.Q6J("ngbNavItem",3),l.xp6(8),l.Q6J("ngbNavItem",4),l.xp6(8),l.Q6J("ngbNavOutlet",j)}},dependencies:[f.mk,f.sg,f.O5,v._Y,v.YN,v.Kr,v.Fj,v.wV,v.Wl,v.EJ,v.JJ,v.JL,v.sg,v.u,Xe.uN,Xe.Pz,Xe.nv,Xe.Is,Xe.Vx,Xe.tO,Xe.Dy,Xe._L,Xe._h,bs,Bs,Do],styles:[".loader[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center}"]});const xn=[{path:"",component:Un},{path:"category",component:dr},{path:"products",component:xe},{path:"stock",component:st},{path:"stock-items/:ID",component:Es},{path:"sales",component:Bs}];class qs{}(os=qs).\u0275fac=function(M){return new(M||os)},os.\u0275mod=l.oAB({type:os}),os.\u0275inj=l.cJS({imports:[tt.Bz.forChild(xn),tt.Bz]}),document.createDocumentFragment(),document.createDocumentFragment();let Sn=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=l.oAB({type:H}),H.\u0275inj=l.cJS({imports:[[f.ez]]}),H})(),gl=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=l.oAB({type:H}),H.\u0275inj=l.cJS({imports:[f.ez]}),H})(),To=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=l.oAB({type:H}),H.\u0275inj=l.cJS({}),H})();var Ya=ue(727);const ga={schedule(H){let M=requestAnimationFrame,_=cancelAnimationFrame;const{delegate:j}=ga;j&&(M=j.requestAnimationFrame,_=j.cancelAnimationFrame);const be=M(We=>{_=void 0,H(We)});return new Ya.w0(()=>_?.(be))},requestAnimationFrame(...H){const{delegate:M}=ga;return(M?.requestAnimationFrame||requestAnimationFrame)(...H)},cancelAnimationFrame(...H){const{delegate:M}=ga;return(M?.cancelAnimationFrame||cancelAnimationFrame)(...H)},delegate:void 0};new class wc extends Lt.v{flush(M){this._active=!0;const _=this._scheduled;this._scheduled=void 0;const{actions:j}=this;let be;M=M||j.shift();do{if(be=M.execute(M.state,M.delay))break}while((M=j[0])&&M.id===_&&j.shift());if(this._active=!1,be){for(;(M=j[0])&&M.id===_&&j.shift();)M.unsubscribe();throw be}}}(class $l extends jt.o{constructor(M,_){super(M,_),this.scheduler=M,this.work=_}requestAsyncId(M,_,j=0){return null!==j&&j>0?super.requestAsyncId(M,_,j):(M.actions.push(this),M._scheduled||(M._scheduled=ga.requestAnimationFrame(()=>M.flush(void 0))))}recycleAsyncId(M,_,j=0){var be;if(null!=j?j>0:this.delay>0)return super.recycleAsyncId(M,_,j);const{actions:We}=M;null!=_&&(null===(be=We[We.length-1])||void 0===be?void 0:be.id)!==_&&(ga.cancelAnimationFrame(_),M._scheduled=void 0)}});RegExp(/[&<>"']/g.source);const sf=new l.OlP("ng-select-selection-model");function $d(){return new Av}class Av{constructor(){this._selected=[]}get value(){return this._selected}select(M,_,j){if(M.selected=!0,(!M.children||!_&&j)&&this._selected.push(M),_)if(M.parent){const be=M.parent.children.length,We=M.parent.children.filter(dt=>dt.selected).length;M.parent.selected=be===We}else M.children&&(this._setChildrenSelectedState(M.children,!0),this._removeChildren(M),this._selected=j&&this._activeChildren(M)?[...this._selected.filter(be=>be.parent!==M),M]:[...this._selected,...M.children.filter(be=>!be.disabled)])}unselect(M,_){if(this._selected=this._selected.filter(j=>j!==M),M.selected=!1,_)if(M.parent&&M.parent.selected){const j=M.parent.children;this._removeParent(M.parent),this._removeChildren(M.parent),this._selected.push(...j.filter(be=>be!==M&&!be.disabled)),M.parent.selected=!1}else M.children&&(this._setChildrenSelectedState(M.children,!1),this._removeChildren(M))}clear(M){this._selected=M?this._selected.filter(_=>_.disabled):[]}_setChildrenSelectedState(M,_){for(const j of M)j.disabled||(j.selected=_)}_removeChildren(M){this._selected=[...this._selected.filter(_=>_.parent!==M),...M.children.filter(_=>_.parent===M&&_.disabled&&_.selected)]}_removeParent(M){this._selected=this._selected.filter(_=>_!==M)}_activeChildren(M){return M.children.every(_=>!_.disabled||_.selected)}}let Ap=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=l.oAB({type:H}),H.\u0275inj=l.cJS({providers:[{provide:sf,useValue:$d}],imports:[f.ez]}),H})();function Jl(H){return"function"==typeof H}let af=!1;const bl={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const M=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+M.stack)}else af&&console.log("RxJS: Back to a better error behavior. Thank you. <3");af=H},get useDeprecatedSynchronousErrorHandling(){return af}};function Xd(H){setTimeout(()=>{throw H},0)}const ud={closed:!0,next(H){},error(H){if(bl.useDeprecatedSynchronousErrorHandling)throw H;Xd(H)},complete(){}},Ip=Array.isArray||(H=>H&&"number"==typeof H.length),Pc=(()=>{function H(M){return Error.call(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((_,j)=>`${j+1}) ${_.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M,this}return H.prototype=Object.create(Error.prototype),H})();class Go{constructor(M){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,M&&(this._ctorUnsubscribe=!0,this._unsubscribe=M)}unsubscribe(){let M;if(this.closed)return;let{_parentOrParents:_,_ctorUnsubscribe:j,_unsubscribe:be,_subscriptions:We}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_ instanceof Go)_.remove(this);else if(null!==_)for(let dt=0;dt<_.length;++dt)_[dt].remove(this);if(Jl(be)){j&&(this._unsubscribe=void 0);try{be.call(this)}catch(dt){M=dt instanceof Pc?hd(dt.errors):[dt]}}if(Ip(We)){let dt=-1,Mn=We.length;for(;++dt<Mn;){const Ri=We[dt];if(null!==(H=Ri)&&"object"==typeof H)try{Ri.unsubscribe()}catch(Pr){M=M||[],Pr instanceof Pc?M=M.concat(hd(Pr.errors)):M.push(Pr)}}}var H;if(M)throw new Pc(M)}add(M){let _=M;if(!M)return Go.EMPTY;switch(typeof M){case"function":_=new Go(M);case"object":if(_===this||_.closed||"function"!=typeof _.unsubscribe)return _;if(this.closed)return _.unsubscribe(),_;if(!(_ instanceof Go)){const We=_;_=new Go,_._subscriptions=[We]}break;default:throw new Error("unrecognized teardown "+M+" added to Subscription.")}let{_parentOrParents:j}=_;if(null===j)_._parentOrParents=this;else if(j instanceof Go){if(j===this)return _;_._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return _;j.push(this)}const be=this._subscriptions;return null===be?this._subscriptions=[_]:be.push(_),_}remove(M){const _=this._subscriptions;if(_){const j=_.indexOf(M);-1!==j&&_.splice(j,1)}}}var H;function hd(H){return H.reduce((M,_)=>M.concat(_ instanceof Pc?_.errors:_),[])}Go.EMPTY=((H=new Go).closed=!0,H);const Cu="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ta extends Go{constructor(M,_,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ud;break;case 1:if(!M){this.destination=ud;break}if("object"==typeof M){M instanceof ta?(this.syncErrorThrowable=M.syncErrorThrowable,this.destination=M,M.add(this)):(this.syncErrorThrowable=!0,this.destination=new Su(this,M));break}default:this.syncErrorThrowable=!0,this.destination=new Su(this,M,_,j)}}[Cu](){return this}static create(M,_,j){const be=new ta(M,_,j);return be.syncErrorThrowable=!1,be}next(M){this.isStopped||this._next(M)}error(M){this.isStopped||(this.isStopped=!0,this._error(M))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(M){this.destination.next(M)}_error(M){this.destination.error(M),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:M}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=M,this}}class Su extends ta{constructor(M,_,j,be){super(),this._parentSubscriber=M;let We,dt=this;Jl(_)?We=_:_&&(We=_.next,j=_.error,be=_.complete,_!==ud&&(dt=Object.create(_),Jl(dt.unsubscribe)&&this.add(dt.unsubscribe.bind(dt)),dt.unsubscribe=this.unsubscribe.bind(this))),this._context=dt,this._next=We,this._error=j,this._complete=be}next(M){if(!this.isStopped&&this._next){const{_parentSubscriber:_}=this;bl.useDeprecatedSynchronousErrorHandling&&_.syncErrorThrowable?this.__tryOrSetError(_,this._next,M)&&this.unsubscribe():this.__tryOrUnsub(this._next,M)}}error(M){if(!this.isStopped){const{_parentSubscriber:_}=this,{useDeprecatedSynchronousErrorHandling:j}=bl;if(this._error)j&&_.syncErrorThrowable?(this.__tryOrSetError(_,this._error,M),this.unsubscribe()):(this.__tryOrUnsub(this._error,M),this.unsubscribe());else if(_.syncErrorThrowable)j?(_.syncErrorValue=M,_.syncErrorThrown=!0):Xd(M),this.unsubscribe();else{if(this.unsubscribe(),j)throw M;Xd(M)}}}complete(){if(!this.isStopped){const{_parentSubscriber:M}=this;if(this._complete){const _=()=>this._complete.call(this._context);bl.useDeprecatedSynchronousErrorHandling&&M.syncErrorThrowable?(this.__tryOrSetError(M,_),this.unsubscribe()):(this.__tryOrUnsub(_),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(M,_){try{M.call(this._context,_)}catch(j){if(this.unsubscribe(),bl.useDeprecatedSynchronousErrorHandling)throw j;Xd(j)}}__tryOrSetError(M,_,j){if(!bl.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{_.call(this._context,j)}catch(be){return bl.useDeprecatedSynchronousErrorHandling?(M.syncErrorValue=be,M.syncErrorThrown=!0,!0):(Xd(be),!0)}return!1}_unsubscribe(){const{_parentSubscriber:M}=this;this._context=null,this._parentSubscriber=null,M.unsubscribe()}}const hs="function"==typeof Symbol&&Symbol.observable||"@@observable";function Au(H){return H}let Kd=(()=>{class H{constructor(_){this._isScalar=!1,_&&(this._subscribe=_)}lift(_){const j=new H;return j.source=this,j.operator=_,j}subscribe(_,j,be){const{operator:We}=this,dt=function ba(H,M,_){if(H){if(H instanceof ta)return H;if(H[Cu])return H[Cu]()}return H||M||_?new ta(H,M,_):new ta(ud)}(_,j,be);if(dt.add(We?We.call(dt,this.source):this.source||bl.useDeprecatedSynchronousErrorHandling&&!dt.syncErrorThrowable?this._subscribe(dt):this._trySubscribe(dt)),bl.useDeprecatedSynchronousErrorHandling&&dt.syncErrorThrowable&&(dt.syncErrorThrowable=!1,dt.syncErrorThrown))throw dt.syncErrorValue;return dt}_trySubscribe(_){try{return this._subscribe(_)}catch(j){bl.useDeprecatedSynchronousErrorHandling&&(_.syncErrorThrown=!0,_.syncErrorValue=j),function Dp(H){for(;H;){const{closed:M,destination:_,isStopped:j}=H;if(M||j)return!1;H=_&&_ instanceof ta?_:null}return!0}(_)?_.error(j):console.warn(j)}}forEach(_,j){return new(j=fd(j))((be,We)=>{let dt;dt=this.subscribe(Mn=>{try{_(Mn)}catch(Ri){We(Ri),dt&&dt.unsubscribe()}},We,be)})}_subscribe(_){const{source:j}=this;return j&&j.subscribe(_)}[hs](){return this}pipe(..._){return 0===_.length?this:function Qc(H){return 0===H.length?Au:1===H.length?H[0]:function(_){return H.reduce((j,be)=>be(j),_)}}(_)(this)}toPromise(_){return new(_=fd(_))((j,be)=>{let We;this.subscribe(dt=>We=dt,dt=>be(dt),()=>j(We))})}}return H.create=M=>new H(M),H})();function fd(H){if(H||(H=bl.Promise||Promise),!H)throw new Error("no Promise impl found");return H}const fo=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})();class Ml extends Go{constructor(M,_){super(),this.subject=M,this.subscriber=_,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const M=this.subject,_=M.observers;if(this.subject=null,!_||0===_.length||M.isStopped||M.closed)return;const j=_.indexOf(this.subscriber);-1!==j&&_.splice(j,1)}}class wl extends ta{constructor(M){super(M),this.destination=M}}let Ql=(()=>{class H extends Kd{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Cu](){return new wl(this)}lift(_){const j=new po(this,this);return j.operator=_,j}next(_){if(this.closed)throw new fo;if(!this.isStopped){const{observers:j}=this,be=j.length,We=j.slice();for(let dt=0;dt<be;dt++)We[dt].next(_)}}error(_){if(this.closed)throw new fo;this.hasError=!0,this.thrownError=_,this.isStopped=!0;const{observers:j}=this,be=j.length,We=j.slice();for(let dt=0;dt<be;dt++)We[dt].error(_);this.observers.length=0}complete(){if(this.closed)throw new fo;this.isStopped=!0;const{observers:_}=this,j=_.length,be=_.slice();for(let We=0;We<j;We++)be[We].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(_){if(this.closed)throw new fo;return super._trySubscribe(_)}_subscribe(_){if(this.closed)throw new fo;return this.hasError?(_.error(this.thrownError),Go.EMPTY):this.isStopped?(_.complete(),Go.EMPTY):(this.observers.push(_),new Ml(this,_))}asObservable(){const _=new Kd;return _.source=this,_}}return H.create=(M,_)=>new po(M,_),H})();class po extends Ql{constructor(M,_){super(),this.destination=M,this.source=_}next(M){const{destination:_}=this;_&&_.next&&_.next(M)}error(M){const{destination:_}=this;_&&_.error&&this.destination.error(M)}complete(){const{destination:M}=this;M&&M.complete&&this.destination.complete()}_subscribe(M){const{source:_}=this;return _?this.source.subscribe(M):Go.EMPTY}}class Iu extends Go{constructor(M,_){super()}schedule(M,_=0){return this}}let Jd=(()=>{class H{constructor(_,j=H.now){this.SchedulerAction=_,this.now=j}schedule(_,j=0,be){return new this.SchedulerAction(this,_).schedule(be,j)}}return H.now=()=>Date.now(),H})();class na extends Jd{constructor(M,_=Jd.now){super(M,()=>na.delegate&&na.delegate!==this?na.delegate.now():_()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(M,_=0,j){return na.delegate&&na.delegate!==this?na.delegate.schedule(M,_,j):super.schedule(M,_,j)}flush(M){const{actions:_}=this;if(this.active)return void _.push(M);let j;this.active=!0;do{if(j=M.execute(M.state,M.delay))break}while(M=_.shift());if(this.active=!1,j){for(;M=_.shift();)M.unsubscribe();throw j}}}const Oc=new na(class pd extends Iu{constructor(M,_){super(M,_),this.scheduler=M,this.work=_,this.pending=!1}schedule(M,_=0){if(this.closed)return this;this.state=M;const j=this.id,be=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(be,j,_)),this.pending=!0,this.delay=_,this.id=this.id||this.requestAsyncId(be,this.id,_),this}requestAsyncId(M,_,j=0){return setInterval(M.flush.bind(M,this),j)}recycleAsyncId(M,_,j=0){if(null!==j&&this.delay===j&&!1===this.pending)return _;clearInterval(_)}execute(M,_){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(M,_);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,_){let be,j=!1;try{this.work(M)}catch(We){j=!0,be=!!We&&We||new Error(We)}if(j)return this.unsubscribe(),be}_unsubscribe(){const M=this.id,_=this.scheduler,j=_.actions,be=j.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==be&&j.splice(be,1),null!=M&&(this.id=this.recycleAsyncId(_,M,null)),this.delay=null}}),tu={leading:!0,trailing:!1};function eh(H,M=Oc,_=tu){return j=>j.lift(new cf(H,M,_.leading,_.trailing))}class cf{constructor(M,_,j,be){this.duration=M,this.scheduler=_,this.leading=j,this.trailing=be}call(M,_){return _.subscribe(new gd(M,this.duration,this.scheduler,this.leading,this.trailing))}}class gd extends ta{constructor(M,_,j,be,We){super(M),this.duration=_,this.scheduler=j,this.leading=be,this.trailing=We,this._hasTrailingValue=!1,this._trailingValue=null}_next(M){this.throttled?this.trailing&&(this._trailingValue=M,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Tm,this.duration,{subscriber:this})),this.leading?this.destination.next(M):this.trailing&&(this._trailingValue=M,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const M=this.throttled;M&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),M.unsubscribe(),this.remove(M),this.throttled=null)}}function Tm(H){const{subscriber:M}=H;M.clearThrottle()}function il(){}function th(H,M,_){return function(be){return be.lift(new Cm(H,M,_))}}class Cm{constructor(M,_,j){this.nextOrObserver=M,this.error=_,this.complete=j}call(M,_){return _.subscribe(new md(M,this.nextOrObserver,this.error,this.complete))}}class md extends ta{constructor(M,_,j,be){super(M),this._tapNext=il,this._tapError=il,this._tapComplete=il,this._tapError=j||il,this._tapComplete=be||il,Jl(_)?(this._context=this,this._tapNext=_):_&&(this._context=_,this._tapNext=_.next||il,this._tapError=_.error||il,this._tapComplete=_.complete||il)}_next(M){try{this._tapNext.call(this._context,M)}catch(_){return void this.destination.error(_)}this.destination.next(M)}_error(M){try{this._tapError.call(this._context,M)}catch(_){return void this.destination.error(_)}this.destination.error(M)}_complete(){try{this._tapComplete.call(this._context)}catch(M){return void this.destination.error(M)}return this.destination.complete()}}function nh(H,M){return _=>_.lift(new ih(H,M))}class ih{constructor(M,_){this.compare=M,this.keySelector=_}call(M,_){return _.subscribe(new ku(M,this.compare,this.keySelector))}}class ku extends ta{constructor(M,_,j){super(M),this.keySelector=j,this.hasKey=!1,"function"==typeof _&&(this.compare=_)}compare(M,_){return M===_}_next(M){let _;try{const{keySelector:be}=this;_=be?be(M):M}catch(be){return this.destination.error(be)}let j=!1;if(this.hasKey)try{const{compare:be}=this;j=be(this.key,_)}catch(be){return this.destination.error(be)}else this.hasKey=!0;j||(this.key=_,this.destination.next(M))}}class Pp{constructor(M,_){this.predicate=M,this.thisArg=_}call(M,_){return _.subscribe(new uf(M,this.predicate,this.thisArg))}}class uf extends ta{constructor(M,_,j){super(M),this.predicate=_,this.thisArg=j,this.count=0}_next(M){let _;try{_=this.predicate.call(this.thisArg,M,this.count++)}catch(j){return void this.destination.error(j)}_&&this.destination.next(M)}}var xa=typeof window<"u"?window:{screen:{},navigator:{}},Mc=(xa.matchMedia||function(){return{matches:!1}}).bind(xa),Op=!1,df=function(){};xa.addEventListener&&xa.addEventListener("p",df,{get passive(){return Op=!0}}),xa.removeEventListener&&xa.removeEventListener("p",df,!1);var Mp=Op,tc="ontouchstart"in xa,Rp=(tc||"TouchEvent"in xa&&Mc("(any-pointer: coarse)"),xa.navigator.userAgent||"");Mc("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Rp)&&Math.min(xa.screen.width||0,xa.screen.height||0);(Mc("(pointer: coarse)").matches||!Mc("(pointer: fine)").matches&&tc)&&/Windows.*Firefox/.test(Rp),Mc("(any-pointer: fine)").matches||Mc("(any-hover: hover)");const Lp=["tooltipTemplate"],Fp=["leftOuterSelectionBar"],Sm=["rightOuterSelectionBar"],Rc=["fullBar"],Am=["selectionBar"],Vp=["minHandle"],Bp=["maxHandle"],Up=["floorLabel"],iu=["ceilLabel"],Fl=["minHandleLabel"],ru=["maxHandleLabel"],Pu=["combinedLabel"],gf=["ticksElement"];function Ou(H,M){if(1&H&&l._UZ(0,"ngx-slider-tooltip-wrapper",31),2&H){const _=l.oxw().$implicit,j=l.oxw();l.Q6J("template",j.tooltipTemplate)("tooltip",_.valueTooltip)("placement",_.valueTooltipPlacement)("content",_.value)}}function sh(H,M){if(1&H&&l._UZ(0,"span",32),2&H){const _=l.oxw().$implicit;l.Q6J("innerHTML",_.legend,l.oJD)}}const rc=function(H){return{"ngx-slider-selected":H}};function rl(H,M){if(1&H&&(l.TgZ(0,"span",27),l._UZ(1,"ngx-slider-tooltip-wrapper",28),l.YNc(2,Ou,1,4,"ngx-slider-tooltip-wrapper",29),l.YNc(3,sh,1,1,"span",30),l.qZA()),2&H){const _=M.$implicit,j=l.oxw();l.Q6J("ngClass",l.VKq(7,rc,_.selected))("ngStyle",_.style),l.xp6(1),l.Q6J("template",j.tooltipTemplate)("tooltip",_.tooltip)("placement",_.tooltipPlacement),l.xp6(1),l.Q6J("ngIf",null!=_.value),l.xp6(1),l.Q6J("ngIf",null!=_.legend)}}function Nc(H,M){}function vd(H,M){1&H&&l.YNc(0,Nc,0,0,"ng-template")}const mf=function(H,M,_){return{tooltip:H,placement:M,content:_}};function yd(H,M){if(1&H&&(l.ynx(0),l.YNc(1,vd,1,0,null,1),l.BQk()),2&H){const _=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",_.template)("ngTemplateOutletContext",l.kEZ(2,mf,_.tooltip,_.placement,_.content))}}function _f(H,M){if(1&H&&(l.ynx(0),l.TgZ(1,"div",2),l._uU(2),l.qZA(),l.BQk()),2&H){const _=l.oxw();l.xp6(1),l.uIk("title",_.tooltip)("data-tooltip-placement",_.placement),l.xp6(1),l.hij(" ",_.content," ")}}const Gs={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Gs[Gs.Low]="Low",Gs[Gs.High]="High",Gs[Gs.Floor]="Floor",Gs[Gs.Ceil]="Ceil",Gs[Gs.TickValue]="TickValue";class Lc{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const oi={Min:0,Max:1};oi[oi.Min]="Min",oi[oi.Max]="Max";class oh{}class dn{static isNullOrUndefined(M){return null==M}static areArraysEqual(M,_){if(M.length!==_.length)return!1;for(let j=0;j<M.length;++j)if(M[j]!==_[j])return!1;return!0}static linearValueToPosition(M,_,j){return(M-_)/(j-_)}static logValueToPosition(M,_,j){return((M=Math.log(M))-(_=Math.log(_)))/((j=Math.log(j))-_)}static linearPositionToValue(M,_,j){return M*(j-_)+_}static logPositionToValue(M,_,j){return _=Math.log(_),j=Math.log(j),Math.exp(M*(j-_)+_)}static findStepIndex(M,_){const j=_.map(We=>Math.abs(M-We.value));let be=0;for(let We=0;We<_.length;We++)j[We]!==j[be]&&j[We]<j[be]&&(be=We);return be}}class sc{static isTouchEvent(M){return void 0!==window.TouchEvent?M instanceof TouchEvent:void 0!==M.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class ns{static roundToPrecisionLimit(M,_){return+M.toPrecision(_)}static isModuloWithinPrecisionLimit(M,_,j){const be=Math.pow(10,-j);return Math.abs(M%_)<=be||Math.abs(Math.abs(M%_)-_)<=be}static clampToRange(M,_,j){return Math.min(Math.max(M,_),j)}}class vf{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class ah{constructor(M){this.renderer=M}attachPassiveEventListener(M,_,j,be){if(!0!==Mp)return this.attachEventListener(M,_,j,be);const We=new vf;We.eventName=_,We.events=new Ql;const dt=Mn=>{We.events.next(Mn)};return M.addEventListener(_,dt,{passive:!0,capture:!1}),We.teardownCallback=()=>{M.removeEventListener(_,dt,{passive:!0,capture:!1})},We.eventsSubscription=We.events.pipe(dn.isNullOrUndefined(be)?th(()=>{}):eh(be,void 0,{leading:!0,trailing:!0})).subscribe(Mn=>{j(Mn)}),We}detachEventListener(M){dn.isNullOrUndefined(M.eventsSubscription)||(M.eventsSubscription.unsubscribe(),M.eventsSubscription=null),dn.isNullOrUndefined(M.events)||(M.events.complete(),M.events=null),dn.isNullOrUndefined(M.teardownCallback)||(M.teardownCallback(),M.teardownCallback=null)}attachEventListener(M,_,j,be){const We=new vf;return We.eventName=_,We.events=new Ql,We.teardownCallback=this.renderer.listen(M,_,Mn=>{We.events.next(Mn)}),We.eventsSubscription=We.events.pipe(dn.isNullOrUndefined(be)?th(()=>{}):eh(be,void 0,{leading:!0,trailing:!0})).subscribe(Mn=>{j(Mn)}),We}}let ia=(()=>{class H{constructor(_,j,be){this.elemRef=_,this.renderer=j,this.changeDetectionRef=be,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new ah(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(_){this._alwaysHide=_,this.visibility=_?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(_){this._vertical=_,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(_){this._scale=_}setRotate(_){this._rotate=_,this.transform="rotate("+_+"deg)"}getRotate(){return this._rotate}setPosition(_){this._position!==_&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=_,this._vertical?this.bottom=Math.round(_)+"px":this.left=Math.round(_)+"px"}calculateDimension(){const _=this.getBoundingClientRect();this._dimension=this.vertical?(_.bottom-_.top)*this.scale:(_.right-_.left)*this.scale}setDimension(_){this._dimension!==_&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=_,this._vertical?this.height=Math.round(_)+"px":this.width=Math.round(_)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(_,j,be){const We=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,_,j,be);this.eventListeners.push(We)}onPassive(_,j,be){const We=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,_,j,be);this.eventListeners.push(We)}off(_){let j,be;dn.isNullOrUndefined(_)?(j=[],be=this.eventListeners):(j=this.eventListeners.filter(We=>We.eventName!==_),be=this.eventListeners.filter(We=>We.eventName===_));for(const We of be)this.eventListenerHelper.detachEventListener(We);this.eventListeners=j}isRefDestroyed(){return dn.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return H.\u0275fac=function(_){return new(_||H)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO))},H.\u0275dir=l.lG2({type:H,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(_,j){2&_&&l.Udp("opacity",j.opacity)("visibility",j.visibility)("left",j.left)("bottom",j.bottom)("height",j.height)("width",j.width)("transform",j.transform)}}),H})(),bd=(()=>{class H extends ia{constructor(_,j,be){super(_,j,be),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return H.\u0275fac=function(_){return new(_||H)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO))},H.\u0275dir=l.lG2({type:H,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(_,j){2&_&&(l.uIk("role",j.role)("tabindex",j.tabindex)("aria-orientation",j.ariaOrientation)("aria-label",j.ariaLabel)("aria-labelledby",j.ariaLabelledBy)("aria-valuenow",j.ariaValueNow)("aria-valuetext",j.ariaValueText)("aria-valuemin",j.ariaValueMin)("aria-valuemax",j.ariaValueMax),l.ekj("ngx-slider-active",j.active))},features:[l.qOj]}),H})(),fs=(()=>{class H extends ia{constructor(_,j,be){super(_,j,be),this._value=null}get value(){return this._value}setValue(_){let j=!1;!this.alwaysHide&&(dn.isNullOrUndefined(this.value)||this.value.length!==_.length||this.value.length>0&&0===this.dimension)&&(j=!0),this._value=_,this.elemRef.nativeElement.innerHTML=_,j&&this.calculateDimension()}}return H.\u0275fac=function(_){return new(_||H)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO))},H.\u0275dir=l.lG2({type:H,selectors:[["","ngxSliderLabel",""]],features:[l.qOj]}),H})();class Mu{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class Ru{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class su{static compare(M,_){return!(dn.isNullOrUndefined(M)&&dn.isNullOrUndefined(_)||dn.isNullOrUndefined(M)!==dn.isNullOrUndefined(_))&&M.value===_.value&&M.highValue===_.highValue}}class Nu extends su{static compare(M,_){return!(dn.isNullOrUndefined(M)&&dn.isNullOrUndefined(_)||dn.isNullOrUndefined(M)!==dn.isNullOrUndefined(_))&&M.value===_.value&&M.highValue===_.highValue&&M.forceChange===_.forceChange}}const yf={provide:v.JU,useExisting:(0,l.Gpc)(()=>bf),multi:!0};let bf=(()=>{class H{constructor(_,j,be,We){this.renderer=_,this.elementRef=j,this.changeDetectionRef=be,this.zone=We,this.value=null,this.valueChange=new l.vpe,this.highValue=null,this.highValueChange=new l.vpe,this.options=new Lc,this.userChangeStart=new l.vpe,this.userChange=new l.vpe,this.userChangeEnd=new l.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new Ql,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new Ql,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Lc,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new Ru,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new ah(this.renderer)}set manualRefresh(_){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=_.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(_){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=_.subscribe(j=>{this.focusPointer(j)})}get range(){return!dn.isNullOrUndefined(this.value)&&!dn.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Lc,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(_){!dn.isNullOrUndefined(_.options)&&JSON.stringify(_.options.previousValue)!==JSON.stringify(_.options.currentValue)&&this.onChangeOptions(),(!dn.isNullOrUndefined(_.value)||!dn.isNullOrUndefined(_.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(_){_ instanceof Array?(this.value=_[0],this.highValue=_[1]):this.value=_,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(_){this.onChangeCallback=_}registerOnTouched(_){this.onTouchedCallback=_}setDisabledState(_){this.viewOptions.disabled=_,this.updateDisabledState()}setAriaLabel(_){this.viewOptions.ariaLabel=_,this.updateAriaLabel()}onResize(_){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(nh(Nu.compare),function _d(H,M){return function(j){return j.lift(new Pp(H,M))}}(_=>!_.forceChange&&!_.internalChange)).subscribe(_=>this.applyInputModelChange(_))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(nh(Nu.compare)).subscribe(_=>this.publishOutputModelChange(_))}subscribeResizeObserver(){sc.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){sc.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){dn.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){dn.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){dn.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){dn.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){dn.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){dn.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(_){return _===oi.Min?this.minHandleElement:_===oi.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===oi.Min?this.viewLowValue:this.currentTrackingPointer===oi.Max?this.viewHighValue:null}modelValueToViewValue(_){return dn.isNullOrUndefined(_)?NaN:dn.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+_:dn.findStepIndex(+_,this.viewOptions.stepsArray)}viewValueToModelValue(_){return dn.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?_:this.getStepValue(_)}getStepValue(_){const j=this.viewOptions.stepsArray[_];return dn.isNullOrUndefined(j)?NaN:j.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(_){const j=this.normaliseModelValues(_),be=!su.compare(_,j);be&&(this.value=j.value,this.highValue=j.highValue),this.viewLowValue=this.modelValueToViewValue(j.value),this.viewHighValue=this.range?this.modelValueToViewValue(j.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:j.value,highValue:j.highValue,forceChange:be,userEventInitiated:!1})}publishOutputModelChange(_){const j=()=>{this.valueChange.emit(_.value),this.range&&this.highValueChange.emit(_.highValue),dn.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[_.value,_.highValue]:_.value),dn.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[_.value,_.highValue]:_.value)};_.userEventInitiated?(j(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{j()})}normaliseModelValues(_){const j=new su;if(j.value=_.value,j.highValue=_.highValue,!dn.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const be=dn.findStepIndex(j.value,this.viewOptions.stepsArray);if(j.value=this.viewOptions.stepsArray[be].value,this.range){const We=dn.findStepIndex(j.highValue,this.viewOptions.stepsArray);j.highValue=this.viewOptions.stepsArray[We].value}}return j}if(this.viewOptions.enforceStep&&(j.value=this.roundStep(j.value),this.range&&(j.highValue=this.roundStep(j.highValue))),this.viewOptions.enforceRange&&(j.value=ns.clampToRange(j.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(j.highValue=ns.clampToRange(j.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&_.value>_.highValue))if(this.viewOptions.noSwitching)j.value=j.highValue;else{const be=_.value;j.value=_.highValue,j.highValue=be}return j}renormaliseModelValues(){const _={value:this.value,highValue:this.highValue},j=this.normaliseModelValues(_);su.compare(j,_)||(this.value=j.value,this.highValue=j.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const _=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const j=this.getOptionsInfluencingEventBindings(this.viewOptions),be=!dn.areArraysEqual(_,j);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(be)}applyOptions(){if(this.viewOptions=new Lc,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!dn.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!dn.isNullOrUndefined(this.viewOptions.tickStep)||!dn.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!dn.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),dn.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),dn.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(_,j)=>_+" - "+j),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,dn.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=_=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(_):_))}applyFloorCeilOptions(){if(dn.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),dn.isNullOrUndefined(this.viewOptions.ceil)||dn.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,dn.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=_=>String(_))}resetSlider(_=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),_&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(_){_!==oi.Min&&_!==oi.Max&&(_=oi.Min),_===oi.Min?this.minHandleElement.focus():this.range&&_===oi.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){dn.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const _=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(_||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(_||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(_||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const _ of this.getAllSliderElements())dn.isNullOrUndefined(_)||_.setVertical(this.viewOptions.vertical)}updateScale(){for(const _ of this.getAllSliderElements())_.setScale(this.viewOptions.scale)}updateRotate(){for(const _ of this.getAllSliderElements())_.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",dn.isNullOrUndefined(this.viewOptions.ariaLabel)?dn.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",dn.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?dn.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Gs.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Gs.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){dn.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const _=this.minHandleElement.dimension;this.handleHalfDimension=_/2,dn.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-_,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const _=dn.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,j=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&_.reverse();const be=dn.isNullOrUndefined(this.viewOptions.tickValueStep)?dn.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let We=!1;const dt=_.map(Mn=>{let Ri=this.valueToPosition(Mn);this.viewOptions.vertical&&(Ri=this.maxHandlePosition-Ri);const Pr=j+"("+Math.round(Ri)+"px)",tr=new Mu;tr.selected=this.isTickSelected(Mn),tr.style={"-webkit-transform":Pr,"-moz-transform":Pr,"-o-transform":Pr,"-ms-transform":Pr,transform:Pr},tr.selected&&!dn.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(tr.style["background-color"]=this.getSelectionBarColor()),!tr.selected&&!dn.isNullOrUndefined(this.viewOptions.getTickColor)&&(tr.style["background-color"]=this.getTickColor(Mn)),dn.isNullOrUndefined(this.viewOptions.ticksTooltip)||(tr.tooltip=this.viewOptions.ticksTooltip(Mn),tr.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!dn.isNullOrUndefined(be)&&ns.isModuloWithinPrecisionLimit(Mn,be,this.viewOptions.precisionLimit)&&(tr.value=this.getDisplayValue(Mn,Gs.TickValue),dn.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(tr.valueTooltip=this.viewOptions.ticksValuesTooltip(Mn),tr.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let qr=null;if(dn.isNullOrUndefined(this.viewOptions.stepsArray))dn.isNullOrUndefined(this.viewOptions.getLegend)||(qr=this.viewOptions.getLegend(Mn));else{const ra=this.viewOptions.stepsArray[Mn];dn.isNullOrUndefined(this.viewOptions.getStepLegend)?dn.isNullOrUndefined(ra)||(qr=ra.legend):qr=this.viewOptions.getStepLegend(ra)}return dn.isNullOrUndefined(qr)||(tr.legend=qr,We=!0),tr});if(setTimeout(()=>{this.sliderElementWithLegendClass=We}),dn.isNullOrUndefined(this.ticks)||this.ticks.length!==dt.length)this.ticks=dt;else for(let Mn=0;Mn<dt.length;++Mn)Object.assign(this.ticks[Mn],dt[Mn]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const _=dn.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,j=[],be=1+Math.floor(ns.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/_,this.viewOptions.precisionLimit));for(let We=0;We<be;++We)j.push(ns.roundToPrecisionLimit(this.viewOptions.floor+_*We,this.viewOptions.precisionLimit));return j}isTickSelected(_){if(!this.range)if(dn.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(_>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&_<=this.viewLowValue)return!0}else{const j=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>j&&_>=j&&_<=this.viewLowValue)return!0;if(this.viewLowValue<j&&_<=j&&_>=this.viewLowValue)return!0}return!!(this.range&&_>=this.viewLowValue&&_<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Gs.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Gs.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(_,j){_===oi.Min?this.updateLowHandle(j):_===oi.Max&&this.updateHighHandle(j),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(_,j){const be=_===oi.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,We=j-be/2+this.handleHalfDimension,dt=this.fullBarElement.dimension-be;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&_===oi.Min||!this.viewOptions.rightToLeft&&_===oi.Max?Math.min(We,dt):Math.min(Math.max(We,0),dt):We}updateLowHandle(_){this.minHandleElement.setPosition(_),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Gs.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(oi.Min,_)),dn.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(oi.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(_){this.maxHandleElement.setPosition(_),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Gs.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(oi.Max,_)),dn.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(oi.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let _=!1,j=!1;const be=this.isLabelBelowFloorLabel(this.minHandleLabelElement),We=this.isLabelAboveCeilLabel(this.minHandleLabelElement),dt=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),Mn=this.isLabelBelowFloorLabel(this.combinedLabelElement),Ri=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(be?(_=!0,this.floorLabelElement.hide()):(_=!1,this.floorLabelElement.show()),We?(j=!0,this.ceilLabelElement.hide()):(j=!1,this.ceilLabelElement.show()),this.range){const Pr=this.combinedLabelElement.isVisible()?Ri:dt,tr=this.combinedLabelElement.isVisible()?Mn:be;Pr?this.ceilLabelElement.hide():j||this.ceilLabelElement.show(),tr?this.floorLabelElement.hide():_||this.floorLabelElement.show()}}isLabelBelowFloorLabel(_){const j=_.position,We=this.floorLabelElement.position;return this.viewOptions.rightToLeft?j+_.dimension>=We-2:j<=We+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(_){const j=_.position,We=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?j<=We+this.ceilLabelElement.dimension+2:j+_.dimension>=We-2}updateSelectionBar(){let _=0,j=0;const be=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,We=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)j=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),_=We;else if(dn.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))be?(j=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),_=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(j=this.minHandleElement.position+this.handleHalfDimension,_=0);else{const dt=this.viewOptions.showSelectionBarFromValue,Mn=this.valueToPosition(dt);(this.viewOptions.rightToLeft?this.viewLowValue<=dt:this.viewLowValue>dt)?(j=this.minHandleElement.position-Mn,_=Mn+this.handleHalfDimension):(j=Mn-this.minHandleElement.position,_=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(j),this.selectionBarElement.setPosition(_),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(_),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(_+j)),this.leftOuterSelectionBarElement.setPosition(_+j)):(this.leftOuterSelectionBarElement.setDimension(_),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(_+j)),this.rightOuterSelectionBarElement.setPosition(_+j))),dn.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!dn.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const dt=dn.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),Mn=dt-_>0&&!be||dt-_<=0&&be;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?Mn?"bottom":"top":Mn?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(dt+j+_+(Mn?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=dt-_+(Mn?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const dt=this.getSelectionBarColor();this.barStyle={backgroundColor:dt}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(_){return this.viewOptions.getPointerColor(_===oi.Max?this.highValue:this.value,_)}getTickColor(_){return this.viewOptions.getTickColor(_)}updateCombinedLabel(){let _=null;if(_=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,_){const j=this.getDisplayValue(this.viewLowValue,Gs.Low),be=this.getDisplayValue(this.viewHighValue,Gs.High),We=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(be,j):this.viewOptions.combineLabels(j,be);this.combinedLabelElement.setValue(We);const dt=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(dt),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(_,j){return!dn.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(_=this.getStepValue(_)),this.viewOptions.translate(_,j)}roundStep(_,j){const be=dn.isNullOrUndefined(j)?this.viewOptions.step:j;let We=ns.roundToPrecisionLimit((_-this.viewOptions.floor)/be,this.viewOptions.precisionLimit);return We=Math.round(We)*be,ns.roundToPrecisionLimit(this.viewOptions.floor+We,this.viewOptions.precisionLimit)}valueToPosition(_){let j=dn.linearValueToPosition;dn.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(j=dn.logValueToPosition):j=this.viewOptions.customValueToPosition;let be=j(_=ns.clampToRange(_,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return dn.isNullOrUndefined(be)&&(be=0),this.viewOptions.rightToLeft&&(be=1-be),be*this.maxHandlePosition}positionToValue(_){let j=_/this.maxHandlePosition;this.viewOptions.rightToLeft&&(j=1-j);let be=dn.linearPositionToValue;dn.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(be=dn.logPositionToValue):be=this.viewOptions.customPositionToValue;const We=be(j,this.viewOptions.floor,this.viewOptions.ceil);return dn.isNullOrUndefined(We)?0:We}getEventXY(_,j){if(_ instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?_.clientY:_.clientX;let be=0;const We=_.touches;if(!dn.isNullOrUndefined(j))for(let dt=0;dt<We.length;dt++)if(We[dt].identifier===j){be=dt;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?We[be].clientY:We[be].clientX}getEventPosition(_,j){const be=this.elementRef.nativeElement.getBoundingClientRect(),We=this.viewOptions.vertical||0!==this.viewOptions.rotate?be.bottom:be.left;let dt=0;return dt=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(_,j)+We:this.getEventXY(_,j)-We,dt*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(_){if(!this.range)return oi.Min;const j=this.getEventPosition(_),be=Math.abs(j-this.minHandleElement.position),We=Math.abs(j-this.maxHandleElement.position);return be<We?oi.Min:be>We?oi.Max:this.viewOptions.rightToLeft?j>this.minHandleElement.position?oi.Min:oi.Max:j<this.minHandleElement.position?oi.Min:oi.Max}bindEvents(){const _=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",j=>this.onBarStart(null,_,j,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",j=>this.onBarStart(oi.Min,_,j,!0,!0)),this.maxHandleElement.on("mousedown",j=>this.onBarStart(oi.Max,_,j,!0,!0))):(this.minHandleElement.on("mousedown",j=>this.onStart(oi.Min,j,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",j=>this.onStart(oi.Max,j,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",j=>this.onStart(null,j,!0,!0,!0)),this.ticksElement.on("mousedown",j=>this.onStart(null,j,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",j=>this.onBarStart(null,_,j,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",j=>this.onBarStart(oi.Min,_,j,!0,!0)),this.maxHandleElement.onPassive("touchstart",j=>this.onBarStart(oi.Max,_,j,!0,!0))):(this.minHandleElement.onPassive("touchstart",j=>this.onStart(oi.Min,j,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",j=>this.onStart(oi.Max,j,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",j=>this.onStart(null,j,!0,!0,!0)),this.ticksElement.onPassive("touchstart",j=>this.onStart(null,j,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(oi.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(oi.Max)))}getOptionsInfluencingEventBindings(_){return[_.disabled,_.readOnly,_.draggableRange,_.draggableRangeOnly,_.onlyBindHandles,_.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const _ of this.getAllSliderElements())dn.isNullOrUndefined(_)||_.off()}onBarStart(_,j,be,We,dt,Mn,Ri){j?this.onDragStart(_,be,We,dt):this.onStart(_,be,We,dt,Mn,Ri)}onStart(_,j,be,We,dt,Mn){j.stopPropagation(),!sc.isTouchEvent(j)&&!Mp&&j.preventDefault(),this.moving=!1,this.calculateViewDimensions(),dn.isNullOrUndefined(_)&&(_=this.getNearestHandle(j)),this.currentTrackingPointer=_;const Ri=this.getPointerElement(_);if(Ri.active=!0,this.viewOptions.keyboardSupport&&Ri.focus(),be){this.unsubscribeOnMove();const Pr=tr=>this.dragging.active?this.onDragMove(tr):this.onMove(tr);this.onMoveEventListener=sc.isTouchEvent(j)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",Pr):this.eventListenerHelper.attachEventListener(document,"mousemove",Pr)}if(We){this.unsubscribeOnEnd();const Pr=tr=>this.onEnd(tr);this.onEndEventListener=sc.isTouchEvent(j)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",Pr):this.eventListenerHelper.attachEventListener(document,"mouseup",Pr)}this.userChangeStart.emit(this.getChangeContext()),sc.isTouchEvent(j)&&!dn.isNullOrUndefined(j.changedTouches)&&dn.isNullOrUndefined(this.touchId)&&(this.touchId=j.changedTouches[0].identifier),dt&&this.onMove(j,!0),Mn&&this.onEnd(j)}onMove(_,j){let be=null;if(sc.isTouchEvent(_)){const Pr=_.changedTouches;for(let tr=0;tr<Pr.length;tr++)if(Pr[tr].identifier===this.touchId){be=Pr[tr];break}if(dn.isNullOrUndefined(be))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const We=dn.isNullOrUndefined(be)?this.getEventPosition(_):this.getEventPosition(_,be.identifier);let dt;We<=0?dt=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:We>=this.maxHandlePosition?dt=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(dt=this.positionToValue(We),dt=j&&!dn.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(dt,this.viewOptions.tickStep):this.roundStep(dt)),this.positionTrackingHandle(dt)}onEnd(_){sc.isTouchEvent(_)&&_.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(_){const j=this.getPointerElement(_);j.on("blur",()=>this.onPointerBlur(j)),j.on("keydown",be=>this.onKeyboardEvent(be)),j.on("keyup",()=>this.onKeyUp()),j.active=!0,this.currentTrackingPointer=_,this.currentFocusPointer=_,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(_){_.off("blur"),_.off("keydown"),_.off("keyup"),_.active=!1,dn.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(_){const j=this.viewOptions.ceil-this.viewOptions.floor;let be=_+this.viewOptions.step,We=_-this.viewOptions.step,dt=_+j/10,Mn=_-j/10;this.viewOptions.reversedControls&&(be=_-this.viewOptions.step,We=_+this.viewOptions.step,dt=_-j/10,Mn=_+j/10);const Ri={UP:be,DOWN:We,LEFT:We,RIGHT:be,PAGEUP:dt,PAGEDOWN:Mn,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(Ri.LEFT=be,Ri.RIGHT=We,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(Ri.UP=We,Ri.DOWN=be)),Ri}onKeyboardEvent(_){const j=this.getCurrentTrackingValue(),be=dn.isNullOrUndefined(_.keyCode)?_.which:_.keyCode,Ri=this.getKeyActions(j)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[be]];if(dn.isNullOrUndefined(Ri)||dn.isNullOrUndefined(this.currentTrackingPointer))return;_.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const Pr=ns.clampToRange(Ri,this.viewOptions.floor,this.viewOptions.ceil),tr=this.roundStep(Pr);if(this.viewOptions.draggableRangeOnly){const qr=this.viewHighValue-this.viewLowValue;let ra,sl;this.currentTrackingPointer===oi.Min?(ra=tr,sl=tr+qr,sl>this.viewOptions.ceil&&(sl=this.viewOptions.ceil,ra=sl-qr)):this.currentTrackingPointer===oi.Max&&(sl=tr,ra=tr-qr,ra<this.viewOptions.floor&&(ra=this.viewOptions.floor,sl=ra+qr)),this.positionTrackingBar(ra,sl)}else this.positionTrackingHandle(tr)}onDragStart(_,j,be,We){const dt=this.getEventPosition(j);this.dragging=new Ru,this.dragging.active=!0,this.dragging.value=this.positionToValue(dt),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-dt:dt-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?dt-this.maxHandleElement.position:this.maxHandleElement.position-dt,this.onStart(_,j,be,We)}getMinValue(_,j,be){const We=this.viewOptions.rightToLeft;let dt=null;return dt=j?be?We?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:We?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(We?_+this.dragging.lowLimit:_-this.dragging.lowLimit),this.roundStep(dt)}getMaxValue(_,j,be){const We=this.viewOptions.rightToLeft;let dt=null;return dt=j?be?We?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:We?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:We?this.positionToValue(_+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(_-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(dt)}onDragMove(_){const j=this.getEventPosition(_);let be,We,dt,Mn;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(be=this.dragging.lowLimit,We=this.dragging.highLimit,dt=this.maxHandleElement,Mn=this.minHandleElement):(be=this.dragging.highLimit,We=this.dragging.lowLimit,dt=this.minHandleElement,Mn=this.maxHandleElement);const Pr=j>=this.maxHandlePosition-be;let tr,qr;if(j<=We){if(0===dt.position)return;tr=this.getMinValue(j,!0,!1),qr=this.getMaxValue(j,!0,!1)}else if(Pr){if(Mn.position===this.maxHandlePosition)return;qr=this.getMaxValue(j,!0,!0),tr=this.getMinValue(j,!0,!0)}else tr=this.getMinValue(j,!1,!1),qr=this.getMaxValue(j,!1,!1);this.positionTrackingBar(tr,qr)}positionTrackingBar(_,j){!dn.isNullOrUndefined(this.viewOptions.minLimit)&&_<this.viewOptions.minLimit&&(j=ns.roundToPrecisionLimit((_=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!dn.isNullOrUndefined(this.viewOptions.maxLimit)&&j>this.viewOptions.maxLimit&&(_=ns.roundToPrecisionLimit((j=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=_,this.viewHighValue=j,this.applyViewChange(),this.updateHandles(oi.Min,this.valueToPosition(_)),this.updateHandles(oi.Max,this.valueToPosition(j))}positionTrackingHandle(_){_=this.applyMinMaxLimit(_),this.range&&(this.viewOptions.pushRange?_=this.applyPushRange(_):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===oi.Min&&_>this.viewHighValue?_=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===oi.Max&&_<this.viewLowValue&&(_=this.applyMinMaxRange(this.viewLowValue))),_=this.applyMinMaxRange(_),this.currentTrackingPointer===oi.Min&&_>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(oi.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=oi.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===oi.Max&&_<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(oi.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=oi.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==_&&(this.currentTrackingPointer===oi.Min?(this.viewLowValue=_,this.applyViewChange()):this.currentTrackingPointer===oi.Max&&(this.viewHighValue=_,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(_)),this.updateAriaAttributes())}applyMinMaxLimit(_){return!dn.isNullOrUndefined(this.viewOptions.minLimit)&&_<this.viewOptions.minLimit?this.viewOptions.minLimit:!dn.isNullOrUndefined(this.viewOptions.maxLimit)&&_>this.viewOptions.maxLimit?this.viewOptions.maxLimit:_}applyMinMaxRange(_){const be=Math.abs(_-(this.currentTrackingPointer===oi.Min?this.viewHighValue:this.viewLowValue));if(!dn.isNullOrUndefined(this.viewOptions.minRange)&&be<this.viewOptions.minRange){if(this.currentTrackingPointer===oi.Min)return ns.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===oi.Max)return ns.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!dn.isNullOrUndefined(this.viewOptions.maxRange)&&be>this.viewOptions.maxRange){if(this.currentTrackingPointer===oi.Min)return ns.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===oi.Max)return ns.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return _}applyPushRange(_){const j=this.currentTrackingPointer===oi.Min?this.viewHighValue-_:_-this.viewLowValue,be=dn.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,We=this.viewOptions.maxRange;return j<be?(this.currentTrackingPointer===oi.Min?(this.viewHighValue=ns.roundToPrecisionLimit(Math.min(_+be,this.viewOptions.ceil),this.viewOptions.precisionLimit),_=ns.roundToPrecisionLimit(this.viewHighValue-be,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oi.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===oi.Max&&(this.viewLowValue=ns.roundToPrecisionLimit(Math.max(_-be,this.viewOptions.floor),this.viewOptions.precisionLimit),_=ns.roundToPrecisionLimit(this.viewLowValue+be,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oi.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!dn.isNullOrUndefined(We)&&j>We&&(this.currentTrackingPointer===oi.Min?(this.viewHighValue=ns.roundToPrecisionLimit(_+We,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oi.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===oi.Max&&(this.viewLowValue=ns.roundToPrecisionLimit(_-We,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oi.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),_}getChangeContext(){const _=new oh;return _.pointerType=this.currentTrackingPointer,_.value=+this.value,this.range&&(_.highValue=+this.highValue),_}}return H.\u0275fac=function(_){return new(_||H)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b))},H.\u0275cmp=l.Xpm({type:H,selectors:[["ngx-slider"]],contentQueries:function(_,j,be){if(1&_&&l.Suo(be,Lp,5),2&_){let We;l.iGM(We=l.CRH())&&(j.tooltipTemplate=We.first)}},viewQuery:function(_,j){if(1&_&&(l.Gf(Fp,5,ia),l.Gf(Sm,5,ia),l.Gf(Rc,5,ia),l.Gf(Am,5,ia),l.Gf(Vp,5,bd),l.Gf(Bp,5,bd),l.Gf(Up,5,fs),l.Gf(iu,5,fs),l.Gf(Fl,5,fs),l.Gf(ru,5,fs),l.Gf(Pu,5,fs),l.Gf(gf,5,ia)),2&_){let be;l.iGM(be=l.CRH())&&(j.leftOuterSelectionBarElement=be.first),l.iGM(be=l.CRH())&&(j.rightOuterSelectionBarElement=be.first),l.iGM(be=l.CRH())&&(j.fullBarElement=be.first),l.iGM(be=l.CRH())&&(j.selectionBarElement=be.first),l.iGM(be=l.CRH())&&(j.minHandleElement=be.first),l.iGM(be=l.CRH())&&(j.maxHandleElement=be.first),l.iGM(be=l.CRH())&&(j.floorLabelElement=be.first),l.iGM(be=l.CRH())&&(j.ceilLabelElement=be.first),l.iGM(be=l.CRH())&&(j.minHandleLabelElement=be.first),l.iGM(be=l.CRH())&&(j.maxHandleLabelElement=be.first),l.iGM(be=l.CRH())&&(j.combinedLabelElement=be.first),l.iGM(be=l.CRH())&&(j.ticksElement=be.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(_,j){1&_&&l.NdJ("resize",function(We){return j.onResize(We)},!1,l.Jf7),2&_&&(l.uIk("disabled",j.sliderElementDisabledAttr)("aria-label",j.sliderElementAriaLabel),l.ekj("vertical",j.sliderElementVerticalClass)("animate",j.sliderElementAnimateClass)("with-legend",j.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[l._Bn([yf]),l.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(_,j){1&_&&(l.TgZ(0,"span",0,1),l._UZ(2,"span",2),l.qZA(),l.TgZ(3,"span",3,4),l._UZ(5,"span",2),l.qZA(),l.TgZ(6,"span",5,6),l._UZ(8,"span",2),l.qZA(),l.TgZ(9,"span",7,8),l._UZ(11,"span",9),l.qZA(),l._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),l.TgZ(26,"span",24,25),l.YNc(28,rl,4,9,"span",26),l.qZA()),2&_&&(l.xp6(6),l.ekj("ngx-slider-transparent",j.fullBarTransparentClass),l.xp6(3),l.ekj("ngx-slider-draggable",j.selectionBarDraggableClass),l.xp6(2),l.Q6J("ngStyle",j.barStyle),l.xp6(1),l.Q6J("ngStyle",j.minPointerStyle),l.xp6(2),l.Udp("display",j.range?"inherit":"none"),l.Q6J("ngStyle",j.maxPointerStyle),l.xp6(12),l.ekj("ngx-slider-ticks-values-under",j.ticksUnderValuesClass),l.Q6J("hidden",!j.showTicks),l.xp6(2),l.Q6J("ngForOf",j.ticks))},dependencies:function(){return[f.mk,f.sg,f.O5,f.PC,ia,bd,fs,xf]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),H})(),xf=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275cmp=l.Xpm({type:H,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(_,j){1&_&&(l.YNc(0,yd,2,6,"ng-container",0),l.YNc(1,_f,3,3,"ng-container",0)),2&_&&(l.Q6J("ngIf",j.template),l.xp6(1),l.Q6J("ngIf",!j.template))},dependencies:[f.O5,f.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),H})(),wf=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=l.oAB({type:H}),H.\u0275inj=l.cJS({imports:[f.ez]}),H})();var Vl;class Lu{}(Vl=Lu).\u0275fac=function(M){return new(M||Vl)},Vl.\u0275mod=l.oAB({type:Vl}),Vl.\u0275inj=l.cJS({providers:[zt,zn,{provide:Pn.op,useValue:{suppressScrollX:!0,wheelSpeed:.3}}],imports:[f.ez,v.u5,v.UX,qs,He.W,li,Xe.Oz,Xe.XC,Xe.HK,Tn,Pn.Xd,gl,Sn,To,je,Xe.jF,Xe.ZS,Xe.lQ,Ap,wf,Xe.bz]})},6583:(Hn,gt,ue)=>{"use strict";ue.d(gt,{y:()=>Qe});var l,f=ue(5861),v=ue(5226),He=ue.n(v),Xe=ue(4650);class Qe{constructor(){}successmsg(tt,vt,bt){He().fire({title:`${tt}`,text:`${vt}!`,icon:bt,showCancelButton:!0,confirmButtonColor:"#5438dc",cancelButtonColor:"#ff3d60"})}comfirmAndDelete(tt){return(0,f.Z)(function*(){const vt=yield He().fire({title:`${tt.title}`,text:`${tt.text}!`,icon:tt.icon,showCancelButton:!0,confirmButtonColor:tt.confirmButtonColor??"#5438dc",cancelButtonColor:tt.cancelButtonColor??"#ff3d60"});vt.value&&tt.comfirm(vt.value)})()}}(l=Qe).\u0275fac=function(tt){return new(tt||l)},l.\u0275prov=Xe.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})},8311:(Hn,gt,ue)=>{"use strict";ue.d(gt,{F:()=>Xe});var He,f=ue(529),v=ue(4650);class Xe{constructor(Qe){this.http=Qe}getHeaders(Qe){return new f.WM(Qe)}post(Qe,je,tt){return this.http.post(je,tt,{headers:Qe})}get(Qe,je){return this.http.get(Qe,{headers:je})}postWithImage(Qe,je){return this.http.post(je,Qe)}putWithImage(Qe,je,tt){return this.http.put(je,Qe)}delete(Qe){return this.http.delete(Qe)}put(Qe,je,tt){return this.http.put(Qe,je,{headers:tt})}}(He=Xe).\u0275fac=function(Qe){return new(Qe||He)(v.LFG(f.eN))},He.\u0275prov=v.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"})},9668:(Hn,gt,ue)=>{"use strict";ue.d(gt,{W:()=>Xe});var He,f=ue(6895),v=ue(4650);class Xe{}(He=Xe).\u0275fac=function(Qe){return new(Qe||He)},He.\u0275mod=v.oAB({type:He}),He.\u0275inj=v.cJS({imports:[f.ez]})},2340:(Hn,gt,ue)=>{"use strict";ue.d(gt,{N:()=>v});let f="v1";const v={production:!1,defaultauth:"fackbackend",DEFAULTAUTH:"E_SHOP_AUTH",firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},E_SHOP_BASE_URL:"http://127.0.0.1:8000/api/",AUTHENTICATION:{AUTHENTICATION_BASE_URL:`authentication/${f}/`,REGISTER_URL:"register/",LOGIN_URL:"login/",USER_PROFILE:"user-profile/"},IMS:{IMS_CAT_BASE_URL:`category/${f}/`,CATEGORY_SUB_BASE_URL:"category_vset/",CATEGORY_LIST_WITH_NO_PAGENATION:"category-list/",IMS_PRODUCT_BASE_URL:`products/${f}/product_vset/`,IMS_STOCK_BASE_URL:`stock/${f}/stock_vset/`,IMS_STOCK_ITEMS_BASE_URL:`stock/${f}/stock-items_vset/`,IMS_PRODUCT_LIST_WITH_NO_PAGENATION:`products/${f}/product-list/`,IMS_SALES_BASE_URL:`sales/${f}/sales_vset/`,IMS_STOCK_ITEMS_LIST_WITH_NO_PAGENATION:`stock/${f}/stock-items-list/`,IMS_STOCK_ITEM_OBJ:`stock/${f}/get-stock-items/`,IMS_SALES_LIST_BY_STOCK:`sales/${f}/sales_vset/`}}},276:(Hn,gt,ue)=>{"use strict";var f=ue(1481),v=ue(4650),He=ue(529),Xe=ue(4006),l=ue(9646),Qe=ue(9751),je=ue(576);function tt(Be){return!!Be&&(Be instanceof Qe.y||(0,je.m)(Be.lift)&&(0,je.m)(Be.subscribe))}var vt=ue(4128),bt=ue(7272),xt=ue(9770),Et=ue(5698),Jt=ue(7579),ct=ue(6063);class Ft extends Jt.x{constructor(Ce=1/0,fe=1/0,Ue=ct.l){super(),this._bufferSize=Ce,this._windowTime=fe,this._timestampProvider=Ue,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=fe===1/0,this._bufferSize=Math.max(1,Ce),this._windowTime=Math.max(1,fe)}next(Ce){const{isStopped:fe,_buffer:Ue,_infiniteTimeWindow:ut,_timestampProvider:Pt,_windowTime:sn}=this;fe||(Ue.push(Ce),!ut&&Ue.push(Pt.now()+sn)),this._trimBuffer(),super.next(Ce)}_subscribe(Ce){this._throwIfClosed(),this._trimBuffer();const fe=this._innerSubscribe(Ce),{_infiniteTimeWindow:Ue,_buffer:ut}=this,Pt=ut.slice();for(let sn=0;sn<Pt.length&&!Ce.closed;sn+=Ue?1:2)Ce.next(Pt[sn]);return this._checkFinalizedStatuses(Ce),fe}_trimBuffer(){const{_bufferSize:Ce,_timestampProvider:fe,_buffer:Ue,_infiniteTimeWindow:ut}=this,Pt=(ut?1:2)*Ce;if(Ce<1/0&&Pt<Ue.length&&Ue.splice(0,Ue.length-Pt),!ut){const sn=fe.now();let wn=0;for(let yi=1;yi<Ue.length&&Ue[yi]<=sn;yi+=2)wn=yi;wn&&Ue.splice(0,wn+1)}}}var on=ue(3099);function At(Be,Ce,fe){let Ue,ut=!1;return Be&&"object"==typeof Be?({bufferSize:Ue=1/0,windowTime:Ce=1/0,refCount:ut=!1,scheduler:fe}=Be):Ue=Be??1/0,(0,on.B)({connector:()=>new Ft(Ue,Ce,fe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ut})}var Ye=ue(4004),Ut=ue(4351),un=ue(3900);class et{}let jt=(()=>{class Be extends et{getTranslation(fe){return(0,l.of)({})}}return Be.\u0275fac=function(){let Ce;return function(Ue){return(Ce||(Ce=v.n5z(Be)))(Ue||Be)}}(),Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class fn{}let Fn=(()=>{class Be{handle(fe){return fe.key}}return Be.\u0275fac=function(fe){return new(fe||Be)},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})();function Qt(Be,Ce){if(Be===Ce)return!0;if(null===Be||null===Ce)return!1;if(Be!=Be&&Ce!=Ce)return!0;let ut,Pt,sn,fe=typeof Be;if(fe==typeof Ce&&"object"==fe){if(!Array.isArray(Be)){if(Array.isArray(Ce))return!1;for(Pt in sn=Object.create(null),Be){if(!Qt(Be[Pt],Ce[Pt]))return!1;sn[Pt]=!0}for(Pt in Ce)if(!(Pt in sn)&&typeof Ce[Pt]<"u")return!1;return!0}if(!Array.isArray(Ce))return!1;if((ut=Be.length)==Ce.length){for(Pt=0;Pt<ut;Pt++)if(!Qt(Be[Pt],Ce[Pt]))return!1;return!0}}return!1}function Nt(Be){return typeof Be<"u"&&null!==Be}function vn(Be){return Be&&"object"==typeof Be&&!Array.isArray(Be)}function Cn(Be,Ce){let fe=Object.assign({},Be);return vn(Be)&&vn(Ce)&&Object.keys(Ce).forEach(Ue=>{vn(Ce[Ue])?Ue in Be?fe[Ue]=Cn(Be[Ue],Ce[Ue]):Object.assign(fe,{[Ue]:Ce[Ue]}):Object.assign(fe,{[Ue]:Ce[Ue]})}),fe}class Bn{}let In=(()=>{class Be extends Bn{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(fe,Ue){let ut;return ut="string"==typeof fe?this.interpolateString(fe,Ue):"function"==typeof fe?this.interpolateFunction(fe,Ue):fe,ut}getValue(fe,Ue){let ut="string"==typeof Ue?Ue.split("."):[Ue];Ue="";do{Ue+=ut.shift(),!Nt(fe)||!Nt(fe[Ue])||"object"!=typeof fe[Ue]&&ut.length?ut.length?Ue+=".":fe=void 0:(fe=fe[Ue],Ue="")}while(ut.length);return fe}interpolateFunction(fe,Ue){return fe(Ue)}interpolateString(fe,Ue){return Ue?fe.replace(this.templateMatcher,(ut,Pt)=>{let sn=this.getValue(Ue,Pt);return Nt(sn)?sn:ut}):fe}}return Be.\u0275fac=function(){let Ce;return function(Ue){return(Ce||(Ce=v.n5z(Be)))(Ue||Be)}}(),Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class mn{}let mt=(()=>{class Be extends mn{compile(fe,Ue){return fe}compileTranslations(fe,Ue){return fe}}return Be.\u0275fac=function(){let Ce;return function(Ue){return(Ce||(Ce=v.n5z(Be)))(Ue||Be)}}(),Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class Lt{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new v.vpe,this.onLangChange=new v.vpe,this.onDefaultLangChange=new v.vpe}}const pt=new v.OlP("USE_STORE"),Gt=new v.OlP("USE_DEFAULT_LANG"),pn=new v.OlP("DEFAULT_LANGUAGE"),en=new v.OlP("USE_EXTEND");let rn=(()=>{class Be{constructor(fe,Ue,ut,Pt,sn,wn=!0,yi=!1,Ai=!1,hi){this.store=fe,this.currentLoader=Ue,this.compiler=ut,this.parser=Pt,this.missingTranslationHandler=sn,this.useDefaultLang=wn,this.isolate=yi,this.extend=Ai,this.pending=!1,this._onTranslationChange=new v.vpe,this._onLangChange=new v.vpe,this._onDefaultLangChange=new v.vpe,this._langs=[],this._translations={},this._translationRequests={},hi&&this.setDefaultLang(hi)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(fe){this.isolate?this._defaultLang=fe:this.store.defaultLang=fe}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(fe){this.isolate?this._currentLang=fe:this.store.currentLang=fe}get langs(){return this.isolate?this._langs:this.store.langs}set langs(fe){this.isolate?this._langs=fe:this.store.langs=fe}get translations(){return this.isolate?this._translations:this.store.translations}set translations(fe){this.isolate?this._translations=fe:this.store.translations=fe}setDefaultLang(fe){if(fe===this.defaultLang)return;let Ue=this.retrieveTranslations(fe);typeof Ue<"u"?(null==this.defaultLang&&(this.defaultLang=fe),Ue.pipe((0,Et.q)(1)).subscribe(ut=>{this.changeDefaultLang(fe)})):this.changeDefaultLang(fe)}getDefaultLang(){return this.defaultLang}use(fe){if(fe===this.currentLang)return(0,l.of)(this.translations[fe]);let Ue=this.retrieveTranslations(fe);return typeof Ue<"u"?(this.currentLang||(this.currentLang=fe),Ue.pipe((0,Et.q)(1)).subscribe(ut=>{this.changeLang(fe)}),Ue):(this.changeLang(fe),(0,l.of)(this.translations[fe]))}retrieveTranslations(fe){let Ue;return(typeof this.translations[fe]>"u"||this.extend)&&(this._translationRequests[fe]=this._translationRequests[fe]||this.getTranslation(fe),Ue=this._translationRequests[fe]),Ue}getTranslation(fe){this.pending=!0;const Ue=this.currentLoader.getTranslation(fe).pipe(At(1),(0,Et.q)(1));return this.loadingTranslations=Ue.pipe((0,Ye.U)(ut=>this.compiler.compileTranslations(ut,fe)),At(1),(0,Et.q)(1)),this.loadingTranslations.subscribe({next:ut=>{this.translations[fe]=this.extend&&this.translations[fe]?{...ut,...this.translations[fe]}:ut,this.updateLangs(),this.pending=!1},error:ut=>{this.pending=!1}}),Ue}setTranslation(fe,Ue,ut=!1){Ue=this.compiler.compileTranslations(Ue,fe),this.translations[fe]=(ut||this.extend)&&this.translations[fe]?Cn(this.translations[fe],Ue):Ue,this.updateLangs(),this.onTranslationChange.emit({lang:fe,translations:this.translations[fe]})}getLangs(){return this.langs}addLangs(fe){fe.forEach(Ue=>{-1===this.langs.indexOf(Ue)&&this.langs.push(Ue)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(fe,Ue,ut){let Pt;if(Ue instanceof Array){let sn={},wn=!1;for(let yi of Ue)sn[yi]=this.getParsedResult(fe,yi,ut),tt(sn[yi])&&(wn=!0);if(wn){const yi=Ue.map(Ai=>tt(sn[Ai])?sn[Ai]:(0,l.of)(sn[Ai]));return(0,vt.D)(yi).pipe((0,Ye.U)(Ai=>{let hi={};return Ai.forEach((Yr,Hr)=>{hi[Ue[Hr]]=Yr}),hi}))}return sn}if(fe&&(Pt=this.parser.interpolate(this.parser.getValue(fe,Ue),ut)),typeof Pt>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Pt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Ue),ut)),typeof Pt>"u"){let sn={key:Ue,translateService:this};typeof ut<"u"&&(sn.interpolateParams=ut),Pt=this.missingTranslationHandler.handle(sn)}return typeof Pt<"u"?Pt:Ue}get(fe,Ue){if(!Nt(fe)||!fe.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Ut.b)(ut=>tt(ut=this.getParsedResult(ut,fe,Ue))?ut:(0,l.of)(ut)));{let ut=this.getParsedResult(this.translations[this.currentLang],fe,Ue);return tt(ut)?ut:(0,l.of)(ut)}}getStreamOnTranslationChange(fe,Ue){if(!Nt(fe)||!fe.length)throw new Error('Parameter "key" required');return(0,bt.z)((0,xt.P)(()=>this.get(fe,Ue)),this.onTranslationChange.pipe((0,un.w)(ut=>{const Pt=this.getParsedResult(ut.translations,fe,Ue);return"function"==typeof Pt.subscribe?Pt:(0,l.of)(Pt)})))}stream(fe,Ue){if(!Nt(fe)||!fe.length)throw new Error('Parameter "key" required');return(0,bt.z)((0,xt.P)(()=>this.get(fe,Ue)),this.onLangChange.pipe((0,un.w)(ut=>{const Pt=this.getParsedResult(ut.translations,fe,Ue);return tt(Pt)?Pt:(0,l.of)(Pt)})))}instant(fe,Ue){if(!Nt(fe)||!fe.length)throw new Error('Parameter "key" required');let ut=this.getParsedResult(this.translations[this.currentLang],fe,Ue);if(tt(ut)){if(fe instanceof Array){let Pt={};return fe.forEach((sn,wn)=>{Pt[fe[wn]]=fe[wn]}),Pt}return fe}return ut}set(fe,Ue,ut=this.currentLang){this.translations[ut][fe]=this.compiler.compile(Ue,ut),this.updateLangs(),this.onTranslationChange.emit({lang:ut,translations:this.translations[ut]})}changeLang(fe){this.currentLang=fe,this.onLangChange.emit({lang:fe,translations:this.translations[fe]}),null==this.defaultLang&&this.changeDefaultLang(fe)}changeDefaultLang(fe){this.defaultLang=fe,this.onDefaultLangChange.emit({lang:fe,translations:this.translations[fe]})}reloadLang(fe){return this.resetLang(fe),this.getTranslation(fe)}resetLang(fe){this._translationRequests[fe]=void 0,this.translations[fe]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let fe=window.navigator.languages?window.navigator.languages[0]:null;return fe=fe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof fe>"u"?void 0:(-1!==fe.indexOf("-")&&(fe=fe.split("-")[0]),-1!==fe.indexOf("_")&&(fe=fe.split("_")[0]),fe)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let fe=window.navigator.languages?window.navigator.languages[0]:null;return fe=fe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,fe}}return Be.\u0275fac=function(fe){return new(fe||Be)(v.LFG(Lt),v.LFG(et),v.LFG(mn),v.LFG(Bn),v.LFG(fn),v.LFG(Gt),v.LFG(pt),v.LFG(en),v.LFG(pn))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),$n=(()=>{class Be{constructor(fe,Ue){this.translate=fe,this._ref=Ue,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(fe,Ue,ut){let Pt=sn=>{this.value=void 0!==sn?sn:fe,this.lastKey=fe,this._ref.markForCheck()};if(ut){let sn=this.translate.getParsedResult(ut,fe,Ue);tt(sn.subscribe)?sn.subscribe(Pt):Pt(sn)}this.translate.get(fe,Ue).subscribe(Pt)}transform(fe,...Ue){if(!fe||!fe.length)return fe;if(Qt(fe,this.lastKey)&&Qt(Ue,this.lastParams))return this.value;let ut;if(Nt(Ue[0])&&Ue.length)if("string"==typeof Ue[0]&&Ue[0].length){let Pt=Ue[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ut=JSON.parse(Pt)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Ue[0]}`)}}else"object"==typeof Ue[0]&&!Array.isArray(Ue[0])&&(ut=Ue[0]);return this.lastKey=fe,this.lastParams=Ue,this.updateValue(fe,ut),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Pt=>{this.lastKey&&Pt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(fe,ut,Pt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Pt=>{this.lastKey&&(this.lastKey=null,this.updateValue(fe,ut,Pt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(fe,ut))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Be.\u0275fac=function(fe){return new(fe||Be)(v.Y36(rn,16),v.Y36(v.sBO,16))},Be.\u0275pipe=v.Yjl({name:"translate",type:Be,pure:!1}),Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),Tn=(()=>{class Be{static forRoot(fe={}){return{ngModule:Be,providers:[fe.loader||{provide:et,useClass:jt},fe.compiler||{provide:mn,useClass:mt},fe.parser||{provide:Bn,useClass:In},fe.missingTranslationHandler||{provide:fn,useClass:Fn},Lt,{provide:pt,useValue:fe.isolate},{provide:Gt,useValue:fe.useDefaultLang},{provide:en,useValue:fe.extend},{provide:pn,useValue:fe.defaultLanguage},rn]}}static forChild(fe={}){return{ngModule:Be,providers:[fe.loader||{provide:et,useClass:jt},fe.compiler||{provide:mn,useClass:mt},fe.parser||{provide:Bn,useClass:In},fe.missingTranslationHandler||{provide:fn,useClass:Fn},{provide:pt,useValue:fe.isolate},{provide:Gt,useValue:fe.useDefaultLang},{provide:en,useValue:fe.extend},{provide:pn,useValue:fe.defaultLanguage},rn]}}}return Be.\u0275fac=function(fe){return new(fe||Be)},Be.\u0275mod=v.oAB({type:Be}),Be.\u0275inj=v.cJS({}),Be})();function Pn(Be){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ce){return typeof Ce}:function(Ce){return Ce&&"function"==typeof Symbol&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce})(Be)}function ui(Be,Ce,fe){return(Ce=function Rn(Be){var Ce=function Vn(Be,Ce){if("object"!==Pn(Be)||null===Be)return Be;var fe=Be[Symbol.toPrimitive];if(void 0!==fe){var Ue=fe.call(Be,Ce||"default");if("object"!==Pn(Ue))return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ce?String:Number)(Be)}(Be,"string");return"symbol"===Pn(Ce)?Ce:String(Ce)}(Ce))in Be?Object.defineProperty(Be,Ce,{value:fe,enumerable:!0,configurable:!0,writable:!0}):Be[Ce]=fe,Be}class Di{constructor(Ce,fe="/assets/i18n/",Ue=".json"){ui(this,"http",void 0),ui(this,"prefix",void 0),ui(this,"suffix",void 0),this.http=Ce,this.prefix=fe,this.suffix=Ue}getTranslation(Ce){return this.http.get(`${this.prefix}${Ce}${this.suffix}`)}}var bi=ue(2340),li=ue(6895),gn=ue(2605),Si=ue(9234),sr=ue(5958),Bi=function(Be,Ce,fe,Ue){var sn,ut=arguments.length,Pt=ut<3?Ce:null===Ue?Ue=Object.getOwnPropertyDescriptor(Ce,fe):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Be,Ce,fe,Ue);else for(var wn=Be.length-1;wn>=0;wn--)(sn=Be[wn])&&(Pt=(ut<3?sn(Pt):ut>3?sn(Ce,fe,Pt):sn(Ce,fe))||Pt);return ut>3&&Pt&&Object.defineProperty(Ce,fe,Pt),Pt},ki=function(Be,Ce){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Be,Ce)},Pi=function(Be,Ce){return function(fe,Ue){Ce(fe,Ue,Be)}},qi=function(){function Be(Ce,fe,Ue){this._el=Ce,this._ngZone=fe,this.platformId=Ue,this.clickOutsideEnabled=!0,this.attachOutsideOnClick=!1,this.delayClickOutsideInit=!1,this.emitOnBlur=!1,this.exclude="",this.excludeBeforeClick=!1,this.clickOutsideEvents="",this.clickOutside=new v.vpe,this._nodesExcluded=[],this._events=["click"],this._initOnClickBody=this._initOnClickBody.bind(this),this._onClickBody=this._onClickBody.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this)}return Be.prototype.ngOnInit=function(){(0,li.NF)(this.platformId)&&this._init()},Be.prototype.ngOnDestroy=function(){(0,li.NF)(this.platformId)&&(this._removeClickOutsideListener(),this._removeAttachOutsideOnClickListener(),this._removeWindowBlurListener())},Be.prototype.ngOnChanges=function(Ce){(0,li.NF)(this.platformId)&&(Ce.attachOutsideOnClick||Ce.exclude||Ce.emitOnBlur)&&this._init()},Be.prototype._init=function(){""!==this.clickOutsideEvents&&(this._events=this.clickOutsideEvents.split(",").map(function(Ce){return Ce.trim()})),this._excludeCheck(),this.attachOutsideOnClick?this._initAttachOutsideOnClickListener():this._initOnClickBody(),this.emitOnBlur&&this._initWindowBlurListener()},Be.prototype._initOnClickBody=function(){this.delayClickOutsideInit?setTimeout(this._initClickOutsideListener.bind(this)):this._initClickOutsideListener()},Be.prototype._excludeCheck=function(){if(this.exclude)try{var Ce=Array.from(document.querySelectorAll(this.exclude));Ce&&(this._nodesExcluded=Ce)}catch(fe){console.error("[ng-click-outside] Check your exclude selector syntax.",fe)}},Be.prototype._onClickBody=function(Ce){this.clickOutsideEnabled&&(this.excludeBeforeClick&&this._excludeCheck(),!this._el.nativeElement.contains(Ce.target)&&!this._shouldExclude(Ce.target)&&(this._emit(Ce),this.attachOutsideOnClick&&this._removeClickOutsideListener()))},Be.prototype._onWindowBlur=function(Ce){var fe=this;setTimeout(function(){document.hidden||fe._emit(Ce)})},Be.prototype._emit=function(Ce){var fe=this;this.clickOutsideEnabled&&this._ngZone.run(function(){return fe.clickOutside.emit(Ce)})},Be.prototype._shouldExclude=function(Ce){for(var fe=0,Ue=this._nodesExcluded;fe<Ue.length;fe++)if(Ue[fe].contains(Ce))return!0;return!1},Be.prototype._initClickOutsideListener=function(){var Ce=this;this._ngZone.runOutsideAngular(function(){Ce._events.forEach(function(fe){return document.addEventListener(fe,Ce._onClickBody)})})},Be.prototype._removeClickOutsideListener=function(){var Ce=this;this._ngZone.runOutsideAngular(function(){Ce._events.forEach(function(fe){return document.removeEventListener(fe,Ce._onClickBody)})})},Be.prototype._initAttachOutsideOnClickListener=function(){var Ce=this;this._ngZone.runOutsideAngular(function(){Ce._events.forEach(function(fe){return Ce._el.nativeElement.addEventListener(fe,Ce._initOnClickBody)})})},Be.prototype._removeAttachOutsideOnClickListener=function(){var Ce=this;this._ngZone.runOutsideAngular(function(){Ce._events.forEach(function(fe){return Ce._el.nativeElement.removeEventListener(fe,Ce._initOnClickBody)})})},Be.prototype._initWindowBlurListener=function(){var Ce=this;this._ngZone.runOutsideAngular(function(){window.addEventListener("blur",Ce._onWindowBlur)})},Be.prototype._removeWindowBlurListener=function(){var Ce=this;this._ngZone.runOutsideAngular(function(){window.removeEventListener("blur",Ce._onWindowBlur)})},Bi([(0,v.IIB)(),ki("design:type",Boolean)],Be.prototype,"clickOutsideEnabled",void 0),Bi([(0,v.IIB)(),ki("design:type",Boolean)],Be.prototype,"attachOutsideOnClick",void 0),Bi([(0,v.IIB)(),ki("design:type",Boolean)],Be.prototype,"delayClickOutsideInit",void 0),Bi([(0,v.IIB)(),ki("design:type",Boolean)],Be.prototype,"emitOnBlur",void 0),Bi([(0,v.IIB)(),ki("design:type",String)],Be.prototype,"exclude",void 0),Bi([(0,v.IIB)(),ki("design:type",Boolean)],Be.prototype,"excludeBeforeClick",void 0),Bi([(0,v.IIB)(),ki("design:type",String)],Be.prototype,"clickOutsideEvents",void 0),Bi([(0,v.r_U)(),ki("design:type",v.vpe)],Be.prototype,"clickOutside",void 0),(Be=Bi([Pi(2,(0,v.tBr)(v.Lbi)),ki("design:paramtypes",[v.SBq,v.R0b,Object])],Be)).\u0275fac=function(fe){return new(fe||Be)(v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(v.Lbi))},Be.\u0275dir=v.lG2({type:Be,selectors:[["","clickOutside",""]],inputs:{clickOutsideEnabled:"clickOutsideEnabled",attachOutsideOnClick:"attachOutsideOnClick",delayClickOutsideInit:"delayClickOutsideInit",emitOnBlur:"emitOnBlur",exclude:"exclude",excludeBeforeClick:"excludeBeforeClick",clickOutsideEvents:"clickOutsideEvents"},outputs:{clickOutside:"clickOutside"},features:[v.TTD]}),Be.\u0275prov=v.Yz7({token:Be,factory:function(Ce){return Be.\u0275fac(Ce)}}),Be}(),Dn=function(){function Be(){}return Be.\u0275fac=function(fe){return new(fe||Be)},Be.\u0275mod=v.oAB({type:Be}),Be.\u0275inj=v.cJS({}),Be}();let Rs=(()=>{class Be{constructor(fe,Ue){this.document=fe,this.platformId=Ue,this.documentIsAccessible=(0,li.NF)(this.platformId)}static getCookieRegExp(fe){const Ue=fe.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+Ue+"|;\\s*"+Ue+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(fe){try{return decodeURIComponent(fe)}catch{return fe}}check(fe){return!!this.documentIsAccessible&&(fe=encodeURIComponent(fe),Be.getCookieRegExp(fe).test(this.document.cookie))}get(fe){if(this.documentIsAccessible&&this.check(fe)){fe=encodeURIComponent(fe);const ut=Be.getCookieRegExp(fe).exec(this.document.cookie);return ut[1]?Be.safeDecodeURIComponent(ut[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const fe={},Ue=this.document;return Ue.cookie&&""!==Ue.cookie&&Ue.cookie.split(";").forEach(ut=>{const[Pt,sn]=ut.split("=");fe[Be.safeDecodeURIComponent(Pt.replace(/^ /,""))]=Be.safeDecodeURIComponent(sn)}),fe}set(fe,Ue,ut,Pt,sn,wn,yi){if(!this.documentIsAccessible)return;if("number"==typeof ut||ut instanceof Date||Pt||sn||wn||yi)return void this.set(fe,Ue,{expires:ut,path:Pt,domain:sn,secure:wn,sameSite:yi||"Lax"});let Ai=encodeURIComponent(fe)+"="+encodeURIComponent(Ue)+";";const hi=ut||{};hi.expires&&(Ai+="number"==typeof hi.expires?"expires="+new Date((new Date).getTime()+1e3*hi.expires*60*60*24).toUTCString()+";":"expires="+hi.expires.toUTCString()+";"),hi.path&&(Ai+="path="+hi.path+";"),hi.domain&&(Ai+="domain="+hi.domain+";"),!1===hi.secure&&"None"===hi.sameSite&&(hi.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${fe} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),hi.secure&&(Ai+="secure;"),hi.sameSite||(hi.sameSite="Lax"),Ai+="sameSite="+hi.sameSite+";",this.document.cookie=Ai}delete(fe,Ue,ut,Pt,sn="Lax"){if(!this.documentIsAccessible)return;const wn=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(fe,"",{expires:wn,path:Ue,domain:ut,secure:Pt,sameSite:sn})}deleteAll(fe,Ue,ut,Pt="Lax"){if(!this.documentIsAccessible)return;const sn=this.getAll();for(const wn in sn)sn.hasOwnProperty(wn)&&this.delete(wn,fe,Ue,ut,Pt)}}return Be.\u0275fac=function(fe){return new(fe||Be)(v.LFG(li.K0),v.LFG(v.Lbi))},Be.\u0275prov=v.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var Oi,xr,ti;class Hi{constructor(Ce,fe){let Ue;this.translate=Ce,this.cookieService=fe,this.languages=["en","es","de","it","ru"],this.translate.addLangs(this.languages),Ue=this.cookieService.check("lang")?this.cookieService.get("lang"):Ce.getBrowserLang(),Ce.use(Ue.match(/en|es|de|it|ru/)?Ue:"en")}setLanguage(Ce){this.translate.use(Ce),this.cookieService.set("lang",Ce)}}(Oi=Hi).\u0275fac=function(Ce){return new(Ce||Oi)(v.LFG(rn),v.LFG(Rs))},Oi.\u0275prov=v.Yz7({token:Oi,factory:Oi.\u0275fac,providedIn:"root"});class ni{}(xr=ni).\u0275fac=function(Ce){return new(Ce||xr)},xr.\u0275mod=v.oAB({type:xr}),xr.\u0275inj=v.cJS({providers:[Hi],imports:[li.ez,Tn,Si.Xd,sr.XC,Dn,gn.Bz,Xe.u5,Xe.UX]});class ln{}(ti=ln).\u0275fac=function(Ce){return new(Ce||ti)},ti.\u0275mod=v.oAB({type:ti}),ti.\u0275inj=v.cJS({imports:[li.ez,ni,gn.Bz]});var ii,es=ue(1031),cr=ue(263),Qi=ue(2293);class Ki{constructor(Ce,fe,Ue){this.router=Ce,this.authenticationService=fe,this.authFackservice=Ue}canActivate(Ce,fe){return"E_SHOP_AUTH"===bi.N.DEFAULTAUTH||this.router.navigate(["/account/login"],{queryParams:{returnUrl:fe.url}}),!0}}(ii=Ki).\u0275fac=function(Ce){return new(Ce||ii)(v.LFG(gn.F0),v.LFG(cr.$),v.LFG(Qi.g))},ii.\u0275prov=v.Yz7({token:ii,factory:ii.\u0275fac,providedIn:"root"});const pr="vertical";var fi,$r=ue(9300);class ur{constructor(){this.handler=new Jt.x}broadcast(Ce,fe={}){this.handler.next({type:Ce,payload:fe})}subscribe(Ce,fe){return this.handler.pipe((0,$r.h)(Ue=>Ue.type===Ce)).pipe((0,Ye.U)(Ue=>Ue.payload)).subscribe(fe)}}(fi=ur).\u0275fac=function(Ce){return new(Ce||fi)},fi.\u0275prov=v.Yz7({token:fi,factory:fi.\u0275fac,providedIn:"root"});var or,Ur=ue(8311),gi=ue(6583);function Yt(Be,Ce){if(1&Be&&v._UZ(0,"img",68),2&Be){const fe=v.oxw();v.s9C("src",fe.flagvalue,v.LSH)}}function nt(Be,Ce){if(1&Be&&v._UZ(0,"img",68),2&Be){const fe=v.oxw();v.s9C("src",fe.valueset,v.LSH)}}function ft(Be,Ce){1&Be&&(v.TgZ(0,"span",43),v._uU(1,"English"),v.qZA())}const hn=function(Be){return{active:Be}};function tn(Be,Ce){if(1&Be){const fe=v.EpF();v.TgZ(0,"a",69),v.NdJ("click",function(){const Pt=v.CHM(fe).$implicit,sn=v.oxw();return v.KtG(sn.setLanguage(Pt.text,Pt.lang,Pt.flag))}),v._UZ(1,"img",70),v.TgZ(2,"span",71),v._uU(3),v.qZA()()}if(2&Be){const fe=Ce.$implicit,Ue=v.oxw();v.Q6J("ngClass",v.VKq(3,hn,Ue.cookieValue===fe.lang)),v.xp6(1),v.s9C("src",fe.flag,v.LSH),v.xp6(2),v.Oqu(fe.text)}}class cn{constructor(Ce,fe,Ue,ut,Pt,sn,wn,yi){this.document=Ce,this.router=fe,this.authService=Ue,this.authFackservice=ut,this.languageService=Pt,this.cookiesService=sn,this.httpShareService=wn,this.customAlert=yi,this.error="",this.listLang=[{text:"English",flag:"assets/images/flags/us.jpg",lang:"en"},{text:"Spanish",flag:"assets/images/flags/spain.jpg",lang:"es"},{text:"German",flag:"assets/images/flags/germany.jpg",lang:"de"},{text:"Italian",flag:"assets/images/flags/italy.jpg",lang:"it"},{text:"Russian",flag:"assets/images/flags/russia.jpg",lang:"ru"}],this.mobileMenuButtonClicked=new v.vpe,this.settingsButtonClicked=new v.vpe}ngOnInit(){this.element=document.documentElement,this.configData={suppressScrollX:!0,wheelSpeed:.3},this.cookieValue=this.cookiesService.get("lang");const Ce=this.listLang.filter(fe=>fe.lang===this.cookieValue);this.countryName=Ce.map(fe=>fe.text),0===Ce.length?void 0===this.flagvalue&&(this.valueset="assets/images/flags/us.jpg"):this.flagvalue=Ce.map(fe=>fe.flag),this.ngUserProfile()}toggleMobileMenu(Ce){Ce.preventDefault(),this.mobileMenuButtonClicked.emit()}toggleRightSidebar(){this.settingsButtonClicked.emit()}ngUserProfile(){this.httpShareService.get(bi.N.E_SHOP_BASE_URL+bi.N.AUTHENTICATION.AUTHENTICATION_BASE_URL+bi.N.AUTHENTICATION.USER_PROFILE,null).subscribe(fe=>{this.userProfileModel=fe},fe=>{this.error=fe||""})}fullscreen(){document.body.classList.toggle("fullscreen-enable"),document.fullscreenElement||this.element.mozFullScreenElement||this.element.webkitFullscreenElement?this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen():this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()}setLanguage(Ce,fe,Ue){this.countryName=Ce,this.flagvalue=Ue,this.cookieValue=fe,this.languageService.setLanguage(fe)}logout(){this.authService.logout()}}var ke;(or=cn).\u0275fac=function(Ce){return new(Ce||or)(v.Y36(li.K0),v.Y36(gn.F0),v.Y36(cr.$),v.Y36(Qi.g),v.Y36(Hi),v.Y36(Rs),v.Y36(Ur.F),v.Y36(gi.y))},or.\u0275cmp=v.Xpm({type:or,selectors:[["app-topbar"]],outputs:{mobileMenuButtonClicked:"mobileMenuButtonClicked",settingsButtonClicked:"settingsButtonClicked"},decls:220,vars:120,consts:[["id","page-topbar"],[1,"navbar-header"],[1,"d-flex"],[1,"navbar-brand-box"],["href","/",1,"logo","logo-dark"],[1,"logo-sm","text-center"],[1,"logo-lg"],["src","assets/images/logo-dark.png","alt","","height","20"],["href","/",1,"logo","logo-light"],[1,"logo-sm"],[1,"logo-lg","text-center"],["type","button","id","vertical-menu-btn",1,"btn","btn-sm","px-3","font-size-24","header-item","waves-effect",3,"click"],[1,"ri-menu-2-line","align-middle"],[1,"app-search","d-none","d-lg-block"],[1,"position-relative"],["type","text",1,"form-control",3,"placeholder"],[1,"ri-search-line"],["ngbDropdown","",1,"dropdown","dropdown-mega","d-none","d-lg-block","ms-2"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","false","aria-expanded","false",1,"btn","header-item","waves-effect"],[1,"mdi","mdi-chevron-down"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-megamenu"],[1,"row"],[1,"col-sm-8"],[1,"col-md-4"],[1,"font-size-14","mt-0"],[1,"list-unstyled","megamenu-list"],["href","javascript:void(0);"],[1,"col-sm-4"],[1,"col-sm-6"],[1,"col-sm-5"],["src","assets/images/megamenu-img.png","alt","",1,"img-fluid","mx-auto","d-block"],["ngbDropdown","",1,"dropdown","d-inline-block","d-lg-none","ms-2"],["type","button","ngbDropdownToggle","","id","page-header-search-dropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","header-item","noti-icon","waves-effect"],["aria-labelledby","page-header-search-dropdown","ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-lg","dropdown-menu-end","p-0"],[1,"p-3"],[1,"form-group","m-0"],[1,"input-group"],["type","text","placeholder","Search ...",1,"form-control"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],["ngbDropdown","",1,"dropdown","d-inline-block"],["type","button","id","page-header-user-dropdown","ngbDropdownToggle","",1,"btn","header-item"],["alt","Header Language","height","16",3,"src",4,"ngIf"],[1,"ms-1"],["class","ms-1",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);","class","dropdown-item notify-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dropdown","d-none","d-lg-inline-block","ms-1"],["type","button",1,"btn","header-item","noti-icon","waves-effect",3,"click"],[1,"ri-fullscreen-line"],["ngbDropdown","",1,"dropdown","d-inline-block","user-dropdown"],["type","button","ngbDropdownToggle","","id","page-header-user-dropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","header-item","waves-effect"],["src","assets/images/users/avatar-2.jpg","alt","Header Avatar",1,"rounded-circle","header-profile-user"],[1,"d-none","d-xl-inline-block","ms-1"],[1,"mdi","mdi-chevron-down","d-none","d-xl-inline-block"],["href","javascript: void(0);",1,"dropdown-item"],[1,"ri-user-line","align-middle","me-1"],[1,"ri-wallet-2-line","align-middle","me-1"],["href","javascript: void(0);",1,"dropdown-item","d-block"],[1,"badge","badge-success","float-end","mt-1"],[1,"ri-settings-2-line","align-middle","me-1"],[1,"ri-lock-unlock-line","align-middle","me-1"],[1,"dropdown-divider"],["href","javascript: void(0);",1,"dropdown-item","text-danger",3,"click"],[1,"ri-shut-down-line","align-middle","me-1","text-danger"],[1,"dropdown","d-inline-block"],["type","button",1,"btn","header-item","noti-icon","right-bar-toggle","waves-effect",3,"click"],[1,"ri-settings-2-line"],["alt","Header Language","height","16",3,"src"],["href","javascript:void(0);",1,"dropdown-item","notify-item",3,"ngClass","click"],["alt","user-image","height","12",1,"me-1",3,"src"],[1,"align-middle"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5),v._uU(6," E-SHOP "),v.qZA(),v.TgZ(7,"span",6),v._UZ(8,"img",7),v.qZA()(),v.TgZ(9,"a",8)(10,"span",9),v._uU(11," E-SHOP "),v.qZA(),v.TgZ(12,"span",10),v._uU(13," E-SHOP "),v.qZA()()(),v.TgZ(14,"button",11),v.NdJ("click",function(ut){return fe.toggleMobileMenu(ut)}),v._UZ(15,"i",12),v.qZA(),v.TgZ(16,"form",13)(17,"div",14),v._UZ(18,"input",15),v.ALo(19,"translate"),v._UZ(20,"span",16),v.qZA()(),v.TgZ(21,"div",17)(22,"button",18),v._uU(23),v.ALo(24,"translate"),v._UZ(25,"i",19),v.qZA(),v.TgZ(26,"div",20)(27,"div",21)(28,"div",22)(29,"div",21)(30,"div",23)(31,"h5",24),v._uU(32),v.ALo(33,"translate"),v.qZA(),v.TgZ(34,"ul",25)(35,"li")(36,"a",26),v._uU(37),v.ALo(38,"translate"),v.qZA()(),v.TgZ(39,"li")(40,"a",26),v._uU(41),v.ALo(42,"translate"),v.qZA()(),v.TgZ(43,"li")(44,"a",26),v._uU(45),v.ALo(46,"translate"),v.qZA()(),v.TgZ(47,"li")(48,"a",26),v._uU(49),v.ALo(50,"translate"),v.qZA()(),v.TgZ(51,"li")(52,"a",26),v._uU(53),v.ALo(54,"translate"),v.qZA()(),v.TgZ(55,"li")(56,"a",26),v._uU(57),v.ALo(58,"translate"),v.qZA()(),v.TgZ(59,"li")(60,"a",26),v._uU(61),v.ALo(62,"translate"),v.qZA()()()(),v.TgZ(63,"div",23)(64,"h5",24),v._uU(65),v.ALo(66,"translate"),v.qZA(),v.TgZ(67,"ul",25)(68,"li")(69,"a",26),v._uU(70),v.ALo(71,"translate"),v.qZA()(),v.TgZ(72,"li")(73,"a",26),v._uU(74),v.ALo(75,"translate"),v.qZA()(),v.TgZ(76,"li")(77,"a",26),v._uU(78),v.ALo(79,"translate"),v.qZA()(),v.TgZ(80,"li")(81,"a",26),v._uU(82),v.ALo(83,"translate"),v.qZA()(),v.TgZ(84,"li")(85,"a",26),v._uU(86),v.ALo(87,"translate"),v.qZA()(),v.TgZ(88,"li")(89,"a",26),v._uU(90),v.ALo(91,"translate"),v.qZA()()()(),v.TgZ(92,"div",23)(93,"h5",24),v._uU(94),v.ALo(95,"translate"),v.qZA(),v.TgZ(96,"ul",25)(97,"li")(98,"a",26),v._uU(99),v.ALo(100,"translate"),v.qZA()(),v.TgZ(101,"li")(102,"a",26),v._uU(103),v.ALo(104,"translate"),v.qZA()(),v.TgZ(105,"li")(106,"a",26),v._uU(107),v.ALo(108,"translate"),v.qZA()(),v.TgZ(109,"li")(110,"a",26),v._uU(111),v.ALo(112,"translate"),v.qZA()(),v.TgZ(113,"li")(114,"a",26),v._uU(115),v.ALo(116,"translate"),v.qZA()(),v.TgZ(117,"li")(118,"a",26),v._uU(119),v.ALo(120,"translate"),v.qZA()(),v.TgZ(121,"li")(122,"a",26),v._uU(123),v.ALo(124,"translate"),v.qZA()()()()()(),v.TgZ(125,"div",27)(126,"div",21)(127,"div",28)(128,"h5",24),v._uU(129),v.ALo(130,"translate"),v.qZA(),v.TgZ(131,"ul",25)(132,"li")(133,"a",26),v._uU(134),v.ALo(135,"translate"),v.qZA()(),v.TgZ(136,"li")(137,"a",26),v._uU(138),v.ALo(139,"translate"),v.qZA()(),v.TgZ(140,"li")(141,"a",26),v._uU(142),v.ALo(143,"translate"),v.qZA()(),v.TgZ(144,"li")(145,"a",26),v._uU(146),v.ALo(147,"translate"),v.qZA()(),v.TgZ(148,"li")(149,"a",26),v._uU(150),v.ALo(151,"translate"),v.qZA()(),v.TgZ(152,"li")(153,"a",26),v._uU(154),v.ALo(155,"translate"),v.qZA()(),v.TgZ(156,"li")(157,"a",26),v._uU(158),v.ALo(159,"translate"),v.qZA()()()(),v.TgZ(160,"div",29)(161,"div"),v._UZ(162,"img",30),v.qZA()()()()()()()(),v.TgZ(163,"div",2)(164,"div",31)(165,"button",32),v._UZ(166,"i",16),v.qZA(),v.TgZ(167,"div",33)(168,"form",34)(169,"div",35)(170,"div",36),v._UZ(171,"input",37),v.TgZ(172,"div",38)(173,"button",39),v._UZ(174,"i",16),v.qZA()()()()()()(),v.TgZ(175,"div",40)(176,"button",41),v.YNc(177,Yt,1,1,"img",42),v.TgZ(178,"span",43),v._uU(179),v.qZA(),v.YNc(180,nt,1,1,"img",42),v.YNc(181,ft,2,0,"span",44),v.qZA(),v.TgZ(182,"div",45),v.YNc(183,tn,4,5,"a",46),v.qZA()(),v.TgZ(184,"div",47)(185,"button",48),v.NdJ("click",function(){return fe.fullscreen()}),v._UZ(186,"i",49),v.qZA()(),v.TgZ(187,"div",50)(188,"button",51),v._UZ(189,"img",52),v.TgZ(190,"span",53),v._uU(191),v.qZA(),v._UZ(192,"i",54),v.qZA(),v.TgZ(193,"div",45)(194,"a",55),v._UZ(195,"i",56),v._uU(196),v.ALo(197,"translate"),v.qZA(),v.TgZ(198,"a",55),v._UZ(199,"i",57),v._uU(200),v.ALo(201,"translate"),v.qZA(),v.TgZ(202,"a",58)(203,"span",59),v._uU(204,"11"),v.qZA(),v._UZ(205,"i",60),v._uU(206),v.ALo(207,"translate"),v.qZA(),v.TgZ(208,"a",55),v._UZ(209,"i",61),v._uU(210),v.ALo(211,"translate"),v.qZA(),v._UZ(212,"div",62),v.TgZ(213,"a",63),v.NdJ("click",function(){return fe.logout()}),v._UZ(214,"i",64),v._uU(215),v.ALo(216,"translate"),v.qZA()()(),v.TgZ(217,"div",65)(218,"button",66),v.NdJ("click",function(){return fe.toggleRightSidebar()}),v._UZ(219,"i",67),v.qZA()()()()()),2&Ce&&(v.xp6(18),v.s9C("placeholder",v.lcZ(19,44,"HEADER.SEARCH")),v.xp6(5),v.hij(" ",v.lcZ(24,46,"HEADER.MEGA_MENU")," "),v.xp6(9),v.hij(" ",v.lcZ(33,48,"HEADER.UI.TITLE")," "),v.xp6(5),v.Oqu(v.lcZ(38,50,"HEADER.UI.LIGHTBOX")),v.xp6(4),v.Oqu(v.lcZ(42,52,"HEADER.UI.RANGE_SLIDER")),v.xp6(4),v.Oqu(v.lcZ(46,54,"HEADER.UI.SWEET_ALERT")),v.xp6(4),v.Oqu(v.lcZ(50,56,"HEADER.UI.RATING")),v.xp6(4),v.Oqu(v.lcZ(54,58,"HEADER.UI.FORMS")),v.xp6(4),v.Oqu(v.lcZ(58,60,"HEADER.UI.TABLES")),v.xp6(4),v.Oqu(v.lcZ(62,62,"HEADER.UI.CHARTS")),v.xp6(4),v.hij(" ",v.lcZ(66,64,"HEADER.APPLICATIONS.TITLE")," "),v.xp6(5),v.Oqu(v.lcZ(71,66,"HEADER.APPLICATIONS.ECOMMERCE")),v.xp6(4),v.Oqu(v.lcZ(75,68,"HEADER.APPLICATIONS.CALENDAR")),v.xp6(4),v.Oqu(v.lcZ(79,70,"HEADER.APPLICATIONS.EMAIL")),v.xp6(4),v.Oqu(v.lcZ(83,72,"HEADER.APPLICATIONS.PROJECTS")),v.xp6(4),v.Oqu(v.lcZ(87,74,"HEADER.APPLICATIONS.TASKS")),v.xp6(4),v.Oqu(v.lcZ(91,76,"HEADER.APPLICATIONS.CONTACTS")),v.xp6(4),v.hij(" ",v.lcZ(95,78,"HEADER.EXTRA_PAGES.TITLE")," "),v.xp6(5),v.Oqu(v.lcZ(100,80,"HEADER.EXTRA_PAGES.LIGHT_SIDEBAR")),v.xp6(4),v.Oqu(v.lcZ(104,82,"HEADER.EXTRA_PAGES.COMPACT_SIDEBAR")),v.xp6(4),v.Oqu(v.lcZ(108,84,"HEADER.EXTRA_PAGES.HORIZONTAL_LAYOUT")),v.xp6(4),v.Oqu(v.lcZ(112,86,"HEADER.EXTRA_PAGES.MAINTENANCE")),v.xp6(4),v.Oqu(v.lcZ(116,88,"HEADER.EXTRA_PAGES.COMING SOON")),v.xp6(4),v.Oqu(v.lcZ(120,90,"HEADER.EXTRA_PAGES.TIMELINE")),v.xp6(4),v.Oqu(v.lcZ(124,92,"HEADER.EXTRA_PAGES.FAQ")),v.xp6(6),v.hij(" ",v.lcZ(130,94,"HEADER.UI.TITLE")," "),v.xp6(5),v.Oqu(v.lcZ(135,96,"HEADER.UI.LIGHTBOX")),v.xp6(4),v.Oqu(v.lcZ(139,98,"HEADER.UI.RANGE_SLIDER")),v.xp6(4),v.Oqu(v.lcZ(143,100,"HEADER.UI.SWEET_ALERT")),v.xp6(4),v.Oqu(v.lcZ(147,102,"HEADER.UI.RATING")),v.xp6(4),v.Oqu(v.lcZ(151,104,"HEADER.UI.FORMS")),v.xp6(4),v.Oqu(v.lcZ(155,106,"HEADER.UI.TABLES")),v.xp6(4),v.Oqu(v.lcZ(159,108,"HEADER.UI.CHARTS")),v.xp6(19),v.Q6J("ngIf",void 0!==fe.flagvalue),v.xp6(2),v.Oqu(fe.countryName),v.xp6(1),v.Q6J("ngIf",void 0===fe.flagvalue),v.xp6(1),v.Q6J("ngIf",void 0===fe.flagvalue),v.xp6(2),v.Q6J("ngForOf",fe.listLang),v.xp6(8),v.Oqu(null==fe.userProfileModel||null==fe.userProfileModel.user?null:fe.userProfileModel.user.username),v.xp6(5),v.hij(" ",v.lcZ(197,110,"HEADER.LOGIN.PROFILE"),""),v.xp6(4),v.Oqu(v.lcZ(201,112,"HEADER.LOGIN.MY_WALLET")),v.xp6(6),v.hij("",v.lcZ(207,114,"HEADER.LOGIN.SETTINGS")," "),v.xp6(4),v.hij(" ",v.lcZ(211,116,"HEADER.LOGIN.LOCK_SCREEN"),""),v.xp6(5),v.hij(" ",v.lcZ(216,118,"HEADER.LOGIN.LOGOUT"),""))},dependencies:[li.mk,li.sg,li.O5,sr.jt,sr.iD,sr.Vi,Xe._Y,Xe.JL,Xe.F,$n]});class vi{constructor(){}ngOnInit(){}}(ke=vi).\u0275fac=function(Ce){return new(Ce||ke)},ke.\u0275cmp=v.Xpm({type:ke,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"footer"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"text-sm-end","d-none","d-sm-block"],[1,"mdi","mdi-heart","text-danger"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),v._uU(4,"2023 \xa9 E-SHOP."),v.qZA(),v.TgZ(5,"div",3)(6,"div",4),v._uU(7," Crafted with "),v._UZ(8,"i",5),v._uU(9," by E-SHOP Team "),v.qZA()()()()())}});const Gn={parentTrigger:"li",subMenu:"ul",toggle:!0,triggerElement:"a"},dr={ACTIVE:"mm-active",COLLAPSE:"mm-collapse",COLLAPSED:"mm-collapsed",COLLAPSING:"mm-collapsing",METIS:"metismenu",SHOW:"mm-show"};class Gi{constructor(Ce,fe){this.element=Gi.isElement(Ce)?Ce:document.querySelector(Ce),this.config=Object.assign(Object.assign({},Gn),fe),this.disposed=!1,this.triggerArr=[],this.boundEventHandler=this.clickEvent.bind(this),this.init()}static attach(Ce,fe){return new Gi(Ce,fe)}init(){const{METIS:Ce,ACTIVE:fe,COLLAPSE:Ue}=dr;this.element.classList.add(Ce);const ut=[...this.element.querySelectorAll(this.config.subMenu)];0!==ut.length&&ut.forEach(Pt=>{Pt.classList.add(Ue);const sn=Pt.closest(this.config.parentTrigger);sn?.classList.contains(fe)?this.show(Pt):this.hide(Pt);const wn=sn?.querySelector(this.config.triggerElement);"true"!==wn?.getAttribute("aria-disabled")&&(wn?.setAttribute("aria-expanded","false"),wn?.addEventListener("click",this.boundEventHandler),this.triggerArr.push(wn))})}clickEvent(Ce){if(!this.disposed){const fe=Ce?.currentTarget;fe&&"A"===fe.tagName&&Ce.preventDefault();const ut=fe.closest(this.config.parentTrigger)?.querySelector(this.config.subMenu);this.toggle(ut)}}update(){this.disposed=!1,this.init()}dispose(){this.triggerArr.forEach(Ce=>{Ce.removeEventListener("click",this.boundEventHandler)}),this.disposed=!0}on(Ce,fe,Ue){return this.element.addEventListener(Ce,fe,Ue),this}off(Ce,fe,Ue){return this.element.removeEventListener(Ce,fe,Ue),this}emit(Ce,fe,Ue=!1){const ut=new CustomEvent(Ce,{bubbles:Ue,detail:fe});this.element.dispatchEvent(ut)}toggle(Ce){Ce.closest(this.config.parentTrigger)?.classList.contains(dr.ACTIVE)?this.hide(Ce):this.show(Ce)}show(Ce){var fe;const Ue=Ce,{ACTIVE:ut,COLLAPSE:Pt,COLLAPSED:sn,COLLAPSING:wn,SHOW:yi}=dr;if(this.isTransitioning||Ue.classList.contains(wn))return;const Ai=()=>{Ue.classList.remove(wn),Ue.style.height="",Ue.removeEventListener("transitionend",Ai),this.setTransitioning(!1),this.emit("shown.metisMenu",{shownElement:Ue})},hi=Ue.closest(this.config.parentTrigger);hi?.classList.add(ut);const Yr=hi?.querySelector(this.config.triggerElement);Yr?.setAttribute("aria-expanded","true"),Yr?.classList.remove(sn),Ue.style.height="0px",Ue.classList.remove(Pt),Ue.classList.remove(yi),Ue.classList.add(wn);const Hr=[].slice.call(null===(fe=hi?.parentNode)||void 0===fe?void 0:fe.children).filter(Bs=>Bs!==hi);this.config.toggle&&Hr.length>0&&Hr.forEach(Bs=>{const xs=Bs.querySelector(this.config.subMenu);xs&&this.hide(xs)}),this.setTransitioning(!0),Ue.classList.add(Pt),Ue.classList.add(yi),Ue.style.height=`${Ue.scrollHeight}px`,this.emit("show.metisMenu",{showElement:Ue}),Ue.addEventListener("transitionend",Ai)}hide(Ce){const{ACTIVE:fe,COLLAPSE:Ue,COLLAPSED:ut,COLLAPSING:Pt,SHOW:sn}=dr,wn=Ce;if(this.isTransitioning||!wn.classList.contains(sn))return;this.emit("hide.metisMenu",{hideElement:wn});const yi=wn.closest(this.config.parentTrigger);yi?.classList.remove(fe);const Ai=()=>{wn.classList.remove(Pt),wn.classList.add(Ue),wn.style.height="",wn.removeEventListener("transitionend",Ai),this.setTransitioning(!1),this.emit("hidden.metisMenu",{hiddenElement:wn})};wn.style.height=`${wn.getBoundingClientRect().height}px`,wn.style.height=`${wn.offsetHeight}px`,wn.classList.add(Pt),wn.classList.remove(Ue),wn.classList.remove(sn),this.setTransitioning(!0),wn.addEventListener("transitionend",Ai),wn.style.height="0px";const hi=yi?.querySelector(this.config.triggerElement);hi?.setAttribute("aria-expanded","false"),hi?.classList.add(ut)}setTransitioning(Ce){this.isTransitioning=Ce}static isElement(Ce){return Boolean(Ce.classList)}}const On=[{id:1,label:"MENUITEMS.MENU.TEXT",isTitle:!0},{id:2,label:"MENUITEMS.DASHBOARDS.TEXT",icon:"ri-dashboard-line",link:"/"},{id:3,label:"MENUITEMS.CATEGORY.TEXT",icon:"ri-table-line",link:"category/"},{id:4,label:"MENUITEMS.PRODUCTS.TEXT",icon:"ri-table-line",link:"products/"},{id:4,label:"MENUITEMS.STOCK.TEXT",icon:"ri-store-2-line",link:"stock/"}];var Wi;const ot=["sideMenu"];function ne(Be,Ce){if(1&Be&&(v.TgZ(0,"li",7),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&Be){const fe=v.oxw().$implicit;v.xp6(1),v.Oqu(v.lcZ(2,1,fe.label))}}function de(Be,Ce){if(1&Be){const fe=v.EpF();v.TgZ(0,"li")(1,"a",8),v._UZ(2,"i",9),v.TgZ(3,"span"),v._uU(4,"Layouts"),v.qZA()(),v.TgZ(5,"ul",10)(6,"li")(7,"a",11),v.NdJ("click",function(){v.CHM(fe);const ut=v.oxw(2);return v.KtG(ut.changeLayout("horizontal"))}),v._uU(8),v.ALo(9,"translate"),v.qZA()(),v.TgZ(10,"li")(11,"a",11),v.NdJ("click",function(){v.CHM(fe);const ut=v.oxw(2);return v.KtG(ut.lightSidebar())}),v._uU(12),v.ALo(13,"translate"),v.qZA()(),v.TgZ(14,"li")(15,"a",11),v.NdJ("click",function(){v.CHM(fe);const ut=v.oxw(2);return v.KtG(ut.compactSidebar())}),v._uU(16),v.ALo(17,"translate"),v.qZA()(),v.TgZ(18,"li")(19,"a",11),v.NdJ("click",function(){v.CHM(fe);const ut=v.oxw(2);return v.KtG(ut.iconSidebar())}),v._uU(20),v.ALo(21,"translate"),v.qZA()(),v.TgZ(22,"li")(23,"a",11),v.NdJ("click",function(){v.CHM(fe);const ut=v.oxw(2);return v.KtG(ut.boxedLayout())}),v._uU(24),v.ALo(25,"translate"),v.qZA()()()()}2&Be&&(v.xp6(8),v.Oqu(v.lcZ(9,5,"MENUITEMS.LAYOUTS.LIST.HORIZONTAL")),v.xp6(4),v.Oqu(v.lcZ(13,7,"MENUITEMS.LAYOUTS.LIST.LIGHTSIDEBAR")),v.xp6(4),v.Oqu(v.lcZ(17,9,"MENUITEMS.LAYOUTS.LIST.COMPACTSIDEBAR")),v.xp6(4),v.Oqu(v.lcZ(21,11,"MENUITEMS.LAYOUTS.LIST.ICONSIDEBAR")),v.xp6(4),v.Oqu(v.lcZ(25,13,"MENUITEMS.LAYOUTS.LIST.BOXED")))}function Ie(Be,Ce){if(1&Be&&v._UZ(0,"i"),2&Be){const fe=v.oxw(3).$implicit;v.Gre("bx ",fe.icon,"")}}function Ge(Be,Ce){if(1&Be&&(v.TgZ(0,"span"),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&Be){const fe=v.oxw(3).$implicit;v.Gre("badge  rounded-pill  bg-",fe.badge.variant," float-end"),v.xp6(1),v.Oqu(v.lcZ(2,4,fe.badge.text))}}const lt=function(Be,Ce){return{"has-arrow":Be,"has-dropdown":Ce}};function Rt(Be,Ce){if(1&Be&&(v.TgZ(0,"a",15),v.YNc(1,Ie,1,3,"i",16),v.TgZ(2,"span"),v._uU(3),v.ALo(4,"translate"),v.qZA(),v.YNc(5,Ge,3,6,"span",16),v.qZA()),2&Be){const fe=v.oxw(2).$implicit;v.Q6J("ngClass",v.WLB(6,lt,!fe.badge,fe.badge)),v.xp6(1),v.Q6J("ngIf",fe.icon),v.xp6(2),v.hij(" ",v.lcZ(4,4,fe.label),""),v.xp6(2),v.Q6J("ngIf",fe.badge)}}function an(Be,Ce){if(1&Be&&v._UZ(0,"i"),2&Be){const fe=v.oxw(3).$implicit;v.Gre("bx ",fe.icon,"")}}function ye(Be,Ce){if(1&Be&&(v.TgZ(0,"span"),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&Be){const fe=v.oxw(3).$implicit;v.Gre("badge  rounded-pill  bg-",fe.badge.variant," float-end"),v.xp6(1),v.Oqu(v.lcZ(2,4,fe.badge.text))}}function r(Be,Ce){if(1&Be&&(v.TgZ(0,"a",17),v.YNc(1,an,1,3,"i",16),v.TgZ(2,"span"),v._uU(3),v.ALo(4,"translate"),v.qZA(),v.YNc(5,ye,3,6,"span",16),v.qZA()),2&Be){const fe=v.oxw(2).$implicit;v.Q6J("routerLink",fe.link),v.xp6(1),v.Q6J("ngIf",fe.icon),v.xp6(2),v.hij(" ",v.lcZ(4,4,fe.label),""),v.xp6(2),v.Q6J("ngIf",fe.badge)}}function s(Be,Ce){if(1&Be&&(v.TgZ(0,"a",17),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&Be){const fe=v.oxw().$implicit;v.Q6J("routerLink",fe.link),v.uIk("data-parent",fe.parentId),v.xp6(1),v.hij(" ",v.lcZ(2,3,fe.label)," ")}}function u(Be,Ce){if(1&Be&&(v.TgZ(0,"a",20),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&Be){const fe=v.oxw().$implicit;v.uIk("data-parent",fe.parentId),v.xp6(1),v.hij(" ",v.lcZ(2,2,fe.label)," ")}}function p(Be,Ce){if(1&Be&&(v.TgZ(0,"li")(1,"a",17),v._uU(2),v.ALo(3,"translate"),v.qZA()()),2&Be){const fe=Ce.$implicit;v.xp6(1),v.Q6J("routerLink",fe.link),v.uIk("data-parent",fe.parentId),v.xp6(1),v.hij(" ",v.lcZ(3,3,fe.label)," ")}}function y(Be,Ce){if(1&Be&&(v.TgZ(0,"ul",21),v.YNc(1,p,4,5,"li",4),v.qZA()),2&Be){const fe=v.oxw().$implicit;v.xp6(1),v.Q6J("ngForOf",fe.subItems)}}function x(Be,Ce){if(1&Be&&(v.TgZ(0,"li"),v.YNc(1,s,3,5,"a",13),v.YNc(2,u,3,4,"a",18),v.YNc(3,y,2,1,"ul",19),v.qZA()),2&Be){const fe=Ce.$implicit,Ue=v.oxw(4);v.xp6(1),v.Q6J("ngIf",!Ue.hasItems(fe)),v.xp6(1),v.Q6J("ngIf",Ue.hasItems(fe)),v.xp6(1),v.Q6J("ngIf",Ue.hasItems(fe))}}function w(Be,Ce){if(1&Be&&(v.TgZ(0,"ul",10),v.YNc(1,x,4,3,"li",4),v.qZA()),2&Be){const fe=v.oxw(2).$implicit;v.xp6(1),v.Q6J("ngForOf",fe.subItems)}}function I(Be,Ce){if(1&Be&&(v.TgZ(0,"li"),v.YNc(1,Rt,6,9,"a",12),v.YNc(2,r,6,6,"a",13),v.YNc(3,w,2,1,"ul",14),v.qZA()),2&Be){const fe=v.oxw().$implicit,Ue=v.oxw();v.xp6(1),v.Q6J("ngIf",Ue.hasItems(fe)),v.xp6(1),v.Q6J("ngIf",!Ue.hasItems(fe)),v.xp6(1),v.Q6J("ngIf",Ue.hasItems(fe))}}function P(Be,Ce){if(1&Be&&(v.ynx(0),v.YNc(1,ne,3,3,"li",5),v.YNc(2,de,26,15,"li",6),v.YNc(3,I,4,3,"li",6),v.BQk()),2&Be){const fe=Ce.$implicit;v.xp6(1),v.Q6J("ngIf",fe.isTitle),v.xp6(1),v.Q6J("ngIf",fe.isLayout),v.xp6(1),v.Q6J("ngIf",!fe.isTitle&&!fe.isLayout)}}class N{constructor(Ce,fe){this.eventService=Ce,this.router=fe,this.menuItems=[],fe.events.forEach(Ue=>{Ue instanceof gn.m2&&this._activateMenuDropdown()})}ngOnInit(){this.initialize()}ngAfterViewInit(){this.menu=new Gi(this.sideMenu.nativeElement),this._activateMenuDropdown()}_removeAllClass(Ce){const fe=document.getElementsByClassName(Ce);for(;fe[0];)fe[0].classList.remove(Ce)}_activateMenuDropdown(){this._removeAllClass("mm-active"),this._removeAllClass("mm-show");const Ce=document.getElementsByClassName("side-nav-link-ref");let fe=null;const Ue=[];for(let Pt=0;Pt<Ce.length;Pt++)Ue.push(Ce[Pt].pathname);const ut=Ue.indexOf(window.location.pathname);if(-1===ut){const Pt=window.location.pathname.lastIndexOf("/"),sn=window.location.pathname.substr(0,Pt).toString();fe=Ce[Ue.indexOf(sn)]}else fe=Ce[ut];if(fe){fe.classList.add("active");const Pt=fe.parentElement;if(Pt){Pt.classList.add("mm-active");const sn=Pt.parentElement.closest("ul");if(sn&&"side-menu"!==sn.id){sn.classList.add("mm-show");const wn=sn.parentElement;if(wn&&"side-menu"!==wn.id){wn.classList.add("mm-active");const yi=wn.querySelector(".has-arrow"),Ai=wn.querySelector(".has-dropdown");yi&&yi.classList.add("mm-active"),Ai&&Ai.classList.add("mm-active");const hi=wn.parentElement;if(hi&&"side-menu"!==hi.id){hi.classList.add("mm-show");const Yr=hi.parentElement;if(Yr&&"side-menu"!==Yr.id){Yr.classList.add("mm-active");const Hr=Yr.querySelector(".is-parent");Hr&&"side-menu"!==Yr.id&&Hr.classList.add("mm-active")}}}}}}}initialize(){this.menuItems=On}hasItems(Ce){return void 0!==Ce.subItems&&Ce.subItems.length>0}changeLayout(Ce){this.eventService.broadcast("changeLayout",Ce)}lightSidebar(){document.body.setAttribute("data-sidebar","light"),document.body.setAttribute("data-topbar","dark"),document.body.removeAttribute("data-sidebar-size"),document.body.removeAttribute("data-layout-size"),document.body.removeAttribute("data-keep-enlarged"),document.body.classList.remove("vertical-collpsed")}compactSidebar(){document.body.setAttribute("data-sidebar-size","small"),document.body.setAttribute("data-sidebar","dark"),document.body.removeAttribute("data-topbar"),document.body.removeAttribute("data-layout-size"),document.body.removeAttribute("data-keep-enlarged"),document.body.classList.remove("sidebar-enable"),document.body.classList.remove("vertical-collpsed")}iconSidebar(){document.body.classList.add("sidebar-enable"),document.body.classList.add("vertical-collpsed"),document.body.setAttribute("data-sidebar","dark"),document.body.removeAttribute("data-layout-size"),document.body.removeAttribute("data-keep-enlarged"),document.body.removeAttribute("data-topbar")}boxedLayout(){document.body.setAttribute("data-keep-enlarged","true"),document.body.setAttribute("data-layout-size","boxed"),document.body.setAttribute("data-sidebar","dark"),document.body.classList.add("vertical-collpsed"),document.body.classList.remove("sidebar-enable"),document.body.removeAttribute("data-topbar")}coloredSidebar(){document.body.setAttribute("data-sidebar","colored"),document.body.removeAttribute("data-sidebar-size"),document.body.removeAttribute("data-layout-size"),document.body.classList.remove("vertical-collpsed"),document.body.removeAttribute("data-topbar")}}var F,X,ie;(Wi=N).\u0275fac=function(Ce){return new(Ce||Wi)(v.Y36(ur),v.Y36(gn.F0))},Wi.\u0275cmp=v.Xpm({type:Wi,selectors:[["app-sidebar"]],viewQuery:function(Ce,fe){if(1&Ce&&v.Gf(ot,5),2&Ce){let Ue;v.iGM(Ue=v.CRH())&&(fe.sideMenu=Ue.first)}},decls:6,vars:1,consts:[[1,"vertical-menu"],["id","sidebar-menu"],["id","side-menu",1,"metismenu","list-unstyled"],["sideMenu",""],[4,"ngFor","ngForOf"],["class","menu-title",4,"ngIf"],[4,"ngIf"],[1,"menu-title"],["href","javascript: void(0);",1,"has-arrow"],[1,"ri-layout-3-line"],["aria-expanded","false",1,"sub-menu"],["href","javascript: void(0);",3,"click"],["href","javascript:void(0);","class","is-parent",3,"ngClass",4,"ngIf"],["class","side-nav-link-ref","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","sub-menu","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"is-parent",3,"ngClass"],[3,"class",4,"ngIf"],["routerLinkActive","active",1,"side-nav-link-ref",3,"routerLink"],["class","side-nav-link-a-ref has-arrow","href","javascript:void(0);",4,"ngIf"],["class","sub-menu mm-collapse","aria-expanded","false",4,"ngIf"],["href","javascript:void(0);",1,"side-nav-link-a-ref","has-arrow"],["aria-expanded","false",1,"sub-menu","mm-collapse"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"div",0)(1,"perfect-scrollbar")(2,"div",1)(3,"ul",2,3),v.YNc(5,P,4,3,"ng-container",4),v.qZA()()()()),2&Ce&&(v.xp6(5),v.Q6J("ngForOf",fe.menuItems))},dependencies:[li.mk,li.sg,li.O5,Si.Vv,gn.rH,gn.Od,$n]});class z{constructor(){this.isLightModeOn=!0,this.isDarkModeOn=!1}ngOnInit(){}hide(){document.body.classList.remove("right-bar-enabled")}onLightModeChange(){this.isDarkModeOn=!1,document.body.setAttribute("data-bs-theme","light")}onDarkModeChange(){this.isLightModeOn=!1,document.body.setAttribute("data-bs-theme","dark")}}(F=z).\u0275fac=function(Ce){return new(Ce||F)},F.\u0275cmp=v.Xpm({type:F,selectors:[["app-rightsidebar"]],decls:27,vars:3,consts:[[1,"right-bar",3,"exclude","clickOutside"],["data-simplebar","",1,"h-100"],[1,"rightbar-title","px-3","py-4"],["href","javascript:void(0);",1,"right-bar-toggle","float-end",3,"click"],[1,"mdi","mdi-close","noti-icon"],[1,"m-0"],[1,"mt-0"],[1,"text-center","mb-0"],[1,"p-4"],[1,"mb-2"],["src","assets/images/layouts/layout-1.jpg","alt","",1,"img-fluid","img-thumbnail"],[1,"form-check","form-switch","mb-3"],["type","checkbox","id","light-mode-switch",1,"form-check-input","theme-choice",3,"ngModel","ngModelChange","change"],["for","light-mode-switch",1,"form-check-label"],["src","assets/images/layouts/layout-2.jpg","alt","",1,"img-fluid","img-thumbnail"],["type","checkbox","id","dark-mode-switch",1,"form-check-input","theme-choice",3,"ngModel","ngModelChange","change"],["for","dark-mode-switch",1,"form-check-label"],["href","//nazox-v-rtl.angular.themesdesign.in","target","_blank"],["src","assets/images/layouts/layout-3.jpg","alt","",1,"img-fluid","img-thumbnail"],[1,"rightbar-overlay"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"div",0),v.NdJ("clickOutside",function(){return fe.hide()}),v.TgZ(1,"div",1)(2,"div",2)(3,"a",3),v.NdJ("click",function(){return fe.hide()}),v._UZ(4,"i",4),v.qZA(),v.TgZ(5,"h5",5),v._uU(6,"Settings"),v.qZA()(),v._UZ(7,"hr",6),v.TgZ(8,"h6",7),v._uU(9,"Choose Layouts"),v.qZA(),v.TgZ(10,"div",8)(11,"div",9),v._UZ(12,"img",10),v.qZA(),v.TgZ(13,"div",11)(14,"input",12),v.NdJ("ngModelChange",function(ut){return fe.isLightModeOn=ut})("change",function(){return fe.onLightModeChange()}),v.qZA(),v.TgZ(15,"label",13),v._uU(16,"Light Mode"),v.qZA()(),v.TgZ(17,"div",9),v._UZ(18,"img",14),v.qZA(),v.TgZ(19,"div",11)(20,"input",15),v.NdJ("ngModelChange",function(ut){return fe.isDarkModeOn=ut})("change",function(){return fe.onDarkModeChange()}),v.qZA(),v.TgZ(21,"label",16),v._uU(22,"Dark Mode"),v.qZA()(),v.TgZ(23,"div",9)(24,"a",17),v._UZ(25,"img",18),v.qZA()()()()(),v._UZ(26,"div",19)),2&Ce&&(v.Q6J("exclude",".right-bar-toggle"),v.xp6(14),v.Q6J("ngModel",fe.isLightModeOn),v.xp6(6),v.Q6J("ngModel",fe.isDarkModeOn))},dependencies:[qi,Xe.Wl,Xe.JJ,Xe.On]});class le{constructor(){}ngOnInit(){document.body.setAttribute("data-sidebar","dark"),document.body.removeAttribute("data-layout-size"),document.body.removeAttribute("data-layout"),document.body.removeAttribute("data-topbar"),document.body.classList.remove("auth-body-bg")}onToggleMobileMenu(){document.body.classList.toggle("sidebar-enable"),document.body.classList.toggle("vertical-collpsed"),window.screen.width<=768&&document.body.classList.remove("vertical-collpsed")}onSettingsButtonClicked(){document.body.classList.toggle("right-bar-enabled")}}function me(Be,Ce){if(1&Be&&v._UZ(0,"img",109),2&Be){const fe=v.oxw();v.s9C("src",fe.flagvalue,v.LSH)}}function Ae(Be,Ce){if(1&Be&&v._UZ(0,"img",109),2&Be){const fe=v.oxw();v.s9C("src",fe.valueset,v.LSH)}}function Ve(Be,Ce){1&Be&&(v.TgZ(0,"span",44),v._uU(1,"English"),v.qZA())}(X=le).\u0275fac=function(Ce){return new(Ce||X)},X.\u0275cmp=v.Xpm({type:X,selectors:[["app-vertical"]],decls:8,vars:0,consts:[["id","layout-wrapper"],[3,"mobileMenuButtonClicked","settingsButtonClicked"],[1,"main-content"],[1,"page-content"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"div",0)(1,"app-topbar",1),v.NdJ("mobileMenuButtonClicked",function(){return fe.onToggleMobileMenu()})("settingsButtonClicked",function(){return fe.onSettingsButtonClicked()}),v.qZA(),v._UZ(2,"app-sidebar"),v.TgZ(3,"div",2)(4,"div",3),v._UZ(5,"router-outlet"),v.qZA(),v._UZ(6,"app-footer"),v.qZA(),v._UZ(7,"app-rightsidebar"),v.qZA())},dependencies:[cn,vi,N,z,gn.lC]});const D=function(Be){return{active:Be}};function Z(Be,Ce){if(1&Be){const fe=v.EpF();v.TgZ(0,"a",110),v.NdJ("click",function(){const Pt=v.CHM(fe).$implicit,sn=v.oxw();return v.KtG(sn.setLanguage(Pt.text,Pt.lang,Pt.flag))}),v._UZ(1,"img",111),v.TgZ(2,"span",112),v._uU(3),v.qZA()()}if(2&Be){const fe=Ce.$implicit,Ue=v.oxw();v.Q6J("ngClass",v.VKq(3,D,Ue.cookieValue===fe.lang)),v.xp6(1),v.s9C("src",fe.flag,v.LSH),v.xp6(2),v.Oqu(fe.text)}}class ce{constructor(Ce,fe,Ue,ut,Pt,sn){this.document=Ce,this.router=fe,this.authService=Ue,this.authFackservice=ut,this.languageService=Pt,this.cookiesService=sn,this.listLang=[{text:"English",flag:"assets/images/flags/us.jpg",lang:"en"},{text:"Spanish",flag:"assets/images/flags/spain.jpg",lang:"es"},{text:"German",flag:"assets/images/flags/germany.jpg",lang:"de"},{text:"Italian",flag:"assets/images/flags/italy.jpg",lang:"it"},{text:"Russian",flag:"assets/images/flags/russia.jpg",lang:"ru"}]}ngOnInit(){this.element=document.documentElement,this.configData={suppressScrollX:!0,wheelSpeed:.3},this.cookieValue=this.cookiesService.get("lang");const Ce=this.listLang.filter(fe=>fe.lang===this.cookieValue);this.countryName=Ce.map(fe=>fe.text),0===Ce.length?void 0===this.flagvalue&&(this.valueset="assets/images/flags/us.jpg"):this.flagvalue=Ce.map(fe=>fe.flag)}fullscreen(){document.body.classList.toggle("fullscreen-enable"),document.fullscreenElement||this.element.mozFullScreenElement||this.element.webkitFullscreenElement?this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen():this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()}setLanguage(Ce,fe,Ue){this.countryName=Ce,this.flagvalue=Ue,this.cookieValue=fe,this.languageService.setLanguage(fe)}toggleMenubar(){document.getElementById("topnav-menu-content").classList.toggle("show")}onSettingsButtonClicked(){document.body.classList.toggle("right-bar-enabled")}logout(){"firebase"===bi.N.defaultauth?this.authService.logout():this.authFackservice.logout(),this.router.navigate(["/account/login"])}}(ie=ce).\u0275fac=function(Ce){return new(Ce||ie)(v.Y36(li.K0),v.Y36(gn.F0),v.Y36(cr.$),v.Y36(Qi.g),v.Y36(Hi),v.Y36(Rs))},ie.\u0275cmp=v.Xpm({type:ie,selectors:[["app-horizontaltopbar"]],decls:342,vars:165,consts:[["id","page-topbar"],[1,"navbar-header"],[1,"d-flex"],[1,"navbar-brand-box"],["href","/",1,"logo","logo-dark"],[1,"logo-sm"],["src","assets/images/logo-sm-dark.png","alt","","height","22"],[1,"logo-lg"],["src","assets/images/logo-dark.png","alt","","height","20"],["href","/",1,"logo","logo-light"],["src","assets/images/logo-sm-light.png","alt","","height","22"],["src","assets/images/logo-light.png","alt","","height","20"],["type","button",1,"btn","btn-sm","px-3","font-size-24","d-lg-none","header-item",3,"click"],[1,"ri-menu-2-line","align-middle"],[1,"app-search","d-none","d-lg-block"],[1,"position-relative"],["type","text",1,"form-control",3,"placeholder"],[1,"ri-search-line"],["ngbDropdown","",1,"dropdown","dropdown-mega","d-none","d-lg-block","ms-2"],["ngbDropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","false","aria-expanded","false",1,"btn","header-item","waves-effect"],[1,"mdi","mdi-chevron-down"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-megamenu"],[1,"row"],[1,"col-sm-8"],[1,"col-md-4"],[1,"font-size-14","mt-0"],[1,"list-unstyled","megamenu-list"],["href","javascript:void(0);"],[1,"col-sm-4"],[1,"col-sm-6"],[1,"col-sm-5"],["src","assets/images/megamenu-img.png","alt","",1,"img-fluid","mx-auto","d-block"],["ngbDropdown","",1,"dropdown","d-inline-block","d-lg-none","ms-2"],["type","button","ngbDropdownToggle","","id","page-header-search-dropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","header-item","noti-icon","waves-effect"],["aria-labelledby","page-header-search-dropdown","ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-lg","dropdown-menu-end","p-0"],[1,"p-3"],[1,"form-group","m-0"],[1,"input-group"],["type","text","placeholder","Search ...",1,"form-control"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],["ngbDropdown","",1,"dropdown","d-inline-block"],["type","button","id","page-header-user-dropdown","ngbDropdownToggle","",1,"btn","header-item"],["alt","Header Language","height","16",3,"src",4,"ngIf"],[1,"ms-1"],["class","ms-1",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);","class","dropdown-item notify-item",3,"ngClass","click",4,"ngFor","ngForOf"],["ngbDropdown","",1,"dropdown","d-none","d-lg-inline-block","ms-1"],["type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","header-item","noti-icon","waves-effect"],[1,"ri-apps-2-line"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-lg","dropdown-menu-end"],[1,"px-lg-2"],[1,"row","g-0"],[1,"col"],["href","#",1,"dropdown-icon-item"],["src","assets/images/brands/github.png","alt","Github"],["src","assets/images/brands/bitbucket.png","alt","bitbucket"],["src","assets/images/brands/dribbble.png","alt","dribbble"],["src","assets/images/brands/dropbox.png","alt","dropbox"],["src","assets/images/brands/mail_chimp.png","alt","mail_chimp"],["src","assets/images/brands/slack.png","alt","slack"],[1,"dropdown","d-none","d-lg-inline-block","ms-1"],["type","button","data-toggle","fullscreen",1,"btn","header-item","noti-icon","waves-effect",3,"click"],[1,"ri-fullscreen-line"],["type","button","ngbDropdownToggle","","id","page-header-notifications-dropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","header-item","noti-icon","waves-effect"],[1,"ri-notification-3-line"],[1,"noti-dot"],["ngbDropdownMenu","","aria-labelledby","page-header-notifications-dropdown",1,"dropdown-menu","dropdown-menu-lg","dropdown-menu-end","p-0"],[1,"row","align-items-center"],[1,"m-0"],[1,"col-auto"],["href","javascript: void(0);",1,"small"],[2,"position","relative","height","230px",3,"config"],["href","",1,"text-reset","notification-item"],[1,"avatar-xs","me-3"],[1,"avatar-title","bg-primary","rounded-circle","font-size-16"],[1,"ri-shopping-cart-line"],[1,"flex-1"],[1,"mt-0","mb-1"],[1,"font-size-12","text-muted"],[1,"mb-1"],[1,"mb-0"],[1,"mdi","mdi-clock-outline"],["src","assets/images/users/avatar-3.jpg","alt","user-pic",1,"me-3","rounded-circle","avatar-xs"],[1,"avatar-title","bg-success","rounded-circle","font-size-16"],[1,"ri-checkbox-circle-line"],["src","assets/images/users/avatar-4.jpg","alt","user-pic",1,"me-3","rounded-circle","avatar-xs"],[1,"p-2","border-top"],["href","javascript:void(0)",1,"btn","btn-sm","btn-link","font-size-14","btn-block","text-center"],[1,"mdi","mdi-arrow-right-circle","me-1"],["ngbDropdown","",1,"dropdown","d-inline-block","user-dropdown"],["type","button","ngbDropdownToggle","","id","page-header-user-dropdown","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","header-item","waves-effect"],["src","assets/images/users/avatar-2.jpg","alt","Header Avatar",1,"rounded-circle","header-profile-user"],[1,"d-none","d-xl-inline-block","ms-1"],[1,"mdi","mdi-chevron-down","d-none","d-xl-inline-block"],["href","javascript: void(0);",1,"dropdown-item"],[1,"ri-user-line","align-middle","me-1"],[1,"ri-wallet-2-line","align-middle","me-1"],["href","javascript: void(0);",1,"dropdown-item","d-block"],[1,"badge","badge-success","float-end","mt-1"],[1,"ri-settings-2-line","align-middle","me-1"],[1,"ri-lock-unlock-line","align-middle","me-1"],[1,"dropdown-divider"],["href","javascript: void(0);",1,"dropdown-item","text-danger",3,"click"],[1,"ri-shut-down-line","align-middle","me-1","text-danger"],[1,"dropdown","d-inline-block"],["type","button",1,"btn","header-item","noti-icon","right-bar-toggle","waves-effect",3,"click"],[1,"ri-settings-2-line"],["alt","Header Language","height","16",3,"src"],["href","javascript:void(0);",1,"dropdown-item","notify-item",3,"ngClass","click"],["alt","user-image","height","12",1,"me-1",3,"src"],[1,"align-middle"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5),v._UZ(6,"img",6),v.qZA(),v.TgZ(7,"span",7),v._UZ(8,"img",8),v.qZA()(),v.TgZ(9,"a",9)(10,"span",5),v._UZ(11,"img",10),v.qZA(),v.TgZ(12,"span",7),v._UZ(13,"img",11),v.qZA()()(),v.TgZ(14,"button",12),v.NdJ("click",function(){return fe.toggleMenubar()}),v._UZ(15,"i",13),v.qZA(),v.TgZ(16,"form",14)(17,"div",15),v._UZ(18,"input",16),v.ALo(19,"translate"),v._UZ(20,"span",17),v.qZA()(),v.TgZ(21,"div",18)(22,"button",19),v._uU(23),v.ALo(24,"translate"),v._UZ(25,"i",20),v.qZA(),v.TgZ(26,"div",21)(27,"div",22)(28,"div",23)(29,"div",22)(30,"div",24)(31,"h5",25),v._uU(32),v.ALo(33,"translate"),v.qZA(),v.TgZ(34,"ul",26)(35,"li")(36,"a",27),v._uU(37),v.ALo(38,"translate"),v.qZA()(),v.TgZ(39,"li")(40,"a",27),v._uU(41),v.ALo(42,"translate"),v.qZA()(),v.TgZ(43,"li")(44,"a",27),v._uU(45),v.ALo(46,"translate"),v.qZA()(),v.TgZ(47,"li")(48,"a",27),v._uU(49),v.ALo(50,"translate"),v.qZA()(),v.TgZ(51,"li")(52,"a",27),v._uU(53),v.ALo(54,"translate"),v.qZA()(),v.TgZ(55,"li")(56,"a",27),v._uU(57),v.ALo(58,"translate"),v.qZA()(),v.TgZ(59,"li")(60,"a",27),v._uU(61),v.ALo(62,"translate"),v.qZA()()()(),v.TgZ(63,"div",24)(64,"h5",25),v._uU(65),v.ALo(66,"translate"),v.qZA(),v.TgZ(67,"ul",26)(68,"li")(69,"a",27),v._uU(70),v.ALo(71,"translate"),v.qZA()(),v.TgZ(72,"li")(73,"a",27),v._uU(74),v.ALo(75,"translate"),v.qZA()(),v.TgZ(76,"li")(77,"a",27),v._uU(78),v.ALo(79,"translate"),v.qZA()(),v.TgZ(80,"li")(81,"a",27),v._uU(82),v.ALo(83,"translate"),v.qZA()(),v.TgZ(84,"li")(85,"a",27),v._uU(86),v.ALo(87,"translate"),v.qZA()(),v.TgZ(88,"li")(89,"a",27),v._uU(90),v.ALo(91,"translate"),v.qZA()()()(),v.TgZ(92,"div",24)(93,"h5",25),v._uU(94),v.ALo(95,"translate"),v.qZA(),v.TgZ(96,"ul",26)(97,"li")(98,"a",27),v._uU(99),v.ALo(100,"translate"),v.qZA()(),v.TgZ(101,"li")(102,"a",27),v._uU(103),v.ALo(104,"translate"),v.qZA()(),v.TgZ(105,"li")(106,"a",27),v._uU(107),v.ALo(108,"translate"),v.qZA()(),v.TgZ(109,"li")(110,"a",27),v._uU(111),v.ALo(112,"translate"),v.qZA()(),v.TgZ(113,"li")(114,"a",27),v._uU(115),v.ALo(116,"translate"),v.qZA()(),v.TgZ(117,"li")(118,"a",27),v._uU(119),v.ALo(120,"translate"),v.qZA()(),v.TgZ(121,"li")(122,"a",27),v._uU(123),v.ALo(124,"translate"),v.qZA()()()()()(),v.TgZ(125,"div",28)(126,"div",22)(127,"div",29)(128,"h5",25),v._uU(129),v.ALo(130,"translate"),v.qZA(),v.TgZ(131,"ul",26)(132,"li")(133,"a",27),v._uU(134),v.ALo(135,"translate"),v.qZA()(),v.TgZ(136,"li")(137,"a",27),v._uU(138),v.ALo(139,"translate"),v.qZA()(),v.TgZ(140,"li")(141,"a",27),v._uU(142),v.ALo(143,"translate"),v.qZA()(),v.TgZ(144,"li")(145,"a",27),v._uU(146),v.ALo(147,"translate"),v.qZA()(),v.TgZ(148,"li")(149,"a",27),v._uU(150),v.ALo(151,"translate"),v.qZA()(),v.TgZ(152,"li")(153,"a",27),v._uU(154),v.ALo(155,"translate"),v.qZA()(),v.TgZ(156,"li")(157,"a",27),v._uU(158),v.ALo(159,"translate"),v.qZA()()()(),v.TgZ(160,"div",30)(161,"div"),v._UZ(162,"img",31),v.qZA()()()()()()()(),v.TgZ(163,"div",2)(164,"div",32)(165,"button",33),v._UZ(166,"i",17),v.qZA(),v.TgZ(167,"div",34)(168,"form",35)(169,"div",36)(170,"div",37),v._UZ(171,"input",38),v.TgZ(172,"div",39)(173,"button",40),v._UZ(174,"i",17),v.qZA()()()()()()(),v.TgZ(175,"div",41)(176,"button",42),v.YNc(177,me,1,1,"img",43),v.TgZ(178,"span",44),v._uU(179),v.qZA(),v.YNc(180,Ae,1,1,"img",43),v.YNc(181,Ve,2,0,"span",45),v.qZA(),v.TgZ(182,"div",46),v.YNc(183,Z,4,5,"a",47),v.qZA()(),v.TgZ(184,"div",48)(185,"button",49),v._UZ(186,"i",50),v.qZA(),v.TgZ(187,"div",51)(188,"div",52)(189,"div",53)(190,"div",54)(191,"a",55),v._UZ(192,"img",56),v.TgZ(193,"span"),v._uU(194,"GitHub"),v.qZA()()(),v.TgZ(195,"div",54)(196,"a",55),v._UZ(197,"img",57),v.TgZ(198,"span"),v._uU(199,"Bitbucket"),v.qZA()()(),v.TgZ(200,"div",54)(201,"a",55),v._UZ(202,"img",58),v.TgZ(203,"span"),v._uU(204,"Dribbble"),v.qZA()()()(),v.TgZ(205,"div",53)(206,"div",54)(207,"a",55),v._UZ(208,"img",59),v.TgZ(209,"span"),v._uU(210,"Dropbox"),v.qZA()()(),v.TgZ(211,"div",54)(212,"a",55),v._UZ(213,"img",60),v.TgZ(214,"span"),v._uU(215,"Mail Chimp"),v.qZA()()(),v.TgZ(216,"div",54)(217,"a",55),v._UZ(218,"img",61),v.TgZ(219,"span"),v._uU(220,"Slack"),v.qZA()()()()()()(),v.TgZ(221,"div",62)(222,"button",63),v.NdJ("click",function(){return fe.fullscreen()}),v._UZ(223,"i",64),v.qZA()(),v.TgZ(224,"div",41)(225,"button",65),v._UZ(226,"i",66)(227,"span",67),v.qZA(),v.TgZ(228,"div",68)(229,"div",35)(230,"div",69)(231,"div",54)(232,"h6",70),v._uU(233),v.ALo(234,"translate"),v.qZA()(),v.TgZ(235,"div",71)(236,"a",72),v._uU(237),v.ALo(238,"translate"),v.qZA()()()(),v.TgZ(239,"perfect-scrollbar",73)(240,"a",74)(241,"div",2)(242,"div",75)(243,"span",76),v._UZ(244,"i",77),v.qZA()(),v.TgZ(245,"div",78)(246,"h6",79),v._uU(247),v.ALo(248,"translate"),v.qZA(),v.TgZ(249,"div",80)(250,"p",81),v._uU(251),v.ALo(252,"translate"),v.qZA(),v.TgZ(253,"p",82),v._UZ(254,"i",83),v._uU(255),v.ALo(256,"translate"),v.qZA()()()()(),v.TgZ(257,"a",74)(258,"div",2),v._UZ(259,"img",84),v.TgZ(260,"div",78)(261,"h6",79),v._uU(262),v.ALo(263,"translate"),v.qZA(),v.TgZ(264,"div",80)(265,"p",81),v._uU(266),v.ALo(267,"translate"),v.qZA(),v.TgZ(268,"p",82),v._UZ(269,"i",83),v._uU(270),v.ALo(271,"translate"),v.qZA()()()()(),v.TgZ(272,"a",74)(273,"div",2)(274,"div",75)(275,"span",85),v._UZ(276,"i",86),v.qZA()(),v.TgZ(277,"div",78)(278,"h6",79),v._uU(279),v.ALo(280,"translate"),v.qZA(),v.TgZ(281,"div",80)(282,"p",81),v._uU(283),v.ALo(284,"translate"),v.qZA(),v.TgZ(285,"p",82),v._UZ(286,"i",83),v._uU(287),v.ALo(288,"translate"),v.qZA()()()()(),v.TgZ(289,"a",74)(290,"div",2),v._UZ(291,"img",87),v.TgZ(292,"div",78)(293,"h6",79),v._uU(294),v.ALo(295,"translate"),v.qZA(),v.TgZ(296,"div",80)(297,"p",81),v._uU(298),v.ALo(299,"translate"),v.qZA(),v.TgZ(300,"p",82),v._UZ(301,"i",83),v._uU(302),v.ALo(303,"translate"),v.qZA()()()()()(),v.TgZ(304,"div",88)(305,"a",89),v._UZ(306,"i",90),v._uU(307),v.ALo(308,"translate"),v.qZA()()()(),v.TgZ(309,"div",91)(310,"button",92),v._UZ(311,"img",93),v.TgZ(312,"span",94),v._uU(313,"Kevin"),v.qZA(),v._UZ(314,"i",95),v.qZA(),v.TgZ(315,"div",46)(316,"a",96),v._UZ(317,"i",97),v._uU(318),v.ALo(319,"translate"),v.qZA(),v.TgZ(320,"a",96),v._UZ(321,"i",98),v._uU(322),v.ALo(323,"translate"),v.qZA(),v.TgZ(324,"a",99)(325,"span",100),v._uU(326,"11"),v.qZA(),v._UZ(327,"i",101),v._uU(328),v.ALo(329,"translate"),v.qZA(),v.TgZ(330,"a",96),v._UZ(331,"i",102),v._uU(332),v.ALo(333,"translate"),v.qZA(),v._UZ(334,"div",103),v.TgZ(335,"a",104),v.NdJ("click",function(){return fe.logout()}),v._UZ(336,"i",105),v._uU(337),v.ALo(338,"translate"),v.qZA()()(),v.TgZ(339,"div",106)(340,"button",107),v.NdJ("click",function(){return fe.onSettingsButtonClicked()}),v._UZ(341,"i",108),v.qZA()()()()()),2&Ce&&(v.xp6(18),v.s9C("placeholder",v.lcZ(19,59,"HEADER.SEARCH")),v.xp6(5),v.hij(" ",v.lcZ(24,61,"HEADER.MEGA_MENU")," "),v.xp6(9),v.Oqu(v.lcZ(33,63,"HEADER.UI.TITLE")),v.xp6(5),v.Oqu(v.lcZ(38,65,"HEADER.UI.LIGHTBOX")),v.xp6(4),v.Oqu(v.lcZ(42,67,"HEADER.UI.RANGE_SLIDER")),v.xp6(4),v.Oqu(v.lcZ(46,69,"HEADER.UI.SWEET_ALERT")),v.xp6(4),v.Oqu(v.lcZ(50,71,"HEADER.UI.RATING")),v.xp6(4),v.Oqu(v.lcZ(54,73,"HEADER.UI.FORMS")),v.xp6(4),v.Oqu(v.lcZ(58,75,"HEADER.UI.TABLES")),v.xp6(4),v.Oqu(v.lcZ(62,77,"HEADER.UI.CHARTS")),v.xp6(4),v.Oqu(v.lcZ(66,79,"HEADER.APPLICATIONS.TITLE")),v.xp6(5),v.Oqu(v.lcZ(71,81,"HEADER.APPLICATIONS.ECOMMERCE")),v.xp6(4),v.Oqu(v.lcZ(75,83,"HEADER.APPLICATIONS.CALENDAR")),v.xp6(4),v.Oqu(v.lcZ(79,85,"HEADER.APPLICATIONS.EMAIL")),v.xp6(4),v.Oqu(v.lcZ(83,87,"HEADER.APPLICATIONS.PROJECTS")),v.xp6(4),v.Oqu(v.lcZ(87,89,"HEADER.APPLICATIONS.TASKS")),v.xp6(4),v.Oqu(v.lcZ(91,91,"HEADER.APPLICATIONS.CONTACTS")),v.xp6(4),v.Oqu(v.lcZ(95,93,"HEADER.EXTRA_PAGES.TITLE")),v.xp6(5),v.Oqu(v.lcZ(100,95,"HEADER.EXTRA_PAGES.LIGHT_SIDEBAR")),v.xp6(4),v.Oqu(v.lcZ(104,97,"HEADER.EXTRA_PAGES.COMPACT_SIDEBAR")),v.xp6(4),v.Oqu(v.lcZ(108,99,"HEADER.EXTRA_PAGES.HORIZONTAL_LAYOUT")),v.xp6(4),v.Oqu(v.lcZ(112,101,"HEADER.EXTRA_PAGES.MAINTENANCE")),v.xp6(4),v.Oqu(v.lcZ(116,103,"HEADER.EXTRA_PAGES.COMING SOON")),v.xp6(4),v.Oqu(v.lcZ(120,105,"HEADER.EXTRA_PAGES.TIMELINE")),v.xp6(4),v.Oqu(v.lcZ(124,107,"HEADER.EXTRA_PAGES.FAQ")),v.xp6(6),v.Oqu(v.lcZ(130,109,"HEADER.UI.TITLE")),v.xp6(5),v.Oqu(v.lcZ(135,111,"HEADER.UI.LIGHTBOX")),v.xp6(4),v.Oqu(v.lcZ(139,113,"HEADER.UI.RANGE_SLIDER")),v.xp6(4),v.Oqu(v.lcZ(143,115,"HEADER.UI.SWEET_ALERT")),v.xp6(4),v.Oqu(v.lcZ(147,117,"HEADER.UI.RATING")),v.xp6(4),v.Oqu(v.lcZ(151,119,"HEADER.UI.FORMS")),v.xp6(4),v.Oqu(v.lcZ(155,121,"HEADER.UI.TABLES")),v.xp6(4),v.Oqu(v.lcZ(159,123,"HEADER.UI.CHARTS")),v.xp6(19),v.Q6J("ngIf",void 0!==fe.flagvalue),v.xp6(2),v.Oqu(fe.countryName),v.xp6(1),v.Q6J("ngIf",void 0===fe.flagvalue),v.xp6(1),v.Q6J("ngIf",void 0===fe.flagvalue),v.xp6(2),v.Q6J("ngForOf",fe.listLang),v.xp6(50),v.hij("",v.lcZ(234,125,"HEADER.NOTIFICATIONS.TITLE")," "),v.xp6(4),v.Oqu(v.lcZ(238,127,"HEADER.NOTIFICATIONS.VIEW_ALL")),v.xp6(2),v.Q6J("config",fe.configData),v.xp6(8),v.Oqu(v.lcZ(248,129,"HEADER.NOTIFICATIONS.FIRST.TITLE")),v.xp6(4),v.Oqu(v.lcZ(252,131,"HEADER.NOTIFICATIONS.FIRST.TEXT")),v.xp6(4),v.hij(" ",v.lcZ(256,133,"HEADER.NOTIFICATIONS.FIRST.TIME"),""),v.xp6(7),v.Oqu(v.lcZ(263,135,"HEADER.NOTIFICATIONS.SECOND.TITLE")),v.xp6(4),v.Oqu(v.lcZ(267,137,"HEADER.NOTIFICATIONS.SECOND.TEXT")),v.xp6(4),v.Oqu(v.lcZ(271,139,"HEADER.NOTIFICATIONS.SECOND.TIME")),v.xp6(9),v.Oqu(v.lcZ(280,141,"HEADER.NOTIFICATIONS.THIRD.TITLE")),v.xp6(4),v.Oqu(v.lcZ(284,143,"HEADER.NOTIFICATIONS.THIRD.TEXT")),v.xp6(4),v.Oqu(v.lcZ(288,145,"HEADER.NOTIFICATIONS.THIRD.TIME")),v.xp6(7),v.Oqu(v.lcZ(295,147,"HEADER.NOTIFICATIONS.FOUR.TITLE")),v.xp6(4),v.Oqu(v.lcZ(299,149,"HEADER.NOTIFICATIONS.FOUR.TEXT")),v.xp6(4),v.Oqu(v.lcZ(303,151,"HEADER.NOTIFICATIONS.FOUR.TIME")),v.xp6(5),v.hij(" ",v.lcZ(308,153,"HEADER.NOTIFICATIONS.LOAD_MORE")," "),v.xp6(11),v.hij(" ",v.lcZ(319,155,"HEADER.LOGIN.PROFILE"),""),v.xp6(4),v.Oqu(v.lcZ(323,157,"HEADER.LOGIN.MY_WALLET")),v.xp6(6),v.hij("",v.lcZ(329,159,"HEADER.LOGIN.SETTINGS")," "),v.xp6(4),v.hij(" ",v.lcZ(333,161,"HEADER.LOGIN.LOCK_SCREEN"),""),v.xp6(5),v.hij(" ",v.lcZ(338,163,"HEADER.LOGIN.LOGOUT"),""))},dependencies:[li.mk,li.sg,li.O5,Si.Vv,sr.jt,sr.iD,sr.Vi,Xe._Y,Xe.JL,Xe.F,$n]});const xe=[{id:1,label:"MENUITEMS.DASHBOARDS.TEXT",icon:"ri-dashboard-line",link:"/"},{id:2,label:"MENUITEMS.UIELEMENTS.TEXT",icon:"ri-pencil-ruler-2-line",isUiElement:!0,subItems:[{id:3,label:"MENUITEMS.UIELEMENTS.LIST.ALERTS",link:"/ui/alerts",parentId:2},{id:4,label:"MENUITEMS.UIELEMENTS.LIST.BUTTONS",link:"/ui/buttons",parentId:2},{id:5,label:"MENUITEMS.UIELEMENTS.LIST.CARDS",link:"/ui/cards",parentId:2},{id:6,label:"MENUITEMS.UIELEMENTS.LIST.CAROUSEL",link:"/ui/carousel",parentId:2},{id:7,label:"MENUITEMS.UIELEMENTS.LIST.DROPDOWNS",link:"/ui/dropdowns",parentId:2},{id:8,label:"MENUITEMS.UIELEMENTS.LIST.GRID",link:"/ui/grid",parentId:2},{id:9,label:"MENUITEMS.UIELEMENTS.LIST.IMAGES",link:"/ui/images",parentId:2},{id:10,label:"MENUITEMS.UIELEMENTS.LIST.MODALS",link:"/ui/modals",parentId:2},{id:11,label:"MENUITEMS.UIELEMENTS.LIST.RANGESLIDER",link:"/ui/rangeslider",parentId:2},{id:12,label:"MENUITEMS.UIELEMENTS.LIST.PROGRESSBAR",link:"/ui/progressbar",parentId:3},{id:13,label:"MENUITEMS.UIELEMENTS.LIST.SWEETALERT",link:"/ui/sweet-alert",parentId:2},{id:17,label:"MENUITEMS.UIELEMENTS.LIST.TABS",link:"/ui/tabs-accordions",parentId:2},{id:18,label:"MENUITEMS.UIELEMENTS.LIST.TYPOGRAPHY",link:"/ui/typography",parentId:2},{id:19,label:"MENUITEMS.UIELEMENTS.LIST.VIDEO",link:"/ui/video",parentId:2},{id:20,label:"MENUITEMS.UIELEMENTS.LIST.GENERAL",link:"/ui/general",parentId:2}]},{id:21,label:"MENUITEMS.APPS.TEXT",icon:"ri-apps-2-line",subItems:[{id:22,label:"MENUITEMS.CALENDAR.TEXT",link:"/calendar",parentId:21},{id:23,label:"MENUITEMS.CHAT.TEXT",link:"/chat",parentId:21},{id:24,label:"MENUITEMS.EMAIL.TEXT",subItems:[{id:25,label:"MENUITEMS.EMAIL.LIST.INBOX",link:"/email/inbox",parentId:24},{id:26,label:"MENUITEMS.EMAIL.LIST.READEMAIL",link:"/email/read/1",parentId:24}]},{id:27,label:"MENUITEMS.ECOMMERCE.TEXT",subItems:[{id:28,label:"MENUITEMS.ECOMMERCE.LIST.PRODUCTS",link:"/ecommerce/products",parentId:27},{id:30,label:"MENUITEMS.ECOMMERCE.LIST.ORDERS",link:"/ecommerce/orders",parentId:27},{id:31,label:"MENUITEMS.ECOMMERCE.LIST.CUSTOMERS",link:"/ecommerce/customers",parentId:27},{id:32,label:"MENUITEMS.ECOMMERCE.LIST.CART",link:"/ecommerce/cart",parentId:27},{id:33,label:"MENUITEMS.ECOMMERCE.LIST.CHECKOUT",link:"/ecommerce/checkout",parentId:27},{id:34,label:"MENUITEMS.ECOMMERCE.LIST.SHOPS",link:"/ecommerce/shops",parentId:27},{id:35,label:"MENUITEMS.ECOMMERCE.LIST.ADDPRODUCT",link:"/ecommerce/add-product",parentId:27}]},{id:36,label:"MENUITEMS.KANBAN.TEXT",link:"/kanban-board"}]},{id:37,label:"MENUITEMS.COMPONENTS.TEXT",icon:"ri-stack-line",subItems:[{id:38,label:"MENUITEMS.FORMS.TEXT",subItems:[{id:39,label:"MENUITEMS.FORMS.LIST.ELEMENTS",link:"/form/elements",parentId:38},{id:40,label:"MENUITEMS.FORMS.LIST.VALIDATION",link:"/form/validation",parentId:38},{id:41,label:"MENUITEMS.FORMS.LIST.ADVANCED",link:"/form/advanced",parentId:38},{id:42,label:"MENUITEMS.FORMS.LIST.EDITOR",link:"/form/editor",parentId:38},{id:43,label:"MENUITEMS.FORMS.LIST.FILEUPLOAD",link:"/form/uploads",parentId:38},{id:44,label:"MENUITEMS.FORMS.LIST.WIZARD",link:"/form/wizard",parentId:38},{id:45,label:"MENUITEMS.FORMS.LIST.MASK",link:"/form/mask",parentId:38}]},{id:46,label:"MENUITEMS.TABLES.TEXT",subItems:[{id:47,label:"MENUITEMS.TABLES.LIST.BASIC",link:"/tables/basic",parentId:46},{id:48,label:"MENUITEMS.TABLES.LIST.ADVANCED",link:"/tables/advanced",parentId:46}]},{id:48,label:"MENUITEMS.CHARTS.TEXT",subItems:[{id:49,label:"MENUITEMS.CHARTS.LIST.APEX",link:"/charts/apex",parentId:48},{id:50,label:"MENUITEMS.CHARTS.LIST.CHARTJS",link:"/charts/chartjs",parentId:48},{id:51,label:"MENUITEMS.CHARTS.LIST.ECHART",link:"/charts/echart",parentId:48}]},{id:52,label:"MENUITEMS.ICONS.TEXT",subItems:[{id:53,label:"MENUITEMS.ICONS.LIST.REMIX",link:"/icons/remix",parentId:52},{id:54,label:"MENUITEMS.ICONS.LIST.MATERIALDESIGN",link:"/icons/materialdesign",parentId:52},{id:55,label:"MENUITEMS.ICONS.LIST.DRIPICONS",link:"/icons/dripicons",parentId:52},{id:56,label:"MENUITEMS.ICONS.LIST.FONTAWESOME",link:"/icons/fontawesome",parentId:52}]},{id:57,label:"MENUITEMS.MAPS.TEXT",icon:"ri-map-pin-line",subItems:[{id:58,label:"MENUITEMS.MAPS.LIST.GOOGLEMAP",link:"/maps/google",parentId:57},{id:59,label:"Leaflet Maps",link:"/maps/leaflet",parentId:57}]}]},{id:58,label:"MENUITEMS.PAGES.TEXT",icon:"ri-file-copy-2-line",subItems:[{id:59,label:"MENUITEMS.AUTHENTICATION.TEXT",icon:"ri-account-circle-line",subItems:[{id:60,label:"MENUITEMS.AUTHENTICATION.LIST.LOGIN",link:"/pages/login-1",parentId:59},{id:61,label:"MENUITEMS.AUTHENTICATION.LIST.REGISTER",link:"/pages/register-1",parentId:59},{id:62,label:"MENUITEMS.AUTHENTICATION.LIST.RECOVERPWD",link:"/pages/recoverpwd-1",parentId:59},{id:63,label:"MENUITEMS.AUTHENTICATION.LIST.LOCKSCREEN",link:"/pages/lock-screen-1",parentId:59}]},{id:64,label:"MENUITEMS.UTILITY.TEXT",icon:"ri-profile-line",subItems:[{id:65,label:"MENUITEMS.UTILITY.LIST.STARTER",link:"/pages/starter",parentId:64},{id:66,label:"MENUITEMS.UTILITY.LIST.MAINTENANCE",link:"/pages/maintenance",parentId:64},{id:67,label:"MENUITEMS.UTILITY.LIST.COOMINGSOON",link:"/pages/coming-soon",parentId:64},{id:68,label:"MENUITEMS.UTILITY.LIST.TIMELINE",link:"/pages/timeline",parentId:64},{id:69,label:"MENUITEMS.UTILITY.LIST.FAQS",link:"/pages/faqs",parentId:64},{id:70,label:"MENUITEMS.UTILITY.LIST.PRICING",link:"/pages/pricing",parentId:64},{id:71,label:"MENUITEMS.UTILITY.LIST.ERROR404",link:"/pages/404",parentId:64},{id:72,label:"MENUITEMS.UTILITY.LIST.ERROR500",link:"/pages/500",parentId:64}]}]}];var Pe,Qn,xi,wr;function ze(Be,Ce){1&Be&&v._UZ(0,"div",9)}function Ke(Be,Ce){if(1&Be&&(v.TgZ(0,"a",19),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&Be){const fe=v.oxw().$implicit;v.Q6J("routerLink",fe.link),v.xp6(1),v.Oqu(v.lcZ(2,2,fe.label))}}function st(Be,Ce){if(1&Be&&(v.TgZ(0,"a",23),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&Be){const fe=Ce.$implicit;v.Q6J("routerLink",fe.link),v.xp6(1),v.Oqu(v.lcZ(2,2,fe.label))}}function Tt(Be,Ce){if(1&Be){const fe=v.EpF();v.TgZ(0,"div",20)(1,"a",21),v.NdJ("click",function(ut){v.CHM(fe);const Pt=v.oxw(4);return v.KtG(Pt.onMenuClick(ut))}),v._uU(2),v.ALo(3,"translate"),v._UZ(4,"div",9),v.qZA(),v.TgZ(5,"div",22),v.YNc(6,st,3,4,"ng-template",16),v.qZA()()}if(2&Be){const fe=v.oxw().$implicit;v.xp6(2),v.hij("",v.lcZ(3,2,fe.label)," "),v.xp6(4),v.Q6J("ngForOf",fe.subItems)}}function $t(Be,Ce){if(1&Be&&(v.YNc(0,Ke,3,4,"a",17),v.YNc(1,Tt,7,4,"div",18)),2&Be){const fe=Ce.$implicit,Ue=v.oxw(3);v.Q6J("ngIf",!Ue.hasItems(fe)),v.xp6(1),v.Q6J("ngIf",Ue.hasItems(fe))}}function zt(Be,Ce){if(1&Be&&(v.TgZ(0,"div",15),v.YNc(1,$t,2,2,"ng-template",16),v.qZA()),2&Be){const fe=v.oxw().$implicit;v.xp6(1),v.Q6J("ngForOf",fe.subItems)}}function Ht(Be,Ce){if(1&Be){const fe=v.EpF();v.ynx(0),v.TgZ(1,"li",6)(2,"a",12),v.NdJ("click",function(ut){v.CHM(fe);const Pt=v.oxw();return v.KtG(Pt.onMenuClick(ut))}),v._UZ(3,"i"),v._uU(4),v.ALo(5,"translate"),v.YNc(6,ze,1,0,"div",13),v.qZA(),v.YNc(7,zt,2,1,"div",14),v.qZA(),v.BQk()}if(2&Be){const fe=Ce.$implicit,Ue=v.oxw();v.xp6(2),v.Q6J("routerLink",fe.link),v.xp6(1),v.Gre("",fe.icon," me-2"),v.xp6(1),v.hij("",v.lcZ(5,7,fe.label)," "),v.xp6(2),v.Q6J("ngIf",fe.subItems),v.xp6(1),v.Q6J("ngIf",Ue.hasItems(fe))}}class zn{constructor(Ce,fe){this.router=Ce,this.eventService=fe,this.menuItems=[],Ce.events.subscribe(Ue=>{Ue instanceof gn.m2&&this.activateMenu()})}ngOnInit(){this.initialize(),this.configData={suppressScrollX:!0,wheelSpeed:.3}}onMenuClick(Ce){const fe=Ce.target.nextSibling;if("navmenu"===fe.id&&fe&&!fe.classList.contains("show")){const ut=Ce.target.parentNode;ut&&ut.classList.remove("show"),fe.classList.toggle("show")}return!1}ngAfterViewInit(){this.activateMenu()}_removeAllClass(Ce){const fe=document.getElementsByClassName(Ce);for(;fe[0];)fe[0].classList.remove(Ce)}toggleMenubar(){document.getElementById("topnav-menu-content").classList.toggle("show")}activateMenu(){const Ce=ut=>{const Pt=ut.parentElement;if(Pt){Pt.classList.remove("active");const sn=Pt.parentElement;if(this._removeAllClass("mm-active"),this._removeAllClass("mm-show"),sn){sn.classList.remove("active");const wn=sn.parentElement;if(wn){wn.classList.remove("active");const yi=wn.parentElement;if(yi){yi.classList.remove("active");const Ai=yi.parentElement;Ai&&Ai.classList.remove("active")}}}}},fe=document.getElementsByClassName("side-nav-link-ref");let Ue=null;for(let ut=0;ut<fe.length;ut++)Ce(fe[ut]);for(let ut=0;ut<fe.length;ut++)if(location.pathname===fe[ut].pathname){Ue=fe[ut];break}if(Ue){const ut=Ue.parentElement;if(ut){ut.classList.add("active");const Pt=ut.parentElement;if(Pt){Pt.classList.add("active");const sn=Pt.parentElement;if(sn){sn.classList.add("active");const wn=sn.parentElement;if(wn){wn.classList.add("active");const yi=wn.parentElement;yi&&yi.classList.add("active")}}}}}}topbarLight(){document.body.setAttribute("data-topbar","light"),document.body.removeAttribute("data-layout-size")}boxedWidth(){document.body.setAttribute("data-layout-size","boxed"),document.body.setAttribute("data-topbar","dark")}changeLayout(Ce){this.eventService.broadcast("changeLayout",Ce)}initialize(){this.menuItems=xe}hasItems(Ce){return void 0!==Ce.subItems&&Ce.subItems.length>0}}(Pe=zn).\u0275fac=function(Ce){return new(Ce||Pe)(v.Y36(gn.F0),v.Y36(ur))},Pe.\u0275cmp=v.Xpm({type:Pe,selectors:[["app-horizontalnavbar"]],decls:22,vars:13,consts:[[1,"topnav"],[1,"container-fluid"],[1,"navbar","navbar-light","navbar-expand-lg","topnav-menu"],["id","topnav-menu-content",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[4,"ngFor","ngForOf"],[1,"nav-item","dropdown"],["href","javascript: void(0);","id","topnav-layout","role","button",1,"nav-link","dropdown-toggle","arrow-none",3,"click"],[1,"ri-layout-3-line","me-2"],[1,"arrow-down"],["aria-labelledby","topnav-layout",1,"dropdown-menu","dropdown-menu-end"],["href","javascript: void(0);",1,"dropdown-item",3,"click"],["href","javascript: void(0);","id","topnav-components","role","button",1,"nav-link","dropdown-toggle","arrow-none",3,"routerLink","click"],["class","arrow-down",4,"ngIf"],["class","dropdown-menu row","aria-labelledby","topnav-dashboard","id","navmenu",4,"ngIf"],["aria-labelledby","topnav-dashboard","id","navmenu",1,"dropdown-menu","row"],["ngFor","",3,"ngForOf"],["class","col dropdown-item side-nav-link-ref","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","dropdown",4,"ngIf"],["routerLinkActive","active",1,"col","dropdown-item","side-nav-link-ref",3,"routerLink"],[1,"dropdown"],[1,"dropdown-item",3,"click"],[1,"dropdown-menu"],["routerLinkActive","active",1,"dropdown-item","side-nav-link-ref",3,"routerLink"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"ul",4),v.YNc(5,Ht,8,9,"ng-container",5),v.TgZ(6,"li",6)(7,"a",7),v.NdJ("click",function(ut){return fe.onMenuClick(ut)}),v._UZ(8,"i",8),v._uU(9),v.ALo(10,"translate"),v._UZ(11,"div",9),v.qZA(),v.TgZ(12,"div",10)(13,"a",11),v.NdJ("click",function(){return fe.changeLayout("vertical")}),v._uU(14),v.ALo(15,"translate"),v.qZA(),v.TgZ(16,"a",11),v.NdJ("click",function(){return fe.topbarLight()}),v._uU(17),v.ALo(18,"translate"),v.qZA(),v.TgZ(19,"a",11),v.NdJ("click",function(){return fe.boxedWidth()}),v._uU(20),v.ALo(21,"translate"),v.qZA()()()()()()()()),2&Ce&&(v.xp6(5),v.Q6J("ngForOf",fe.menuItems),v.xp6(4),v.hij("",v.lcZ(10,5,"MENUITEMS.LAYOUTS.TEXT")," "),v.xp6(5),v.Oqu(v.lcZ(15,7,"MENUITEMS.LAYOUTS.LIST.VERTICAL")),v.xp6(3),v.Oqu(v.lcZ(18,9,"MENUITEMS.LAYOUTS.LIST.LIGHTTOPBAR")),v.xp6(3),v.Oqu(v.lcZ(21,11,"MENUITEMS.LAYOUTS.LIST.BOXED")))},dependencies:[li.sg,li.O5,gn.rH,gn.Od,$n]});class di{constructor(){}ngOnInit(){document.body.setAttribute("data-topbar","dark"),document.body.setAttribute("data-layout","horizontal"),document.body.removeAttribute("data-sidebar")}}function ji(Be,Ce){1&Be&&v._UZ(0,"app-vertical")}function pi(Be,Ce){1&Be&&v._UZ(0,"app-horizontal")}(Qn=di).\u0275fac=function(Ce){return new(Ce||Qn)},Qn.\u0275cmp=v.Xpm({type:Qn,selectors:[["app-horizontal"]],decls:8,vars:0,consts:[["id","layout-wrapper"],[1,"main-content"],[1,"page-content"]],template:function(Ce,fe){1&Ce&&(v.TgZ(0,"div",0),v._UZ(1,"app-horizontaltopbar")(2,"app-horizontalnavbar"),v.TgZ(3,"div",1)(4,"div",2),v._UZ(5,"router-outlet"),v.qZA(),v._UZ(6,"app-footer"),v.qZA(),v._UZ(7,"app-rightsidebar"),v.qZA())},dependencies:[vi,z,ce,zn,gn.lC]});class $i{constructor(Ce){this.eventService=Ce}ngOnInit(){document.body.setAttribute("data-bs-theme","light"),this.layoutType=pr,this.eventService.subscribe("changeLayout",Ce=>{this.layoutType=Ce})}isVerticalLayoutRequested(){return this.layoutType===pr}isHorizontalLayoutRequested(){return"horizontal"===this.layoutType}}(xi=$i).\u0275fac=function(Ce){return new(Ce||xi)(v.Y36(ur))},xi.\u0275cmp=v.Xpm({type:xi,selectors:[["app-layout"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(Ce,fe){1&Ce&&(v.YNc(0,ji,1,0,"app-vertical",0),v.YNc(1,pi,1,0,"app-horizontal",0)),2&Ce&&(v.Q6J("ngIf",fe.isVerticalLayoutRequested()),v.xp6(1),v.Q6J("ngIf",fe.isHorizontalLayoutRequested()))},dependencies:[li.O5,le,di]});const Ss=[{path:"account",loadChildren:()=>ue.e(836).then(ue.bind(ue,7836)).then(Be=>Be.AccountModule)},{path:"",component:$i,loadChildren:()=>Promise.resolve().then(ue.bind(ue,1031)).then(Be=>Be.PagesModule),canActivate:[Ki]},{path:"pages",loadChildren:()=>ue.e(426).then(ue.bind(ue,3426)).then(Be=>Be.ExtrapagesModule),canActivate:[Ki]}];class As{}var ss;(wr=As).\u0275fac=function(Ce){return new(Ce||wr)},wr.\u0275mod=v.oAB({type:wr}),wr.\u0275inj=v.cJS({imports:[gn.Bz.forRoot(Ss,{scrollPositionRestoration:"top"}),gn.Bz]});class kr{constructor(){this.title="nazox"}}(ss=kr).\u0275fac=function(Ce){return new(Ce||ss)},ss.\u0275cmp=v.Xpm({type:ss,selectors:[["app-root"]],decls:1,vars:0,template:function(Ce,fe){1&Ce&&v._UZ(0,"router-outlet")},dependencies:[gn.lC]});var gr,gs,zi=ue(9531),Qs=ue(2843),ai=ue(262);class ar{constructor(Ce){this.authenticationService=Ce}intercept(Ce,fe){return fe.handle(Ce).pipe((0,ai.K)(Ue=>(401===Ue.status&&this.authenticationService.logout(),(0,Qs._)(Ue.error.message||Ue.statusText))))}}(gr=ar).\u0275fac=function(Ce){return new(Ce||gr)(v.LFG(cr.$))},gr.\u0275prov=v.Yz7({token:gr,factory:gr.\u0275fac});class cs{constructor(Ce,fe){this.authenticationService=Ce,this.authfackservice=fe}intercept(Ce,fe){if(Ce.url.includes("/login")||Ce.url.includes("/register"))return fe.handle(Ce);const Ue=sessionStorage.getItem("access");return Ue&&(Ce=Ce.clone({setHeaders:{Authorization:`Bearer ${Ue}`}})),fe.handle(Ce)}}(gs=cs).\u0275fac=function(Ce){return new(Ce||gs)(v.LFG(cr.$),v.LFG(Qi.g))},gs.\u0275prov=v.Yz7({token:gs,factory:gs.\u0275fac});var Or=ue(5577),Lo=ue(515);class Ls{constructor(Ce,fe,Ue){this.kind=Ce,this.value=fe,this.error=Ue,this.hasValue="N"===Ce}observe(Ce){return ms(this,Ce)}do(Ce,fe,Ue){const{kind:ut,value:Pt,error:sn}=this;return"N"===ut?Ce?.(Pt):"E"===ut?fe?.(sn):Ue?.()}accept(Ce,fe,Ue){var ut;return(0,je.m)(null===(ut=Ce)||void 0===ut?void 0:ut.next)?this.observe(Ce):this.do(Ce,fe,Ue)}toObservable(){const{kind:Ce,value:fe,error:Ue}=this,ut="N"===Ce?(0,l.of)(fe):"E"===Ce?(0,Qs._)(()=>Ue):"C"===Ce?Lo.E:0;if(!ut)throw new TypeError(`Unexpected notification kind ${Ce}`);return ut}static createNext(Ce){return new Ls("N",Ce)}static createError(Ce){return new Ls("E",void 0,Ce)}static createComplete(){return Ls.completeNotification}}function ms(Be,Ce){var fe,Ue,ut;const{kind:Pt,value:sn,error:wn}=Be;if("string"!=typeof Pt)throw new TypeError('Invalid notification, missing "kind"');"N"===Pt?null===(fe=Ce.next)||void 0===fe||fe.call(Ce,sn):"E"===Pt?null===(Ue=Ce.error)||void 0===Ue||Ue.call(Ce,wn):null===(ut=Ce.complete)||void 0===ut||ut.call(Ce)}Ls.completeNotification=new Ls("C");var Ys,bs,Er=ue(4482),Fs=ue(5403),yo=ue(1005);(Ys=class lr{constructor(){}intercept(Ce,fe){const Ue=JSON.parse(localStorage.getItem("users"))||[{username:"admin",email:"admin@themesdesign.in",password:"123456"}];return(0,l.of)(null).pipe((0,Or.z)(()=>{if(Ce.url.endsWith("/users/authenticate")&&"POST"===Ce.method){const ut=Ue.filter(Pt=>Pt.email===Ce.body.email&&Pt.password===Ce.body.password);if(ut.length){const Pt=ut[0];return(0,l.of)(new He.Zn({status:200,body:{id:Pt.id,email:Pt.email,username:Pt.username,firstName:Pt.firstName,lastName:Pt.lastName,token:"fake-jwt-token"}}))}return(0,Qs._)({error:{message:"Username or password is incorrect"}})}if(Ce.url.endsWith("/users")&&"GET"===Ce.method)return"Bearer fake-jwt-token"===Ce.headers.get("Authorization")?(0,l.of)(new He.Zn({status:200,body:Ue})):(0,Qs._)({status:401,error:{message:"Unauthorised"}});if(Ce.url.match(/\/users\/\d+$/)&&"GET"===Ce.method){if("Bearer fake-jwt-token"===Ce.headers.get("Authorization")){const ut=Ce.url.split("/"),Pt=parseInt(ut[ut.length-1]),sn=Ue.filter(yi=>yi.id===Pt);return(0,l.of)(new He.Zn({status:200,body:sn.length?sn[0]:null}))}return(0,Qs._)({status:401,error:{message:"Unauthorised"}})}if(Ce.url.endsWith("/users/register")&&"POST"===Ce.method){const ut=Ce.body;return Ue.filter(sn=>sn.username===ut.username).length?(0,Qs._)({error:{message:'Username "'+ut.username+'" is already taken'}}):(ut.id=Ue.length+1,Ue.push(ut),localStorage.setItem("users",JSON.stringify(Ue)),(0,l.of)(new He.Zn({status:200})))}if(Ce.url.match(/\/users\/\d+$/)&&"DELETE"===Ce.method){if("Bearer fake-jwt-token"===Ce.headers.get("Authorization")){const ut=Ce.url.split("/"),Pt=parseInt(ut[ut.length-1]);for(let sn=0;sn<Ue.length;sn++)if(Ue[sn].id===Pt){Ue.splice(sn,1),localStorage.setItem("users",JSON.stringify(Ue));break}return(0,l.of)(new He.Zn({status:200}))}return(0,Qs._)({status:401,error:{message:"Unauthorised"}})}return fe.handle(Ce)})).pipe(function _s(){return(0,Er.e)((Be,Ce)=>{Be.subscribe((0,Fs.x)(Ce,fe=>{Ce.next(Ls.createNext(fe))},()=>{Ce.next(Ls.createComplete()),Ce.complete()},fe=>{Ce.next(Ls.createError(fe)),Ce.complete()}))})}()).pipe((0,yo.g)(500)).pipe(function so(){return(0,Er.e)((Be,Ce)=>{Be.subscribe((0,Fs.x)(Ce,fe=>ms(fe,Ce)))})}())}}).\u0275fac=function(Ce){return new(Ce||Ys)},Ys.\u0275prov=v.Yz7({token:Ys,factory:Ys.\u0275fac}),"firebase"===bi.N.defaultauth&&(0,zi.C)(bi.N.firebaseConfig);class Fi{}(bs=Fi).\u0275fac=function(Ce){return new(Ce||bs)},bs.\u0275mod=v.oAB({type:bs,bootstrap:[kr]}),bs.\u0275inj=v.cJS({providers:[{provide:He.TP,useClass:cs,multi:!0},{provide:He.TP,useClass:ar,multi:!0}],imports:[f.b2,He.JF,As,es.PagesModule,ln,Xe.u5,Tn.forRoot({loader:{provide:et,useFactory:function Fo(Be){return new Di(Be,"assets/i18n/",".json")},deps:[He.eN]}})]}),bi.N.production&&(0,v.G48)(),f.q6().bootstrapModule(Fi).catch(Be=>console.error(Be))},3597:(Hn,gt,ue)=>{"use strict";var f;function v(ye,r){var s=Object.keys(ye);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(ye);r&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(ye,p).enumerable})),s.push.apply(s,u)}return s}function He(ye){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?v(Object(s),!0).forEach(function(u){tt(ye,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach(function(u){Object.defineProperty(ye,u,Object.getOwnPropertyDescriptor(s,u))})}return ye}function Xe(ye){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(ye)}function l(ye,r){if(!(ye instanceof r))throw new TypeError("Cannot call a class as a function")}function Qe(ye,r){for(var s=0;s<r.length;s++){var u=r[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(ye,u.key,u)}}function je(ye,r,s){return r&&Qe(ye.prototype,r),s&&Qe(ye,s),ye}function tt(ye,r,s){return r in ye?Object.defineProperty(ye,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):ye[r]=s,ye}function vt(ye,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(r&&r.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),r&&xt(ye,r)}function bt(ye){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(ye)}function xt(ye,r){return(xt=Object.setPrototypeOf||function(s,u){return s.__proto__=u,s})(ye,r)}function Et(ye,r){if(r&&("object"==typeof r||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(ye)}function Jt(ye){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,u=bt(ye);if(r){var p=bt(this).constructor;s=Reflect.construct(u,arguments,p)}else s=u.apply(this,arguments);return Et(this,s)}}function ct(ye,r){return function(s){if(Array.isArray(s))return s}(ye)||function(s,u){var p=null==s?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(null!=p){var y,x,w=[],I=!0,P=!1;try{for(p=p.call(s);!(I=(y=p.next()).done)&&(w.push(y.value),!u||w.length!==u);I=!0);}catch(N){P=!0,x=N}finally{try{I||null==p.return||p.return()}finally{if(P)throw x}}return w}}(ye,r)||on(ye,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(ye){return function(r){if(Array.isArray(r))return At(r)}(ye)||function(r){if(typeof Symbol<"u"&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(ye)||on(ye)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(ye,r){if(ye){if("string"==typeof ye)return At(ye,r);var s=Object.prototype.toString.call(ye).slice(8,-1);return"Object"===s&&ye.constructor&&(s=ye.constructor.name),"Map"===s||"Set"===s?Array.from(ye):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?At(ye,r):void 0}}function At(ye,r){(null==r||r>ye.length)&&(r=ye.length);for(var s=0,u=new Array(r);s<r;s++)u[s]=ye[s];return u}var Ye=function(){function ye(){l(this,ye)}return je(ye,[{key:"shadeRGBColor",value:function(r,s){var u=s.split(","),p=r<0?0:255,y=r<0?-1*r:r,x=parseInt(u[0].slice(4),10),w=parseInt(u[1],10),I=parseInt(u[2],10);return"rgb("+(Math.round((p-x)*y)+x)+","+(Math.round((p-w)*y)+w)+","+(Math.round((p-I)*y)+I)+")"}},{key:"shadeHexColor",value:function(r,s){var u=parseInt(s.slice(1),16),p=r<0?0:255,y=r<0?-1*r:r,x=u>>16,w=u>>8&255,I=255&u;return"#"+(16777216+65536*(Math.round((p-x)*y)+x)+256*(Math.round((p-w)*y)+w)+(Math.round((p-I)*y)+I)).toString(16).slice(1)}},{key:"shadeColor",value:function(r,s){return ye.isColorHex(s)?this.shadeHexColor(r,s):this.shadeRGBColor(r,s)}}],[{key:"bind",value:function(r,s){return function(){return r.apply(s,arguments)}}},{key:"isObject",value:function(r){return r&&"object"===Xe(r)&&!Array.isArray(r)&&null!=r}},{key:"is",value:function(r,s){return Object.prototype.toString.call(s)==="[object "+r+"]"}},{key:"listToArray",value:function(r){var s,u=[];for(s=0;s<r.length;s++)u[s]=r[s];return u}},{key:"extend",value:function(r,s){var u=this;"function"!=typeof Object.assign&&(Object.assign=function(y){if(null==y)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(y),w=1;w<arguments.length;w++){var I=arguments[w];if(null!=I)for(var P in I)I.hasOwnProperty(P)&&(x[P]=I[P])}return x});var p=Object.assign({},r);return this.isObject(r)&&this.isObject(s)&&Object.keys(s).forEach(function(y){u.isObject(s[y])&&y in r?p[y]=u.extend(r[y],s[y]):Object.assign(p,tt({},y,s[y]))}),p}},{key:"extendArray",value:function(r,s){var u=[];return r.map(function(p){u.push(ye.extend(s,p))}),u}},{key:"monthMod",value:function(r){return r%12}},{key:"clone",value:function(r){if(ye.is("Array",r)){for(var s=[],u=0;u<r.length;u++)s[u]=this.clone(r[u]);return s}if(ye.is("Null",r))return null;if(ye.is("Date",r))return r;if("object"===Xe(r)){var p={};for(var y in r)r.hasOwnProperty(y)&&(p[y]=this.clone(r[y]));return p}return r}},{key:"log10",value:function(r){return Math.log(r)/Math.LN10}},{key:"roundToBase10",value:function(r){return Math.pow(10,Math.floor(Math.log10(r)))}},{key:"roundToBase",value:function(r,s){return Math.pow(s,Math.floor(Math.log(r)/Math.log(s)))}},{key:"parseNumber",value:function(r){return null===r?r:parseFloat(r)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(r){var s=String(r).split(/[eE]/);if(1===s.length)return s[0];var u="",p=r<0?"-":"",y=s[0].replace(".",""),x=Number(s[1])+1;if(x<0){for(u=p+"0.";x++;)u+="0";return u+y.replace(/^-/,"")}for(x-=y.length;x--;)u+="0";return y+u}},{key:"getDimensions",value:function(r){var s=getComputedStyle(r,null),u=r.clientHeight,p=r.clientWidth;return u-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),[p-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),u]}},{key:"getBoundingClientRect",value:function(r){var s=r.getBoundingClientRect();return{top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:r.clientWidth,height:r.clientHeight,x:s.left,y:s.top}}},{key:"getLargestStringFromArr",value:function(r){return r.reduce(function(s,u){return Array.isArray(u)&&(u=u.reduce(function(p,y){return p.length>y.length?p:y})),s.length>u.length?s:u},0)}},{key:"hexToRgba",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==r.substring(0,1)&&(r="#999999");var u=r.replace("#","");u=u.match(new RegExp("(.{"+u.length/3+"})","g"));for(var p=0;p<u.length;p++)u[p]=parseInt(1===u[p].length?u[p]+u[p]:u[p],16);return void 0!==s&&u.push(s),"rgba("+u.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(r){return parseFloat(r.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(r){return(r=r.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===r.length?"#"+("0"+parseInt(r[1],10).toString(16)).slice(-2)+("0"+parseInt(r[2],10).toString(16)).slice(-2)+("0"+parseInt(r[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(r){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(r)}},{key:"getPolygonPos",value:function(r,s){for(var u=[],p=2*Math.PI/s,y=0;y<s;y++){var x={};x.x=r*Math.sin(y*p),x.y=-r*Math.cos(y*p),u.push(x)}return u}},{key:"polarToCartesian",value:function(r,s,u,p){var y=(p-90)*Math.PI/180;return{x:r+u*Math.cos(y),y:s+u*Math.sin(y)}}},{key:"escapeString",value:function(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",u=r.toString().slice();return u.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,s)}},{key:"negToZero",value:function(r){return r<0?0:r}},{key:"moveIndexInArray",value:function(r,s,u){if(u>=r.length)for(var p=u-r.length+1;p--;)r.push(void 0);return r.splice(u,0,r.splice(s,1)[0]),r}},{key:"extractNumber",value:function(r){return parseFloat(r.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(r,s){for(;(r=r.parentElement)&&!r.classList.contains(s););return r}},{key:"setELstyles",value:function(r,s){for(var u in s)s.hasOwnProperty(u)&&(r.style.key=s[u])}},{key:"isNumber",value:function(r){return!isNaN(r)&&parseFloat(Number(r))===r&&!isNaN(parseInt(r,10))}},{key:"isFloat",value:function(r){return Number(r)===r&&r%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var r=window.navigator.userAgent,s=r.indexOf("MSIE ");if(s>0)return parseInt(r.substring(s+5,r.indexOf(".",s)),10);if(r.indexOf("Trident/")>0){var u=r.indexOf("rv:");return parseInt(r.substring(u+3,r.indexOf(".",u)),10)}var p=r.indexOf("Edge/");return p>0&&parseInt(r.substring(p+5,r.indexOf(".",p)),10)}}]),ye}(),Ut=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.setEasingFunctions()}return je(ye,[{key:"setEasingFunctions",value:function(){var r;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":r="-";break;case"easein":r="<";break;case"easeout":r=">";break;case"easeinout":default:r="<>";break;case"swing":r=function(s){var u=1.70158;return(s-=1)*s*((u+1)*s+u)+1};break;case"bounce":r=function(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375};break;case"elastic":r=function(s){return s===!!s?s:Math.pow(2,-10*s)*Math.sin((s-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=r}}},{key:"animateLine",value:function(r,s,u,p){r.attr(s).animate(p).attr(u)}},{key:"animateMarker",value:function(r,s,u,p,y,x){s||(s=0),r.attr({r:s,width:s,height:s}).animate(p,y).attr({r:u,width:u.width,height:u.height}).afterAll(function(){x()})}},{key:"animateCircle",value:function(r,s,u,p,y){r.attr({r:s.r,cx:s.cx,cy:s.cy}).animate(p,y).attr({r:u.r,cx:u.cx,cy:u.cy})}},{key:"animateRect",value:function(r,s,u,p,y){r.attr(s).animate(p).attr(u).afterAll(function(){return y()})}},{key:"animatePathsGradually",value:function(r){var N=this.w,F=0;N.config.chart.animations.animateGradually.enabled&&(F=N.config.chart.animations.animateGradually.delay),N.config.chart.animations.dynamicAnimation.enabled&&N.globals.dataChanged&&"bar"!==N.config.chart.type&&(F=0),this.morphSVG(r.el,r.realIndex,r.j,"line"!==N.config.chart.type||N.globals.comboCharts?r.fill:"stroke",r.pathFrom,r.pathTo,r.speed,r.delay*F)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(r){var s=r.el;s.classList.remove("apexcharts-element-hidden"),s.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(r){var s=this.w;s.globals.animationEnded||(s.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof s.config.chart.events.animationEnd&&s.config.chart.events.animationEnd(this.ctx,{el:r,w:s}))}},{key:"morphSVG",value:function(r,s,u,p,y,x,w,I){var P=this,N=this.w;y||(y=r.attr("pathFrom")),x||(x=r.attr("pathTo"));var F=function(z){return"radar"===N.config.chart.type&&(w=1),"M 0 ".concat(N.globals.gridHeight)};(!y||y.indexOf("undefined")>-1||y.indexOf("NaN")>-1)&&(y=F()),(!x||x.indexOf("undefined")>-1||x.indexOf("NaN")>-1)&&(x=F()),N.globals.shouldAnimate||(w=1),r.plot(y).animate(1,N.globals.easing,I).plot(y).animate(w,N.globals.easing,I).plot(x).afterAll(function(){Ye.isNumber(u)?u===N.globals.series[N.globals.maxValsInArrayIndex].length-2&&N.globals.shouldAnimate&&P.animationCompleted(r):"none"!==p&&N.globals.shouldAnimate&&(!N.globals.comboCharts&&s===N.globals.series.length-1||N.globals.comboCharts)&&P.animationCompleted(r),P.showDelayedElements()})}}]),ye}(),un=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"getDefaultFilter",value:function(r,s){var u=this.w;r.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==u.config.states.normal.filter?this.applyFilter(r,s,u.config.states.normal.filter.type,u.config.states.normal.filter.value):u.config.chart.dropShadow.enabled&&this.dropShadow(r,u.config.chart.dropShadow,s)}},{key:"addNormalFilter",value:function(r,s){var u=this.w;u.config.chart.dropShadow.enabled&&!r.node.classList.contains("apexcharts-marker")&&this.dropShadow(r,u.config.chart.dropShadow,s)}},{key:"addLightenFilter",value:function(r,s,u){var p=this,y=this.w,x=u.intensity;r.unfilter(!0),new window.SVG.Filter,r.filter(function(w){var I=y.config.chart.dropShadow;(I.enabled?p.addShadow(w,s,I):w).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:x}})}),r.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(r.filterer.node)}},{key:"addDarkenFilter",value:function(r,s,u){var p=this,y=this.w,x=u.intensity;r.unfilter(!0),new window.SVG.Filter,r.filter(function(w){var I=y.config.chart.dropShadow;(I.enabled?p.addShadow(w,s,I):w).componentTransfer({rgb:{type:"linear",slope:x}})}),r.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(r.filterer.node)}},{key:"applyFilter",value:function(r,s,u){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(u){case"none":this.addNormalFilter(r,s);break;case"lighten":this.addLightenFilter(r,s,{intensity:p});break;case"darken":this.addDarkenFilter(r,s,{intensity:p})}}},{key:"addShadow",value:function(r,s,u){var p=u.blur,y=u.top,x=u.left,w=u.color,I=u.opacity,P=r.flood(Array.isArray(w)?w[s]:w,I).composite(r.sourceAlpha,"in").offset(x,y).gaussianBlur(p).merge(r.source);return r.blend(r.source,P)}},{key:"dropShadow",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,p=s.top,y=s.left,x=s.blur,w=s.color,I=s.opacity,P=s.noUserSpaceOnUse,N=this.w;return r.unfilter(!0),Ye.isIE()&&"radialBar"===N.config.chart.type||(w=Array.isArray(w)?w[u]:w,r.filter(function(F){var z;z=Ye.isSafari()||Ye.isFirefox()||Ye.isIE()?F.flood(w,I).composite(F.sourceAlpha,"in").offset(y,p).gaussianBlur(x):F.flood(w,I).composite(F.sourceAlpha,"in").offset(y,p).gaussianBlur(x).merge(F.source),F.blend(F.source,z)}),P||r.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(r.filterer.node)),r}},{key:"setSelectionFilter",value:function(r,s,u){var p=this.w;if(void 0!==p.globals.selectedDataPoints[s]&&p.globals.selectedDataPoints[s].indexOf(u)>-1){r.node.setAttribute("selected",!0);var y=p.config.states.active.filter;"none"!==y&&this.applyFilter(r,s,y.type,y.value)}}},{key:"_scaleFilterSize",value:function(r){!function(s){for(var u in s)s.hasOwnProperty(u)&&r.setAttribute(u,s[u])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),ye}(),et=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"roundPathCorners",value:function(r,s){function u(ze,Ke,st){var Tt=Ke.x-ze.x,$t=Ke.y-ze.y,zt=Math.sqrt(Tt*Tt+$t*$t);return p(ze,Ke,Math.min(1,st/zt))}function p(ze,Ke,st){return{x:ze.x+(Ke.x-ze.x)*st,y:ze.y+(Ke.y-ze.y)*st}}function y(ze,Ke){ze.length>2&&(ze[ze.length-2]=Ke.x,ze[ze.length-1]=Ke.y)}function x(ze){return{x:parseFloat(ze[ze.length-2]),y:parseFloat(ze[ze.length-1])}}r.indexOf("NaN")>-1&&(r="");var w=r.split(/[,\s]/).reduce(function(ze,Ke){var st=Ke.match("([a-zA-Z])(.+)");return st?(ze.push(st[1]),ze.push(st[2])):ze.push(Ke),ze},[]).reduce(function(ze,Ke){return parseFloat(Ke)==Ke&&ze.length?ze[ze.length-1].push(Ke):ze.push([Ke]),ze},[]),I=[];if(w.length>1){var P=x(w[0]),N=null;"Z"==w[w.length-1][0]&&w[0].length>2&&(w[w.length-1]=N=["L",P.x,P.y]),I.push(w[0]);for(var F=1;F<w.length;F++){var z=I[I.length-1],X=w[F],le=X==N?w[1]:w[F+1];if(le&&z&&z.length>2&&"L"==X[0]&&le.length>2&&"L"==le[0]){var ie,me,Ae=x(z),Ve=x(X),D=x(le);ie=u(Ve,Ae,s),me=u(Ve,D,s),y(X,ie),X.origPoint=Ve,I.push(X);var Z=p(ie,Ve,.5),ce=p(Ve,me,.5),xe=["C",Z.x,Z.y,ce.x,ce.y,me.x,me.y];xe.origPoint=Ve,I.push(xe)}else I.push(X)}if(N){var Pe=x(I[I.length-1]);I.push(["Z"]),y(I[0],Pe)}}else I=w;return I.reduce(function(ze,Ke){return ze+Ke.join(" ")+" "},"")}},{key:"drawLine",value:function(r,s,u,p){var y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:r,y1:s,x2:u,y2:p,stroke:y,"stroke-dasharray":x,"stroke-width":w,"stroke-linecap":I})}},{key:"drawRect",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,P=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,N=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,F=this.w.globals.dom.Paper.rect();return F.attr({x:r,y:s,width:u>0?u:0,height:p>0?p:0,rx:y,ry:y,opacity:w,"stroke-width":null!==I?I:0,stroke:null!==P?P:"none","stroke-dasharray":N}),F.node.setAttribute("fill",x),F}},{key:"drawPolygon",value:function(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(r).attr({fill:p,stroke:s,"stroke-width":u})}},{key:"drawCircle",value:function(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r<0&&(r=0);var u=this.w.globals.dom.Paper.circle(2*r);return null!==s&&u.attr(s),u}},{key:"drawPath",value:function(r){var s=r.d,u=void 0===s?"":s,p=r.stroke,y=void 0===p?"#a8a8a8":p,x=r.strokeWidth,w=void 0===x?1:x,I=r.fill,P=r.fillOpacity,N=void 0===P?1:P,F=r.strokeOpacity,z=void 0===F?1:F,X=r.classes,le=r.strokeLinecap,ie=void 0===le?null:le,me=r.strokeDashArray,Ae=void 0===me?0:me,Ve=this.w;return null===ie&&(ie=Ve.config.stroke.lineCap),(u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u="M 0 ".concat(Ve.globals.gridHeight)),Ve.globals.dom.Paper.path(u).attr({fill:I,"fill-opacity":N,stroke:y,"stroke-opacity":z,"stroke-linecap":ie,"stroke-width":w,"stroke-dasharray":Ae,class:X})}},{key:"group",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=this.w.globals.dom.Paper.group();return null!==r&&s.attr(r),s}},{key:"move",value:function(r,s){return["M",r,s].join(" ")}},{key:"line",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=null;return null===u?p=[" L",r,s].join(" "):"H"===u?p=[" H",r].join(" "):"V"===u&&(p=[" V",s].join(" ")),p}},{key:"curve",value:function(r,s,u,p,y,x){return["C",r,s,u,p,y,x].join(" ")}},{key:"quadraticCurve",value:function(r,s,u,p){return["Q",r,s,u,p].join(" ")}},{key:"arc",value:function(r,s,u,p,y,x,w){var I="A";arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(I="a");var P=[I,r,s,u,p,y,x,w].join(" ");return P}},{key:"renderPaths",value:function(r){var s,u=r.j,p=r.realIndex,y=r.pathFrom,x=r.pathTo,w=r.stroke,I=r.strokeWidth,P=r.strokeLinecap,N=r.fill,F=r.animationDelay,z=r.initialSpeed,X=r.dataChangeSpeed,le=r.className,ie=r.shouldClipToGrid,me=void 0===ie||ie,Ae=r.bindEventsOnPaths,Ve=void 0===Ae||Ae,D=r.drawShadow,Z=void 0===D||D,ce=this.w,xe=new un(this.ctx),Pe=new Ut(this.ctx),ze=this.w.config.chart.animations.enabled,Ke=ze&&this.w.config.chart.animations.dynamicAnimation.enabled,st=!!(ze&&!ce.globals.resized||Ke&&ce.globals.dataChanged&&ce.globals.shouldAnimate);st?s=y:(s=x,ce.globals.animationEnded=!0);var $t,Tt=ce.config.stroke.dashArray;$t=Array.isArray(Tt)?Tt[p]:ce.config.stroke.dashArray;var zt=this.drawPath({d:s,stroke:w,strokeWidth:I,fill:N,fillOpacity:1,classes:le,strokeLinecap:P,strokeDashArray:$t});zt.attr("index",p),me&&zt.attr({"clip-path":"url(#gridRectMask".concat(ce.globals.cuid,")")}),"none"!==ce.config.states.normal.filter.type?xe.getDefaultFilter(zt,p):ce.config.chart.dropShadow.enabled&&Z&&(!ce.config.chart.dropShadow.enabledOnSeries||ce.config.chart.dropShadow.enabledOnSeries&&-1!==ce.config.chart.dropShadow.enabledOnSeries.indexOf(p))&&xe.dropShadow(zt,ce.config.chart.dropShadow,p),Ve&&(zt.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,zt)),zt.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,zt)),zt.node.addEventListener("mousedown",this.pathMouseDown.bind(this,zt))),zt.attr({pathTo:x,pathFrom:y});var zn={el:zt,j:u,realIndex:p,pathFrom:y,pathTo:x,fill:N,strokeWidth:I,delay:F};return!ze||ce.globals.resized||ce.globals.dataChanged?!ce.globals.resized&&ce.globals.dataChanged||Pe.showDelayedElements():Pe.animatePathsGradually(He(He({},zn),{},{speed:z})),ce.globals.dataChanged&&Ke&&st&&Pe.animatePathsGradually(He(He({},zn),{},{speed:X})),zt}},{key:"drawPattern",value:function(r,s,u){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(s,u,function(x){"horizontalLines"===r?x.line(0,0,u,0).stroke({color:p,width:y+1}):"verticalLines"===r?x.line(0,0,0,s).stroke({color:p,width:y+1}):"slantedLines"===r?x.line(0,0,s,u).stroke({color:p,width:y}):"squares"===r?x.rect(s,u).fill("none").stroke({color:p,width:y}):"circles"===r&&x.circle(s).fill("none").stroke({color:p,width:y})})}},{key:"drawGradient",value:function(r,s,u,p,y){var x,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,N=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,F=this.w;s.length<9&&0===s.indexOf("#")&&(s=Ye.hexToRgba(s,p)),u.length<9&&0===u.indexOf("#")&&(u=Ye.hexToRgba(u,y));var z=0,X=1,le=1,ie=null;null!==I&&(z=void 0!==I[0]?I[0]/100:0,X=void 0!==I[1]?I[1]/100:1,le=void 0!==I[2]?I[2]/100:1,ie=void 0!==I[3]?I[3]/100:null);var me=!("donut"!==F.config.chart.type&&"pie"!==F.config.chart.type&&"polarArea"!==F.config.chart.type&&"bubble"!==F.config.chart.type);if(x=F.globals.dom.Paper.gradient(me?"radial":"linear",null===P||0===P.length?function(D){D.at(z,s,p),D.at(X,u,y),D.at(le,u,y),null!==ie&&D.at(ie,s,p)}:function(D){(Array.isArray(P[N])?P[N]:P).forEach(function(Z){D.at(Z.offset/100,Z.color,Z.opacity)})}),me){var Ae=F.globals.gridWidth/2,Ve=F.globals.gridHeight/2;x.attr("bubble"!==F.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:Ae,cy:Ve,r:w}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===r?x.from(0,0).to(0,1):"diagonal"===r?x.from(0,0).to(1,1):"horizontal"===r?x.from(0,1).to(1,1):"diagonal2"===r&&x.from(1,0).to(0,1);return x}},{key:"getTextBasedOnMaxWidth",value:function(r){var s=r.text,u=r.maxWidth,x=this.getTextRects(s,r.fontSize,r.fontFamily),I=Math.floor(u/(x.width/s.length));return u<x.width?s.slice(0,I-3)+"...":s}},{key:"drawText",value:function(r){var s=this,u=r.x,p=r.y,y=r.text,x=r.textAnchor,w=r.fontSize,I=r.fontFamily,P=r.fontWeight,N=r.foreColor,F=r.opacity,z=r.maxWidth,X=r.cssClass,le=void 0===X?"":X,ie=r.isPlainText,me=void 0===ie||ie,Ae=this.w;void 0===y&&(y="");var Ve=y;x||(x="start"),N&&N.length||(N=Ae.config.chart.foreColor),P=P||"regular";var D,Z={maxWidth:z,fontSize:w=w||"11px",fontFamily:I=I||Ae.config.chart.fontFamily};return Array.isArray(y)?D=Ae.globals.dom.Paper.text(function(ce){for(var xe=0;xe<y.length;xe++)Ve=y[xe],z&&(Ve=s.getTextBasedOnMaxWidth(He({text:y[xe]},Z))),0===xe?ce.tspan(Ve):ce.tspan(Ve).newLine()}):(z&&(Ve=this.getTextBasedOnMaxWidth(He({text:y},Z))),D=me?Ae.globals.dom.Paper.plain(y):Ae.globals.dom.Paper.text(function(ce){return ce.tspan(Ve)})),D.attr({x:u,y:p,"text-anchor":x,"dominant-baseline":"auto","font-size":w,"font-family":I,"font-weight":P,fill:N,class:"apexcharts-text "+le}),D.node.style.fontFamily=I,D.node.style.opacity=F,D}},{key:"drawMarker",value:function(r,s,u){r=r||0;var p=u.pSize||0,y=null;if("square"===u.shape||"rect"===u.shape){var x=void 0===u.pRadius?p/2:u.pRadius;null!==s&&p||(p=0,x=0);var w=1.2*p+x,I=this.drawRect(w,w,w,w,x);I.attr({x:r-w/2,y:s-w/2,cx:r,cy:s,class:u.class?u.class:"",fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,stroke:u.pointStrokeColor,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}),y=I}else"circle"!==u.shape&&u.shape||(Ye.isNumber(s)||(p=0,s=0),y=this.drawCircle(p,{cx:r,cy:s,class:u.class?u.class:"",stroke:u.pointStrokeColor,fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}));return y}},{key:"pathMouseEnter",value:function(r,s){var u=this.w,p=new un(this.ctx),y=parseInt(r.node.getAttribute("index"),10),x=parseInt(r.node.getAttribute("j"),10);if("function"==typeof u.config.chart.events.dataPointMouseEnter&&u.config.chart.events.dataPointMouseEnter(s,this.ctx,{seriesIndex:y,dataPointIndex:x,w:u}),this.ctx.events.fireEvent("dataPointMouseEnter",[s,this.ctx,{seriesIndex:y,dataPointIndex:x,w:u}]),("none"===u.config.states.active.filter.type||"true"!==r.node.getAttribute("selected"))&&"none"!==u.config.states.hover.filter.type&&!u.globals.isTouchDevice){var w=u.config.states.hover.filter;p.applyFilter(r,y,w.type,w.value)}}},{key:"pathMouseLeave",value:function(r,s){var u=this.w,p=new un(this.ctx),y=parseInt(r.node.getAttribute("index"),10),x=parseInt(r.node.getAttribute("j"),10);"function"==typeof u.config.chart.events.dataPointMouseLeave&&u.config.chart.events.dataPointMouseLeave(s,this.ctx,{seriesIndex:y,dataPointIndex:x,w:u}),this.ctx.events.fireEvent("dataPointMouseLeave",[s,this.ctx,{seriesIndex:y,dataPointIndex:x,w:u}]),"none"!==u.config.states.active.filter.type&&"true"===r.node.getAttribute("selected")||"none"!==u.config.states.hover.filter.type&&p.getDefaultFilter(r,y)}},{key:"pathMouseDown",value:function(r,s){var u=this.w,p=new un(this.ctx),y=parseInt(r.node.getAttribute("index"),10),x=parseInt(r.node.getAttribute("j"),10),w="false";if("true"===r.node.getAttribute("selected")){if(r.node.setAttribute("selected","false"),u.globals.selectedDataPoints[y].indexOf(x)>-1){var I=u.globals.selectedDataPoints[y].indexOf(x);u.globals.selectedDataPoints[y].splice(I,1)}}else{if(!u.config.states.active.allowMultipleDataPointsSelection&&u.globals.selectedDataPoints.length>0){u.globals.selectedDataPoints=[];var P=u.globals.dom.Paper.select(".apexcharts-series path").members,N=u.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,F=function(le){Array.prototype.forEach.call(le,function(ie){ie.node.setAttribute("selected","false"),p.getDefaultFilter(ie,y)})};F(P),F(N)}r.node.setAttribute("selected","true"),w="true",void 0===u.globals.selectedDataPoints[y]&&(u.globals.selectedDataPoints[y]=[]),u.globals.selectedDataPoints[y].push(x)}if("true"===w){var z=u.config.states.active.filter;if("none"!==z)p.applyFilter(r,y,z.type,z.value);else if("none"!==u.config.states.hover.filter&&!u.globals.isTouchDevice){var X=u.config.states.hover.filter;p.applyFilter(r,y,X.type,X.value)}}else"none"!==u.config.states.active.filter.type&&("none"===u.config.states.hover.filter.type||u.globals.isTouchDevice?p.getDefaultFilter(r,y):p.applyFilter(r,y,(X=u.config.states.hover.filter).type,X.value));"function"==typeof u.config.chart.events.dataPointSelection&&u.config.chart.events.dataPointSelection(s,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:y,dataPointIndex:x,w:u}),s&&this.ctx.events.fireEvent("dataPointSelection",[s,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:y,dataPointIndex:x,w:u}])}},{key:"rotateAroundCenter",value:function(r){var s={};return r&&"function"==typeof r.getBBox&&(s=r.getBBox()),{x:s.x+s.width/2,y:s.y+s.height/2}}},{key:"getTextRects",value:function(r,s,u,p){var y=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],x=this.w,w=this.drawText({x:-200,y:-200,text:r,textAnchor:"start",fontSize:s,fontFamily:u,foreColor:"#fff",opacity:0});p&&w.attr("transform",p),x.globals.dom.Paper.add(w);var I=w.bbox();return y||(I=w.node.getBoundingClientRect()),w.remove(),{width:I.width,height:I.height}}},{key:"placeTextWithEllipsis",value:function(r,s,u){if("function"==typeof r.getComputedTextLength&&(r.textContent=s,s.length>0&&r.getComputedTextLength()>=u/1.1)){for(var p=s.length-3;p>0;p-=3)if(r.getSubStringLength(0,p)<=u/1.1)return void(r.textContent=s.substring(0,p)+"...");r.textContent="."}}}],[{key:"setAttrs",value:function(r,s){for(var u in s)s.hasOwnProperty(u)&&r.setAttribute(u,s[u])}}]),ye}(),jt=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"getStackedSeriesTotals",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=this.w,u=[];if(0===s.globals.series.length)return u;for(var p=0;p<s.globals.series[s.globals.maxValsInArrayIndex].length;p++){for(var y=0,x=0;x<s.globals.series.length;x++)void 0!==s.globals.series[x][p]&&-1===r.indexOf(x)&&(y+=s.globals.series[x][p]);u.push(y)}return u}},{key:"getSeriesTotalByIndex",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===r?this.w.config.series.reduce(function(s,u){return s+u},0):this.w.globals.series[r].reduce(function(s,u){return s+u},0)}},{key:"isSeriesNull",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===r?this.w.config.series.filter(function(s){return null!==s}):this.w.config.series[r].data.filter(function(s){return null!==s})).length}},{key:"seriesHaveSameValues",value:function(r){return this.w.globals.series[r].every(function(s,u,p){return s===p[0]})}},{key:"getCategoryLabels",value:function(r){var s=this.w,u=r.slice();return s.config.xaxis.convertedCatToNumeric&&(u=r.map(function(p,y){return s.config.xaxis.labels.formatter(p-s.globals.minX+1)})),u}},{key:"getLargestSeries",value:function(){var r=this.w;r.globals.maxValsInArrayIndex=r.globals.series.map(function(s){return s.length}).indexOf(Math.max.apply(Math,r.globals.series.map(function(s){return s.length})))}},{key:"getLargestMarkerSize",value:function(){var r=this.w,s=0;return r.globals.markers.size.forEach(function(u){s=Math.max(s,u)}),r.config.markers.discrete&&r.config.markers.discrete.length&&r.config.markers.discrete.forEach(function(u){s=Math.max(s,u.size)}),s>0&&(s+=r.config.markers.hover.sizeOffset+1),r.globals.markers.largestSize=s,s}},{key:"getSeriesTotals",value:function(){var r=this.w;r.globals.seriesTotals=r.globals.series.map(function(s,u){var p=0;if(Array.isArray(s))for(var y=0;y<s.length;y++)p+=s[y];else p+=s;return p})}},{key:"getSeriesTotalsXRange",value:function(r,s){var u=this.w;return u.globals.series.map(function(p,y){for(var x=0,w=0;w<p.length;w++)u.globals.seriesX[y][w]>r&&u.globals.seriesX[y][w]<s&&(x+=p[w]);return x})}},{key:"getPercentSeries",value:function(){var r=this.w;r.globals.seriesPercent=r.globals.series.map(function(s,u){var p=[];if(Array.isArray(s))for(var y=0;y<s.length;y++){var x=r.globals.stackedSeriesTotals[y],w=0;x&&(w=100*s[y]/x),p.push(w)}else{var I=100*s/r.globals.seriesTotals.reduce(function(P,N){return P+N},0);p.push(I)}return p})}},{key:"getCalculatedRatios",value:function(){var r,s,u,p,y=this.w.globals,x=[],w=0,I=[],P=.1,N=0;if(y.yRange=[],y.isMultipleYAxis)for(var F=0;F<y.minYArr.length;F++)y.yRange.push(Math.abs(y.minYArr[F]-y.maxYArr[F])),I.push(0);else y.yRange.push(Math.abs(y.minY-y.maxY));y.xRange=Math.abs(y.maxX-y.minX),y.zRange=Math.abs(y.maxZ-y.minZ);for(var z=0;z<y.yRange.length;z++)x.push(y.yRange[z]/y.gridHeight);if(s=y.xRange/y.gridWidth,u=Math.abs(y.initialMaxX-y.initialMinX)/y.gridWidth,r=y.yRange/y.gridWidth,p=y.xRange/y.gridHeight,(w=y.zRange/y.gridHeight*16)||(w=1),y.minY!==Number.MIN_VALUE&&0!==Math.abs(y.minY)&&(y.hasNegs=!0),y.isMultipleYAxis){I=[];for(var X=0;X<x.length;X++)I.push(-y.minYArr[X]/x[X])}else I.push(-y.minY/x[0]),y.minY!==Number.MIN_VALUE&&0!==Math.abs(y.minY)&&(P=-y.minY/r,N=y.minX/s);return{yRatio:x,invertedYRatio:r,zRatio:w,xRatio:s,initialXRatio:u,invertedXRatio:p,baseLineInvertedY:P,baseLineY:I,baseLineX:N}}},{key:"getLogSeries",value:function(r){var s=this,u=this.w;return u.globals.seriesLog=r.map(function(p,y){return u.config.yaxis[y]&&u.config.yaxis[y].logarithmic?p.map(function(x){return null===x?null:s.getLogVal(u.config.yaxis[y].logBase,x,y)}):p}),u.globals.invalidLogScale?r:u.globals.seriesLog}},{key:"getBaseLog",value:function(r,s){return Math.log(s)/Math.log(r)}},{key:"getLogVal",value:function(r,s,u){if(0===s)return 0;var p=this.w,y=0===p.globals.minYArr[u]?-1:this.getBaseLog(r,p.globals.minYArr[u]),x=(0===p.globals.maxYArr[u]?0:this.getBaseLog(r,p.globals.maxYArr[u]))-y;return s<1?s/x:(this.getBaseLog(r,s)-y)/x}},{key:"getLogYRatios",value:function(r){var s=this,u=this.w,p=this.w.globals;return p.yLogRatio=r.slice(),p.logYRange=p.yRange.map(function(y,x){if(u.config.yaxis[x]&&s.w.config.yaxis[x].logarithmic){var w,I=-Number.MAX_VALUE,P=Number.MIN_VALUE;return p.seriesLog.forEach(function(N,F){N.forEach(function(z){u.config.yaxis[F]&&u.config.yaxis[F].logarithmic&&(I=Math.max(z,I),P=Math.min(z,P))})}),w=Math.pow(p.yRange[x],Math.abs(P-I)/p.yRange[x]),p.yLogRatio[x]=w/p.gridHeight,w}}),p.invalidLogScale?r.slice():p.yLogRatio}}],[{key:"checkComboSeries",value:function(r){var s=!1,u=0,p=0;return r.length&&void 0!==r[0].type&&r.forEach(function(y){"bar"!==y.type&&"column"!==y.type&&"candlestick"!==y.type&&"boxPlot"!==y.type||u++,void 0!==y.type&&p++}),p>0&&(s=!0),{comboBarCount:u,comboCharts:s}}},{key:"extendArrayProps",value:function(r,s,u){return s.yaxis&&(s=r.extendYAxis(s,u)),s.annotations&&(s.annotations.yaxis&&(s=r.extendYAxisAnnotations(s)),s.annotations.xaxis&&(s=r.extendXAxisAnnotations(s)),s.annotations.points&&(s=r.extendPointAnnotations(s))),s}}]),ye}(),fn=function(){function ye(r){l(this,ye),this.w=r.w,this.annoCtx=r}return je(ye,[{key:"setOrientations",value:function(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.w;if("vertical"===r.label.orientation){var p=null!==s?s:0,y=u.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(p,"']"));if(null!==y){var x=y.getBoundingClientRect();y.setAttribute("x",parseFloat(y.getAttribute("x"))-x.height+4),y.setAttribute("y","top"===r.label.position?parseFloat(y.getAttribute("y"))+x.width:parseFloat(y.getAttribute("y"))-x.width);var w=this.annoCtx.graphics.rotateAroundCenter(y),I=w.x,P=w.y;y.setAttribute("transform","rotate(-90 ".concat(I," ").concat(P,")"))}}}},{key:"addBackgroundToAnno",value:function(r,s){var u=this.w;if(!r||void 0===s.label.text||void 0!==s.label.text&&!String(s.label.text).trim())return null;var p=u.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),y=r.getBoundingClientRect(),x=s.label.style.padding.left,w=s.label.style.padding.right,I=s.label.style.padding.top,P=s.label.style.padding.bottom;"vertical"===s.label.orientation&&(I=s.label.style.padding.left,P=s.label.style.padding.right,x=s.label.style.padding.top,w=s.label.style.padding.bottom);var z=this.annoCtx.graphics.drawRect(y.left-p.left-x-u.globals.barPadForNumericAxis,y.top-p.top-I,y.width+x+w,y.height+I+P,s.label.borderRadius,s.label.style.background,1,s.label.borderWidth,s.label.borderColor,0);return s.id&&z.node.classList.add(s.id),z}},{key:"annotationsBackground",value:function(){var r=this,s=this.w,u=function(p,y,x){var w=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(x,"-annotations .apexcharts-").concat(x,"-annotation-label[rel='").concat(y,"']"));if(w){var I=w.parentNode,P=r.addBackgroundToAnno(w,p);P&&(I.insertBefore(P.node,w),p.label.mouseEnter&&P.node.addEventListener("mouseenter",p.label.mouseEnter.bind(r,p)),p.label.mouseLeave&&P.node.addEventListener("mouseleave",p.label.mouseLeave.bind(r,p)),p.label.click&&P.node.addEventListener("click",p.label.click.bind(r,p)))}};s.config.annotations.xaxis.map(function(p,y){u(p,y,"xaxis")}),s.config.annotations.yaxis.map(function(p,y){u(p,y,"yaxis")}),s.config.annotations.points.map(function(p,y){u(p,y,"point")})}},{key:"getY1Y2",value:function(r,s){var u,p="y1"===r?s.y:s.y2,y=this.w;if(this.annoCtx.invertAxis){var x=y.globals.labels.indexOf(p);y.config.xaxis.convertedCatToNumeric&&(x=y.globals.categoryLabels.indexOf(p));var w=y.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(x+1)+")");w&&(u=parseFloat(w.getAttribute("y")))}else{var I;I=y.config.yaxis[s.yAxisIndex].logarithmic?(p=new jt(this.annoCtx.ctx).getLogVal(p,s.yAxisIndex))/y.globals.yLogRatio[s.yAxisIndex]:(p-y.globals.minYArr[s.yAxisIndex])/(y.globals.yRange[s.yAxisIndex]/y.globals.gridHeight),u=y.globals.gridHeight-I,!s.marker||null!=s.y||(u=0),y.config.yaxis[s.yAxisIndex]&&y.config.yaxis[s.yAxisIndex].reversed&&(u=I)}return"string"==typeof p&&p.indexOf("px")>-1&&(u=parseFloat(p)),u}},{key:"getX1X2",value:function(r,s){var u=this.w,p=this.annoCtx.invertAxis?u.globals.minY:u.globals.minX,y=this.annoCtx.invertAxis?u.globals.maxY:u.globals.maxX,x=this.annoCtx.invertAxis?u.globals.yRange[0]:u.globals.xRange,w=(s.x-p)/(x/u.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(w=(y-s.x)/(x/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(w=this.getStringX(s.x));var I=(s.x2-p)/(x/u.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(I=(y-s.x2)/(x/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(I=this.getStringX(s.x2)),null!=s.x||!s.marker||(w=u.globals.gridWidth),"x1"===r&&"string"==typeof s.x&&s.x.indexOf("px")>-1&&(w=parseFloat(s.x)),"x2"===r&&"string"==typeof s.x2&&s.x2.indexOf("px")>-1&&(I=parseFloat(s.x2)),"x1"===r?w:I}},{key:"getStringX",value:function(r){var s=this.w,u=r;s.config.xaxis.convertedCatToNumeric&&s.globals.categoryLabels.length&&(r=s.globals.categoryLabels.indexOf(r)+1);var p=s.globals.labels.indexOf(r),y=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(p+1)+")");return y&&(u=parseFloat(y.getAttribute("x"))),u}}]),ye}(),Fn=function(){function ye(r){l(this,ye),this.w=r.w,this.annoCtx=r,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new fn(this.annoCtx)}return je(ye,[{key:"addXaxisAnnotation",value:function(r,s,u){var p,y=this.w,x=this.helpers.getX1X2("x1",r),w=r.label.text,I=r.strokeDashArray;if(Ye.isNumber(x)){if(null==r.x2){var P=this.annoCtx.graphics.drawLine(x+r.offsetX,0+r.offsetY,x+r.offsetX,y.globals.gridHeight+r.offsetY,r.borderColor,I,r.borderWidth);s.appendChild(P.node),r.id&&P.node.classList.add(r.id)}else{if((p=this.helpers.getX1X2("x2",r))<x){var N=x;x=p,p=N}var F=this.annoCtx.graphics.drawRect(x+r.offsetX,0+r.offsetY,p-x,y.globals.gridHeight+r.offsetY,0,r.fillColor,r.opacity,1,r.borderColor,I);F.node.classList.add("apexcharts-annotation-rect"),F.attr("clip-path","url(#gridRectMask".concat(y.globals.cuid,")")),s.appendChild(F.node),r.id&&F.node.classList.add(r.id)}var z=this.annoCtx.graphics.getTextRects(w,parseFloat(r.label.style.fontSize)),le=this.annoCtx.graphics.drawText({x:x+r.label.offsetX,y:("top"===r.label.position?4:"center"===r.label.position?y.globals.gridHeight/2+("vertical"===r.label.orientation?z.width/2:0):y.globals.gridHeight)+r.label.offsetY-("vertical"===r.label.orientation?"top"===r.label.position?z.width/2-12:-z.width/2:0),text:w,textAnchor:r.label.textAnchor,fontSize:r.label.style.fontSize,fontFamily:r.label.style.fontFamily,fontWeight:r.label.style.fontWeight,foreColor:r.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(r.label.style.cssClass," ").concat(r.id?r.id:"")});le.attr({rel:u}),s.appendChild(le.node),this.annoCtx.helpers.setOrientations(r,u)}}},{key:"drawXAxisAnnotations",value:function(){var r=this,s=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return s.config.annotations.xaxis.map(function(p,y){r.addXaxisAnnotation(p,u.node,y)}),u}}]),ye}(),Qt=function(){function ye(r){l(this,ye),this.w=r.w,this.annoCtx=r,this.helpers=new fn(this.annoCtx)}return je(ye,[{key:"addYaxisAnnotation",value:function(r,s,u){var p,y=this.w,x=r.strokeDashArray,w=this.helpers.getY1Y2("y1",r),I=r.label.text;if(null==r.y2){var P=this.annoCtx.graphics.drawLine(0+r.offsetX,w+r.offsetY,this._getYAxisAnnotationWidth(r),w+r.offsetY,r.borderColor,x,r.borderWidth);s.appendChild(P.node),r.id&&P.node.classList.add(r.id)}else{if((p=this.helpers.getY1Y2("y2",r))>w){var N=w;w=p,p=N}var F=this.annoCtx.graphics.drawRect(0+r.offsetX,p+r.offsetY,this._getYAxisAnnotationWidth(r),w-p,0,r.fillColor,r.opacity,1,r.borderColor,x);F.node.classList.add("apexcharts-annotation-rect"),F.attr("clip-path","url(#gridRectMask".concat(y.globals.cuid,")")),s.appendChild(F.node),r.id&&F.node.classList.add(r.id)}var X=this.annoCtx.graphics.drawText({x:("right"===r.label.position?y.globals.gridWidth:"center"===r.label.position?y.globals.gridWidth/2:0)+r.label.offsetX,y:(p??w)+r.label.offsetY-3,text:I,textAnchor:r.label.textAnchor,fontSize:r.label.style.fontSize,fontFamily:r.label.style.fontFamily,fontWeight:r.label.style.fontWeight,foreColor:r.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(r.label.style.cssClass," ").concat(r.id?r.id:"")});X.attr({rel:u}),s.appendChild(X.node)}},{key:"_getYAxisAnnotationWidth",value:function(r){var s=this.w;return(r.width.indexOf("%")>-1?s.globals.gridWidth*parseInt(r.width,10)/100:parseInt(r.width,10))+r.offsetX}},{key:"drawYAxisAnnotations",value:function(){var r=this,s=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return s.config.annotations.yaxis.map(function(p,y){r.addYaxisAnnotation(p,u.node,y)}),u}}]),ye}(),Nt=function(){function ye(r){l(this,ye),this.w=r.w,this.annoCtx=r,this.helpers=new fn(this.annoCtx)}return je(ye,[{key:"addPointAnnotation",value:function(r,s,u){var p=this.helpers.getX1X2("x1",r),y=this.helpers.getY1Y2("y1",r);if(Ye.isNumber(p)){var x={pSize:r.marker.size,pointStrokeWidth:r.marker.strokeWidth,pointFillColor:r.marker.fillColor,pointStrokeColor:r.marker.strokeColor,shape:r.marker.shape,pRadius:r.marker.radius,class:"apexcharts-point-annotation-marker ".concat(r.marker.cssClass," ").concat(r.id?r.id:"")},w=this.annoCtx.graphics.drawMarker(p+r.marker.offsetX,y+r.marker.offsetY,x);s.appendChild(w.node);var I=r.label.text?r.label.text:"",P=this.annoCtx.graphics.drawText({x:p+r.label.offsetX,y:y+r.label.offsetY-r.marker.size-parseFloat(r.label.style.fontSize)/1.6,text:I,textAnchor:r.label.textAnchor,fontSize:r.label.style.fontSize,fontFamily:r.label.style.fontFamily,fontWeight:r.label.style.fontWeight,foreColor:r.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(r.label.style.cssClass," ").concat(r.id?r.id:"")});if(P.attr({rel:u}),s.appendChild(P.node),r.customSVG.SVG){var N=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+r.customSVG.cssClass});N.attr({transform:"translate(".concat(p+r.customSVG.offsetX,", ").concat(y+r.customSVG.offsetY,")")}),N.node.innerHTML=r.customSVG.SVG,s.appendChild(N.node)}if(r.image.path){var F=r.image.width?r.image.width:20,z=r.image.height?r.image.height:20;w=this.annoCtx.addImage({x:p+r.image.offsetX-F/2,y:y+r.image.offsetY-z/2,width:F,height:z,path:r.image.path,appendTo:".apexcharts-point-annotations"})}r.mouseEnter&&w.node.addEventListener("mouseenter",r.mouseEnter.bind(this,r)),r.mouseLeave&&w.node.addEventListener("mouseleave",r.mouseLeave.bind(this,r)),r.click&&w.node.addEventListener("click",r.click.bind(this,r))}}},{key:"drawPointAnnotations",value:function(){var r=this,s=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return s.config.annotations.points.map(function(p,y){r.addPointAnnotation(p,u.node,y)}),u}}]),ye}(),vn={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Cn=function(){function ye(){l(this,ye),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return je(ye,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[vn],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(r){return new Date(r).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(r){return r}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(r){return r+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(r){return r.globals.seriesTotals.reduce(function(s,u){return s+u},0)/r.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(r){return r}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(r){return r}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(r){return r.globals.seriesTotals.reduce(function(s,u){return s+u},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(r){return null!==r?r:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(r){return r?r+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),ye}(),Bn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.graphics=new et(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new fn(this),this.xAxisAnnotations=new Fn(this),this.yAxisAnnotations=new Qt(this),this.pointsAnnotations=new Nt(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return je(ye,[{key:"drawAxesAnnotations",value:function(){var r=this.w;if(r.globals.axisCharts){for(var s=this.yAxisAnnotations.drawYAxisAnnotations(),u=this.xAxisAnnotations.drawXAxisAnnotations(),p=this.pointsAnnotations.drawPointAnnotations(),y=r.config.chart.animations.enabled,x=[s,u,p],w=[u.node,s.node,p.node],I=0;I<3;I++)r.globals.dom.elGraphical.add(x[I]),!y||r.globals.resized||r.globals.dataChanged||"scatter"!==r.config.chart.type&&"bubble"!==r.config.chart.type&&r.globals.dataPoints>1&&w[I].classList.add("apexcharts-element-hidden"),r.globals.delayedElements.push({el:w[I],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var r=this;this.w.config.annotations.images.map(function(s,u){r.addImage(s,u)})}},{key:"drawTextAnnos",value:function(){var r=this;this.w.config.annotations.texts.map(function(s,u){r.addText(s,u)})}},{key:"addXaxisAnnotation",value:function(r,s,u){this.xAxisAnnotations.addXaxisAnnotation(r,s,u)}},{key:"addYaxisAnnotation",value:function(r,s,u){this.yAxisAnnotations.addYaxisAnnotation(r,s,u)}},{key:"addPointAnnotation",value:function(r,s,u){this.pointsAnnotations.addPointAnnotation(r,s,u)}},{key:"addText",value:function(r,s){var y=r.text,z=r.backgroundColor,X=r.borderWidth,le=r.strokeDashArray,ie=r.borderRadius,me=r.borderColor,Ae=r.appendTo,Ve=void 0===Ae?".apexcharts-annotations":Ae,D=r.paddingLeft,Z=void 0===D?4:D,ce=r.paddingRight,xe=void 0===ce?4:ce,Pe=r.paddingBottom,ze=void 0===Pe?2:Pe,Ke=r.paddingTop,st=void 0===Ke?2:Ke,Tt=this.w,$t=this.graphics.drawText({x:r.x,y:r.y,text:y,textAnchor:r.textAnchor||"start",fontSize:r.fontSize||"12px",fontWeight:r.fontWeight||"regular",fontFamily:r.fontFamily||Tt.config.chart.fontFamily,foreColor:r.foreColor||Tt.config.chart.foreColor,cssClass:r.cssClass}),zt=Tt.globals.dom.baseEl.querySelector(Ve);zt&&zt.appendChild($t.node);var Ht=$t.bbox();if(y){var zn=this.graphics.drawRect(Ht.x-Z,Ht.y-st,Ht.width+Z+xe,Ht.height+ze+st,ie,z||"transparent",1,X,me,le);zt.insertBefore(zn.node,$t.node)}}},{key:"addImage",value:function(r,s){var u=this.w,y=r.x,x=void 0===y?0:y,w=r.y,I=void 0===w?0:w,P=r.width,N=void 0===P?20:P,F=r.height,z=void 0===F?20:F,X=r.appendTo,le=void 0===X?".apexcharts-annotations":X,ie=u.globals.dom.Paper.image(r.path);ie.size(N,z).move(x,I);var me=u.globals.dom.baseEl.querySelector(le);return me&&me.appendChild(ie.node),ie}},{key:"addXaxisAnnotationExternal",value:function(r,s,u){return this.addAnnotationExternal({params:r,pushToMemory:s,context:u,type:"xaxis",contextMethod:u.addXaxisAnnotation}),u}},{key:"addYaxisAnnotationExternal",value:function(r,s,u){return this.addAnnotationExternal({params:r,pushToMemory:s,context:u,type:"yaxis",contextMethod:u.addYaxisAnnotation}),u}},{key:"addPointAnnotationExternal",value:function(r,s,u){return void 0===this.invertAxis&&(this.invertAxis=u.w.globals.isBarHorizontal),this.addAnnotationExternal({params:r,pushToMemory:s,context:u,type:"point",contextMethod:u.addPointAnnotation}),u}},{key:"addAnnotationExternal",value:function(r){var s=r.params,u=r.pushToMemory,p=r.context,y=r.type,x=r.contextMethod,w=p,I=w.w,P=I.globals.dom.baseEl.querySelector(".apexcharts-".concat(y,"-annotations")),N=P.childNodes.length+1,F=new Cn,z=Object.assign({},"xaxis"===y?F.xAxisAnnotation:"yaxis"===y?F.yAxisAnnotation:F.pointAnnotation),X=Ye.extend(z,s);switch(y){case"xaxis":this.addXaxisAnnotation(X,P,N);break;case"yaxis":this.addYaxisAnnotation(X,P,N);break;case"point":this.addPointAnnotation(X,P,N)}var le=I.globals.dom.baseEl.querySelector(".apexcharts-".concat(y,"-annotations .apexcharts-").concat(y,"-annotation-label[rel='").concat(N,"']")),ie=this.helpers.addBackgroundToAnno(le,X);return ie&&P.insertBefore(ie.node,le),u&&I.globals.memory.methodsToExec.push({context:w,id:X.id?X.id:Ye.randomId(),method:x,label:"addAnnotation",params:s}),p}},{key:"clearAnnotations",value:function(r){var s=r.w,u=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");s.globals.memory.methodsToExec.map(function(p,y){"addText"!==p.label&&"addAnnotation"!==p.label||s.globals.memory.methodsToExec.splice(y,1)}),u=Ye.listToArray(u),Array.prototype.forEach.call(u,function(p){for(;p.firstChild;)p.removeChild(p.firstChild)})}},{key:"removeAnnotation",value:function(r,s){var u=r.w,p=u.globals.dom.baseEl.querySelectorAll(".".concat(s));p&&(u.globals.memory.methodsToExec.map(function(y,x){y.id===s&&u.globals.memory.methodsToExec.splice(x,1)}),Array.prototype.forEach.call(p,function(y){y.parentElement.removeChild(y)}))}}]),ye}(),In=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return je(ye,[{key:"isValidDate",value:function(r){return!isNaN(this.parseDate(r))}},{key:"getTimeStamp",value:function(r){return Date.parse(r)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(r).toISOString().substr(0,25)).getTime():new Date(r).getTime():r}},{key:"getDate",value:function(r){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(r).toUTCString()):new Date(r)}},{key:"parseDate",value:function(r){var s=Date.parse(r);if(!isNaN(s))return this.getTimeStamp(r);var u=Date.parse(r.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(u)}},{key:"parseDateWithTimezone",value:function(r){return Date.parse(r.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(r,s){var u=this.w.globals.locale,p=this.w.config.xaxis.labels.datetimeUTC,y=["\0"].concat(Ft(u.months)),x=["\x01"].concat(Ft(u.shortMonths)),w=["\x02"].concat(Ft(u.days)),I=["\x03"].concat(Ft(u.shortDays));function P(ze,Ke){var st=ze+"";for(Ke=Ke||2;st.length<Ke;)st="0"+st;return st}var N=p?r.getUTCFullYear():r.getFullYear();s=(s=(s=s.replace(/(^|[^\\])yyyy+/g,"$1"+N)).replace(/(^|[^\\])yy/g,"$1"+N.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+N);var F=(p?r.getUTCMonth():r.getMonth())+1;s=(s=(s=(s=s.replace(/(^|[^\\])MMMM+/g,"$1"+y[0])).replace(/(^|[^\\])MMM/g,"$1"+x[0])).replace(/(^|[^\\])MM/g,"$1"+P(F))).replace(/(^|[^\\])M/g,"$1"+F);var z=p?r.getUTCDate():r.getDate();s=(s=(s=(s=s.replace(/(^|[^\\])dddd+/g,"$1"+w[0])).replace(/(^|[^\\])ddd/g,"$1"+I[0])).replace(/(^|[^\\])dd/g,"$1"+P(z))).replace(/(^|[^\\])d/g,"$1"+z);var X=p?r.getUTCHours():r.getHours(),le=X>12?X-12:0===X?12:X;s=(s=(s=(s=s.replace(/(^|[^\\])HH+/g,"$1"+P(X))).replace(/(^|[^\\])H/g,"$1"+X)).replace(/(^|[^\\])hh+/g,"$1"+P(le))).replace(/(^|[^\\])h/g,"$1"+le);var ie=p?r.getUTCMinutes():r.getMinutes();s=(s=s.replace(/(^|[^\\])mm+/g,"$1"+P(ie))).replace(/(^|[^\\])m/g,"$1"+ie);var me=p?r.getUTCSeconds():r.getSeconds();s=(s=s.replace(/(^|[^\\])ss+/g,"$1"+P(me))).replace(/(^|[^\\])s/g,"$1"+me);var Ae=p?r.getUTCMilliseconds():r.getMilliseconds();s=s.replace(/(^|[^\\])fff+/g,"$1"+P(Ae,3)),Ae=Math.round(Ae/10),s=s.replace(/(^|[^\\])ff/g,"$1"+P(Ae)),Ae=Math.round(Ae/10);var Ve=X<12?"AM":"PM";s=(s=(s=s.replace(/(^|[^\\])f/g,"$1"+Ae)).replace(/(^|[^\\])TT+/g,"$1"+Ve)).replace(/(^|[^\\])T/g,"$1"+Ve.charAt(0));var D=Ve.toLowerCase();s=(s=s.replace(/(^|[^\\])tt+/g,"$1"+D)).replace(/(^|[^\\])t/g,"$1"+D.charAt(0));var Z=-r.getTimezoneOffset(),ce=p||!Z?"Z":Z>0?"+":"-";if(!p){var xe=(Z=Math.abs(Z))%60;ce+=P(Math.floor(Z/60))+":"+P(xe)}s=s.replace(/(^|[^\\])K/g,"$1"+ce);var Pe=(p?r.getUTCDay():r.getDay())+1;return(s=(s=(s=(s=s.replace(new RegExp(w[0],"g"),w[Pe])).replace(new RegExp(I[0],"g"),I[Pe])).replace(new RegExp(y[0],"g"),y[F])).replace(new RegExp(x[0],"g"),x[F])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(r,s,u){var p=this.w;void 0!==p.config.xaxis.min&&(r=p.config.xaxis.min),void 0!==p.config.xaxis.max&&(s=p.config.xaxis.max);var y=this.getDate(r),x=this.getDate(s),w=this.formatDate(y,"yyyy MM dd HH mm ss fff").split(" "),I=this.formatDate(x,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(w[6],10),maxMillisecond:parseInt(I[6],10),minSecond:parseInt(w[5],10),maxSecond:parseInt(I[5],10),minMinute:parseInt(w[4],10),maxMinute:parseInt(I[4],10),minHour:parseInt(w[3],10),maxHour:parseInt(I[3],10),minDate:parseInt(w[2],10),maxDate:parseInt(I[2],10),minMonth:parseInt(w[1],10)-1,maxMonth:parseInt(I[1],10)-1,minYear:parseInt(w[0],10),maxYear:parseInt(I[0],10)}}},{key:"isLeapYear",value:function(r){return r%4==0&&r%100!=0||r%400==0}},{key:"calculcateLastDaysOfMonth",value:function(r,s,u){return this.determineDaysOfMonths(r,s)-u}},{key:"determineDaysOfYear",value:function(r){var s=365;return this.isLeapYear(r)&&(s=366),s}},{key:"determineRemainingDaysOfYear",value:function(r,s,u){var p=this.daysCntOfYear[s]+u;return s>1&&this.isLeapYear()&&p++,p}},{key:"determineDaysOfMonths",value:function(r,s){var u=30;switch(r=Ye.monthMod(r),!0){case this.months30.indexOf(r)>-1:2===r&&(u=this.isLeapYear(s)?29:28);break;case this.months31.indexOf(r)>-1:default:u=31}return u}}]),ye}(),mn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.tooltipKeyFormat="dd MMM"}return je(ye,[{key:"xLabelFormat",value:function(r,s,u,p){var y=this.w;if("datetime"===y.config.xaxis.type&&void 0===y.config.xaxis.labels.formatter&&void 0===y.config.tooltip.x.formatter){var x=new In(this.ctx);return x.formatDate(x.getDate(s),y.config.tooltip.x.format)}return r(s,u,p)}},{key:"defaultGeneralFormatter",value:function(r){return Array.isArray(r)?r.map(function(s){return s}):r}},{key:"defaultYFormatter",value:function(r,s,u){var p=this.w;return Ye.isNumber(r)&&(r=r.toFixed(0!==p.globals.yValueDecimal?void 0!==s.decimalsInFloat?s.decimalsInFloat:p.globals.yValueDecimal:p.globals.maxYArr[u]-p.globals.minYArr[u]<5?1:0)),r}},{key:"setLabelFormatters",value:function(){var r=this,s=this.w;return s.globals.xaxisTooltipFormatter=function(u){return r.defaultGeneralFormatter(u)},s.globals.ttKeyFormatter=function(u){return r.defaultGeneralFormatter(u)},s.globals.ttZFormatter=function(u){return u},s.globals.legendFormatter=function(u){return r.defaultGeneralFormatter(u)},s.globals.xLabelFormatter=void 0!==s.config.xaxis.labels.formatter?s.config.xaxis.labels.formatter:function(u){if(Ye.isNumber(u)){if(!s.config.xaxis.convertedCatToNumeric&&"numeric"===s.config.xaxis.type){if(Ye.isNumber(s.config.xaxis.decimalsInFloat))return u.toFixed(s.config.xaxis.decimalsInFloat);var p=s.globals.maxX-s.globals.minX;return u.toFixed(p>0&&p<100?1:0)}return u.toFixed(s.globals.isBarHorizontal&&s.globals.maxY-s.globals.minYArr<4?1:0)}return u},s.globals.ttKeyFormatter="function"==typeof s.config.tooltip.x.formatter?s.config.tooltip.x.formatter:s.globals.xLabelFormatter,"function"==typeof s.config.xaxis.tooltip.formatter&&(s.globals.xaxisTooltipFormatter=s.config.xaxis.tooltip.formatter),(Array.isArray(s.config.tooltip.y)||void 0!==s.config.tooltip.y.formatter)&&(s.globals.ttVal=s.config.tooltip.y),void 0!==s.config.tooltip.z.formatter&&(s.globals.ttZFormatter=s.config.tooltip.z.formatter),void 0!==s.config.legend.formatter&&(s.globals.legendFormatter=s.config.legend.formatter),s.config.yaxis.forEach(function(u,p){s.globals.yLabelFormatters[p]=void 0!==u.labels.formatter?u.labels.formatter:function(y){return s.globals.xyCharts?Array.isArray(y)?y.map(function(x){return r.defaultYFormatter(x,u,p)}):r.defaultYFormatter(y,u,p):y}}),s.globals}},{key:"heatmapLabelFormatters",value:function(){var r=this.w;if("heatmap"===r.config.chart.type){r.globals.yAxisScale[0].result=r.globals.seriesNames.slice();var s=r.globals.seriesNames.reduce(function(u,p){return u.length>p.length?u:p},0);r.globals.yAxisScale[0].niceMax=s,r.globals.yAxisScale[0].niceMin=s}}}]),ye}(),mt=function(ye){var r,s=ye.isTimeline,u=ye.ctx,p=ye.seriesIndex,y=ye.dataPointIndex,x=ye.y1,w=ye.y2,I=ye.w,P=I.globals.seriesRangeStart[p][y],N=I.globals.seriesRangeEnd[p][y],F=I.globals.labels[y],z=I.config.series[p].name?I.config.series[p].name:"",X=I.globals.ttKeyFormatter,le=I.config.tooltip.y.title.formatter,ie={w:I,seriesIndex:p,dataPointIndex:y,start:P,end:N};"function"==typeof le&&(z=le(z,ie)),null!==(r=I.config.series[p].data[y])&&void 0!==r&&r.x&&(F=I.config.series[p].data[y].x),s||"datetime"===I.config.xaxis.type&&(F=new mn(u).xLabelFormat(I.globals.ttKeyFormatter,F,F,{i:void 0,dateFormatter:new In(u).formatDate,w:I})),"function"==typeof X&&(F=X(F,ie)),Number.isFinite(x)&&Number.isFinite(w)&&(P=x,N=w);var me="",Ae="",Ve=I.globals.colors[p];if(void 0===I.config.tooltip.x.formatter)if("datetime"===I.config.xaxis.type){var D=new In(u);me=D.formatDate(D.getDate(P),I.config.tooltip.x.format),Ae=D.formatDate(D.getDate(N),I.config.tooltip.x.format)}else me=P,Ae=N;else me=I.config.tooltip.x.formatter(P),Ae=I.config.tooltip.x.formatter(N);return{start:P,end:N,startVal:me,endVal:Ae,ylabel:F,color:Ve,seriesName:z}},Lt=function(ye){var r=ye.color,s=ye.seriesName,u=ye.ylabel,p=ye.start,y=ye.end,x=ye.seriesIndex,w=ye.dataPointIndex,I=ye.ctx.tooltip.tooltipLabels.getFormatters(x);p=I.yLbFormatter(p),y=I.yLbFormatter(y);var P=I.yLbFormatter(ye.w.globals.series[x][w]),N='<span class="value start-value">\n  '.concat(p,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(y,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+r+'">'+(s||"")+'</span></div><div> <span class="category">'+u+": </span> "+(ye.w.globals.comboCharts?"rangeArea"===ye.w.config.series[x].type||"rangeBar"===ye.w.config.series[x].type?N:"<span>".concat(P,"</span>"):N)+" </div></div>"},pt=function(){function ye(r){l(this,ye),this.opts=r}return je(ye,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(r){return this.hideYAxis(),Ye.extend(r,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),He(He({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var r=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){return r._getBoxTooltip(s.w,s.seriesIndex,s.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var r=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){return r._getBoxTooltip(s.w,s.seriesIndex,s.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(r,s){var u=s.seriesIndex,p=s.dataPointIndex,y=s.w,x=function(){return y.globals.seriesRangeEnd[u][p]-y.globals.seriesRangeStart[u][p]};return y.globals.comboCharts?"rangeBar"===y.config.series[u].type||"rangeArea"===y.config.series[u].type?x():r:x()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(r){return r.w.config.plotOptions&&r.w.config.plotOptions.bar&&r.w.config.plotOptions.bar.horizontal?(p=(u=mt(He(He({},s=r),{},{isTimeline:!0}))).color,y=u.seriesName,x=u.ylabel,w=u.startVal,I=u.endVal,Lt(He(He({},s),{},{color:p,seriesName:y,ylabel:x,start:w,end:I}))):function(s){var u=mt(s),p=u.color,y=u.seriesName,x=u.ylabel,w=u.start,I=u.end;return Lt(He(He({},s),{},{color:p,seriesName:y,ylabel:x,start:w,end:I}))}(r);var s,u,p,y,x,w,I}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(r){var s,u;return null!==(s=r.plotOptions.bar)&&void 0!==s&&s.barHeight||(r.plotOptions.bar.barHeight=2),null!==(u=r.plotOptions.bar)&&void 0!==u&&u.columnWidth||(r.plotOptions.bar.columnWidth=2),r}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(r){return p=(u=mt(s=r)).color,y=u.seriesName,x=u.ylabel,w=u.start,I=u.end,Lt(He(He({},s),{},{color:p,seriesName:y,ylabel:x,start:w,end:I}));var s,u,p,y,x,w,I}}}}},{key:"brush",value:function(r){return Ye.extend(r,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(r){r.dataLabels=r.dataLabels||{},r.dataLabels.formatter=r.dataLabels.formatter||void 0;var s=r.dataLabels.formatter;return r.yaxis.forEach(function(u,p){r.yaxis[p].min=0,r.yaxis[p].max=100}),"bar"===r.chart.type&&(r.dataLabels.formatter=s||function(u){return"number"==typeof u&&u?u.toFixed(0)+"%":u}),r}},{key:"stackedBars",value:function(){var r=this.bar();return He(He({},r),{},{plotOptions:He(He({},r.plotOptions),{},{bar:He(He({},r.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(r){return r.xaxis.convertedCatToNumeric=!0,r}},{key:"convertCatToNumericXaxis",value:function(r,s,u){r.xaxis.type="numeric",r.xaxis.labels=r.xaxis.labels||{},r.xaxis.labels.formatter=r.xaxis.labels.formatter||function(x){return Ye.isNumber(x)?Math.floor(x):x};var p=r.xaxis.labels.formatter,y=r.xaxis.categories&&r.xaxis.categories.length?r.xaxis.categories:r.labels;return u&&u.length&&(y=u.map(function(x){return Array.isArray(x)?x:String(x)})),y&&y.length&&(r.xaxis.labels.formatter=function(x){return Ye.isNumber(x)?p(y[Math.floor(x)-1]):p(x)}),r.xaxis.categories=[],r.labels=[],r.xaxis.tickAmount=r.xaxis.tickAmount||"dataPoints",r}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(r){return r.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(r){return r.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(r){return r.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(r){return r},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(r,s,u,p,y){var x=r.globals.seriesCandleO[s][u],w=r.globals.seriesCandleH[s][u],I=r.globals.seriesCandleM[s][u],P=r.globals.seriesCandleL[s][u],N=r.globals.seriesCandleC[s][u];return r.config.series[s].type&&r.config.series[s].type!==y?'<div class="apexcharts-custom-tooltip">\n          '.concat(r.config.series[s].name?r.config.series[s].name:"series-"+(s+1),": <strong>").concat(r.globals.series[s][u],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(r.config.chart.type,'">')+"<div>".concat(p[0],': <span class="value">')+x+"</span></div>"+"<div>".concat(p[1],': <span class="value">')+w+"</span></div>"+(I?"<div>".concat(p[2],': <span class="value">')+I+"</span></div>":"")+"<div>".concat(p[3],': <span class="value">')+P+"</span></div>"+"<div>".concat(p[4],': <span class="value">')+N+"</span></div></div>"}}]),ye}(),Gt=function(){function ye(r){l(this,ye),this.opts=r}return je(ye,[{key:"init",value:function(r){var s=r.responsiveOverride,u=this.opts,p=new Cn,y=new pt(u);this.chartType=u.chart.type,u=this.extendYAxis(u),u=this.extendAnnotations(u);var x=p.init(),w={};if(u&&"object"===Xe(u)){var I,P,N,F,z,X,le,ie,me={};me=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(u.chart.type)?y[u.chart.type]():y.line(),null!==(I=u.plotOptions)&&void 0!==I&&null!==(P=I.bar)&&void 0!==P&&P.isFunnel&&(me=y.funnel()),u.chart.stacked&&"bar"===u.chart.type&&(me=y.stackedBars()),null!==(N=u.chart.brush)&&void 0!==N&&N.enabled&&(me=y.brush(me)),u.chart.stacked&&"100%"===u.chart.stackType&&(u=y.stacked100(u)),null!==(F=u.plotOptions)&&void 0!==F&&null!==(z=F.bar)&&void 0!==z&&z.isDumbbell&&(u=y.dumbbell(u)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(u),u.xaxis=u.xaxis||window.Apex.xaxis||{},s||(u.xaxis.convertedCatToNumeric=!1),(null!==(X=(u=this.checkForCatToNumericXAxis(this.chartType,me,u)).chart.sparkline)&&void 0!==X&&X.enabled||null!==(le=window.Apex.chart)&&void 0!==le&&null!==(ie=le.sparkline)&&void 0!==ie&&ie.enabled)&&(me=y.sparkline(me)),w=Ye.extend(x,me)}var Ae=Ye.extend(w,window.Apex);return x=Ye.extend(Ae,u),this.handleUserInputErrors(x)}},{key:"checkForCatToNumericXAxis",value:function(r,s,u){var p,y,x=new pt(u);return("bar"===r||"boxPlot"===r)&&(null===(p=u.plotOptions)||void 0===p||null===(y=p.bar)||void 0===y?void 0:y.horizontal)||"pie"===r||"polarArea"===r||"donut"===r||"radar"===r||"radialBar"===r||"heatmap"===r||!("datetime"!==u.xaxis.type&&"numeric"!==u.xaxis.type)||"between"===(u.xaxis.tickPlacement?u.xaxis.tickPlacement:s.xaxis&&s.xaxis.tickPlacement)||(u=x.convertCatToNumeric(u)),u}},{key:"extendYAxis",value:function(r,s){var u=new Cn;(void 0===r.yaxis||!r.yaxis||Array.isArray(r.yaxis)&&0===r.yaxis.length)&&(r.yaxis={}),r.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(r.yaxis=Ye.extend(r.yaxis,window.Apex.yaxis)),r.yaxis=r.yaxis.constructor!==Array?[Ye.extend(u.yAxis,r.yaxis)]:Ye.extendArray(r.yaxis,u.yAxis);var p=!1;r.yaxis.forEach(function(x){x.logarithmic&&(p=!0)});var y=r.series;return s&&!y&&(y=s.config.series),p&&y.length!==r.yaxis.length&&y.length&&(r.yaxis=y.map(function(x,w){if(x.name||(y[w].name="series-".concat(w+1)),r.yaxis[w])return r.yaxis[w].seriesName=y[w].name,r.yaxis[w];var I=Ye.extend(u.yAxis,r.yaxis[0]);return I.show=!1,I})),p&&y.length>1&&y.length!==r.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),r}},{key:"extendAnnotations",value:function(r){return void 0===r.annotations&&(r.annotations={},r.annotations.yaxis=[],r.annotations.xaxis=[],r.annotations.points=[]),r=this.extendYAxisAnnotations(r),r=this.extendXAxisAnnotations(r),this.extendPointAnnotations(r)}},{key:"extendYAxisAnnotations",value:function(r){var s=new Cn;return r.annotations.yaxis=Ye.extendArray(void 0!==r.annotations.yaxis?r.annotations.yaxis:[],s.yAxisAnnotation),r}},{key:"extendXAxisAnnotations",value:function(r){var s=new Cn;return r.annotations.xaxis=Ye.extendArray(void 0!==r.annotations.xaxis?r.annotations.xaxis:[],s.xAxisAnnotation),r}},{key:"extendPointAnnotations",value:function(r){var s=new Cn;return r.annotations.points=Ye.extendArray(void 0!==r.annotations.points?r.annotations.points:[],s.pointAnnotation),r}},{key:"checkForDarkTheme",value:function(r){r.theme&&"dark"===r.theme.mode&&(r.tooltip||(r.tooltip={}),"light"!==r.tooltip.theme&&(r.tooltip.theme="dark"),r.chart.foreColor||(r.chart.foreColor="#f6f7f8"),r.chart.background||(r.chart.background="#424242"),r.theme.palette||(r.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(r){var s=r;if(s.tooltip.shared&&s.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===s.chart.type&&s.plotOptions.bar.horizontal){if(s.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");s.yaxis[0].reversed&&(s.yaxis[0].opposite=!0),s.xaxis.tooltip.enabled=!1,s.yaxis[0].tooltip.enabled=!1,s.chart.zoom.enabled=!1}return"bar"!==s.chart.type&&"rangeBar"!==s.chart.type||s.tooltip.shared&&"barWidth"===s.xaxis.crosshairs.width&&s.series.length>1&&(s.xaxis.crosshairs.width="tickWidth"),"candlestick"!==s.chart.type&&"boxPlot"!==s.chart.type||s.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(s.chart.type," chart is not supported.")),s.yaxis[0].reversed=!1),s}}]),ye}(),pn=function(){function ye(){l(this,ye)}return je(ye,[{key:"initGlobalVars",value:function(r){r.series=[],r.seriesCandleO=[],r.seriesCandleH=[],r.seriesCandleM=[],r.seriesCandleL=[],r.seriesCandleC=[],r.seriesRangeStart=[],r.seriesRangeEnd=[],r.seriesRange=[],r.seriesPercent=[],r.seriesGoals=[],r.seriesX=[],r.seriesZ=[],r.seriesNames=[],r.seriesTotals=[],r.seriesLog=[],r.seriesColors=[],r.stackedSeriesTotals=[],r.seriesXvalues=[],r.seriesYvalues=[],r.labels=[],r.hasXaxisGroups=!1,r.groups=[],r.hasSeriesGroups=!1,r.seriesGroups=[],r.categoryLabels=[],r.timescaleLabels=[],r.noLabelsProvided=!1,r.resizeTimer=null,r.selectionResizeTimer=null,r.delayedElements=[],r.pointsArray=[],r.dataLabelsRects=[],r.isXNumeric=!1,r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1,r.isDataXYZ=!1,r.isMultiLineX=!1,r.isMultipleYAxis=!1,r.maxY=-Number.MAX_VALUE,r.minY=Number.MIN_VALUE,r.minYArr=[],r.maxYArr=[],r.maxX=-Number.MAX_VALUE,r.minX=Number.MAX_VALUE,r.initialMaxX=-Number.MAX_VALUE,r.initialMinX=Number.MAX_VALUE,r.maxDate=0,r.minDate=Number.MAX_VALUE,r.minZ=Number.MAX_VALUE,r.maxZ=-Number.MAX_VALUE,r.minXDiff=Number.MAX_VALUE,r.yAxisScale=[],r.xAxisScale=null,r.xAxisTicksPositions=[],r.yLabelsCoords=[],r.yTitleCoords=[],r.barPadForNumericAxis=0,r.padHorizontal=0,r.xRange=0,r.yRange=[],r.zRange=0,r.dataPoints=0,r.xTickAmount=0}},{key:"globalVars",value:function(r){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:r.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===r.chart.toolbar.autoSelected&&r.chart.toolbar.tools.zoom&&r.chart.zoom.enabled,panEnabled:"pan"===r.chart.toolbar.autoSelected&&r.chart.toolbar.tools.pan,selectionEnabled:"selection"===r.chart.toolbar.autoSelected&&r.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(r){var s=this.globalVars(r);return this.initGlobalVars(s),s.initialConfig=Ye.extend({},r),s.initialSeries=Ye.clone(r.series),s.lastXAxis=Ye.clone(s.initialConfig.xaxis),s.lastYAxis=Ye.clone(s.initialConfig.yaxis),s}}]),ye}(),en=function(){function ye(r){l(this,ye),this.opts=r}return je(ye,[{key:"init",value:function(){var r=new Gt(this.opts).init({responsiveOverride:!1});return{config:r,globals:(new pn).init(r)}}}]),ye}(),rn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.opts=null,this.seriesIndex=0}return je(ye,[{key:"clippedImgArea",value:function(r){var s=this.w,u=s.config,p=parseInt(s.globals.gridWidth,10),y=parseInt(s.globals.gridHeight,10),x=p>y?p:y,w=r.image,I=0,P=0;void 0===r.width&&void 0===r.height?void 0!==u.fill.image.width&&void 0!==u.fill.image.height?(I=u.fill.image.width+1,P=u.fill.image.height):(I=x+1,P=x):(I=r.width,P=r.height);var N=document.createElementNS(s.globals.SVGNS,"pattern");et.setAttrs(N,{id:r.patternID,patternUnits:r.patternUnits?r.patternUnits:"userSpaceOnUse",width:I+"px",height:P+"px"});var F=document.createElementNS(s.globals.SVGNS,"image");N.appendChild(F),F.setAttributeNS(window.SVG.xlink,"href",w),et.setAttrs(F,{x:0,y:0,preserveAspectRatio:"none",width:I+"px",height:P+"px"}),F.style.opacity=r.opacity,s.globals.dom.elDefs.node.appendChild(N)}},{key:"getSeriesIndex",value:function(r){var s=this.w,u=s.config.chart.type;return this.seriesIndex=("bar"===u||"rangeBar"===u)&&s.config.plotOptions.bar.distributed||"heatmap"===u||"treemap"===u?r.seriesNumber:r.seriesNumber%s.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(r){var s=this.w;this.opts=r;var u,p,y,x=this.w.config;this.seriesIndex=this.getSeriesIndex(r);var w=this.getFillColors()[this.seriesIndex];void 0!==s.globals.seriesColors[this.seriesIndex]&&(w=s.globals.seriesColors[this.seriesIndex]),"function"==typeof w&&(w=w({seriesIndex:this.seriesIndex,dataPointIndex:r.dataPointIndex,value:r.value,w:s}));var I=r.fillType?r.fillType:this.getFillType(this.seriesIndex),P=Array.isArray(x.fill.opacity)?x.fill.opacity[this.seriesIndex]:x.fill.opacity;r.color&&(w=r.color);var N=w;if(-1===w.indexOf("rgb")?w.length<9&&(N=Ye.hexToRgba(w,P)):w.indexOf("rgba")>-1&&(P=Ye.getOpacityFromRGBA(w)),r.opacity&&(P=r.opacity),"pattern"===I&&(p=this.handlePatternFill({fillConfig:r.fillConfig,patternFill:p,fillColor:w,fillOpacity:P,defaultColor:N})),"gradient"===I&&(y=this.handleGradientFill({fillConfig:r.fillConfig,fillColor:w,fillOpacity:P,i:this.seriesIndex})),"image"===I){var F=x.fill.image.src,z=r.patternID?r.patternID:"";this.clippedImgArea({opacity:P,image:Array.isArray(F)?r.seriesNumber<F.length?F[r.seriesNumber]:F[0]:F,width:r.width?r.width:void 0,height:r.height?r.height:void 0,patternUnits:r.patternUnits,patternID:"pattern".concat(s.globals.cuid).concat(r.seriesNumber+1).concat(z)}),u="url(#pattern".concat(s.globals.cuid).concat(r.seriesNumber+1).concat(z,")")}else u="gradient"===I?y:"pattern"===I?p:N;return r.solid&&(u=N),u}},{key:"getFillType",value:function(r){var s=this.w;return Array.isArray(s.config.fill.type)?s.config.fill.type[r]:s.config.fill.type}},{key:"getFillColors",value:function(){var r=this.w,s=r.config,u=this.opts,p=[];return r.globals.comboCharts?"line"===r.config.series[this.seriesIndex].type?Array.isArray(r.globals.stroke.colors)?p=r.globals.stroke.colors:p.push(r.globals.stroke.colors):Array.isArray(r.globals.fill.colors)?p=r.globals.fill.colors:p.push(r.globals.fill.colors):"line"===s.chart.type?Array.isArray(r.globals.stroke.colors)?p=r.globals.stroke.colors:p.push(r.globals.stroke.colors):Array.isArray(r.globals.fill.colors)?p=r.globals.fill.colors:p.push(r.globals.fill.colors),void 0!==u.fillColors&&(p=[],Array.isArray(u.fillColors)?p=u.fillColors.slice():p.push(u.fillColors)),p}},{key:"handlePatternFill",value:function(r){var s=r.fillConfig,p=r.fillColor,y=r.fillOpacity,x=r.defaultColor,w=this.w.config.fill;s&&(w=s);var I=this.opts,P=new et(this.ctx),N=Array.isArray(w.pattern.strokeWidth)?w.pattern.strokeWidth[this.seriesIndex]:w.pattern.strokeWidth,F=p;return Array.isArray(w.pattern.style)?void 0!==w.pattern.style[I.seriesNumber]?P.drawPattern(w.pattern.style[I.seriesNumber],w.pattern.width,w.pattern.height,F,N,y):x:P.drawPattern(w.pattern.style,w.pattern.width,w.pattern.height,F,N,y)}},{key:"handleGradientFill",value:function(r){var s=r.fillColor,u=r.fillOpacity,p=r.fillConfig,y=r.i,x=this.w.config.fill;p&&(x=He(He({},x),p));var w,I=this.opts,P=new et(this.ctx),N=new Ye,F=x.gradient.type,z=s,X=void 0===x.gradient.opacityFrom?u:Array.isArray(x.gradient.opacityFrom)?x.gradient.opacityFrom[y]:x.gradient.opacityFrom;z.indexOf("rgba")>-1&&(X=Ye.getOpacityFromRGBA(z));var le=void 0===x.gradient.opacityTo?u:Array.isArray(x.gradient.opacityTo)?x.gradient.opacityTo[y]:x.gradient.opacityTo;if(void 0===x.gradient.gradientToColors||0===x.gradient.gradientToColors.length)w=N.shadeColor("dark"===x.gradient.shade?-1*parseFloat(x.gradient.shadeIntensity):parseFloat(x.gradient.shadeIntensity),s.indexOf("rgb")>-1?Ye.rgb2hex(s):s);else if(x.gradient.gradientToColors[I.seriesNumber]){var ie=x.gradient.gradientToColors[I.seriesNumber];w=ie,ie.indexOf("rgba")>-1&&(le=Ye.getOpacityFromRGBA(ie))}else w=s;if(x.gradient.gradientFrom&&(z=x.gradient.gradientFrom),x.gradient.gradientTo&&(w=x.gradient.gradientTo),x.gradient.inverseColors){var me=z;z=w,w=me}return z.indexOf("rgb")>-1&&(z=Ye.rgb2hex(z)),w.indexOf("rgb")>-1&&(w=Ye.rgb2hex(w)),P.drawGradient(F,z,w,X,le,I.size,x.gradient.stops,x.gradient.colorStops,y)}}]),ye}(),Dt=function(){function ye(r,s){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"setGlobalMarkerSize",value:function(){var r=this.w;if(r.globals.markers.size=Array.isArray(r.config.markers.size)?r.config.markers.size:[r.config.markers.size],r.globals.markers.size.length>0){if(r.globals.markers.size.length<r.globals.series.length+1)for(var s=0;s<=r.globals.series.length;s++)void 0===r.globals.markers.size[s]&&r.globals.markers.size.push(r.globals.markers.size[0])}else r.globals.markers.size=r.config.series.map(function(u){return r.config.markers.size})}},{key:"plotChartMarkers",value:function(r,s,u,p){var y,x=arguments.length>4&&void 0!==arguments[4]&&arguments[4],w=this.w,I=s,P=r,N=null,F=new et(this.ctx),z=w.config.markers.discrete&&w.config.markers.discrete.length;if((w.globals.markers.size[s]>0||x||z)&&(N=F.group({class:x||z?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(w.globals.cuid,")")),Array.isArray(P.x))for(var X=0;X<P.x.length;X++){var le=u;1===u&&0===X&&(le=0),1===u&&1===X&&(le=1);var ie="apexcharts-marker";if("line"!==w.config.chart.type&&"area"!==w.config.chart.type||w.globals.comboCharts||w.config.tooltip.intersect||(ie+=" no-pointer-events"),(Array.isArray(w.config.markers.size)?w.globals.markers.size[s]>0:w.config.markers.size>0)||x||z){Ye.isNumber(P.y[X])?ie+=" w".concat(Ye.randomId()):ie="apexcharts-nullpoint";var me=this.getMarkerConfig({cssClass:ie,seriesIndex:s,dataPointIndex:le});w.config.series[I].data[le]&&(w.config.series[I].data[le].fillColor&&(me.pointFillColor=w.config.series[I].data[le].fillColor),w.config.series[I].data[le].strokeColor&&(me.pointStrokeColor=w.config.series[I].data[le].strokeColor)),p&&(me.pSize=p),(P.x[X]<0||P.x[X]>w.globals.gridWidth||P.y[X]<0||P.y[X]>w.globals.gridHeight)&&(me.pSize=0),(y=F.drawMarker(P.x[X],P.y[X],me)).attr("rel",le),y.attr("j",le),y.attr("index",s),y.node.setAttribute("default-marker-size",me.pSize),new un(this.ctx).setSelectionFilter(y,s,le),this.addEvents(y),N&&N.add(y)}else void 0===w.globals.pointsArray[s]&&(w.globals.pointsArray[s]=[]),w.globals.pointsArray[s].push([P.x[X],P.y[X]])}return N}},{key:"getMarkerConfig",value:function(r){var s=r.cssClass,u=r.seriesIndex,p=r.dataPointIndex,y=void 0===p?null:p,x=r.finishRadius,w=void 0===x?null:x,I=this.w,P=this.getMarkerStyle(u),N=I.globals.markers.size[u],F=I.config.markers;return null!==y&&F.discrete.length&&F.discrete.map(function(z){z.seriesIndex===u&&z.dataPointIndex===y&&(P.pointStrokeColor=z.strokeColor,P.pointFillColor=z.fillColor,N=z.size,P.pointShape=z.shape)}),{pSize:null===w?N:w,pRadius:F.radius,width:Array.isArray(F.width)?F.width[u]:F.width,height:Array.isArray(F.height)?F.height[u]:F.height,pointStrokeWidth:Array.isArray(F.strokeWidth)?F.strokeWidth[u]:F.strokeWidth,pointStrokeColor:P.pointStrokeColor,pointFillColor:P.pointFillColor,shape:P.pointShape||(Array.isArray(F.shape)?F.shape[u]:F.shape),class:s,pointStrokeOpacity:Array.isArray(F.strokeOpacity)?F.strokeOpacity[u]:F.strokeOpacity,pointStrokeDashArray:Array.isArray(F.strokeDashArray)?F.strokeDashArray[u]:F.strokeDashArray,pointFillOpacity:Array.isArray(F.fillOpacity)?F.fillOpacity[u]:F.fillOpacity,seriesIndex:u}}},{key:"addEvents",value:function(r){var s=this.w,u=new et(this.ctx);r.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this.ctx,r)),r.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this.ctx,r)),r.node.addEventListener("mousedown",u.pathMouseDown.bind(this.ctx,r)),r.node.addEventListener("click",s.config.markers.onClick),r.node.addEventListener("dblclick",s.config.markers.onDblClick),r.node.addEventListener("touchstart",u.pathMouseDown.bind(this.ctx,r),{passive:!0})}},{key:"getMarkerStyle",value:function(r){var s=this.w,u=s.globals.markers.colors,p=s.config.markers.strokeColor||s.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(p)?p[r]:p,pointFillColor:Array.isArray(u)?u[r]:u}}}]),ye}(),$n=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return je(ye,[{key:"draw",value:function(r,s,u){var p=this.w,y=new et(this.ctx),x=u.realIndex,w=u.pointsPos,I=u.zRatio,P=u.elParent,N=y.group({class:"apexcharts-series-markers apexcharts-series-".concat(p.config.chart.type)});if(N.attr("clip-path","url(#gridRectMarkerMask".concat(p.globals.cuid,")")),Array.isArray(w.x))for(var F=0;F<w.x.length;F++){var z=s+1,X=!0;0===s&&0===F&&(z=0),0===s&&1===F&&(z=1);var le=0,ie=p.globals.markers.size[x];if(I!==1/0){var me=p.config.plotOptions.bubble;ie=p.globals.seriesZ[x][z],me.zScaling&&(ie/=I),me.minBubbleRadius&&ie<me.minBubbleRadius&&(ie=me.minBubbleRadius),me.maxBubbleRadius&&ie>me.maxBubbleRadius&&(ie=me.maxBubbleRadius)}p.config.chart.animations.enabled||(le=ie);var Ve=w.y[F];if(le=le||0,null!==Ve&&void 0!==p.globals.series[x][z]||(X=!1),X){var D=this.drawPoint(w.x[F],Ve,le,ie,x,z,s);N.add(D)}P.add(N)}}},{key:"drawPoint",value:function(r,s,u,p,y,x,w){var I=this.w,P=y,N=new Ut(this.ctx),F=new un(this.ctx),z=new rn(this.ctx),X=new Dt(this.ctx),le=new et(this.ctx),ie=X.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:P,dataPointIndex:x,finishRadius:"bubble"===I.config.chart.type||I.globals.comboCharts&&I.config.series[y]&&"bubble"===I.config.series[y].type?p:null});p=ie.pSize;var me,Ae=z.fillPath({seriesNumber:y,dataPointIndex:x,color:ie.pointFillColor,patternUnits:"objectBoundingBox",value:I.globals.series[y][w]});if("circle"===ie.shape?me=le.drawCircle(u):"square"!==ie.shape&&"rect"!==ie.shape||(me=le.drawRect(0,0,ie.width-ie.pointStrokeWidth/2,ie.height-ie.pointStrokeWidth/2,ie.pRadius)),I.config.series[P].data[x]&&I.config.series[P].data[x].fillColor&&(Ae=I.config.series[P].data[x].fillColor),me.attr({x:r-ie.width/2-ie.pointStrokeWidth/2,y:s-ie.height/2-ie.pointStrokeWidth/2,cx:r,cy:s,fill:Ae,"fill-opacity":ie.pointFillOpacity,stroke:ie.pointStrokeColor,r:p,"stroke-width":ie.pointStrokeWidth,"stroke-dasharray":ie.pointStrokeDashArray,"stroke-opacity":ie.pointStrokeOpacity}),I.config.chart.dropShadow.enabled&&F.dropShadow(me,I.config.chart.dropShadow,y),!this.initialAnim||I.globals.dataChanged||I.globals.resized?I.globals.animationEnded=!0:N.animateMarker(me,0,"circle"===ie.shape?p:{width:ie.width,height:ie.height},I.config.chart.animations.speed,I.globals.easing,function(){window.setTimeout(function(){N.animationCompleted(me)},100)}),I.globals.dataChanged&&"circle"===ie.shape)if(this.dynamicAnim){var Z,ce,xe,Pe,ze=I.config.chart.animations.dynamicAnimation.speed;null!=(Pe=I.globals.previousPaths[y]&&I.globals.previousPaths[y][w])&&(Z=Pe.x,ce=Pe.y,xe=void 0!==Pe.r?Pe.r:p);for(var Ke=0;Ke<I.globals.collapsedSeries.length;Ke++)I.globals.collapsedSeries[Ke].index===y&&(ze=1,p=0);0===r&&0===s&&(p=0),N.animateCircle(me,{cx:Z,cy:ce,r:xe},{cx:r,cy:s,r:p},ze,I.globals.easing)}else me.attr({r:p});return me.attr({rel:x,j:x,index:y,"default-marker-size":p}),F.setSelectionFilter(me,y,x),X.addEvents(me),me.node.classList.add("apexcharts-marker"),me}},{key:"centerTextInBubble",value:function(r){return{y:r+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),ye}(),Tn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"dataLabelsCorrection",value:function(r,s,u,p,y,x,w){var I=this.w,P=!1,N=new et(this.ctx).getTextRects(u,w),F=N.width,z=N.height;if(s<0&&(s=0),s>I.globals.gridHeight+z&&(s=I.globals.gridHeight+z/2),void 0===I.globals.dataLabelsRects[p]&&(I.globals.dataLabelsRects[p]=[]),I.globals.dataLabelsRects[p].push({x:r,y:s,width:F,height:z}),void 0!==I.globals.dataLabelsRects[p][I.globals.dataLabelsRects[p].length-2]){var ie=I.globals.dataLabelsRects[p][void 0!==I.globals.lastDrawnDataLabelsIndexes[p]?I.globals.lastDrawnDataLabelsIndexes[p][I.globals.lastDrawnDataLabelsIndexes[p].length-1]:0];(r>ie.x+ie.width+2||s>ie.y+ie.height+2||r+F<ie.x)&&(P=!0)}return(0===y||x)&&(P=!0),{x:r,y:s,textRects:N,drawnextLabel:P}}},{key:"drawDataLabel",value:function(r){var s=this,u=r.type,p=r.pos,y=r.i,x=r.j,w=r.isRangeStart,I=r.strokeWidth,P=void 0===I?2:I,N=this.w,F=new et(this.ctx),z=N.config.dataLabels,X=0,le=0,ie=x,me=null;if(!z.enabled||!Array.isArray(p.x))return me;me=F.group({class:"apexcharts-data-labels"});for(var Ae=0;Ae<p.x.length;Ae++)if(X=p.x[Ae]+z.offsetX,le=p.y[Ae]+z.offsetY+P,!isNaN(X)){1===x&&0===Ae&&(ie=0),1===x&&1===Ae&&(ie=1);var Ve=N.globals.series[y][ie];"rangeArea"===u&&(Ve=w?N.globals.seriesRangeStart[y][ie]:N.globals.seriesRangeEnd[y][ie]);var D="",Z=function(ce){return N.config.dataLabels.formatter(ce,{ctx:s.ctx,seriesIndex:y,dataPointIndex:ie,w:N})};"bubble"===N.config.chart.type?(D=Z(Ve=N.globals.seriesZ[y][ie]),le=p.y[Ae],le=new $n(this.ctx).centerTextInBubble(le,y,ie).y):void 0!==Ve&&(D=Z(Ve)),this.plotDataLabelsText({x:X,y:le,text:D,i:y,j:ie,parent:me,offsetCorrection:!0,dataLabelsConfig:N.config.dataLabels})}return me}},{key:"plotDataLabelsText",value:function(r){var s=this.w,u=new et(this.ctx),p=r.x,y=r.y,x=r.i,w=r.j,I=r.text,P=r.textAnchor,N=r.fontSize,F=r.parent,z=r.dataLabelsConfig,X=r.color,le=r.alwaysDrawDataLabel,ie=r.offsetCorrection;if(!(Array.isArray(s.config.dataLabels.enabledOnSeries)&&s.config.dataLabels.enabledOnSeries.indexOf(x)<0)){var me={x:p,y,drawnextLabel:!0,textRects:null};ie&&(me=this.dataLabelsCorrection(p,y,I,x,w,le,parseInt(z.style.fontSize,10))),s.globals.zoomed||(p=me.x,y=me.y),me.textRects&&(p<-10-me.textRects.width||p>s.globals.gridWidth+me.textRects.width+10)&&(I="");var Ae=s.globals.dataLabels.style.colors[x];(("bar"===s.config.chart.type||"rangeBar"===s.config.chart.type)&&s.config.plotOptions.bar.distributed||s.config.dataLabels.distributed)&&(Ae=s.globals.dataLabels.style.colors[w]),"function"==typeof Ae&&(Ae=Ae({series:s.globals.series,seriesIndex:x,dataPointIndex:w,w:s})),X&&(Ae=X);var Ve=z.offsetX,D=z.offsetY;if("bar"!==s.config.chart.type&&"rangeBar"!==s.config.chart.type||(Ve=0,D=0),me.drawnextLabel){var Z=u.drawText({width:100,height:parseInt(z.style.fontSize,10),x:p+Ve,y:y+D,foreColor:Ae,textAnchor:P||z.textAnchor,text:I,fontSize:N||z.style.fontSize,fontFamily:z.style.fontFamily,fontWeight:z.style.fontWeight||"normal"});if(Z.attr({class:"apexcharts-datalabel",cx:p,cy:y}),z.dropShadow.enabled){var ce=z.dropShadow;new un(this.ctx).dropShadow(Z,ce)}F.add(Z),void 0===s.globals.lastDrawnDataLabelsIndexes[x]&&(s.globals.lastDrawnDataLabelsIndexes[x]=[]),s.globals.lastDrawnDataLabelsIndexes[x].push(w)}}}},{key:"addBackgroundToDataLabel",value:function(r,s){var u=this.w,p=u.config.dataLabels.background,y=p.padding,x=p.padding/2,w=s.width,I=s.height,P=new et(this.ctx).drawRect(s.x-y,s.y-x/2,w+2*y,I+x,p.borderRadius,"transparent"===u.config.chart.background?"#fff":u.config.chart.background,p.opacity,p.borderWidth,p.borderColor);return p.dropShadow.enabled&&new un(this.ctx).dropShadow(P,p.dropShadow),P}},{key:"dataLabelsBackground",value:function(){var r=this.w;if("bubble"!==r.config.chart.type)for(var s=r.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),u=0;u<s.length;u++){var p=s[u],y=p.getBBox(),x=null;if(y.width&&y.height&&(x=this.addBackgroundToDataLabel(p,y)),x){p.parentNode.insertBefore(x.node,p);var w=p.getAttribute("fill");!r.config.chart.animations.enabled||r.globals.resized||r.globals.dataChanged?x.attr({fill:w}):x.animate().attr({fill:w}),p.setAttribute("fill",r.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var r=this.w,s=r.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),u=r.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),p=0;p<s.length;p++)u&&u.insertBefore(s[p],u.nextSibling)}}]),ye}(),Pn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.legendInactiveClass="legend-mouseover-inactive"}return je(ye,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(r){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(Ye.escapeString(r),"']"))}},{key:"isSeriesHidden",value:function(r){var s=this.getSeriesByName(r),u=parseInt(s.getAttribute("data:realIndex"),10);return{isHidden:s.classList.contains("apexcharts-series-collapsed"),realIndex:u}}},{key:"addCollapsedClassToSeries",value:function(r,s){var u=this.w;function p(y){for(var x=0;x<y.length;x++)y[x].index===s&&r.node.classList.add("apexcharts-series-collapsed")}p(u.globals.collapsedSeries),p(u.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(r){var s=this.isSeriesHidden(r);return this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,s.isHidden),s.isHidden}},{key:"showSeries",value:function(r){var s=this.isSeriesHidden(r);s.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!0)}},{key:"hideSeries",value:function(r){var s=this.isSeriesHidden(r);s.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!1)}},{key:"resetSeries",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=this.w,y=Ye.clone(p.globals.initialSeries);p.globals.previousPaths=[],u?(p.globals.collapsedSeries=[],p.globals.ancillaryCollapsedSeries=[],p.globals.collapsedSeriesIndices=[],p.globals.ancillaryCollapsedSeriesIndices=[]):y=this.emptyCollapsedSeries(y),p.config.series=y,r&&(s&&(p.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(y,p.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(r){for(var s=this.w,u=0;u<r.length;u++)s.globals.collapsedSeriesIndices.indexOf(u)>-1&&(r[u].data=[]);return r}},{key:"toggleSeriesOnHover",value:function(r,s){var u=this.w;s||(s=r.target);var p=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===r.type){var y=parseInt(s.getAttribute("rel"),10)-1,x=null,w=null;u.globals.axisCharts||"radialBar"===u.config.chart.type?u.globals.axisCharts?(x=u.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(y,"']")),w=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(y,"']"))):x=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(y+1,"']")):x=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(y+1,"'] path"));for(var I=0;I<p.length;I++)p[I].classList.add(this.legendInactiveClass);null!==x&&(u.globals.axisCharts||x.parentNode.classList.remove(this.legendInactiveClass),x.classList.remove(this.legendInactiveClass),null!==w&&w.classList.remove(this.legendInactiveClass))}else if("mouseout"===r.type)for(var P=0;P<p.length;P++)p[P].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(r,s){var u=this,p=this.w,y=p.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),x=function(I){for(var P=0;P<y.length;P++)y[P].classList[I](u.legendInactiveClass)};if("mousemove"===r.type){var w=parseInt(s.getAttribute("rel"),10)-1;x("add"),function(I){for(var P=0;P<y.length;P++){var N=parseInt(y[P].getAttribute("val"),10);N>=I.from&&N<=I.to&&y[P].classList.remove(u.legendInactiveClass)}}(p.config.plotOptions.heatmap.colorScale.ranges[w])}else"mouseout"===r.type&&x("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=this.w,p=0;if(u.config.series.length>1)for(var y=u.config.series.map(function(w,I){return w.data&&w.data.length>0&&-1===u.globals.collapsedSeriesIndices.indexOf(I)&&(!u.globals.comboCharts||0===s.length||s.length&&s.indexOf(u.config.series[I].type)>-1)?I:-1}),x="asc"===r?0:y.length-1;"asc"===r?x<y.length:x>=0;"asc"===r?x++:x--)if(-1!==y[x]){p=y[x];break}return p}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(r,s){return"bar"===r.type||"column"===r.type?s:-1}).filter(function(r){return-1!==r}):this.w.config.series.map(function(r,s){return s})}},{key:"getPreviousPaths",value:function(){var r=this.w;function s(x,w,I){for(var P=x[w].childNodes,N={type:I,paths:[],realIndex:x[w].getAttribute("data:realIndex")},F=0;F<P.length;F++)if(P[F].hasAttribute("pathTo")){var z=P[F].getAttribute("pathTo");N.paths.push({d:z})}r.globals.previousPaths.push(N)}r.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(x){for(var I=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(x,"-series .apexcharts-series")),P=0;P<I.length;P++)s(I,P,x)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var u=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r.config.chart.type," .apexcharts-series"));if(u.length>0)for(var p=function(x){for(var w=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(x,"'] rect")),I=[],P=function(F){var z=function(le){return w[F].getAttribute(le)},X={x:parseFloat(z("x")),y:parseFloat(z("y")),width:parseFloat(z("width")),height:parseFloat(z("height"))};I.push({rect:X,color:w[F].getAttribute("color")})},N=0;N<w.length;N++)P(N);r.globals.previousPaths.push(I)},y=0;y<u.length;y++)p(y);r.globals.axisCharts||(r.globals.previousPaths=r.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(r){var s=this.w,u=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series"));if(u.length>0)for(var p=0;p<u.length;p++){for(var y=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(r,"-series .apexcharts-series[data\\:realIndex='").concat(p,"'] circle")),x=[],w=0;w<y.length;w++)x.push({x:y[w].getAttribute("cx"),y:y[w].getAttribute("cy"),r:y[w].getAttribute("r")});s.globals.previousPaths.push(x)}}},{key:"clearPreviousPaths",value:function(){var r=this.w;r.globals.previousPaths=[],r.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var r=this.w,s=r.config.noData,u=new et(this.ctx),p=r.globals.svgWidth/2,y=r.globals.svgHeight/2,x="middle";if(r.globals.noData=!0,r.globals.animationEnded=!0,"left"===s.align?(p=10,x="start"):"right"===s.align&&(p=r.globals.svgWidth-10,x="end"),"top"===s.verticalAlign?y=50:"bottom"===s.verticalAlign&&(y=r.globals.svgHeight-50),p+=s.offsetX,y=y+parseInt(s.style.fontSize,10)+2+s.offsetY,void 0!==s.text&&""!==s.text){var w=u.drawText({x:p,y,text:s.text,textAnchor:x,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,foreColor:s.style.color,opacity:1,class:"apexcharts-text-nodata"});r.globals.dom.Paper.add(w)}}},{key:"setNullSeriesToZeroValues",value:function(r){for(var s=this.w,u=0;u<r.length;u++)if(0===r[u].length)for(var p=0;p<r[s.globals.maxValsInArrayIndex].length;p++)r[u].push(0);return r}},{key:"hasAllSeriesEqualX",value:function(){for(var r=!0,s=this.w,u=this.filteredSeriesX(),p=0;p<u.length-1;p++)if(u[p][0]!==u[p+1][0]){r=!1;break}return s.globals.allSeriesHasEqualX=r,r}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(s){return s.length>0?s:[]})}}]),ye}(),Vn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new jt(this.ctx)}return je(ye,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var r=this.w.config.series.slice(),s=new Pn(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),void 0!==r[this.activeSeriesIndex].data&&r[this.activeSeriesIndex].data.length>0&&null!==r[this.activeSeriesIndex].data[0]&&void 0!==r[this.activeSeriesIndex].data[0].x&&null!==r[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var r=this.w.config.series.slice(),s=new Pn(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),void 0!==r[this.activeSeriesIndex].data&&r[this.activeSeriesIndex].data.length>0&&null!=r[this.activeSeriesIndex].data[0]&&r[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(r,s){for(var u=this.w.config,p=this.w.globals,y="boxPlot"===u.chart.type||"boxPlot"===u.series[s].type,x=0;x<r[s].data.length;x++)if(void 0!==r[s].data[x][1]&&(Array.isArray(r[s].data[x][1])&&4===r[s].data[x][1].length&&!y?this.twoDSeries.push(Ye.parseNumber(r[s].data[x][1][3])):this.twoDSeries.push(Ye.parseNumber(r[s].data[x].length>=5?r[s].data[x][4]:r[s].data[x][1])),p.dataFormatXNumeric=!0),"datetime"===u.xaxis.type){var w=new Date(r[s].data[x][0]);w=new Date(w).getTime(),this.twoDSeriesX.push(w)}else this.twoDSeriesX.push(r[s].data[x][0]);for(var I=0;I<r[s].data.length;I++)void 0!==r[s].data[I][2]&&(this.threeDSeries.push(r[s].data[I][2]),p.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(r,s){var u=this.w.config,p=this.w.globals,y=new In(this.ctx),x=s;p.collapsedSeriesIndices.indexOf(s)>-1&&(x=this.activeSeriesIndex);for(var w=0;w<r[s].data.length;w++)void 0!==r[s].data[w].y&&(Array.isArray(r[s].data[w].y)?this.twoDSeries.push(Ye.parseNumber(r[s].data[w].y[r[s].data[w].y.length-1])):this.twoDSeries.push(Ye.parseNumber(r[s].data[w].y))),void 0!==r[s].data[w].goals&&Array.isArray(r[s].data[w].goals)?(void 0===this.seriesGoals[s]&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(r[s].data[w].goals)):(void 0===this.seriesGoals[s]&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(null));for(var I=0;I<r[x].data.length;I++){var P="string"==typeof r[x].data[I].x,N=Array.isArray(r[x].data[I].x),F=!N&&!!y.isValidDate(r[x].data[I].x.toString());P||F?P||u.xaxis.convertedCatToNumeric?"datetime"!==u.xaxis.type||p.isBarHorizontal&&p.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(r[x].data[I].x)):this.twoDSeriesX.push(y.parseDate(r[x].data[I].x)):"datetime"===u.xaxis.type?this.twoDSeriesX.push(y.parseDate(r[x].data[I].x.toString())):(p.dataFormatXNumeric=!0,p.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(r[x].data[I].x))):N?(this.fallbackToCategory=!0,this.twoDSeriesX.push(r[x].data[I].x)):(p.isXNumeric=!0,p.dataFormatXNumeric=!0,this.twoDSeriesX.push(r[x].data[I].x))}if(r[s].data[0]&&void 0!==r[s].data[0].z){for(var X=0;X<r[s].data.length;X++)this.threeDSeries.push(r[s].data[X].z);p.isDataXYZ=!0}}},{key:"handleRangeData",value:function(r,s){var u=this.w.globals,p={};return this.isFormat2DArray()?p=this.handleRangeDataFormat("array",r,s):this.isFormatXY()&&(p=this.handleRangeDataFormat("xy",r,s)),u.seriesRangeStart.push(p.start),u.seriesRangeEnd.push(p.end),u.seriesRange.push(p.rangeUniques),u.seriesRange.forEach(function(y,x){y&&y.forEach(function(w,I){w.y.forEach(function(P,N){for(var F=0;F<w.y.length;F++)N!==F&&P.y1<=w.y[F].y2&&w.y[F].y1<=P.y2&&(w.overlaps.indexOf(P.rangeName)<0&&w.overlaps.push(P.rangeName),w.overlaps.indexOf(w.y[F].rangeName)<0&&w.overlaps.push(w.y[F].rangeName))})})}),p}},{key:"handleCandleStickBoxData",value:function(r,s){var u=this.w.globals,p={};return this.isFormat2DArray()?p=this.handleCandleStickBoxDataFormat("array",r,s):this.isFormatXY()&&(p=this.handleCandleStickBoxDataFormat("xy",r,s)),u.seriesCandleO[s]=p.o,u.seriesCandleH[s]=p.h,u.seriesCandleM[s]=p.m,u.seriesCandleL[s]=p.l,u.seriesCandleC[s]=p.c,p}},{key:"handleRangeDataFormat",value:function(r,s,u){var p=[],y=[],x=s[u].data.filter(function(N,F,z){return F===z.findIndex(function(X){return X.x===N.x})}).map(function(N,F){return{x:N.x,overlaps:[],y:[]}});if("array"===r)for(var w=0;w<s[u].data.length;w++)Array.isArray(s[u].data[w])?(p.push(s[u].data[w][1][0]),y.push(s[u].data[w][1][1])):(p.push(s[u].data[w]),y.push(s[u].data[w]));else if("xy"===r)for(var I=function(N){var F=Array.isArray(s[u].data[N].y),z=Ye.randomId(),X=s[u].data[N].x,le={y1:F?s[u].data[N].y[0]:s[u].data[N].y,y2:F?s[u].data[N].y[1]:s[u].data[N].y,rangeName:z};s[u].data[N].rangeName=z;var ie=x.findIndex(function(me){return me.x===X});x[ie].y.push(le),p.push(le.y1),y.push(le.y2)},P=0;P<s[u].data.length;P++)I(P);return{start:p,end:y,rangeUniques:x}}},{key:"handleCandleStickBoxDataFormat",value:function(r,s,u){var p=this.w,y="boxPlot"===p.config.chart.type||"boxPlot"===p.config.series[u].type,x=[],w=[],I=[],P=[],N=[];if("array"===r)if(y&&6===s[u].data[0].length||!y&&5===s[u].data[0].length)for(var F=0;F<s[u].data.length;F++)x.push(s[u].data[F][1]),w.push(s[u].data[F][2]),y?(I.push(s[u].data[F][3]),P.push(s[u].data[F][4]),N.push(s[u].data[F][5])):(P.push(s[u].data[F][3]),N.push(s[u].data[F][4]));else for(var z=0;z<s[u].data.length;z++)Array.isArray(s[u].data[z][1])&&(x.push(s[u].data[z][1][0]),w.push(s[u].data[z][1][1]),y?(I.push(s[u].data[z][1][2]),P.push(s[u].data[z][1][3]),N.push(s[u].data[z][1][4])):(P.push(s[u].data[z][1][2]),N.push(s[u].data[z][1][3])));else if("xy"===r)for(var X=0;X<s[u].data.length;X++)Array.isArray(s[u].data[X].y)&&(x.push(s[u].data[X].y[0]),w.push(s[u].data[X].y[1]),y?(I.push(s[u].data[X].y[2]),P.push(s[u].data[X].y[3]),N.push(s[u].data[X].y[4])):(P.push(s[u].data[X].y[2]),N.push(s[u].data[X].y[3])));return{o:x,h:w,m:I,l:P,c:N}}},{key:"parseDataAxisCharts",value:function(r){var s,u=this,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,y=this.w.config,x=this.w.globals,w=new In(p),I=y.labels.length>0?y.labels.slice():y.xaxis.categories.slice();if(x.isRangeBar="rangeBar"===y.chart.type&&x.isBarHorizontal,x.hasXaxisGroups="category"===y.xaxis.type&&y.xaxis.group.groups.length>0,x.hasXaxisGroups&&(x.groups=y.xaxis.group.groups),x.hasSeriesGroups=null===(s=r[0])||void 0===s?void 0:s.group,x.hasSeriesGroups){var P=[],N=Ft(new Set(r.map(function(le){return le.group})));r.forEach(function(le,ie){var me=N.indexOf(le.group);P[me]||(P[me]=[]),P[me].push(le.name)}),x.seriesGroups=P}for(var F=function(){for(var le=0;le<I.length;le++)if("string"==typeof I[le]){if(!w.isValidDate(I[le]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");u.twoDSeriesX.push(w.parseDate(I[le]))}else u.twoDSeriesX.push(I[le])},z=0;z<r.length;z++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===r[z].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==y.chart.type&&"rangeArea"!==y.chart.type&&"rangeBar"!==r[z].type&&"rangeArea"!==r[z].type||(x.isRangeData=!0,x.isComboCharts?"rangeBar"!==r[z].type&&"rangeArea"!==r[z].type||this.handleRangeData(r,z):"rangeBar"!==y.chart.type&&"rangeArea"!==y.chart.type||this.handleRangeData(r,z)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(r,z):this.isFormatXY()&&this.handleFormatXY(r,z),"candlestick"!==y.chart.type&&"candlestick"!==r[z].type&&"boxPlot"!==y.chart.type&&"boxPlot"!==r[z].type||this.handleCandleStickBoxData(r,z),x.series.push(this.twoDSeries),x.labels.push(this.twoDSeriesX),x.seriesX.push(this.twoDSeriesX),x.seriesGoals=this.seriesGoals,z!==this.activeSeriesIndex||this.fallbackToCategory||(x.isXNumeric=!0);else{"datetime"===y.xaxis.type?(x.isXNumeric=!0,F(),x.seriesX.push(this.twoDSeriesX)):"numeric"===y.xaxis.type&&(x.isXNumeric=!0,I.length>0&&(this.twoDSeriesX=I,x.seriesX.push(this.twoDSeriesX))),x.labels.push(this.twoDSeriesX);var X=r[z].data.map(function(le){return Ye.parseNumber(le)});x.series.push(X)}x.seriesZ.push(this.threeDSeries),x.seriesNames.push(void 0!==r[z].name?r[z].name:"series-"+parseInt(z+1,10)),x.seriesColors.push(void 0!==r[z].color?r[z].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(r){var s=this.w.globals,u=this.w.config;s.series=r.slice(),s.seriesNames=u.labels.slice();for(var p=0;p<s.series.length;p++)void 0===s.seriesNames[p]&&s.seriesNames.push("series-"+(p+1));return this.w}},{key:"handleExternalLabelsData",value:function(r){var s=this.w.config,u=this.w.globals;s.xaxis.categories.length>0?u.labels=s.xaxis.categories:s.labels.length>0?u.labels=s.labels.slice():this.fallbackToCategory?(u.labels=u.labels[0],u.seriesRange.length&&(u.seriesRange.map(function(p){p.forEach(function(y){u.labels.indexOf(y.x)<0&&y.x&&u.labels.push(y.x)})}),u.labels=Array.from(new Set(u.labels.map(JSON.stringify)),JSON.parse)),s.xaxis.convertedCatToNumeric&&(new pt(s).convertCatToNumericXaxis(s,this.ctx,u.seriesX[0]),this._generateExternalLabels(r))):this._generateExternalLabels(r)}},{key:"_generateExternalLabels",value:function(r){var s=this.w.globals,u=this.w.config,p=[];if(s.axisCharts){if(s.series.length>0)if(this.isFormatXY())for(var y=u.series.map(function(F,z){return F.data.filter(function(X,le,ie){return ie.findIndex(function(me){return me.x===X.x})===le})}),x=y.reduce(function(F,z,X,le){return le[F].length>z.length?F:X},0),w=0;w<y[x].length;w++)p.push(w+1);else for(var I=0;I<s.series[s.maxValsInArrayIndex].length;I++)p.push(I+1);s.seriesX=[];for(var P=0;P<r.length;P++)s.seriesX.push(p);s.isXNumeric=!0}if(0===p.length){p=s.axisCharts?[]:s.series.map(function(F,z){return z+1});for(var N=0;N<r.length;N++)s.seriesX.push(p)}s.labels=p,u.xaxis.convertedCatToNumeric&&(s.categoryLabels=p.map(function(F){return u.xaxis.labels.formatter(F)})),s.noLabelsProvided=!0}},{key:"parseData",value:function(r){var s=this.w,u=s.config,p=s.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),p.axisCharts?(this.parseDataAxisCharts(r),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(r),u.chart.stacked){var y=new Pn(this.ctx);p.series=y.setNullSeriesToZeroValues(p.series)}this.coreUtils.getSeriesTotals(),p.axisCharts&&(p.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),p.dataFormatXNumeric||p.isXNumeric&&("numeric"!==u.xaxis.type||0!==u.labels.length||0!==u.xaxis.categories.length)||this.handleExternalLabelsData(r);for(var x=this.coreUtils.getCategoryLabels(p.labels),w=0;w<x.length;w++)if(Array.isArray(x[w])){p.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var r=this,s=this.w;s.globals.ignoreYAxisIndexes=s.globals.collapsedSeries.map(function(u,p){if(r.w.globals.isMultipleYAxis&&!s.config.chart.stacked)return u.index})}}]),ye}(),Rn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"getLabel",value:function(r,s,u,p){var me,Ae,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",w=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],I=this.w,P=void 0===r[p]?"":r[p],N=P,F=I.globals.xLabelFormatter,z=I.config.xaxis.labels.formatter,X=!1,le=new mn(this.ctx),ie=P;w&&(N=le.xLabelFormat(F,P,ie,{i:p,dateFormatter:new In(this.ctx).formatDate,w:I}),void 0!==z&&(N=z(P,r[p],{i:p,dateFormatter:new In(this.ctx).formatDate,w:I}))),s.length>0?(me=s[p].unit,Ae=null,s.forEach(function(ce){"month"===ce.unit?Ae="year":"day"===ce.unit?Ae="month":"hour"===ce.unit?Ae="day":"minute"===ce.unit&&(Ae="hour")}),X=Ae===me,u=s[p].position,N=s[p].value):"datetime"===I.config.xaxis.type&&void 0===z&&(N=""),void 0===N&&(N=""),N=Array.isArray(N)?N:N.toString();var Ve=new et(this.ctx),D={};D=I.globals.rotateXLabels&&w?Ve.getTextRects(N,parseInt(x,10),null,"rotate(".concat(I.config.xaxis.labels.rotate," 0 0)"),!1):Ve.getTextRects(N,parseInt(x,10));var Z=!I.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(N)&&(0===N.indexOf("NaN")||0===N.toLowerCase().indexOf("invalid")||N.toLowerCase().indexOf("infinity")>=0||y.indexOf(N)>=0&&Z)&&(N=""),{x:u,text:N,textRect:D,isBold:X}}},{key:"checkLabelBasedOnTickamount",value:function(r,s,u){var p=this.w,y=p.config.xaxis.tickAmount;return"dataPoints"===y&&(y=Math.round(p.globals.gridWidth/120)),y>u||r%Math.round(u/(y+1))==0||(s.text=""),s}},{key:"checkForOverflowingLabels",value:function(r,s,u,p,y){var x=this.w;if(0===r&&x.globals.skipFirstTimelinelabel&&(s.text=""),r===u-1&&x.globals.skipLastTimelinelabel&&(s.text=""),x.config.xaxis.labels.hideOverlappingLabels&&p.length>0){var w=y[y.length-1];s.x<w.textRect.width/(x.globals.rotateXLabels?Math.abs(x.config.xaxis.labels.rotate)/12:1.01)+w.x&&(s.text="")}return s}},{key:"checkForReversedLabels",value:function(r,s){var u=this.w;return u.config.yaxis[r]&&u.config.yaxis[r].reversed&&s.reverse(),s}},{key:"isYAxisHidden",value:function(r){var s=this.w,u=new jt(this.ctx);return!s.config.yaxis[r].show||!s.config.yaxis[r].showForNullSeries&&u.isSeriesNull(r)&&-1===s.globals.collapsedSeriesIndices.indexOf(r)}},{key:"getYAxisForeColor",value:function(r,s){var u=this.w;return Array.isArray(r)&&u.globals.yAxisScale[s]&&this.ctx.theme.pushExtraColors(r,u.globals.yAxisScale[s].result.length,!1),r}},{key:"drawYAxisTicks",value:function(r,s,u,p,y,x,w){var I=this.w,P=new et(this.ctx),N=I.globals.translateY;if(p.show&&s>0){!0===I.config.yaxis[y].opposite&&(r+=p.width);for(var F=s;F>=0;F--){var z=N+s/10+I.config.yaxis[y].labels.offsetY-1;I.globals.isBarHorizontal&&(z=x*F),"heatmap"===I.config.chart.type&&(z+=x/2);var X=P.drawLine(r+u.offsetX-p.width+p.offsetX,z+p.offsetY,r+u.offsetX+p.offsetX,z+p.offsetY,p.color);w.add(X),N+=x}}}}]),ye}(),ui=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"scaleSvgNode",value:function(r,s){var u=parseFloat(r.getAttributeNS(null,"width")),p=parseFloat(r.getAttributeNS(null,"height"));r.setAttributeNS(null,"width",u*s),r.setAttributeNS(null,"height",p*s),r.setAttributeNS(null,"viewBox","0 0 "+u+" "+p)}},{key:"fixSvgStringForIe11",value:function(r){if(!Ye.isIE11())return r.replace(/&nbsp;/g,"&#160;");var s=0,u=r.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(p){return 2==++s?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':p});return(u=u.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(r){null==r&&(r=1);var s=this.w.globals.dom.Paper.svg();if(1!==r){var u=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(u,r),s=(new XMLSerializer).serializeToString(u)}return this.fixSvgStringForIe11(s)}},{key:"cleanup",value:function(){var r=this.w,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),u=r.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),p=r.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(p,function(y){y.setAttribute("width",0)}),s&&s[0]&&(s[0].setAttribute("x",-500),s[0].setAttribute("x1",-500),s[0].setAttribute("x2",-500)),u&&u[0]&&(u[0].setAttribute("y",-100),u[0].setAttribute("y1",-100),u[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var r=this.getSvgString(),s=new Blob([r],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(s)}},{key:"dataURI",value:function(r){var s=this;return new Promise(function(u){var p=s.w,y=r?r.scale||r.width/p.globals.svgWidth:1;s.cleanup();var x=document.createElement("canvas");x.width=p.globals.svgWidth*y,x.height=parseInt(p.globals.dom.elWrap.style.height,10)*y;var w="transparent"===p.config.chart.background?"#fff":p.config.chart.background,I=x.getContext("2d");I.fillStyle=w,I.fillRect(0,0,x.width*y,x.height*y);var P=s.getSvgString(y);if(window.canvg&&Ye.isIE11()){var N=window.canvg.Canvg.fromString(I,P,{ignoreClear:!0,ignoreDimensions:!0});N.start();var F=x.msToBlob();N.stop(),u({blob:F})}else{var z="data:image/svg+xml,"+encodeURIComponent(P),X=new Image;X.crossOrigin="anonymous",X.onload=function(){if(I.drawImage(X,0,0),x.msToBlob){var le=x.msToBlob();u({blob:le})}else{var ie=x.toDataURL("image/png");u({imgURI:ie})}},X.src=z}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var r=this;this.dataURI().then(function(s){var u=s.imgURI,p=s.blob;p?navigator.msSaveOrOpenBlob(p,r.w.globals.chartID+".png"):r.triggerDownload(u,r.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(r){var s=this,u=r.series,p=r.fileName,y=r.columnDelimiter,x=void 0===y?",":y,w=r.lineDelimiter,I=void 0===w?"\n":w,P=this.w;u||(u=P.config.series);var N=[],F=[],z="",X=P.globals.series.map(function(D,Z){return-1===P.globals.collapsedSeriesIndices.indexOf(Z)?D:[]}),le=Math.max.apply(Math,Ft(u.map(function(D){return D.data?D.data.length:0}))),ie=new Vn(this.ctx),me=new Rn(this.ctx),Ae=function(D){var Z="";if(P.globals.axisCharts){if("category"===P.config.xaxis.type||P.config.xaxis.convertedCatToNumeric)if(P.globals.isBarHorizontal){var ce=P.globals.yLabelFormatters[0],xe=new Pn(s.ctx).getActiveConfigSeriesIndex();Z=ce(P.globals.labels[D],{seriesIndex:xe,dataPointIndex:D,w:P})}else Z=me.getLabel(P.globals.labels,P.globals.timescaleLabels,0,D).text;"datetime"===P.config.xaxis.type&&(P.config.xaxis.categories.length?Z=P.config.xaxis.categories[D]:P.config.labels.length&&(Z=P.config.labels[D]))}else Z=P.config.labels[D];return Array.isArray(Z)&&(Z=Z.join(" ")),Ye.isNumber(Z)?Z:Z.split(x).join("")};N.push(P.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===P.config.chart.type?(N.push("minimum"),N.push("q1"),N.push("median"),N.push("q3"),N.push("maximum")):"candlestick"===P.config.chart.type?(N.push("open"),N.push("high"),N.push("low"),N.push("close")):"rangeBar"===P.config.chart.type?(N.push("minimum"),N.push("maximum")):u.map(function(D,Z){var ce=D.name?D.name:"series-".concat(Z);P.globals.axisCharts&&N.push(ce.split(x).join("")?ce.split(x).join(""):"series-".concat(Z))}),P.globals.axisCharts||(N.push(P.config.chart.toolbar.export.csv.headerValue),F.push(N.join(x))),u.map(function(D,Z){P.globals.axisCharts?function(D,Z){if(N.length&&0===Z&&F.push(N.join(x)),D.data){D.data=D.data.length&&D.data||Ft(Array(le)).map(function(){return""});for(var ce=0;ce<D.data.length;ce++){N=[];var xe=Ae(ce);if(xe||(ie.isFormatXY()?xe=u[Z].data[ce].x:ie.isFormat2DArray()&&(xe=u[Z].data[ce]?u[Z].data[ce][0]:"")),0===Z){N.push("datetime"===P.config.xaxis.type&&String(xe).length>=10?P.config.chart.toolbar.export.csv.dateFormatter(xe):Ye.isNumber(xe)?xe:xe.split(x).join(""));for(var Pe=0;Pe<P.globals.series.length;Pe++)ie.isFormatXY()?N.push(u[Pe].data[ce].y):N.push(X[Pe][ce])}("candlestick"===P.config.chart.type||D.type&&"candlestick"===D.type)&&(N.pop(),N.push(P.globals.seriesCandleO[Z][ce]),N.push(P.globals.seriesCandleH[Z][ce]),N.push(P.globals.seriesCandleL[Z][ce]),N.push(P.globals.seriesCandleC[Z][ce])),("boxPlot"===P.config.chart.type||D.type&&"boxPlot"===D.type)&&(N.pop(),N.push(P.globals.seriesCandleO[Z][ce]),N.push(P.globals.seriesCandleH[Z][ce]),N.push(P.globals.seriesCandleM[Z][ce]),N.push(P.globals.seriesCandleL[Z][ce]),N.push(P.globals.seriesCandleC[Z][ce])),"rangeBar"===P.config.chart.type&&(N.pop(),N.push(P.globals.seriesRangeStart[Z][ce]),N.push(P.globals.seriesRangeEnd[Z][ce])),N.length&&F.push(N.join(x))}}}(D,Z):((N=[]).push(P.globals.labels[Z].split(x).join("")),N.push(X[Z]),F.push(N.join(x)))}),z+=F.join(I),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+z),p||P.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(r,s,u){var p=document.createElement("a");p.href=r,p.download=(s||this.w.globals.chartID)+u,document.body.appendChild(p),p.click(),document.body.removeChild(p)}}]),ye}(),Di=function(){function ye(r,s){l(this,ye),this.ctx=r,this.elgrid=s,this.w=r.w;var u=this.w;this.axesUtils=new Rn(r),this.xaxisLabels=u.globals.labels.slice(),u.globals.timescaleLabels.length>0&&!u.globals.isBarHorizontal&&(this.xaxisLabels=u.globals.timescaleLabels.slice()),u.config.xaxis.overwriteCategories&&(this.xaxisLabels=u.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===u.config.xaxis.position?0:u.globals.gridHeight+1,this.offY=this.offY+u.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===u.config.chart.type&&u.config.plotOptions.bar.horizontal,this.xaxisFontSize=u.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=u.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=u.config.xaxis.labels.style.colors,this.xaxisBorderWidth=u.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=u.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?u.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=u.config.xaxis.axisBorder.height,this.yaxis=u.config.yaxis[0]}return je(ye,[{key:"drawXaxis",value:function(){var r=this.w,s=new et(this.ctx),u=s.group({class:"apexcharts-xaxis",transform:"translate(".concat(r.config.xaxis.offsetX,", ").concat(r.config.xaxis.offsetY,")")}),p=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});u.add(p);for(var y=[],x=0;x<this.xaxisLabels.length;x++)y.push(this.xaxisLabels[x]);if(this.drawXAxisLabelAndGroup(!0,s,p,y,r.globals.isXNumeric,function(le,ie){return ie}),r.globals.hasXaxisGroups){var w=r.globals.groups;y=[];for(var I=0;I<w.length;I++)y.push(w[I].title);var P={};r.config.xaxis.group.style&&(P.xaxisFontSize=r.config.xaxis.group.style.fontSize,P.xaxisFontFamily=r.config.xaxis.group.style.fontFamily,P.xaxisForeColors=r.config.xaxis.group.style.colors,P.fontWeight=r.config.xaxis.group.style.fontWeight,P.cssClass=r.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,s,p,y,!1,function(le,ie){return w[le].cols*ie},P)}if(void 0!==r.config.xaxis.title.text){var N=s.group({class:"apexcharts-xaxis-title"}),F=s.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===r.config.xaxis.position?r.globals.xAxisLabelsHeight:-r.globals.xAxisLabelsHeight-10)+r.config.xaxis.title.offsetY,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+r.config.xaxis.title.style.cssClass});N.add(F),u.add(N)}if(r.config.xaxis.axisBorder.show){var z=r.globals.barPadForNumericAxis,X=s.drawLine(r.globals.padHorizontal+r.config.xaxis.axisBorder.offsetX-z,this.offY,this.xaxisBorderWidth+z,this.offY,r.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(X):u.add(X)}return u}},{key:"drawXAxisLabelAndGroup",value:function(r,s,u,p,y,x){var w,I=this,P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},N=[],F=[],z=this.w,X=P.xaxisFontSize||this.xaxisFontSize,le=P.xaxisFontFamily||this.xaxisFontFamily,ie=P.xaxisForeColors||this.xaxisForeColors,me=P.fontWeight||z.config.xaxis.labels.style.fontWeight,Ae=P.cssClass||z.config.xaxis.labels.style.cssClass,Ve=z.globals.padHorizontal,D=p.length,Z="category"===z.config.xaxis.type?z.globals.dataPoints:D;if(0===Z&&D>Z&&(Z=D),y){var ce=Z>1?Z-1:Z;Ve=Ve+x(0,w=z.globals.gridWidth/ce)/2+z.config.xaxis.labels.offsetX}else Ve=Ve+x(0,w=z.globals.gridWidth/Z)+z.config.xaxis.labels.offsetX;for(var xe=function(ze){var Ke=Ve-x(ze,w)/2+z.config.xaxis.labels.offsetX;0===ze&&1===D&&w/2===Ve&&1===Z&&(Ke=z.globals.gridWidth/2);var st=I.axesUtils.getLabel(p,z.globals.timescaleLabels,Ke,ze,N,X,r),Tt=28;if(z.globals.rotateXLabels&&r&&(Tt=22),z.config.xaxis.title.text&&"top"===z.config.xaxis.position&&(Tt+=parseFloat(z.config.xaxis.title.style.fontSize)+2),r||(Tt=Tt+parseFloat(X)+(z.globals.xAxisLabelsHeight-z.globals.xAxisGroupLabelsHeight)+(z.globals.rotateXLabels?10:0)),st=void 0!==z.config.xaxis.tickAmount&&"dataPoints"!==z.config.xaxis.tickAmount&&"datetime"!==z.config.xaxis.type?I.axesUtils.checkLabelBasedOnTickamount(ze,st,D):I.axesUtils.checkForOverflowingLabels(ze,st,D,N,F),z.config.xaxis.labels.show){var $t=s.drawText({x:st.x,y:I.offY+z.config.xaxis.labels.offsetY+Tt-("top"===z.config.xaxis.position?z.globals.xAxisHeight+z.config.xaxis.axisTicks.height-2:0),text:st.text,textAnchor:"middle",fontWeight:st.isBold?600:me,fontSize:X,fontFamily:le,foreColor:Array.isArray(ie)?r&&z.config.xaxis.convertedCatToNumeric?ie[z.globals.minX+ze-1]:ie[ze]:ie,isPlainText:!1,cssClass:(r?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+Ae});if(u.add($t),$t.on("click",function(Ht){if("function"==typeof z.config.chart.events.xAxisLabelClick){var zn=Object.assign({},z,{labelIndex:ze});z.config.chart.events.xAxisLabelClick(Ht,I.ctx,zn)}}),r){var zt=document.createElementNS(z.globals.SVGNS,"title");zt.textContent=Array.isArray(st.text)?st.text.join(" "):st.text,$t.node.appendChild(zt),""!==st.text&&(N.push(st.text),F.push(st))}}ze<D-1&&(Ve+=x(ze+1,w))},Pe=0;Pe<=D-1;Pe++)xe(Pe)}},{key:"drawXaxisInversed",value:function(r){var s,u,p=this,y=this.w,x=new et(this.ctx),w=y.config.yaxis[0].opposite?y.globals.translateYAxisX[r]:0,I=x.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:r}),P=x.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+w+", 0)"});I.add(P);var N=[];if(y.config.yaxis[r].show)for(var F=0;F<this.xaxisLabels.length;F++)N.push(this.xaxisLabels[F]);u=-(s=y.globals.gridHeight/N.length)/2.2;var z=y.globals.yLabelFormatters[0],X=y.config.yaxis[0].labels;if(X.show)for(var le=function(ce){var xe=void 0===N[ce]?"":N[ce];xe=z(xe,{seriesIndex:r,dataPointIndex:ce,w:y});var Pe=p.axesUtils.getYAxisForeColor(X.style.colors,r),ze=0;Array.isArray(xe)&&(ze=xe.length/2*parseInt(X.style.fontSize,10));var Ke=X.offsetX-15,st="end";p.yaxis.opposite&&(st="start"),"left"===y.config.yaxis[0].labels.align?(Ke=X.offsetX,st="start"):"center"===y.config.yaxis[0].labels.align?(Ke=X.offsetX,st="middle"):"right"===y.config.yaxis[0].labels.align&&(st="end");var Tt=x.drawText({x:Ke,y:u+s+X.offsetY-ze,text:xe,textAnchor:st,foreColor:Array.isArray(Pe)?Pe[ce]:Pe,fontSize:X.style.fontSize,fontFamily:X.style.fontFamily,fontWeight:X.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+X.style.cssClass,maxWidth:X.maxWidth});P.add(Tt),Tt.on("click",function(Ht){if("function"==typeof y.config.chart.events.xAxisLabelClick){var zn=Object.assign({},y,{labelIndex:ce});y.config.chart.events.xAxisLabelClick(Ht,p.ctx,zn)}});var $t=document.createElementNS(y.globals.SVGNS,"title");if($t.textContent=Array.isArray(xe)?xe.join(" "):xe,Tt.node.appendChild($t),0!==y.config.yaxis[r].labels.rotate){var zt=x.rotateAroundCenter(Tt.node);Tt.node.setAttribute("transform","rotate(".concat(y.config.yaxis[r].labels.rotate," 0 ").concat(zt.y,")"))}u+=s},ie=0;ie<=N.length-1;ie++)le(ie);if(void 0!==y.config.yaxis[0].title.text){var me=x.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+w+", 0)"}),Ae=x.drawText({x:y.config.yaxis[0].title.offsetX,y:y.globals.gridHeight/2+y.config.yaxis[0].title.offsetY,text:y.config.yaxis[0].title.text,textAnchor:"middle",foreColor:y.config.yaxis[0].title.style.color,fontSize:y.config.yaxis[0].title.style.fontSize,fontWeight:y.config.yaxis[0].title.style.fontWeight,fontFamily:y.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+y.config.yaxis[0].title.style.cssClass});me.add(Ae),I.add(me)}var Ve=0;this.isCategoryBarHorizontal&&y.config.yaxis[0].opposite&&(Ve=y.globals.gridWidth);var D=y.config.xaxis.axisBorder;if(D.show){var Z=x.drawLine(y.globals.padHorizontal+D.offsetX+Ve,1+D.offsetY,y.globals.padHorizontal+D.offsetX+Ve,y.globals.gridHeight+D.offsetY,D.color,0);this.elgrid&&this.elgrid.elGridBorders&&y.config.grid.show?this.elgrid.elGridBorders.add(Z):I.add(Z)}return y.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Ve,N.length,y.config.yaxis[0].axisBorder,y.config.yaxis[0].axisTicks,0,s,I),I}},{key:"drawXaxisTicks",value:function(r,s,u){var p=this.w,y=r;if(!(r<0||r-2>p.globals.gridWidth)){var x=this.offY+p.config.xaxis.axisTicks.offsetY;if(s=s+x+p.config.xaxis.axisTicks.height,"top"===p.config.xaxis.position&&(s=x-p.config.xaxis.axisTicks.height),p.config.xaxis.axisTicks.show){var w=new et(this.ctx).drawLine(r+p.config.xaxis.axisTicks.offsetX,x+p.config.xaxis.offsetY,y+p.config.xaxis.axisTicks.offsetX,s+p.config.xaxis.offsetY,p.config.xaxis.axisTicks.color);u.add(w),w.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var r=this.w,s=[],u=this.xaxisLabels.length,p=r.globals.padHorizontal;if(r.globals.timescaleLabels.length>0)for(var y=0;y<u;y++)s.push(p=this.xaxisLabels[y].position);else for(var x=u,w=0;w<x;w++){var I=x;r.globals.isXNumeric&&"bar"!==r.config.chart.type&&(I-=1),s.push(p+=r.globals.gridWidth/I)}return s}},{key:"xAxisLabelCorrections",value:function(){var r=this.w,s=new et(this.ctx),u=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),p=r.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),y=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),x=r.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(r.globals.rotateXLabels||r.config.xaxis.labels.rotateAlways)for(var w=0;w<p.length;w++){var I=s.rotateAroundCenter(p[w]);I.y=I.y-1,I.x=I.x+1,p[w].setAttribute("transform","rotate(".concat(r.config.xaxis.labels.rotate," ").concat(I.x," ").concat(I.y,")")),p[w].setAttribute("text-anchor","end"),u.setAttribute("transform","translate(0, ".concat(-10,")")),r.config.xaxis.labels.trim&&Array.prototype.forEach.call(p[w].childNodes,function(X){s.placeTextWithEllipsis(X,X.textContent,r.globals.xAxisLabelsHeight-("bottom"===r.config.legend.position?20:10))})}else!function(){for(var X=r.globals.gridWidth/(r.globals.labels.length+1),le=0;le<p.length;le++)r.config.xaxis.labels.trim&&"datetime"!==r.config.xaxis.type&&Array.prototype.forEach.call(p[le].childNodes,function(me){s.placeTextWithEllipsis(me,me.textContent,X)})}();if(y.length>0){var N=y[y.length-1].getBBox(),F=y[0].getBBox();N.x<-20&&y[y.length-1].parentNode.removeChild(y[y.length-1]),F.x+F.width>r.globals.gridWidth&&!r.globals.isBarHorizontal&&y[0].parentNode.removeChild(y[0]);for(var z=0;z<x.length;z++)s.placeTextWithEllipsis(x[z],x[z].textContent,r.config.yaxis[0].labels.maxWidth-(r.config.yaxis[0].title.text?2*parseFloat(r.config.yaxis[0].title.style.fontSize):0)-15)}}}]),ye}(),bi=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w;var s=this.w;this.xaxisLabels=s.globals.labels.slice(),this.axesUtils=new Rn(r),this.isRangeBar=s.globals.seriesRange.length,s.globals.timescaleLabels.length>0&&(this.xaxisLabels=s.globals.timescaleLabels.slice())}return je(ye,[{key:"drawGridArea",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=this.w,u=new et(this.ctx);null===r&&(r=u.group({class:"apexcharts-grid"}));var p=u.drawLine(s.globals.padHorizontal,1,s.globals.padHorizontal,s.globals.gridHeight,"transparent"),y=u.drawLine(s.globals.padHorizontal,s.globals.gridHeight,s.globals.gridWidth,s.globals.gridHeight,"transparent");return r.add(y),r.add(p),r}},{key:"drawGrid",value:function(){var r=null;return this.w.globals.axisCharts&&(r=this.renderGrid(),this.drawGridArea(r.el)),r}},{key:"createGridMask",value:function(){var r=this.w,s=r.globals,u=new et(this.ctx),p=Array.isArray(r.config.stroke.width)?0:r.config.stroke.width;if(Array.isArray(r.config.stroke.width)){var y=0;r.config.stroke.width.forEach(function(F){y=Math.max(y,F)}),p=y}s.dom.elGridRectMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(s.cuid)),s.dom.elGridRectMarkerMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(s.cuid)),s.dom.elForecastMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elForecastMask.setAttribute("id","forecastMask".concat(s.cuid)),s.dom.elNonForecastMask=document.createElementNS(s.SVGNS,"clipPath"),s.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(s.cuid));var x=r.config.chart.type,w=0,I=0;("bar"===x||"rangeBar"===x||"candlestick"===x||"boxPlot"===x||r.globals.comboBarCount>0)&&r.globals.isXNumeric&&!r.globals.isBarHorizontal&&(I=r.config.grid.padding.right,s.barPadForNumericAxis>(w=r.config.grid.padding.left)&&(w=s.barPadForNumericAxis,I=s.barPadForNumericAxis)),s.dom.elGridRect=u.drawRect(-p/2-w-2,-p/2,s.gridWidth+p+I+w+4,s.gridHeight+p,0,"#fff");var P=r.globals.markers.largestSize+1;s.dom.elGridRectMarker=u.drawRect(2*-P,2*-P,s.gridWidth+4*P,s.gridHeight+4*P,0,"#fff"),s.dom.elGridRectMask.appendChild(s.dom.elGridRect.node),s.dom.elGridRectMarkerMask.appendChild(s.dom.elGridRectMarker.node);var N=s.dom.baseEl.querySelector("defs");N.appendChild(s.dom.elGridRectMask),N.appendChild(s.dom.elForecastMask),N.appendChild(s.dom.elNonForecastMask),N.appendChild(s.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(r){var s=r.i,u=r.x1,w=r.xCount,P=this.w;if(!(0===s&&P.globals.skipFirstTimelinelabel||s===w-1&&P.globals.skipLastTimelinelabel&&!P.config.xaxis.labels.formatter||"radar"===P.config.chart.type)){P.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,x1:u,y1:r.y1,x2:r.x2,y2:r.y2,xCount:w,parent:r.parent});var N=0;if(P.globals.hasXaxisGroups&&"between"===P.config.xaxis.tickPlacement){var F=P.globals.groups;if(F){for(var z=0,X=0;z<s&&X<F.length;X++)z+=F[X].cols;z===s&&(N=.6*P.globals.xAxisLabelsHeight)}}new Di(this.ctx).drawXaxisTicks(u,N,P.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(r){var s=r.i,u=r.x1,p=r.y1,y=r.x2,x=r.y2,w=r.xCount,I=r.parent,P=this.w,N=!1,F=I.node.classList.contains("apexcharts-gridlines-horizontal"),z=P.config.grid.strokeDashArray,X=P.globals.barPadForNumericAxis;(0===p&&0===x||0===u&&0===y)&&(N=!0),p===P.globals.gridHeight&&x===P.globals.gridHeight&&(N=!0),!P.globals.isBarHorizontal||0!==s&&s!==w-1||(N=!0);var le=new et(this).drawLine(u-(F?X:0),p,y+(F?X:0),x,P.config.grid.borderColor,z);le.node.classList.add("apexcharts-gridline"),N&&P.config.grid.show?this.elGridBorders.add(le):I.add(le)}},{key:"_drawGridBandRect",value:function(r){var s=r.c,u=r.x1,p=r.y1,y=r.x2,x=r.y2,w=r.type,I=this.w,P=new et(this.ctx),N=I.globals.barPadForNumericAxis;if("column"!==w||"datetime"!==I.config.xaxis.type){var z=P.drawRect(u-("row"===w?N:0),p,y+("row"===w?2*N:0),x,0,I.config.grid[w].colors[s],I.config.grid[w].opacity);this.elg.add(z),z.attr("clip-path","url(#gridRectMask".concat(I.globals.cuid,")")),z.node.classList.add("apexcharts-grid-".concat(w))}}},{key:"_drawXYLines",value:function(r){var s=this,u=r.xCount,p=r.tickAmount,y=this.w;if(y.config.grid.xaxis.lines.show||y.config.xaxis.axisTicks.show){var x,w=y.globals.padHorizontal,I=y.globals.gridHeight;y.globals.timescaleLabels.length?function(le){for(var ie=le.xC,Ae=le.y1,D=le.y2,Z=0;Z<ie;Z++)s._drawGridLines({i:Z,x1:s.xaxisLabels[Z].position,y1:Ae,x2:s.xaxisLabels[Z].position,y2:D,xCount:u,parent:s.elgridLinesV})}({xC:u,x1:w,y1:0,x2:x,y2:I}):(y.globals.isXNumeric&&(u=y.globals.xAxisScale.result.length),function(le){for(var ie=le.xC,me=le.x1,Ae=le.y1,Ve=le.x2,D=le.y2,Z=0;Z<ie+(y.globals.isXNumeric?0:1);Z++)0===Z&&1===ie&&1===y.globals.dataPoints&&(Ve=me=y.globals.gridWidth/2),s._drawGridLines({i:Z,x1:me,y1:Ae,x2:Ve,y2:D,xCount:u,parent:s.elgridLinesV}),Ve=me+=y.globals.gridWidth/(y.globals.isXNumeric?ie-1:ie)}({xC:u,x1:w,y1:0,x2:x,y2:I}))}if(y.config.grid.yaxis.lines.show){var P=0,N=0,F=y.globals.gridWidth,z=p+1;this.isRangeBar&&(z=y.globals.labels.length);for(var X=0;X<z+(this.isRangeBar?1:0);X++)this._drawGridLine({i:X,xCount:z+(this.isRangeBar?1:0),x1:0,y1:P,x2:F,y2:N,parent:this.elgridLinesH}),N=P+=y.globals.gridHeight/(this.isRangeBar?z:p)}}},{key:"_drawInvertedXYLines",value:function(r){var s=r.xCount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show)for(var p,y=u.globals.padHorizontal,x=u.globals.gridHeight,w=0;w<s+1;w++)u.config.grid.xaxis.lines.show&&this._drawGridLine({i:w,xCount:s+1,x1:y,y1:0,x2:p,y2:x,parent:this.elgridLinesV}),new Di(this.ctx).drawXaxisTicks(y,0,u.globals.dom.elGraphical),p=y=y+u.globals.gridWidth/s+.3;if(u.config.grid.yaxis.lines.show)for(var I=0,P=0,N=u.globals.gridWidth,F=0;F<u.globals.dataPoints+1;F++)this._drawGridLine({i:F,xCount:u.globals.dataPoints+1,x1:0,y1:I,x2:N,y2:P,parent:this.elgridLinesH}),P=I+=u.globals.gridHeight/u.globals.dataPoints}},{key:"renderGrid",value:function(){var r=this.w,s=new et(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),r.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var u,p=r.globals.yAxisScale.length?r.globals.yAxisScale[0].result.length-1:5,y=0;y<r.globals.series.length&&(void 0!==r.globals.yAxisScale[y]&&(p=r.globals.yAxisScale[y].result.length-1),!(p>2));y++);return!r.globals.isBarHorizontal||this.isRangeBar?(u=this.xaxisLabels.length,this.isRangeBar&&r.globals.isBarHorizontal&&(u--,p=r.globals.labels.length,r.config.xaxis.tickAmount&&r.config.xaxis.labels.formatter&&(u=r.config.xaxis.tickAmount)),this._drawXYLines({xCount:u,tickAmount:p})):this._drawInvertedXYLines({xCount:u=p,tickAmount:p=r.globals.xTickAmount}),this.drawGridBands(u,p),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:r.globals.gridWidth/u}}},{key:"drawGridBands",value:function(r,s){var u=this.w;if(void 0!==u.config.grid.row.colors&&u.config.grid.row.colors.length>0)for(var p=0,y=u.globals.gridHeight/s,x=u.globals.gridWidth,w=0,I=0;w<s;w++,I++)I>=u.config.grid.row.colors.length&&(I=0),this._drawGridBandRect({c:I,x1:0,y1:p,x2:x,y2:y,type:"row"}),p+=u.globals.gridHeight/s;if(void 0!==u.config.grid.column.colors&&u.config.grid.column.colors.length>0)for(var P=u.globals.isBarHorizontal||"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric?r:r-1,N=u.globals.padHorizontal,F=u.globals.padHorizontal+u.globals.gridWidth/P,z=u.globals.gridHeight,X=0,le=0;X<r;X++,le++)le>=u.config.grid.column.colors.length&&(le=0),this._drawGridBandRect({c:le,x1:N,y1:0,x2:F,y2:z,type:"column"}),N+=u.globals.gridWidth/P}}]),ye}(),li=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"niceScale",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,y=arguments.length>4?arguments[4]:void 0,x=this.w,w=Math.abs(s-r);if("dataPoints"===(u=this._adjustTicksForSmallRange(u,p,w))&&(u=x.globals.dataPoints-1),r===Number.MIN_VALUE&&0===s||!Ye.isNumber(r)&&!Ye.isNumber(s)||r===Number.MIN_VALUE&&s===-Number.MAX_VALUE)return this.linearScale(r=0,s=u,u);r>s?(console.warn("axis.min cannot be greater than axis.max"),s=r+.1):r===s&&(r=0===r?0:r-.5,s=0===s?2:s+.5);var I=[];w<1&&y&&("candlestick"===x.config.chart.type||"candlestick"===x.config.series[p].type||"boxPlot"===x.config.chart.type||"boxPlot"===x.config.series[p].type||x.globals.isRangeData)&&(s*=1.01);var P=u+1;P<2?P=2:P>2&&(P-=2);var N=w/P,F=Math.floor(Ye.log10(N)),z=Math.pow(10,F),X=Math.round(N/z);X<1&&(X=1);var le=X*z,ie=le*Math.floor(r/le),me=le*Math.ceil(s/le),Ae=ie;if(y&&w>2){for(;I.push(Ae),!((Ae+=le)>me););return{result:I,niceMin:I[0],niceMax:I[I.length-1]}}var Ve=r;(I=[]).push(Ve);for(var D=Math.abs(s-r)/u,Z=0;Z<=u;Z++)I.push(Ve+=D);return I[I.length-2]>=s&&I.pop(),{result:I,niceMin:I[0],niceMax:I[I.length-1]}}},{key:"linearScale",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,p=arguments.length>3?arguments[3]:void 0,y=Math.abs(s-r);"dataPoints"===(u=this._adjustTicksForSmallRange(u,p,y))&&(u=this.w.globals.dataPoints-1);var x=y/u;u===Number.MAX_VALUE&&(u=10,x=1);for(var w=[],I=r;u>=0;)w.push(I),I+=x,u-=1;return{result:w,niceMin:w[0],niceMax:w[w.length-1]}}},{key:"logarithmicScaleNice",value:function(r,s,u){s<=0&&(s=Math.max(r,u)),r<=0&&(r=Math.min(s,u));for(var p=[],y=Math.ceil(Math.log(s)/Math.log(u)+1),x=Math.floor(Math.log(r)/Math.log(u));x<y;x++)p.push(Math.pow(u,x));return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"logarithmicScale",value:function(r,s,u){s<=0&&(s=Math.max(r,u)),r<=0&&(r=Math.min(s,u));for(var p=[],y=Math.log(s)/Math.log(u),x=Math.log(r)/Math.log(u),w=y-x,I=Math.round(w),P=w/I,N=0,F=x;N<I;N++,F+=P)p.push(Math.pow(u,F));return p.push(Math.pow(u,y)),{result:p,niceMin:r,niceMax:s}}},{key:"_adjustTicksForSmallRange",value:function(r,s,u){var p=r;if(void 0!==s&&this.w.config.yaxis[s].labels.formatter&&void 0===this.w.config.yaxis[s].tickAmount){var y=Number(this.w.config.yaxis[s].labels.formatter(1));Ye.isNumber(y)&&0===this.w.globals.yValueDecimal&&(p=Math.ceil(u))}return p<r?p:r}},{key:"setYScaleForIndex",value:function(r,s,u){var p=this.w.globals,y=this.w.config,x=p.isBarHorizontal?y.xaxis:y.yaxis[r];void 0===p.yAxisScale[r]&&(p.yAxisScale[r]=[]);var w=Math.abs(u-s);x.logarithmic&&w<=5&&(p.invalidLogScale=!0),x.logarithmic&&w>5?(p.allSeriesCollapsed=!1,p.yAxisScale[r]=this.logarithmicScale(s,u,x.logBase),p.yAxisScale[r]=x.forceNiceScale?this.logarithmicScaleNice(s,u,x.logBase):this.logarithmicScale(s,u,x.logBase)):u!==-Number.MAX_VALUE&&Ye.isNumber(u)?(p.allSeriesCollapsed=!1,p.yAxisScale[r]=void 0===x.min&&void 0===x.max||x.forceNiceScale?this.niceScale(s,u,x.tickAmount?x.tickAmount:w<5&&w>1?w+1:5,r,void 0===y.yaxis[r].max&&void 0===y.yaxis[r].min||y.yaxis[r].forceNiceScale):this.linearScale(s,u,x.tickAmount,r)):p.yAxisScale[r]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(r,s){var u=this.w,p=u.globals,y=u.config.xaxis,x=Math.abs(s-r);return p.xAxisScale=s!==-Number.MAX_VALUE&&Ye.isNumber(s)?this.linearScale(r,s,y.tickAmount?y.tickAmount:x<5&&x>1?x+1:5,0):this.linearScale(0,5,5),p.xAxisScale}},{key:"setMultipleYScales",value:function(){var r=this,s=this.w.globals,u=this.w.config,p=s.minYArr.concat([]),y=s.maxYArr.concat([]),x=[];u.yaxis.forEach(function(w,I){var P=I;u.series.forEach(function(z,X){z.name===w.seriesName&&(P=X,x.push(I!==X?{index:X,similarIndex:I,alreadyExists:!0}:{index:X}))}),r.setYScaleForIndex(I,p[P],y[P])}),this.sameScaleInMultipleAxes(p,y,x)}},{key:"sameScaleInMultipleAxes",value:function(r,s,u){var p=this,y=this.w.config,x=this.w.globals,w=[];u.forEach(function(ie){ie.alreadyExists&&(void 0===w[ie.index]&&(w[ie.index]=[]),w[ie.index].push(ie.index),w[ie.index].push(ie.similarIndex))}),x.yAxisSameScaleIndices=w,w.forEach(function(ie,me){w.forEach(function(Ae,Ve){var D,Z;me!==Ve&&(D=ie,Z=Ae,D.filter(function(ce){return-1!==Z.indexOf(ce)})).length>0&&(w[me]=w[me].concat(w[Ve]))})});var I=w.map(function(ie){return ie.filter(function(me,Ae){return ie.indexOf(me)===Ae})}).map(function(ie){return ie.sort()});w=w.filter(function(ie){return!!ie});var P=I.slice(),N=P.map(function(ie){return JSON.stringify(ie)});P=P.filter(function(ie,me){return N.indexOf(JSON.stringify(ie))===me});var F=[],z=[];r.forEach(function(ie,me){P.forEach(function(Ae,Ve){Ae.indexOf(me)>-1&&(void 0===F[Ve]&&(F[Ve]=[],z[Ve]=[]),F[Ve].push({key:me,value:ie}),z[Ve].push({key:me,value:s[me]}))})});var X=Array.apply(null,Array(P.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),le=Array.apply(null,Array(P.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);F.forEach(function(ie,me){ie.forEach(function(Ae,Ve){X[me]=Math.min(Ae.value,X[me])})}),z.forEach(function(ie,me){ie.forEach(function(Ae,Ve){le[me]=Math.max(Ae.value,le[me])})}),r.forEach(function(ie,me){z.forEach(function(Ae,Ve){var D=X[Ve],Z=le[Ve];y.chart.stacked&&(Z=0,Ae.forEach(function(ce,xe){ce.value!==-Number.MAX_VALUE&&(Z+=ce.value),D!==Number.MIN_VALUE&&(D+=F[Ve][xe].value)})),Ae.forEach(function(ce,xe){Ae[xe].key===me&&(void 0!==y.yaxis[me].min&&(D="function"==typeof y.yaxis[me].min?y.yaxis[me].min(x.minY):y.yaxis[me].min),void 0!==y.yaxis[me].max&&(Z="function"==typeof y.yaxis[me].max?y.yaxis[me].max(x.maxY):y.yaxis[me].max),p.setYScaleForIndex(me,D,Z))})})})}},{key:"autoScaleY",value:function(r,s,u){r||(r=this);var p=r.w;if(p.globals.isMultipleYAxis||p.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),s;var y=p.globals.seriesX[0],x=p.config.chart.stacked;return s.forEach(function(w,I){for(var P=0,N=0;N<y.length;N++)if(y[N]>=u.xaxis.min){P=N;break}var F,z,X=p.globals.minYArr[I],le=p.globals.maxYArr[I],ie=p.globals.stackedSeriesTotals;p.globals.series.forEach(function(me,Ae){var Ve=me[P];x?(F=z=Ve=ie[P],ie.forEach(function(D,Z){y[Z]<=u.xaxis.max&&y[Z]>=u.xaxis.min&&(D>z&&null!==D&&(z=D),me[Z]<F&&null!==me[Z]&&(F=me[Z]))})):(F=z=Ve,me.forEach(function(D,Z){if(y[Z]<=u.xaxis.max&&y[Z]>=u.xaxis.min){var ce=D,xe=D;p.globals.series.forEach(function(Pe,ze){null!==D&&(ce=Math.min(Pe[Z],ce),xe=Math.max(Pe[Z],xe))}),xe>z&&null!==xe&&(z=xe),ce<F&&null!==ce&&(F=ce)}})),void 0===F&&void 0===z&&(F=X,z=le),z*=z<0?.9:1.1,0==(F*=F<0?1.1:.9)&&0===z&&(F=-1,z=1),z<0&&z<le&&(z=le),F<0&&F>X&&(F=X),s.length>1?(s[Ae].min=void 0===w.min?F:w.min,s[Ae].max=void 0===w.max?z:w.max):(s[0].min=void 0===w.min?F:w.min,s[0].max=void 0===w.max?z:w.max)})}),s}}]),ye}(),gn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.scales=new li(r)}return je(ye,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,y=this.w.config,x=this.w.globals,w=-Number.MAX_VALUE,I=Number.MIN_VALUE;null===p&&(p=r+1);var P=x.series,N=P,F=P;"candlestick"===y.chart.type?(N=x.seriesCandleL,F=x.seriesCandleH):"boxPlot"===y.chart.type?(N=x.seriesCandleO,F=x.seriesCandleC):x.isRangeData&&(N=x.seriesRangeStart,F=x.seriesRangeEnd);for(var z=r;z<p;z++){x.dataPoints=Math.max(x.dataPoints,P[z].length),x.categoryLabels.length&&(x.dataPoints=x.categoryLabels.filter(function(ie){return void 0!==ie}).length),x.labels.length&&(x.dataPoints=Math.max(x.dataPoints,x.labels.length));for(var X=0;X<x.series[z].length;X++){var le=P[z][X];null!==le&&Ye.isNumber(le)?(void 0!==F[z][X]&&(w=Math.max(w,F[z][X]),s=Math.min(s,F[z][X])),void 0!==N[z][X]&&(s=Math.min(s,N[z][X]),u=Math.max(u,N[z][X])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==x.seriesCandleC[z][X]&&(w=Math.max(w,x.seriesCandleO[z][X]),w=Math.max(w,x.seriesCandleH[z][X]),w=Math.max(w,x.seriesCandleL[z][X]),w=Math.max(w,x.seriesCandleC[z][X]),"boxPlot"===this.w.config.chart.type&&(w=Math.max(w,x.seriesCandleM[z][X]))),!y.series[z].type||"candlestick"===y.series[z].type&&"boxPlot"===y.series[z].type&&"rangeArea"===y.series[z].type&&"rangeBar"===y.series[z].type||(w=Math.max(w,x.series[z][X]),s=Math.min(s,x.series[z][X])),u=w),x.seriesGoals[z]&&x.seriesGoals[z][X]&&Array.isArray(x.seriesGoals[z][X])&&x.seriesGoals[z][X].forEach(function(ie){I!==Number.MIN_VALUE&&(I=Math.min(I,ie.value),s=I),w=Math.max(w,ie.value),u=w}),Ye.isFloat(le)&&(le=Ye.noExponents(le),x.yValueDecimal=Math.max(x.yValueDecimal,le.toString().split(".")[1].length)),I>N[z][X]&&N[z][X]<0&&(I=N[z][X])):x.hasNullValues=!0}}return"rangeBar"===y.chart.type&&x.seriesRangeStart.length&&x.isBarHorizontal&&(I=s),"bar"===y.chart.type&&(I<0&&w<0&&(w=0),I===Number.MIN_VALUE&&(I=0)),{minY:I,maxY:w,lowestY:s,highestY:u}}},{key:"setYRange",value:function(){var r=this.w.globals,s=this.w.config;r.maxY=-Number.MAX_VALUE,r.minY=Number.MIN_VALUE;var u=Number.MAX_VALUE;if(r.isMultipleYAxis)for(var p=0;p<r.series.length;p++){var y=this.getMinYMaxY(p,u,null,p+1);r.minYArr.push(y.minY),r.maxYArr.push(y.maxY),u=y.lowestY}var x=this.getMinYMaxY(0,u,null,r.series.length);if(r.minY=x.minY,r.maxY=x.maxY,u=x.lowestY,s.chart.stacked&&this._setStackedMinMax(),("line"===s.chart.type||"area"===s.chart.type||"candlestick"===s.chart.type||"boxPlot"===s.chart.type||"rangeBar"===s.chart.type&&!r.isBarHorizontal)&&r.minY===Number.MIN_VALUE&&u!==-Number.MAX_VALUE&&u!==r.maxY){var w=r.maxY-u;(u>=0&&u<=10||void 0!==s.yaxis[0].min||void 0!==s.yaxis[0].max)&&(w=0),r.minY=u-5*w/100,u>0&&r.minY<0&&(r.minY=0),r.maxY=r.maxY+5*w/100}return s.yaxis.forEach(function(I,P){void 0!==I.max&&("number"==typeof I.max?r.maxYArr[P]=I.max:"function"==typeof I.max&&(r.maxYArr[P]=I.max(r.isMultipleYAxis?r.maxYArr[P]:r.maxY)),r.maxY=r.maxYArr[P]),void 0!==I.min&&("number"==typeof I.min?r.minYArr[P]=I.min:"function"==typeof I.min&&(r.minYArr[P]=I.min(r.isMultipleYAxis?r.minYArr[P]===Number.MIN_VALUE?0:r.minYArr[P]:r.minY)),r.minY=r.minYArr[P])}),r.isBarHorizontal&&["min","max"].forEach(function(I){void 0!==s.xaxis[I]&&"number"==typeof s.xaxis[I]&&("min"===I?r.minY=s.xaxis[I]:r.maxY=s.xaxis[I])}),r.isMultipleYAxis?(this.scales.setMultipleYScales(),r.minY=u,r.yAxisScale.forEach(function(I,P){r.minYArr[P]=I.niceMin,r.maxYArr[P]=I.niceMax})):(this.scales.setYScaleForIndex(0,r.minY,r.maxY),r.minY=r.yAxisScale[0].niceMin,r.maxY=r.yAxisScale[0].niceMax,r.minYArr[0]=r.yAxisScale[0].niceMin,r.maxYArr[0]=r.yAxisScale[0].niceMax),{minY:r.minY,maxY:r.maxY,minYArr:r.minYArr,maxYArr:r.maxYArr,yAxisScale:r.yAxisScale}}},{key:"setXRange",value:function(){var r=this.w.globals,s=this.w.config,u="numeric"===s.xaxis.type||"datetime"===s.xaxis.type||"category"===s.xaxis.type&&!r.noLabelsProvided||r.noLabelsProvided||r.isXNumeric;if(r.isXNumeric&&function(){for(var w=0;w<r.series.length;w++)if(r.labels[w])for(var I=0;I<r.labels[w].length;I++)null!==r.labels[w][I]&&Ye.isNumber(r.labels[w][I])&&(r.maxX=Math.max(r.maxX,r.labels[w][I]),r.initialMaxX=Math.max(r.maxX,r.labels[w][I]),r.minX=Math.min(r.minX,r.labels[w][I]),r.initialMinX=Math.min(r.minX,r.labels[w][I]))}(),r.noLabelsProvided&&0===s.xaxis.categories.length&&(r.maxX=r.labels[r.labels.length-1],r.initialMaxX=r.labels[r.labels.length-1],r.minX=1,r.initialMinX=1),r.isXNumeric||r.noLabelsProvided||r.dataFormatXNumeric){var p;if(void 0===s.xaxis.tickAmount?(p=Math.round(r.svgWidth/150),"numeric"===s.xaxis.type&&r.dataPoints<30&&(p=r.dataPoints-1),p>r.dataPoints&&0!==r.dataPoints&&(p=r.dataPoints-1)):"dataPoints"===s.xaxis.tickAmount?(r.series.length>1&&(p=r.series[r.maxValsInArrayIndex].length-1),r.isXNumeric&&(p=r.maxX-r.minX-1)):p=s.xaxis.tickAmount,r.xTickAmount=p,void 0!==s.xaxis.max&&"number"==typeof s.xaxis.max&&(r.maxX=s.xaxis.max),void 0!==s.xaxis.min&&"number"==typeof s.xaxis.min&&(r.minX=s.xaxis.min),void 0!==s.xaxis.range&&(r.minX=r.maxX-s.xaxis.range),r.minX!==Number.MAX_VALUE&&r.maxX!==-Number.MAX_VALUE)if(s.xaxis.convertedCatToNumeric&&!r.dataFormatXNumeric){for(var y=[],x=r.minX-1;x<r.maxX;x++)y.push(x+1);r.xAxisScale={result:y,niceMin:y[0],niceMax:y[y.length-1]}}else r.xAxisScale=this.scales.setXScale(r.minX,r.maxX);else r.xAxisScale=this.scales.linearScale(1,p,p),r.noLabelsProvided&&r.labels.length>0&&(r.xAxisScale=this.scales.linearScale(1,r.labels.length,p-1),r.seriesX=r.labels.slice());u&&(r.labels=r.xAxisScale.result.slice())}return r.isBarHorizontal&&r.labels.length&&(r.xTickAmount=r.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:r.minX,maxX:r.maxX}}},{key:"setZRange",value:function(){var r=this.w.globals;if(r.isDataXYZ)for(var s=0;s<r.series.length;s++)if(void 0!==r.seriesZ[s])for(var u=0;u<r.seriesZ[s].length;u++)null!==r.seriesZ[s][u]&&Ye.isNumber(r.seriesZ[s][u])&&(r.maxZ=Math.max(r.maxZ,r.seriesZ[s][u]),r.minZ=Math.min(r.minZ,r.seriesZ[s][u]))}},{key:"_handleSingleDataPoint",value:function(){var r=this.w.globals,s=this.w.config;if(r.minX===r.maxX){var u=new In(this.ctx);if("datetime"===s.xaxis.type){var p=u.getDate(r.minX);s.xaxis.labels.datetimeUTC?p.setUTCDate(p.getUTCDate()-2):p.setDate(p.getDate()-2),r.minX=new Date(p).getTime();var y=u.getDate(r.maxX);s.xaxis.labels.datetimeUTC?y.setUTCDate(y.getUTCDate()+2):y.setDate(y.getDate()+2),r.maxX=new Date(y).getTime()}else("numeric"===s.xaxis.type||"category"===s.xaxis.type&&!r.noLabelsProvided)&&(r.minX=r.minX-2,r.initialMinX=r.minX,r.maxX=r.maxX+2,r.initialMaxX=r.maxX)}}},{key:"_getMinXDiff",value:function(){var r=this.w.globals;r.isXNumeric&&r.seriesX.forEach(function(s,u){1===s.length&&s.push(r.seriesX[r.maxValsInArrayIndex][r.seriesX[r.maxValsInArrayIndex].length-1]);var p=s.slice();p.sort(function(y,x){return y-x}),p.forEach(function(y,x){if(x>0){var w=y-p[x-1];w>0&&(r.minXDiff=Math.min(w,r.minXDiff))}}),1!==r.dataPoints&&r.minXDiff!==Number.MAX_VALUE||(r.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var r=this,s=this.w.globals;if(s.series.length){var u=s.seriesGroups;u.length||(u=[this.w.config.series.map(function(x){return x.name})]);var p={},y={};u.forEach(function(x){p[x]=[],y[x]=[],r.w.config.series.map(function(w,I){return x.indexOf(w.name)>-1?I:null}).filter(function(w){return null!==w}).forEach(function(w){for(var I=0;I<s.series[s.maxValsInArrayIndex].length;I++)void 0===p[x][I]&&(p[x][I]=0,y[x][I]=0),null!==s.series[w][I]&&Ye.isNumber(s.series[w][I])&&(s.series[w][I]>0?p[x][I]+=parseFloat(s.series[w][I])+1e-4:y[x][I]+=parseFloat(s.series[w][I]))})}),Object.entries(p).forEach(function(x){var w=ct(x,1)[0];p[w].forEach(function(I,P){s.maxY=Math.max(s.maxY,p[w][P]),s.minY=Math.min(s.minY,y[w][P])})})}}}]),ye}(),Si=function(){function ye(r,s){l(this,ye),this.ctx=r,this.elgrid=s,this.w=r.w;var u=this.w;this.xaxisFontSize=u.config.xaxis.labels.style.fontSize,this.axisFontFamily=u.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=u.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===u.config.chart.type&&u.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===u.config.xaxis.position&&(this.xAxisoffX=u.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Rn(r)}return je(ye,[{key:"drawYaxis",value:function(r){var s=this,u=this.w,p=new et(this.ctx),y=u.config.yaxis[r].labels.style,x=y.fontSize,w=y.fontFamily,I=y.fontWeight,P=p.group({class:"apexcharts-yaxis",rel:r,transform:"translate("+u.globals.translateYAxisX[r]+", 0)"});if(this.axesUtils.isYAxisHidden(r))return P;var N=p.group({class:"apexcharts-yaxis-texts-g"});P.add(N);var F=u.globals.yAxisScale[r].result.length-1,z=u.globals.gridHeight/F,X=u.globals.translateY,le=u.globals.yLabelFormatters[r],ie=u.globals.yAxisScale[r].result.slice();ie=this.axesUtils.checkForReversedLabels(r,ie);var me="";if(u.config.yaxis[r].labels.show)for(var Ae=function(Ke){var st=ie[Ke];st=le(st,Ke,u);var Tt=u.config.yaxis[r].labels.padding;u.config.yaxis[r].opposite&&0!==u.config.yaxis.length&&(Tt*=-1);var $t="end";u.config.yaxis[r].opposite&&($t="start"),"left"===u.config.yaxis[r].labels.align?$t="start":"center"===u.config.yaxis[r].labels.align?$t="middle":"right"===u.config.yaxis[r].labels.align&&($t="end");var zt=s.axesUtils.getYAxisForeColor(y.colors,r),Ht=p.drawText({x:Tt,y:X+F/10+u.config.yaxis[r].labels.offsetY+1,text:st,textAnchor:$t,fontSize:x,fontFamily:w,fontWeight:I,maxWidth:u.config.yaxis[r].labels.maxWidth,foreColor:Array.isArray(zt)?zt[Ke]:zt,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+y.cssClass});Ke===F&&(me=Ht),N.add(Ht);var zn=document.createElementNS(u.globals.SVGNS,"title");if(zn.textContent=Array.isArray(st)?st.join(" "):st,Ht.node.appendChild(zn),0!==u.config.yaxis[r].labels.rotate){var Qn=p.rotateAroundCenter(me.node),di=p.rotateAroundCenter(Ht.node);Ht.node.setAttribute("transform","rotate(".concat(u.config.yaxis[r].labels.rotate," ").concat(Qn.x," ").concat(di.y,")"))}X+=z},Ve=F;Ve>=0;Ve--)Ae(Ve);if(void 0!==u.config.yaxis[r].title.text){var D=p.group({class:"apexcharts-yaxis-title"}),Z=0;u.config.yaxis[r].opposite&&(Z=u.globals.translateYAxisX[r]);var ce=p.drawText({x:Z,y:u.globals.gridHeight/2+u.globals.translateY+u.config.yaxis[r].title.offsetY,text:u.config.yaxis[r].title.text,textAnchor:"end",foreColor:u.config.yaxis[r].title.style.color,fontSize:u.config.yaxis[r].title.style.fontSize,fontWeight:u.config.yaxis[r].title.style.fontWeight,fontFamily:u.config.yaxis[r].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[r].title.style.cssClass});D.add(ce),P.add(D)}var xe=u.config.yaxis[r].axisBorder,Pe=31+xe.offsetX;if(u.config.yaxis[r].opposite&&(Pe=-31-xe.offsetX),xe.show){var ze=p.drawLine(Pe,u.globals.translateY+xe.offsetY-2,Pe,u.globals.gridHeight+u.globals.translateY+xe.offsetY+2,xe.color,0,xe.width);P.add(ze)}return u.config.yaxis[r].axisTicks.show&&this.axesUtils.drawYAxisTicks(Pe,F,xe,u.config.yaxis[r].axisTicks,r,z,P),P}},{key:"drawYaxisInversed",value:function(r){var s=this.w,u=new et(this.ctx),p=u.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),y=u.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(s.globals.translateXAxisX,", ").concat(s.globals.translateXAxisY,")")});p.add(y);var x=s.globals.yAxisScale[r].result.length-1,w=s.globals.gridWidth/x+.1,I=w+s.config.xaxis.labels.offsetX,P=s.globals.xLabelFormatter,N=s.globals.yAxisScale[r].result.slice(),F=s.globals.timescaleLabels;F.length>0&&(this.xaxisLabels=F.slice(),x=(N=F.slice()).length),N=this.axesUtils.checkForReversedLabels(r,N);var z=F.length;if(s.config.xaxis.labels.show)for(var X=z?0:x;z?X<z:X>=0;z?X++:X--){var le=N[X];le=P(le,X,s);var ie=s.globals.gridWidth+s.globals.padHorizontal-(I-w+s.config.xaxis.labels.offsetX);if(F.length){var me=this.axesUtils.getLabel(N,F,ie,X,this.drawnLabels,this.xaxisFontSize);ie=me.x,le=me.text,this.drawnLabels.push(me.text),0===X&&s.globals.skipFirstTimelinelabel&&(le=""),X===N.length-1&&s.globals.skipLastTimelinelabel&&(le="")}var Ae=u.drawText({x:ie,y:this.xAxisoffX+s.config.xaxis.labels.offsetY+30-("top"===s.config.xaxis.position?s.globals.xAxisHeight+s.config.xaxis.axisTicks.height-2:0),text:le,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[r]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:s.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+s.config.xaxis.labels.style.cssClass});y.add(Ae),Ae.tspan(le);var Ve=document.createElementNS(s.globals.SVGNS,"title");Ve.textContent=le,Ae.node.appendChild(Ve),I+=w}return this.inversedYAxisTitleText(p),this.inversedYAxisBorder(p),p}},{key:"inversedYAxisBorder",value:function(r){var s=this.w,u=new et(this.ctx),p=s.config.xaxis.axisBorder;if(p.show){var y=0;"bar"===s.config.chart.type&&s.globals.isXNumeric&&(y-=15);var x=u.drawLine(s.globals.padHorizontal+y+p.offsetX,this.xAxisoffX,s.globals.gridWidth,this.xAxisoffX,p.color,0,p.height);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(x):r.add(x)}}},{key:"inversedYAxisTitleText",value:function(r){var s=this.w,u=new et(this.ctx);if(void 0!==s.config.xaxis.title.text){var p=u.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),y=u.drawText({x:s.globals.gridWidth/2+s.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(s.config.xaxis.title.style.fontSize)+s.config.xaxis.title.offsetY+20,text:s.config.xaxis.title.text,textAnchor:"middle",fontSize:s.config.xaxis.title.style.fontSize,fontFamily:s.config.xaxis.title.style.fontFamily,fontWeight:s.config.xaxis.title.style.fontWeight,foreColor:s.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+s.config.xaxis.title.style.cssClass});p.add(y),r.add(p)}}},{key:"yAxisTitleRotate",value:function(r,s){var u=this.w,p=new et(this.ctx),y={width:0,height:0},x={width:0,height:0},w=u.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-texts-g"));null!==w&&(y=w.getBoundingClientRect());var I=u.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-title text"));if(null!==I&&(x=I.getBoundingClientRect()),null!==I){var P=this.xPaddingForYAxisTitle(r,y,x,s);I.setAttribute("x",P.xPos-(s?10:0))}if(null!==I){var N=p.rotateAroundCenter(I);I.setAttribute("transform","rotate(".concat(s?-1*u.config.yaxis[r].title.rotate:u.config.yaxis[r].title.rotate," ").concat(N.x," ").concat(N.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(r,s,u,p){var y=this.w,x=0,w=0,I=10;return void 0===y.config.yaxis[r].title.text||r<0?{xPos:w,padd:0}:(p?(w=s.width+y.config.yaxis[r].title.offsetX+u.width/2+I/2,0===(x+=1)&&(w-=I/2)):(w=-1*s.width+y.config.yaxis[r].title.offsetX+I/2+u.width/2,y.globals.isBarHorizontal&&(w=-1*s.width-y.config.yaxis[r].title.offsetX-(I=25))),{xPos:w,padd:I})}},{key:"setYAxisXPosition",value:function(r,s){var u=this.w,p=0,y=0,x=18,w=1;u.config.yaxis.length>1&&(this.multipleYs=!0),u.config.yaxis.map(function(I,P){var N=u.globals.ignoreYAxisIndexes.indexOf(P)>-1||!I.show||I.floating||0===r[P].width,F=r[P].width+s[P].width;I.opposite?u.globals.isBarHorizontal?u.globals.translateYAxisX[P]=(y=u.globals.gridWidth+u.globals.translateX-1)-I.labels.offsetX:(y=u.globals.gridWidth+u.globals.translateX+w,N||(w=w+F+20),u.globals.translateYAxisX[P]=y-I.labels.offsetX+20):(p=u.globals.translateX-x,N||(x=x+F+20),u.globals.translateYAxisX[P]=p+I.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var r=this.w,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(s=Ye.listToArray(s)).forEach(function(u,p){var y=r.config.yaxis[p];if(y&&!y.floating&&void 0!==y.labels.align){var x=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(p,"'] .apexcharts-yaxis-texts-g")),w=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(p,"'] .apexcharts-yaxis-label"));w=Ye.listToArray(w);var I=x.getBoundingClientRect();"left"===y.labels.align?(w.forEach(function(P,N){P.setAttribute("text-anchor","start")}),y.opposite||x.setAttribute("transform","translate(-".concat(I.width,", 0)"))):"center"===y.labels.align?(w.forEach(function(P,N){P.setAttribute("text-anchor","middle")}),x.setAttribute("transform","translate(".concat(I.width/2*(y.opposite?1:-1),", 0)"))):"right"===y.labels.align&&(w.forEach(function(P,N){P.setAttribute("text-anchor","end")}),y.opposite&&x.setAttribute("transform","translate(".concat(I.width,", 0)")))}})}}]),ye}(),sr=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.documentEvent=Ye.bind(this.documentEvent,this)}return je(ye,[{key:"addEventListener",value:function(r,s){var u=this.w;u.globals.events.hasOwnProperty(r)?u.globals.events[r].push(s):u.globals.events[r]=[s]}},{key:"removeEventListener",value:function(r,s){var u=this.w;if(u.globals.events.hasOwnProperty(r)){var p=u.globals.events[r].indexOf(s);-1!==p&&u.globals.events[r].splice(p,1)}}},{key:"fireEvent",value:function(r,s){var u=this.w;if(u.globals.events.hasOwnProperty(r)){s&&s.length||(s=[]);for(var p=u.globals.events[r],y=p.length,x=0;x<y;x++)p[x].apply(null,s)}}},{key:"setupEventHandlers",value:function(){var r=this,s=this.w,u=this.ctx,p=s.globals.dom.baseEl.querySelector(s.globals.chartClass);this.ctx.eventList.forEach(function(y){p.addEventListener(y,function(x){var w=Object.assign({},s,{seriesIndex:s.globals.capturedSeriesIndex,dataPointIndex:s.globals.capturedDataPointIndex});"mousemove"===x.type||"touchmove"===x.type?"function"==typeof s.config.chart.events.mouseMove&&s.config.chart.events.mouseMove(x,u,w):"mouseleave"===x.type||"touchleave"===x.type?"function"==typeof s.config.chart.events.mouseLeave&&s.config.chart.events.mouseLeave(x,u,w):("mouseup"===x.type&&1===x.which||"touchend"===x.type)&&("function"==typeof s.config.chart.events.click&&s.config.chart.events.click(x,u,w),u.ctx.events.fireEvent("click",[x,u,w]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(y){s.globals.dom.baseEl.addEventListener(y,r.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(r){var s=this.w,u=r.target.className;if("click"===r.type){var p=s.globals.dom.baseEl.querySelector(".apexcharts-menu");p&&p.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==u&&p.classList.remove("apexcharts-menu-open")}s.globals.clientX="touchmove"===r.type?r.touches[0].clientX:r.clientX,s.globals.clientY="touchmove"===r.type?r.touches[0].clientY:r.clientY}}]),ye}(),Bi=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"setCurrentLocaleValues",value:function(r){var s=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(s=this.w.config.chart.locales.concat(window.Apex.chart.locales));var u=s.filter(function(y){return y.name===r})[0];if(!u)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var p=Ye.extend(vn,u);this.w.globals.locale=p.options}}]),ye}(),ki=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"drawAxis",value:function(r,s){var u,p,y=this,x=this.w.globals,w=this.w.config,I=new Di(this.ctx,s),P=new Si(this.ctx,s);x.axisCharts&&"radar"!==r&&(x.isBarHorizontal?(p=P.drawYaxisInversed(0),u=I.drawXaxisInversed(0),x.dom.elGraphical.add(u),x.dom.elGraphical.add(p)):(u=I.drawXaxis(),x.dom.elGraphical.add(u),w.yaxis.map(function(N,F){if(-1===x.ignoreYAxisIndexes.indexOf(F)&&(p=P.drawYaxis(F),x.dom.Paper.add(p),"back"===y.w.config.grid.position)){var z=x.dom.Paper.children()[1];z.remove(),x.dom.Paper.add(z)}})))}}]),ye}(),Pi=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"drawXCrosshairs",value:function(){var r=this.w,s=new et(this.ctx),u=new un(this.ctx),p=r.config.xaxis.crosshairs.fill.gradient,y=r.config.xaxis.crosshairs.dropShadow,z=y.enabled,X=y.left,le=y.top,ie=y.blur,me=y.color,Ae=y.opacity,Ve=r.config.xaxis.crosshairs.fill.color;if(r.config.xaxis.crosshairs.show){"gradient"===r.config.xaxis.crosshairs.fill.type&&(Ve=s.drawGradient("vertical",p.colorFrom,p.colorTo,p.opacityFrom,p.opacityTo,null,p.stops,null));var D=s.drawRect();1===r.config.xaxis.crosshairs.width&&(D=s.drawLine());var Z=r.globals.gridHeight;(!Ye.isNumber(Z)||Z<0)&&(Z=0);var ce=r.config.xaxis.crosshairs.width;(!Ye.isNumber(ce)||ce<0)&&(ce=0),D.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Z,width:ce,height:Z,fill:Ve,filter:"none","fill-opacity":r.config.xaxis.crosshairs.opacity,stroke:r.config.xaxis.crosshairs.stroke.color,"stroke-width":r.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":r.config.xaxis.crosshairs.stroke.dashArray}),z&&(D=u.dropShadow(D,{left:X,top:le,blur:ie,color:me,opacity:Ae})),r.globals.dom.elGraphical.add(D)}}},{key:"drawYCrosshairs",value:function(){var r=this.w,s=new et(this.ctx),u=r.config.yaxis[0].crosshairs,p=r.globals.barPadForNumericAxis;if(r.config.yaxis[0].crosshairs.show){var y=s.drawLine(-p,0,r.globals.gridWidth+p,0,u.stroke.color,u.stroke.dashArray,u.stroke.width);y.attr({class:"apexcharts-ycrosshairs"}),r.globals.dom.elGraphical.add(y)}var x=s.drawLine(-p,0,r.globals.gridWidth+p,0,u.stroke.color,0,0);x.attr({class:"apexcharts-ycrosshairs-hidden"}),r.globals.dom.elGraphical.add(x)}}]),ye}(),qi=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"checkResponsiveConfig",value:function(r){var s=this,u=this.w,p=u.config;if(0!==p.responsive.length){var y=p.responsive.slice();y.sort(function(P,N){return P.breakpoint>N.breakpoint?1:N.breakpoint>P.breakpoint?-1:0}).reverse();var x=new Gt({}),w=function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=y[0].breakpoint,F=window.innerWidth>0?window.innerWidth:screen.width;if(F>N){var z=jt.extendArrayProps(x,u.globals.initialConfig,u);P=Ye.extend(z,P),P=Ye.extend(u.config,P),s.overrideResponsiveOptions(P)}else for(var X=0;X<y.length;X++)F<y[X].breakpoint&&(P=jt.extendArrayProps(x,y[X].options,u),P=Ye.extend(u.config,P),s.overrideResponsiveOptions(P))};if(r){var I=jt.extendArrayProps(x,r,u);I=Ye.extend(u.config,I),w(I=Ye.extend(I,r))}else w({})}}},{key:"overrideResponsiveOptions",value:function(r){var s=new Gt(r).init({responsiveOverride:!0});this.w.config=s}}]),ye}(),Un=function(){function ye(r){l(this,ye),this.ctx=r,this.colors=[],this.w=r.w;var s=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===s.config.chart.type&&s.config.plotOptions.treemap.distributed||"heatmap"===s.config.chart.type&&s.config.plotOptions.heatmap.distributed,this.isBarDistributed=s.config.plotOptions.bar.distributed&&("bar"===s.config.chart.type||"rangeBar"===s.config.chart.type)}return je(ye,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var r,s=this,u=this.w,p=new Ye;if(u.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(u.config.theme.mode)),void 0===u.config.colors||0===(null===(r=u.config.colors)||void 0===r?void 0:r.length)?u.globals.colors=this.predefined():(u.globals.colors=u.config.colors,Array.isArray(u.config.colors)&&u.config.colors.length>0&&"function"==typeof u.config.colors[0]&&(u.globals.colors=u.config.series.map(function(le,ie){var me=u.config.colors[ie];return me||(me=u.config.colors[0]),"function"==typeof me?(s.isColorFn=!0,me({value:u.globals.axisCharts?u.globals.series[ie][0]?u.globals.series[ie][0]:0:u.globals.series[ie],seriesIndex:ie,dataPointIndex:ie,w:u})):me}))),u.globals.seriesColors.map(function(le,ie){le&&(u.globals.colors[ie]=le)}),u.config.theme.monochrome.enabled){var y=[],x=u.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(x=u.globals.series[0].length*u.globals.series.length);for(var w=u.config.theme.monochrome.color,I=1/(x/u.config.theme.monochrome.shadeIntensity),P=u.config.theme.monochrome.shadeTo,N=0,F=0;F<x;F++){var z=void 0;"dark"===P?(z=p.shadeColor(-1*N,w),N+=I):(z=p.shadeColor(N,w),N+=I),y.push(z)}u.globals.colors=y.slice()}var X=u.globals.colors.slice();this.pushExtraColors(u.globals.colors),["fill","stroke"].forEach(function(le){u.globals[le].colors=void 0===u.config[le].colors?s.isColorFn?u.config.colors:X:u.config[le].colors.slice(),s.pushExtraColors(u.globals[le].colors)}),u.globals.dataLabels.style.colors=void 0===u.config.dataLabels.style.colors?X:u.config.dataLabels.style.colors.slice(),this.pushExtraColors(u.globals.dataLabels.style.colors,50),u.globals.radarPolygons.fill.colors=void 0===u.config.plotOptions.radar.polygons.fill.colors?["dark"===u.config.theme.mode?"#424242":"none"]:u.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(u.globals.radarPolygons.fill.colors,20),u.globals.markers.colors=void 0===u.config.markers.colors?X:u.config.markers.colors.slice(),this.pushExtraColors(u.globals.markers.colors)}},{key:"pushExtraColors",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=this.w,y=s||p.globals.series.length;if(null===u&&(u=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===p.config.chart.type&&p.config.plotOptions.heatmap.colorScale.inverse),u&&p.globals.series.length&&(y=p.globals.series[p.globals.maxValsInArrayIndex].length*p.globals.series.length),r.length<y)for(var x=y-r.length,w=0;w<x;w++)r.push(r[w])}},{key:"updateThemeOptions",value:function(r){r.chart=r.chart||{},r.tooltip=r.tooltip||{};var s=r.theme.mode||"light",u=r.theme.palette?r.theme.palette:"dark"===s?"palette4":"palette1",p=r.chart.foreColor?r.chart.foreColor:"dark"===s?"#f6f7f8":"#373d3f";return r.tooltip.theme=s,r.chart.foreColor=p,r.theme.palette=u,r}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),ye}(),Dn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(r){var s=this.w,u="title"===r?s.config.title:s.config.subtitle,p=s.globals.svgWidth/2,y=u.offsetY,x="middle";if("left"===u.align?(p=10,x="start"):"right"===u.align&&(p=s.globals.svgWidth-10,x="end"),p+=u.offsetX,y=y+parseInt(u.style.fontSize,10)+u.margin/2,void 0!==u.text){var w=new et(this.ctx).drawText({x:p,y,text:u.text,textAnchor:x,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,foreColor:u.style.color,opacity:1});w.node.setAttribute("class","apexcharts-".concat(r,"-text")),s.globals.dom.Paper.add(w)}}}]),ye}(),Rs=function(){function ye(r){l(this,ye),this.w=r.w,this.dCtx=r}return je(ye,[{key:"getTitleSubtitleCoords",value:function(r){var s=this.w,u=0,p=0,y="title"===r?s.config.title.floating:s.config.subtitle.floating,x=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-text"));if(null!==x&&!y){var w=x.getBoundingClientRect();u=w.width,p=s.globals.axisCharts?w.height+5:w.height}return{width:u,height:p}}},{key:"getLegendsRect",value:function(){var r=this.w,s=r.globals.dom.elLegendWrap;r.config.legend.height||"top"!==r.config.legend.position&&"bottom"!==r.config.legend.position||(s.style.maxHeight=r.globals.svgHeight/2+"px");var u=Object.assign({},Ye.getBoundingClientRect(s));return this.dCtx.lgRect=null!==s&&!r.config.legend.floating&&r.config.legend.show?{x:u.x,y:u.y,height:u.height,width:0===u.height?0:u.width}:{x:0,y:0,height:0,width:0},"left"!==r.config.legend.position&&"right"!==r.config.legend.position||1.5*this.dCtx.lgRect.width>r.globals.svgWidth&&(this.dCtx.lgRect.width=r.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(r,s){var u=r;if(this.w.globals.isMultiLineX){var p=s.map(function(x,w){return Array.isArray(x)?x.length:1}),y=Math.max.apply(Math,Ft(p));u=s[p.indexOf(y)]}return u}}]),ye}(),Oi=function(){function ye(r){l(this,ye),this.w=r.w,this.dCtx=r}return je(ye,[{key:"getxAxisLabelsCoords",value:function(){var r,s=this.w,u=s.globals.labels.slice();if(s.config.xaxis.convertedCatToNumeric&&0===u.length&&(u=s.globals.categoryLabels),s.globals.timescaleLabels.length>0){var p=this.getxAxisTimeScaleLabelsCoords();r={width:p.width,height:p.height},s.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==s.config.legend.position&&"right"!==s.config.legend.position||s.config.legend.floating?0:this.dCtx.lgRect.width;var y=s.globals.xLabelFormatter,x=Ye.getLargestStringFromArr(u),w=this.dCtx.dimHelpers.getLargestStringFromMultiArr(x,u);s.globals.isBarHorizontal&&(w=x=s.globals.yAxisScale[0].result.reduce(function(le,ie){return le.length>ie.length?le:ie},0));var I=new mn(this.dCtx.ctx),P=x;x=I.xLabelFormat(y,x,P,{i:void 0,dateFormatter:new In(this.dCtx.ctx).formatDate,w:s}),w=I.xLabelFormat(y,w,P,{i:void 0,dateFormatter:new In(this.dCtx.ctx).formatDate,w:s}),(s.config.xaxis.convertedCatToNumeric&&void 0===x||""===String(x).trim())&&(w=x="1");var N=new et(this.dCtx.ctx),F=N.getTextRects(x,s.config.xaxis.labels.style.fontSize),z=F;if(x!==w&&(z=N.getTextRects(w,s.config.xaxis.labels.style.fontSize)),(r={width:F.width>=z.width?F.width:z.width,height:F.height>=z.height?F.height:z.height}).width*u.length>s.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==s.config.xaxis.labels.rotate||s.config.xaxis.labels.rotateAlways){if(!s.globals.isBarHorizontal){s.globals.rotateXLabels=!0;var X=function(le){return N.getTextRects(le,s.config.xaxis.labels.style.fontSize,s.config.xaxis.labels.style.fontFamily,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1)};F=X(x),x!==w&&(z=X(w)),r.height=(F.height>z.height?F.height:z.height)/1.5,r.width=F.width>z.width?F.width:z.width}}else s.globals.rotateXLabels=!1}return s.config.xaxis.labels.show||(r={width:0,height:0}),{width:r.width,height:r.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var r,s=this.w;if(!s.globals.hasXaxisGroups)return{width:0,height:0};var u,p=(null===(r=s.config.xaxis.group.style)||void 0===r?void 0:r.fontSize)||s.config.xaxis.labels.style.fontSize,y=s.globals.groups.map(function(F){return F.title}),x=Ye.getLargestStringFromArr(y),w=this.dCtx.dimHelpers.getLargestStringFromMultiArr(x,y),I=new et(this.dCtx.ctx),P=I.getTextRects(x,p),N=P;return x!==w&&(N=I.getTextRects(w,p)),u={width:P.width>=N.width?P.width:N.width,height:P.height>=N.height?P.height:N.height},s.config.xaxis.labels.show||(u={width:0,height:0}),{width:u.width,height:u.height}}},{key:"getxAxisTitleCoords",value:function(){var r=this.w,s=0,u=0;if(void 0!==r.config.xaxis.title.text){var p=new et(this.dCtx.ctx).getTextRects(r.config.xaxis.title.text,r.config.xaxis.title.style.fontSize);s=p.width,u=p.height}return{width:s,height:u}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var r,s=this.w;this.dCtx.timescaleLabels=s.globals.timescaleLabels.slice();var u=this.dCtx.timescaleLabels.map(function(y){return y.value}),p=u.reduce(function(y,x){return void 0===y?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):y.length>x.length?y:x},0);return 1.05*(r=new et(this.dCtx.ctx).getTextRects(p,s.config.xaxis.labels.style.fontSize)).width*u.length>s.globals.gridWidth&&0!==s.config.xaxis.labels.rotate&&(s.globals.overlappingXLabels=!0),r}},{key:"additionalPaddingXLabels",value:function(r){var s=this,u=this.w,p=u.globals,y=u.config,x=y.xaxis.type,w=r.width;p.skipLastTimelinelabel=!1,p.skipFirstTimelinelabel=!1;var I=u.config.yaxis[0].opposite&&u.globals.isBarHorizontal;y.yaxis.forEach(function(N,F){I?(s.dCtx.gridPad.left<w&&(s.dCtx.xPadLeft=w/2+1),s.dCtx.xPadRight=w/2+1):function(N,F){y.yaxis.length>1&&-1!==p.collapsedSeriesIndices.indexOf(F)||function(z){if(s.dCtx.timescaleLabels&&s.dCtx.timescaleLabels.length){var ie=s.dCtx.timescaleLabels[0].position-w/1.75+s.dCtx.yAxisWidthLeft;s.dCtx.timescaleLabels[s.dCtx.timescaleLabels.length-1].position+w/1.75-s.dCtx.yAxisWidthRight>p.svgWidth-p.translateX-("right"===u.config.legend.position&&s.dCtx.lgRect.width>0?s.dCtx.lgRect.width:0)&&(p.skipLastTimelinelabel=!0),ie<-(z.show&&!z.floating||"bar"!==y.chart.type&&"candlestick"!==y.chart.type&&"rangeBar"!==y.chart.type&&"boxPlot"!==y.chart.type?10:w/1.75)&&(p.skipFirstTimelinelabel=!0)}else"datetime"===x?s.dCtx.gridPad.right<w&&!p.rotateXLabels&&(p.skipLastTimelinelabel=!0):"datetime"!==x&&s.dCtx.gridPad.right<w/2-s.dCtx.yAxisWidthRight&&!p.rotateXLabels&&!u.config.xaxis.labels.trim&&("between"!==u.config.xaxis.tickPlacement||u.globals.isBarHorizontal)&&(s.dCtx.xPadRight=w/2+1)}(N)}(N,F)})}}]),ye}(),Hi=function(){function ye(r){l(this,ye),this.w=r.w,this.dCtx=r}return je(ye,[{key:"getyAxisLabelsCoords",value:function(){var r=this,s=this.w,u=[],p=10,y=new Rn(this.dCtx.ctx);return s.config.yaxis.map(function(x,w){var I=s.globals.yAxisScale[w],P=0;if(!y.isYAxisHidden(w)&&x.labels.show&&void 0!==x.labels.minWidth&&(P=x.labels.minWidth),!y.isYAxisHidden(w)&&x.labels.show&&I.result.length){var N=s.globals.yLabelFormatters[w],F=I.niceMin===Number.MIN_VALUE?0:I.niceMin,z=String(F).length>String(I.niceMax).length?F:I.niceMax,X=N(z,{seriesIndex:w,dataPointIndex:-1,w:s}),le=X;if(void 0!==X&&0!==X.length||(X=z),s.globals.isBarHorizontal){p=0;var ie=s.globals.labels.slice();X=N(X=Ye.getLargestStringFromArr(ie),{seriesIndex:w,dataPointIndex:-1,w:s}),le=r.dCtx.dimHelpers.getLargestStringFromMultiArr(X,ie)}var me=new et(r.dCtx.ctx),Ae="rotate(".concat(x.labels.rotate," 0 0)"),Ve=me.getTextRects(X,x.labels.style.fontSize,x.labels.style.fontFamily,Ae,!1),D=Ve;X!==le&&(D=me.getTextRects(le,x.labels.style.fontSize,x.labels.style.fontFamily,Ae,!1)),u.push({width:(P>D.width||P>Ve.width?P:D.width>Ve.width?D.width:Ve.width)+p,height:D.height>Ve.height?D.height:Ve.height})}else u.push({width:0,height:0})}),u}},{key:"getyAxisTitleCoords",value:function(){var r=this,u=[];return this.w.config.yaxis.map(function(p,y){if(p.show&&void 0!==p.title.text){var x=new et(r.dCtx.ctx),w="rotate(".concat(p.title.rotate," 0 0)"),I=x.getTextRects(p.title.text,p.title.style.fontSize,p.title.style.fontFamily,w,!1);u.push({width:I.width,height:I.height})}else u.push({width:0,height:0})}),u}},{key:"getTotalYAxisWidth",value:function(){var r=this.w,s=0,u=0,p=0,y=r.globals.yAxisScale.length>1?10:0,x=new Rn(this.dCtx.ctx),w=function(I,P){var N=r.config.yaxis[P].floating,F=0;I.width>0&&!N?(F=I.width+y,r.globals.ignoreYAxisIndexes.indexOf(P)>-1&&(F=F-I.width-y)):F=N||x.isYAxisHidden(P)?0:5,r.config.yaxis[P].opposite?p+=F:u+=F,s+=F};return r.globals.yLabelsCoords.map(function(I,P){w(I,P)}),r.globals.yTitleCoords.map(function(I,P){w(I,P)}),r.globals.isBarHorizontal&&!r.config.yaxis[0].floating&&(s=r.globals.yLabelsCoords[0].width+r.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=u,this.dCtx.yAxisWidthRight=p,s}}]),ye}(),xr=function(){function ye(r){l(this,ye),this.w=r.w,this.dCtx=r}return je(ye,[{key:"gridPadForColumnsInNumericAxis",value:function(r){var s=this.w;if(s.globals.noData||s.globals.allSeriesCollapsed)return 0;var u=function(N){return"bar"===N||"rangeBar"===N||"candlestick"===N||"boxPlot"===N},p=s.config.chart.type,y=0,x=u(p)?s.config.series.length:1;if(s.globals.comboBarCount>0&&(x=s.globals.comboBarCount),s.globals.collapsedSeries.forEach(function(N){u(N.type)&&(x-=1)}),s.config.chart.stacked&&(x=1),(u(p)||s.globals.comboBarCount>0)&&s.globals.isXNumeric&&!s.globals.isBarHorizontal&&x>0){var w,I,P=Math.abs(s.globals.initialMaxX-s.globals.initialMinX);P<=3&&(P=s.globals.dataPoints),w=P/r,s.globals.minXDiff&&s.globals.minXDiff/w>0&&(I=s.globals.minXDiff/w),I>r/2&&(I/=2),(y=I/x*parseInt(s.config.plotOptions.bar.columnWidth,10)/100)<1&&(y=1),s.globals.barPadForNumericAxis=y=y/(x>1?1:1.5)+5}return y}},{key:"gridPadFortitleSubtitle",value:function(){var r=this,s=this.w,u=s.globals,p=this.dCtx.isSparkline||!s.globals.axisCharts?0:10;["title","subtitle"].forEach(function(w){p+=void 0!==s.config[w].text?s.config[w].margin:r.dCtx.isSparkline||!s.globals.axisCharts?0:5}),!s.config.legend.show||"bottom"!==s.config.legend.position||s.config.legend.floating||s.globals.axisCharts||(p+=10);var y=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),x=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");u.gridHeight=u.gridHeight-y.height-x.height-p,u.translateY=u.translateY+y.height+x.height+p}},{key:"setGridXPosForDualYAxis",value:function(r,s){var u=this.w,p=new Rn(this.dCtx.ctx);u.config.yaxis.map(function(y,x){-1!==u.globals.ignoreYAxisIndexes.indexOf(x)||y.floating||p.isYAxisHidden(x)||(y.opposite&&(u.globals.translateX=u.globals.translateX-(s[x].width+r[x].width)-parseInt(u.config.yaxis[x].labels.style.fontSize,10)/1.2-12),u.globals.translateX<2&&(u.globals.translateX=2))})}}]),ye}(),ni=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Rs(this),this.dimYAxis=new Hi(this),this.dimXAxis=new Oi(this),this.dimGrid=new xr(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return je(ye,[{key:"plotCoords",value:function(){var r=this,s=this.w,u=s.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(s.config.markers.discrete.length>0||s.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(y){var x=ct(y,2);r.gridPad[x[0]]=Math.max(x[1],r.w.globals.markers.largestSize/1.5)}),u.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),u.gridHeight=u.gridHeight-this.gridPad.top-this.gridPad.bottom,u.gridWidth=u.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var p=this.dimGrid.gridPadForColumnsInNumericAxis(u.gridWidth);u.gridWidth=u.gridWidth-2*p,u.translateX=u.translateX+this.gridPad.left+this.xPadLeft+(p>0?p+4:0),u.translateY=u.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var r=this,s=this.w,u=s.globals,p=this.dimYAxis.getyAxisLabelsCoords(),y=this.dimYAxis.getyAxisTitleCoords();s.globals.yLabelsCoords=[],s.globals.yTitleCoords=[],s.config.yaxis.map(function(X,le){s.globals.yLabelsCoords.push({width:p[le].width,index:le}),s.globals.yTitleCoords.push({width:y[le].width,index:le})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var x=this.dimXAxis.getxAxisLabelsCoords(),w=this.dimXAxis.getxAxisGroupLabelsCoords(),I=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(x,I,w),u.translateXAxisY=s.globals.rotateXLabels?this.xAxisHeight/8:-4,u.translateXAxisX=s.globals.rotateXLabels&&s.globals.isXNumeric&&s.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,s.globals.isBarHorizontal&&(u.rotateXLabels=!1,u.translateXAxisY=parseInt(s.config.xaxis.labels.style.fontSize,10)/1.5*-1),u.translateXAxisY=u.translateXAxisY+s.config.xaxis.labels.offsetY,u.translateXAxisX=u.translateXAxisX+s.config.xaxis.labels.offsetX;var P=this.yAxisWidth,N=this.xAxisHeight;u.xAxisLabelsHeight=this.xAxisHeight-I.height,u.xAxisGroupLabelsHeight=u.xAxisLabelsHeight-x.height,u.xAxisLabelsWidth=this.xAxisWidth,u.xAxisHeight=this.xAxisHeight;var F=10;("radar"===s.config.chart.type||this.isSparkline)&&(P=0,N=u.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===s.config.chart.type)&&(P=0,N=0,F=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(x);var z=function(){u.translateX=P,u.gridHeight=u.svgHeight-r.lgRect.height-N-(r.isSparkline||"treemap"===s.config.chart.type?0:s.globals.rotateXLabels?10:15),u.gridWidth=u.svgWidth-P};switch("top"===s.config.xaxis.position&&(F=u.xAxisHeight-s.config.xaxis.axisTicks.height-5),s.config.legend.position){case"bottom":u.translateY=F,z();break;case"top":u.translateY=this.lgRect.height+F,z();break;case"left":u.translateY=F,u.translateX=this.lgRect.width+P,u.gridHeight=u.svgHeight-N-12,u.gridWidth=u.svgWidth-this.lgRect.width-P;break;case"right":u.translateY=F,u.translateX=P,u.gridHeight=u.svgHeight-N-12,u.gridWidth=u.svgWidth-this.lgRect.width-P-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(y,p),new Si(this.ctx).setYAxisXPosition(p,y)}},{key:"setDimensionsForNonAxisCharts",value:function(){var r=this.w,s=r.globals,u=r.config,p=0;r.config.legend.show&&!r.config.legend.floating&&(p=20);var y="pie"===u.chart.type||"polarArea"===u.chart.type||"donut"===u.chart.type?"pie":"radialBar",x=u.plotOptions[y].offsetY,w=u.plotOptions[y].offsetX;if(!u.legend.show||u.legend.floating)return s.gridHeight=s.svgHeight-u.grid.padding.left+u.grid.padding.right,s.gridWidth=s.gridHeight,s.translateY=x,void(s.translateX=w+(s.svgWidth-s.gridWidth)/2);switch(u.legend.position){case"bottom":s.gridHeight=s.svgHeight-this.lgRect.height-s.goldenPadding,s.gridWidth=s.svgWidth,s.translateY=x-10,s.translateX=w+(s.svgWidth-s.gridWidth)/2;break;case"top":s.gridHeight=s.svgHeight-this.lgRect.height-s.goldenPadding,s.gridWidth=s.svgWidth,s.translateY=this.lgRect.height+x+10,s.translateX=w+(s.svgWidth-s.gridWidth)/2;break;case"left":s.gridWidth=s.svgWidth-this.lgRect.width-p,s.gridHeight="auto"!==u.chart.height?s.svgHeight:s.gridWidth,s.translateY=x,s.translateX=w+this.lgRect.width+p;break;case"right":s.gridWidth=s.svgWidth-this.lgRect.width-p-5,s.gridHeight="auto"!==u.chart.height?s.svgHeight:s.gridWidth,s.translateY=x,s.translateX=w+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(r,s,u){var p=this.w;this.xAxisHeight=(u.height+r.height+s.height)*(p.globals.isMultiLineX?1.2:p.globals.LINE_HEIGHT_RATIO)+(p.globals.hasXaxisGroups?2:1)*(p.globals.rotateXLabels?22:10)+(p.globals.rotateXLabels&&"bottom"===p.config.legend.position?10:0),this.xAxisWidth=r.width,this.xAxisHeight-s.height>p.config.xaxis.labels.maxHeight&&(this.xAxisHeight=p.config.xaxis.labels.maxHeight),p.config.xaxis.labels.minHeight&&this.xAxisHeight<p.config.xaxis.labels.minHeight&&(this.xAxisHeight=p.config.xaxis.labels.minHeight),p.config.xaxis.floating&&(this.xAxisHeight=0);var N=0,F=0;p.config.yaxis.forEach(function(z){N+=z.labels.minWidth,F+=z.labels.maxWidth}),this.yAxisWidth<N&&(this.yAxisWidth=N),this.yAxisWidth>F&&(this.yAxisWidth=F)}}]),ye}(),ti=function(){function ye(r){l(this,ye),this.w=r.w,this.lgCtx=r}return je(ye,[{key:"getLegendStyles",value:function(){var r=document.createElement("style");r.setAttribute("type","text/css");var s=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return r.appendChild(s),r}},{key:"getLegendBBox",value:function(){var r=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:r.height,clww:r.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(r,s){var u=this,p=this.w;if(p.globals.axisCharts||"radialBar"===p.config.chart.type){p.globals.resized=!0;var y=null,x=null;p.globals.risingSeries=[],p.globals.axisCharts?(y=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),x=parseInt(y.getAttribute("data:realIndex"),10)):(y=p.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")),x=parseInt(y.getAttribute("rel"),10)-1),s?[{cs:p.globals.collapsedSeries,csi:p.globals.collapsedSeriesIndices},{cs:p.globals.ancillaryCollapsedSeries,csi:p.globals.ancillaryCollapsedSeriesIndices}].forEach(function(N){u.riseCollapsedSeries(N.cs,N.csi,x)}):this.hideSeries({seriesEl:y,realIndex:x})}else{var w=p.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(r+1,"'] path")),I=p.config.chart.type;if("pie"===I||"polarArea"===I||"donut"===I){var P=p.config.plotOptions.pie.donut.labels;new et(this.lgCtx.ctx).pathMouseDown(w.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(w.members[0].node,P)}w.fire("click")}}},{key:"hideSeries",value:function(r){var s=r.seriesEl,u=r.realIndex,p=this.w,y=Ye.clone(p.config.series);if(p.globals.axisCharts){var x=!1;if(p.config.yaxis[u]&&p.config.yaxis[u].show&&p.config.yaxis[u].showAlways&&(x=!0,p.globals.ancillaryCollapsedSeriesIndices.indexOf(u)<0&&(p.globals.ancillaryCollapsedSeries.push({index:u,data:y[u].data.slice(),type:s.parentNode.className.baseVal.split("-")[1]}),p.globals.ancillaryCollapsedSeriesIndices.push(u))),!x){p.globals.collapsedSeries.push({index:u,data:y[u].data.slice(),type:s.parentNode.className.baseVal.split("-")[1]}),p.globals.collapsedSeriesIndices.push(u);var w=p.globals.risingSeries.indexOf(u);p.globals.risingSeries.splice(w,1)}}else p.globals.collapsedSeries.push({index:u,data:y[u]}),p.globals.collapsedSeriesIndices.push(u);for(var I=s.childNodes,P=0;P<I.length;P++)I[P].classList.contains("apexcharts-series-markers-wrap")&&(I[P].classList.contains("apexcharts-hide")?I[P].classList.remove("apexcharts-hide"):I[P].classList.add("apexcharts-hide"));p.globals.allSeriesCollapsed=p.globals.collapsedSeries.length===p.config.series.length,y=this._getSeriesBasedOnCollapsedState(y),this.lgCtx.ctx.updateHelpers._updateSeries(y,p.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(r,s,u){var p=this.w,y=Ye.clone(p.config.series);if(r.length>0){for(var x=0;x<r.length;x++)r[x].index===u&&(p.globals.axisCharts?(y[u].data=r[x].data.slice(),r.splice(x,1),s.splice(x,1),p.globals.risingSeries.push(u)):(y[u]=r[x].data,r.splice(x,1),s.splice(x,1),p.globals.risingSeries.push(u)));y=this._getSeriesBasedOnCollapsedState(y),this.lgCtx.ctx.updateHelpers._updateSeries(y,p.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(r){var s=this.w;return r.forEach(s.globals.axisCharts?function(u,p){s.globals.collapsedSeriesIndices.indexOf(p)>-1&&(r[p].data=[])}:function(u,p){s.globals.collapsedSeriesIndices.indexOf(p)>-1&&(r[p]=0)}),r}}]),ye}(),ln=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ti(this)}return je(ye,[{key:"init",value:function(){var r=this.w,s=r.globals,u=r.config;if((u.legend.showForSingleSeries&&1===s.series.length||this.isBarsDistributed||s.series.length>1||!s.axisCharts)&&u.legend.show){for(;s.dom.elLegendWrap.firstChild;)s.dom.elLegendWrap.removeChild(s.dom.elLegendWrap.firstChild);this.drawLegends(),Ye.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===u.legend.position||"top"===u.legend.position?this.legendAlignHorizontal():"right"!==u.legend.position&&"left"!==u.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var r=this,s=this.w,u=s.config.legend.fontFamily,p=s.globals.seriesNames,y=s.globals.colors.slice();if("heatmap"===s.config.chart.type){var x=s.config.plotOptions.heatmap.colorScale.ranges;p=x.map(function($t){return $t.name?$t.name:$t.from+" - "+$t.to}),y=x.map(function($t){return $t.color})}else this.isBarsDistributed&&(p=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(p=s.config.legend.customLegendItems);for(var w=s.globals.legendFormatter,I=s.config.legend.inverseOrder,P=I?p.length-1:0;I?P>=0:P<=p.length-1;I?P--:P++){var N=w(p[P],{seriesIndex:P,w:s}),F=!1,z=!1;if(s.globals.collapsedSeries.length>0)for(var X=0;X<s.globals.collapsedSeries.length;X++)s.globals.collapsedSeries[X].index===P&&(F=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var le=0;le<s.globals.ancillaryCollapsedSeriesIndices.length;le++)s.globals.ancillaryCollapsedSeriesIndices[le]===P&&(z=!0);var ie=document.createElement("span");ie.classList.add("apexcharts-legend-marker");var me=s.config.legend.markers.offsetX,Ae=s.config.legend.markers.offsetY,Ve=s.config.legend.markers.height,D=s.config.legend.markers.width,Z=s.config.legend.markers.strokeWidth,ce=s.config.legend.markers.strokeColor,xe=s.config.legend.markers.radius,Pe=ie.style;Pe.background=y[P],Pe.color=y[P],Pe.setProperty("background",y[P],"important"),s.config.legend.markers.fillColors&&s.config.legend.markers.fillColors[P]&&(Pe.background=s.config.legend.markers.fillColors[P]),void 0!==s.globals.seriesColors[P]&&(Pe.background=s.globals.seriesColors[P],Pe.color=s.globals.seriesColors[P]),Pe.height=Array.isArray(Ve)?parseFloat(Ve[P])+"px":parseFloat(Ve)+"px",Pe.width=Array.isArray(D)?parseFloat(D[P])+"px":parseFloat(D)+"px",Pe.left=(Array.isArray(me)?parseFloat(me[P]):parseFloat(me))+"px",Pe.top=(Array.isArray(Ae)?parseFloat(Ae[P]):parseFloat(Ae))+"px",Pe.borderWidth=Array.isArray(Z)?Z[P]:Z,Pe.borderColor=Array.isArray(ce)?ce[P]:ce,Pe.borderRadius=Array.isArray(xe)?parseFloat(xe[P])+"px":parseFloat(xe)+"px",s.config.legend.markers.customHTML&&(Array.isArray(s.config.legend.markers.customHTML)?s.config.legend.markers.customHTML[P]&&(ie.innerHTML=s.config.legend.markers.customHTML[P]()):ie.innerHTML=s.config.legend.markers.customHTML()),et.setAttrs(ie,{rel:P+1,"data:collapsed":F||z}),(F||z)&&ie.classList.add("apexcharts-inactive-legend");var ze=document.createElement("div"),Ke=document.createElement("span");Ke.classList.add("apexcharts-legend-text"),Ke.innerHTML=Array.isArray(N)?N.join(" "):N;var st=s.config.legend.labels.useSeriesColors?s.globals.colors[P]:s.config.legend.labels.colors;st||(st=s.config.chart.foreColor),Ke.style.color=st,Ke.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",Ke.style.fontWeight=s.config.legend.fontWeight,Ke.style.fontFamily=u||s.config.chart.fontFamily,et.setAttrs(Ke,{rel:P+1,i:P,"data:default-text":encodeURIComponent(N),"data:collapsed":F||z}),ze.appendChild(ie),ze.appendChild(Ke);var Tt=new jt(this.ctx);s.config.legend.showForZeroSeries||0===Tt.getSeriesTotalByIndex(P)&&Tt.seriesHaveSameValues(P)&&!Tt.isSeriesNull(P)&&-1===s.globals.collapsedSeriesIndices.indexOf(P)&&-1===s.globals.ancillaryCollapsedSeriesIndices.indexOf(P)&&ze.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||Tt.isSeriesNull(P)&&-1===s.globals.collapsedSeriesIndices.indexOf(P)&&-1===s.globals.ancillaryCollapsedSeriesIndices.indexOf(P)&&ze.classList.add("apexcharts-hidden-null-series"),s.globals.dom.elLegendWrap.appendChild(ze),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),ze.classList.add("apexcharts-legend-series"),ze.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",et.setAttrs(ze,{rel:P+1,seriesName:Ye.escapeString(p[P]),"data:collapsed":F||z}),(F||z)&&ze.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||ze.classList.add("apexcharts-no-click")}s.globals.dom.elWrap.addEventListener("click",r.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&0===s.config.legend.customLegendItems.length&&(s.globals.dom.elWrap.addEventListener("mousemove",r.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",r.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(r,s){var u=this.w,p=u.globals.dom.elLegendWrap,y=p.getBoundingClientRect(),x=0,w=0;if("bottom"===u.config.legend.position)w+=u.globals.svgHeight-y.height/2;else if("top"===u.config.legend.position){var I=new ni(this.ctx),P=I.dimHelpers.getTitleSubtitleCoords("title").height,N=I.dimHelpers.getTitleSubtitleCoords("subtitle").height;w=w+(P>0?P-10:0)+(N>0?N-10:0)}p.style.position="absolute",w=w+s+u.config.legend.offsetY,p.style.left=(x=x+r+u.config.legend.offsetX)+"px",p.style.top=w+"px","bottom"===u.config.legend.position?(p.style.top="auto",p.style.bottom=5-u.config.legend.offsetY+"px"):"right"===u.config.legend.position&&(p.style.left="auto",p.style.right=25+u.config.legend.offsetX+"px"),["width","height"].forEach(function(F){p.style[F]&&(p.style[F]=parseInt(u.config.legend[F],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var r=this.w;r.globals.dom.elLegendWrap.style.right=0;var s=this.legendHelpers.getLegendBBox(),u=new ni(this.ctx),p=u.dimHelpers.getTitleSubtitleCoords("title"),y=u.dimHelpers.getTitleSubtitleCoords("subtitle"),x=0;"bottom"===r.config.legend.position?x=-s.clwh/1.8:"top"===r.config.legend.position&&(x=p.height+y.height+r.config.title.margin+r.config.subtitle.margin-10),this.setLegendWrapXY(20,x)}},{key:"legendAlignVertical",value:function(){var r=this.w,s=this.legendHelpers.getLegendBBox(),u=0;"left"===r.config.legend.position&&(u=20),"right"===r.config.legend.position&&(u=r.globals.svgWidth-s.clww-10),this.setLegendWrapXY(u,20)}},{key:"onLegendHovered",value:function(r){var s=this.w,u=r.target.classList.contains("apexcharts-legend-text")||r.target.classList.contains("apexcharts-legend-marker");if("heatmap"===s.config.chart.type||this.isBarsDistributed){if(u){var p=parseInt(r.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,p,this.w]),new Pn(this.ctx).highlightRangeInSeries(r,r.target)}}else!r.target.classList.contains("apexcharts-inactive-legend")&&u&&new Pn(this.ctx).toggleSeriesOnHover(r,r.target)}},{key:"onLegendClick",value:function(r){var s=this.w;if(!s.config.legend.customLegendItems.length&&(r.target.classList.contains("apexcharts-legend-text")||r.target.classList.contains("apexcharts-legend-marker"))){var u=parseInt(r.target.getAttribute("rel"),10)-1,p="true"===r.target.getAttribute("data:collapsed"),y=this.w.config.chart.events.legendClick;"function"==typeof y&&y(this.ctx,u,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,u,this.w]);var x=this.w.config.legend.markers.onClick;"function"==typeof x&&r.target.classList.contains("apexcharts-legend-marker")&&(x(this.ctx,u,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,u,this.w])),"treemap"!==s.config.chart.type&&"heatmap"!==s.config.chart.type&&!this.isBarsDistributed&&s.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(u,p)}}}]),ye}(),es=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w;var s=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=s.globals.minX,this.maxX=s.globals.maxX}return je(ye,[{key:"createToolbar",value:function(){var r=this,s=this.w,u=function(){return document.createElement("div")},p=u();if(p.setAttribute("class","apexcharts-toolbar"),p.style.top=s.config.chart.toolbar.offsetY+"px",p.style.right=3-s.config.chart.toolbar.offsetX+"px",s.globals.dom.elWrap.appendChild(p),this.elZoom=u(),this.elZoomIn=u(),this.elZoomOut=u(),this.elPan=u(),this.elSelection=u(),this.elZoomReset=u(),this.elMenuIcon=u(),this.elMenu=u(),this.elCustomIcons=[],this.t=s.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var y=0;y<this.t.customIcons.length;y++)this.elCustomIcons.push(u());var x=[],w=function(F,z,X){var le=F.toLowerCase();r.t[le]&&s.config.chart.zoom.enabled&&x.push({el:z,icon:"string"==typeof r.t[le]?r.t[le]:X,title:r.localeValues[F],class:"apexcharts-".concat(le,"-icon")})};w("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),w("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var I=function(F){r.t[F]&&s.config.chart[F].enabled&&x.push({el:"zoom"===F?r.elZoom:r.elSelection,icon:"string"==typeof r.t[F]?r.t[F]:"zoom"===F?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:r.localeValues["zoom"===F?"selectionZoom":"selection"],class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(F,"-icon")})};I("zoom"),I("selection"),this.t.pan&&s.config.chart.zoom.enabled&&x.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),w("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&x.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var P=0;P<this.elCustomIcons.length;P++)x.push({el:this.elCustomIcons[P],icon:this.t.customIcons[P].icon,title:this.t.customIcons[P].title,index:this.t.customIcons[P].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[P].class});x.forEach(function(F,z){F.index&&Ye.moveIndexInArray(x,z,F.index)});for(var N=0;N<x.length;N++)et.setAttrs(x[N].el,{class:x[N].class,title:x[N].title}),x[N].el.innerHTML=x[N].icon,p.appendChild(x[N].el);this._createHamburgerMenu(p),s.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):s.globals.panEnabled?this.elPan.classList.add(this.selectedClass):s.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(r){this.elMenuItems=[],r.appendChild(this.elMenu),et.setAttrs(this.elMenu,{class:"apexcharts-menu"});var s=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||s.splice(2,1);for(var u=0;u<s.length;u++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[u].innerHTML=s[u].title,et.setAttrs(this.elMenuItems[u],{class:"apexcharts-menu-item ".concat(s[u].name),title:s[u].title}),this.elMenu.appendChild(this.elMenuItems[u])}},{key:"addToolbarEventListeners",value:function(){var r=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(u){u.classList.contains("exportSVG")?u.addEventListener("click",r.handleDownload.bind(r,"svg")):u.classList.contains("exportPNG")?u.addEventListener("click",r.handleDownload.bind(r,"png")):u.classList.contains("exportCSV")&&u.addEventListener("click",r.handleDownload.bind(r,"csv"))});for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons[s].addEventListener("click",this.t.customIcons[s].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(r){this.ctx.getSyncedCharts().forEach(function(s){s.ctx.toolbar.toggleOtherControls();var u="selection"===r?s.ctx.toolbar.elSelection:s.ctx.toolbar.elZoom,p="selection"===r?"selectionEnabled":"zoomEnabled";s.w.globals[p]=!s.w.globals[p],u.classList.contains(s.ctx.toolbar.selectedClass)?u.classList.remove(s.ctx.toolbar.selectedClass):u.classList.add(s.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var r=this.w;this.elZoom||(this.elZoom=r.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=r.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=r.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(r){this.toggleOtherControls(),"pan"===r?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var s="pan"===r?this.elPan:this.elZoom,u="pan"===r?this.elZoom:this.elPan;s&&s.classList.add(this.selectedClass),u&&u.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls(),r.w.globals.panEnabled=!r.w.globals.panEnabled,r.ctx.toolbar.elPan.classList.contains(r.ctx.toolbar.selectedClass)?r.ctx.toolbar.elPan.classList.remove(r.ctx.toolbar.selectedClass):r.ctx.toolbar.elPan.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var r=this,s=this.w;s.globals.panEnabled=!1,s.globals.zoomEnabled=!1,s.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(u){u&&u.classList.remove(r.selectedClass)})}},{key:"handleZoomIn",value:function(){var r=this.w;r.globals.isRangeBar&&(this.minX=r.globals.minY,this.maxX=r.globals.maxY);var s=(this.minX+this.maxX)/2,y=this._getNewMinXMaxX((this.minX+s)/2,(this.maxX+s)/2);r.globals.disableZoomIn||this.zoomUpdateOptions(y.minX,y.maxX)}},{key:"handleZoomOut",value:function(){var r=this.w;if(r.globals.isRangeBar&&(this.minX=r.globals.minY,this.maxX=r.globals.maxY),!("datetime"===r.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var s=(this.minX+this.maxX)/2,y=this._getNewMinXMaxX(this.minX-(s-this.minX),this.maxX-(s-this.maxX));r.globals.disableZoomOut||this.zoomUpdateOptions(y.minX,y.maxX)}}},{key:"_getNewMinXMaxX",value:function(r,s){var u=this.w.config.xaxis.convertedCatToNumeric;return{minX:u?Math.floor(r):r,maxX:u?Math.floor(s):s}}},{key:"zoomUpdateOptions",value:function(r,s){var u=this.w;if(void 0!==r||void 0!==s){if(!(u.config.xaxis.convertedCatToNumeric&&(r<1&&(r=1,s=u.globals.dataPoints),s-r<2))){var p={min:r,max:s},y=this.getBeforeZoomRange(p);y&&(p=y.xaxis);var x={xaxis:p},w=Ye.clone(u.globals.initialConfig.yaxis);u.config.chart.zoom.autoScaleYaxis&&(w=new li(this.ctx).autoScaleY(this.ctx,w,{xaxis:p})),u.config.chart.group||(x.yaxis=w),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(x,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(p,w)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(r,s){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:r,yaxis:s})}},{key:"getBeforeZoomRange",value:function(r,s){var u=null;return"function"==typeof this.ev.beforeZoom&&(u=this.ev.beforeZoom(this,{xaxis:r,yaxis:s})),u}},{key:"toggleMenu",value:function(){var r=this;window.setTimeout(function(){r.elMenu.classList.contains("apexcharts-menu-open")?r.elMenu.classList.remove("apexcharts-menu-open"):r.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(r){var s=this.w,u=new ui(this.ctx);switch(r){case"svg":u.exportToSVG(this.ctx);break;case"png":u.exportToPng(this.ctx);break;case"csv":u.exportToCSV({series:s.config.series,columnDelimiter:s.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(r){this.ctx.getSyncedCharts().forEach(function(s){var u=s.w;if(u.globals.lastXAxis.min=void 0,u.globals.lastXAxis.max=void 0,s.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof u.config.chart.events.beforeResetZoom){var p=u.config.chart.events.beforeResetZoom(s,u);p&&s.updateHelpers.revertDefaultAxisMinMax(p)}"function"==typeof u.config.chart.events.zoomed&&s.ctx.toolbar.zoomCallback({min:u.config.xaxis.min,max:u.config.xaxis.max}),u.globals.zoomed=!1;var y=s.ctx.series.emptyCollapsedSeries(Ye.clone(u.globals.initialSeries));s.updateHelpers._updateSeries(y,u.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),ye}(),cr=function(ye){vt(s,es);var r=Jt(s);function s(u){var p;return l(this,s),(p=r.call(this,u)).ctx=u,p.w=u.w,p.dragged=!1,p.graphics=new et(p.ctx),p.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],p.clientX=0,p.clientY=0,p.startX=0,p.endX=0,p.dragX=0,p.startY=0,p.endY=0,p.dragY=0,p.moveDirection="none",p}return je(s,[{key:"init",value:function(u){var p=this,y=u.xyRatios,x=this.w,w=this;this.xyRatios=y,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=x.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),x.globals.dom.elGraphical.add(this.zoomRect),x.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===x.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:x.globals.gridWidth,maxY:x.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===x.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:x.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=x.globals.dom.baseEl.querySelector("".concat(x.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(I){p.hoverArea.addEventListener(I,w.svgMouseEvents.bind(w,y),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(u,p){var y=this.w,x=this,w=this.ctx.toolbar,I=y.globals.zoomEnabled?y.config.chart.zoom.type:y.config.chart.selection.type,P=y.config.chart.toolbar.autoSelected;if(p.shiftKey?(this.shiftWasPressed=!0,w.enableZoomPanFromToolbar("pan"===P?"zoom":"pan")):this.shiftWasPressed&&(w.enableZoomPanFromToolbar(P),this.shiftWasPressed=!1),p.target){var N,F=p.target.classList;if(p.target.parentNode&&null!==p.target.parentNode&&(N=p.target.parentNode.classList),!(F.contains("apexcharts-selection-rect")||F.contains("apexcharts-legend-marker")||F.contains("apexcharts-legend-text")||N&&N.contains("apexcharts-toolbar"))){if(x.clientX="touchmove"===p.type||"touchstart"===p.type?p.touches[0].clientX:"touchend"===p.type?p.changedTouches[0].clientX:p.clientX,x.clientY="touchmove"===p.type||"touchstart"===p.type?p.touches[0].clientY:"touchend"===p.type?p.changedTouches[0].clientY:p.clientY,"mousedown"===p.type&&1===p.which){var z=x.gridRect.getBoundingClientRect();x.startX=x.clientX-z.left,x.startY=x.clientY-z.top,x.dragged=!1,x.w.globals.mousedown=!0}if(("mousemove"===p.type&&1===p.which||"touchmove"===p.type)&&(x.dragged=!0,y.globals.panEnabled?(y.globals.selection=null,x.w.globals.mousedown&&x.panDragging({context:x,zoomtype:I,xyRatios:u})):(x.w.globals.mousedown&&y.globals.zoomEnabled||x.w.globals.mousedown&&y.globals.selectionEnabled)&&(x.selection=x.selectionDrawing({context:x,zoomtype:I}))),"mouseup"===p.type||"touchend"===p.type||"mouseleave"===p.type){var X=x.gridRect.getBoundingClientRect();x.w.globals.mousedown&&(x.endX=x.clientX-X.left,x.endY=x.clientY-X.top,x.dragX=Math.abs(x.endX-x.startX),x.dragY=Math.abs(x.endY-x.startY),(y.globals.zoomEnabled||y.globals.selectionEnabled)&&x.selectionDrawn({context:x,zoomtype:I}),y.globals.panEnabled&&y.config.xaxis.convertedCatToNumeric&&x.delayedPanScrolled()),y.globals.zoomEnabled&&x.hideSelectionRect(this.selectionRect),x.dragged=!1,x.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var u=this.w;if(this.selectionRect){var p=this.selectionRect.node.getBoundingClientRect();p.width>0&&p.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:u.globals.gridWidth,maxY:u.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var u=this.w,p=this.xyRatios;if(!u.globals.zoomEnabled)if(null!=u.globals.selection)this.drawSelectionRect(u.globals.selection);else if(void 0!==u.config.chart.selection.xaxis.min&&void 0!==u.config.chart.selection.xaxis.max){var y=(u.config.chart.selection.xaxis.min-u.globals.minX)/p.xRatio;this.drawSelectionRect({x:y,y:0,width:u.globals.gridWidth-(u.globals.maxX-u.config.chart.selection.xaxis.max)/p.xRatio-y,height:u.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof u.config.chart.events.selection&&u.config.chart.events.selection(this.ctx,{xaxis:{min:u.config.chart.selection.xaxis.min,max:u.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(u){var p=u.x,y=u.y,x=u.width,w=u.height,I=u.translateX,N=u.translateY,z=this.w,X=this.zoomRect,le=this.selectionRect;if(this.dragged||null!==z.globals.selection){var ie={transform:"translate("+(void 0===I?0:I)+", "+(void 0===N?0:N)+")"};z.globals.zoomEnabled&&this.dragged&&(x<0&&(x=1),X.attr({x:p,y,width:x,height:w,fill:z.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":z.config.chart.zoom.zoomedArea.fill.opacity,stroke:z.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":z.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":z.config.chart.zoom.zoomedArea.stroke.opacity}),et.setAttrs(X.node,ie)),z.globals.selectionEnabled&&(le.attr({x:p,y,width:x>0?x:0,height:w>0?w:0,fill:z.config.chart.selection.fill.color,"fill-opacity":z.config.chart.selection.fill.opacity,stroke:z.config.chart.selection.stroke.color,"stroke-width":z.config.chart.selection.stroke.width,"stroke-dasharray":z.config.chart.selection.stroke.dashArray,"stroke-opacity":z.config.chart.selection.stroke.opacity}),et.setAttrs(le.node,ie))}}},{key:"hideSelectionRect",value:function(u){u&&u.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(u){var ie,y=u.zoomtype,x=this.w,w=u.context,I=this.gridRect.getBoundingClientRect(),P=w.startX-1,N=w.startY,F=!1,z=!1,X=w.clientX-I.left-P,le=w.clientY-I.top-N;return Math.abs(X+P)>x.globals.gridWidth?X=x.globals.gridWidth-P:w.clientX-I.left<0&&(X=P),P>w.clientX-I.left&&(F=!0,X=Math.abs(X)),N>w.clientY-I.top&&(z=!0,le=Math.abs(le)),w.drawSelectionRect(ie="x"===y?{x:F?P-X:P,y:0,width:X,height:x.globals.gridHeight}:"y"===y?{x:0,y:z?N-le:N,width:x.globals.gridWidth,height:le}:{x:F?P-X:P,y:z?N-le:N,width:X,height:le}),w.selectionDragging("resizing"),ie}},{key:"selectionDragging",value:function(u,p){var y=this,x=this.w,w=this.xyRatios,I=this.selectionRect,P=0;"resizing"===u&&(P=30);var N=function(z){return parseFloat(I.node.getAttribute(z))},F={x:N("x"),y:N("y"),width:N("width"),height:N("height")};x.globals.selection=F,"function"==typeof x.config.chart.events.selection&&x.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var z=y.gridRect.getBoundingClientRect(),X=I.node.getBoundingClientRect(),le={xaxis:{min:x.globals.xAxisScale.niceMin+(X.left-z.left)*w.xRatio,max:x.globals.xAxisScale.niceMin+(X.right-z.left)*w.xRatio},yaxis:{min:x.globals.yAxisScale[0].niceMin+(z.bottom-X.bottom)*w.yRatio[0],max:x.globals.yAxisScale[0].niceMax-(X.top-z.top)*w.yRatio[0]}};x.config.chart.events.selection(y.ctx,le),x.config.chart.brush.enabled&&void 0!==x.config.chart.events.brushScrolled&&x.config.chart.events.brushScrolled(y.ctx,le)},P))}},{key:"selectionDrawn",value:function(u){var y=u.zoomtype,x=this.w,w=u.context,I=this.xyRatios,P=this.ctx.toolbar;if(w.startX>w.endX){var N=w.startX;w.startX=w.endX,w.endX=N}if(w.startY>w.endY){var F=w.startY;w.startY=w.endY,w.endY=F}var z=void 0,X=void 0;x.globals.isRangeBar?(z=x.globals.yAxisScale[0].niceMin+w.startX*I.invertedYRatio,X=x.globals.yAxisScale[0].niceMin+w.endX*I.invertedYRatio):(z=x.globals.xAxisScale.niceMin+w.startX*I.xRatio,X=x.globals.xAxisScale.niceMin+w.endX*I.xRatio);var le=[],ie=[];if(x.config.yaxis.forEach(function(Pe,ze){le.push(x.globals.yAxisScale[ze].niceMax-I.yRatio[ze]*w.startY),ie.push(x.globals.yAxisScale[ze].niceMax-I.yRatio[ze]*w.endY)}),w.dragged&&(w.dragX>10||w.dragY>10)&&z!==X)if(x.globals.zoomEnabled){var me=Ye.clone(x.globals.initialConfig.yaxis),Ae=Ye.clone(x.globals.initialConfig.xaxis);if(x.globals.zoomed=!0,x.config.xaxis.convertedCatToNumeric&&(z=Math.floor(z),X=Math.floor(X),z<1&&(z=1,X=x.globals.dataPoints),X-z<2&&(X=z+1)),"xy"!==y&&"x"!==y||(Ae={min:z,max:X}),"xy"!==y&&"y"!==y||me.forEach(function(Pe,ze){me[ze].min=ie[ze],me[ze].max=le[ze]}),x.config.chart.zoom.autoScaleYaxis){var Ve=new li(w.ctx);me=Ve.autoScaleY(w.ctx,me,{xaxis:Ae})}if(P){var D=P.getBeforeZoomRange(Ae,me);D&&(Ae=D.xaxis?D.xaxis:Ae,me=D.yaxis?D.yaxis:me)}var Z={xaxis:Ae};x.config.chart.group||(Z.yaxis=me),w.ctx.updateHelpers._updateOptions(Z,!1,w.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof x.config.chart.events.zoomed&&P.zoomCallback(Ae,me)}else if(x.globals.selectionEnabled){var ce,xe=null;ce={min:z,max:X},"xy"!==y&&"y"!==y||(xe=Ye.clone(x.config.yaxis)).forEach(function(Pe,ze){xe[ze].min=ie[ze],xe[ze].max=le[ze]}),x.globals.selection=w.selection,"function"==typeof x.config.chart.events.selection&&x.config.chart.events.selection(w.ctx,{xaxis:ce,yaxis:xe})}}},{key:"panDragging",value:function(u){var y=this.w,x=u.context;if(void 0!==y.globals.lastClientPosition.x){var w=y.globals.lastClientPosition.x-x.clientX,I=y.globals.lastClientPosition.y-x.clientY;Math.abs(w)>Math.abs(I)&&w>0?this.moveDirection="left":Math.abs(w)>Math.abs(I)&&w<0?this.moveDirection="right":Math.abs(I)>Math.abs(w)&&I>0?this.moveDirection="up":Math.abs(I)>Math.abs(w)&&I<0&&(this.moveDirection="down")}y.globals.lastClientPosition={x:x.clientX,y:x.clientY},y.config.xaxis.convertedCatToNumeric||x.panScrolled(y.globals.isRangeBar?y.globals.minY:y.globals.minX,y.globals.isRangeBar?y.globals.maxY:y.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var u=this.w,p=u.globals.minX,y=u.globals.maxX,x=(u.globals.maxX-u.globals.minX)/2;"left"===this.moveDirection?(p=u.globals.minX+x,y=u.globals.maxX+x):"right"===this.moveDirection&&(p=u.globals.minX-x,y=u.globals.maxX-x),p=Math.floor(p),y=Math.floor(y),this.updateScrolledChart({xaxis:{min:p,max:y}},p,y)}},{key:"panScrolled",value:function(u,p){var y=this.w,x=this.xyRatios,w=Ye.clone(y.globals.initialConfig.yaxis),I=x.xRatio,P=y.globals.minX,N=y.globals.maxX;y.globals.isRangeBar&&(I=x.invertedYRatio,P=y.globals.minY,N=y.globals.maxY),"left"===this.moveDirection?(u=P+y.globals.gridWidth/15*I,p=N+y.globals.gridWidth/15*I):"right"===this.moveDirection&&(u=P-y.globals.gridWidth/15*I,p=N-y.globals.gridWidth/15*I),y.globals.isRangeBar||(u<y.globals.initialMinX||p>y.globals.initialMaxX)&&(u=P,p=N);var F={min:u,max:p};y.config.chart.zoom.autoScaleYaxis&&(w=new li(this.ctx).autoScaleY(this.ctx,w,{xaxis:F}));var z={xaxis:{min:u,max:p}};y.config.chart.group||(z.yaxis=w),this.updateScrolledChart(z,u,p)}},{key:"updateScrolledChart",value:function(u,p,y){var x=this.w;this.ctx.updateHelpers._updateOptions(u,!1,!1),"function"==typeof x.config.chart.events.scrolled&&x.config.chart.events.scrolled(this.ctx,{xaxis:{min:p,max:y}})}}]),s}(),Qi=function(){function ye(r){l(this,ye),this.w=r.w,this.ttCtx=r,this.ctx=r.ctx}return je(ye,[{key:"getNearestValues",value:function(r){var s=r.hoverArea,p=r.clientX,y=r.clientY,x=this.w,w=r.elGrid.getBoundingClientRect(),I=w.width,P=w.height,N=I/(x.globals.dataPoints-1),F=P/x.globals.dataPoints,z=this.hasBars();!x.globals.comboCharts&&!z||x.config.xaxis.convertedCatToNumeric||(N=I/x.globals.dataPoints);var X=p-w.left-x.globals.barPadForNumericAxis,le=y-w.top;X<0||le<0||X>I||le>P?(s.classList.remove("hovering-zoom"),s.classList.remove("hovering-pan")):x.globals.zoomEnabled?(s.classList.remove("hovering-pan"),s.classList.add("hovering-zoom")):x.globals.panEnabled&&(s.classList.remove("hovering-zoom"),s.classList.add("hovering-pan"));var ie=Math.round(X/N),me=Math.floor(le/F);z&&!x.config.xaxis.convertedCatToNumeric&&(ie=Math.ceil(X/N),ie-=1);var Ae=null,Ve=null,D=[],Z=[];if(x.globals.seriesXvalues.forEach(function(ze){D.push([ze[0]+1e-6].concat(ze))}),x.globals.seriesYvalues.forEach(function(ze){Z.push([ze[0]+1e-6].concat(ze))}),D=D.map(function(ze){return ze.filter(function(Ke){return Ye.isNumber(Ke)})}),Z=Z.map(function(ze){return ze.filter(function(Ke){return Ye.isNumber(Ke)})}),x.globals.isXNumeric){var ce=this.ttCtx.getElGrid().getBoundingClientRect(),xe=X*(ce.width/I);Ae=(Ve=this.closestInMultiArray(xe,le*(ce.height/P),D,Z)).index,ie=Ve.j,null!==Ae&&(ie=(Ve=this.closestInArray(xe,D=x.globals.seriesXvalues[Ae])).index)}return x.globals.capturedSeriesIndex=null===Ae?-1:Ae,(!ie||ie<1)&&(ie=0),x.globals.capturedDataPointIndex=x.globals.isBarHorizontal?me:ie,{capturedSeries:Ae,j:x.globals.isBarHorizontal?me:ie,hoverX:X,hoverY:le}}},{key:"closestInMultiArray",value:function(r,s,u,p){var x=0,w=null,I=-1;this.w.globals.series.length>1?x=this.getFirstActiveXArray(u):w=0;var N=Math.abs(r-u[x][0]);if(u.forEach(function(X){X.forEach(function(le,ie){var me=Math.abs(r-le);me<N&&(N=me,I=ie)})}),-1!==I){var z=Math.abs(s-p[x][I]);w=x,p.forEach(function(X,le){var ie=Math.abs(s-X[I]);ie<z&&(z=ie,w=le)})}return{index:w,j:I}}},{key:"getFirstActiveXArray",value:function(r){for(var s=this.w,u=0,p=r.map(function(x,w){return x.length>0?w:-1}),y=0;y<p.length;y++)if(-1!==p[y]&&-1===s.globals.collapsedSeriesIndices.indexOf(y)&&-1===s.globals.ancillaryCollapsedSeriesIndices.indexOf(y)){u=p[y];break}return u}},{key:"closestInArray",value:function(r,s){for(var p=null,y=Math.abs(r-s[0]),x=0;x<s.length;x++){var w=Math.abs(r-s[x]);w<y&&(y=w,p=x)}return{index:p}}},{key:"isXoverlap",value:function(r){var s=[],u=this.w.globals.seriesX.filter(function(y){return void 0!==y[0]});if(u.length>0)for(var p=0;p<u.length-1;p++)void 0!==u[p][r]&&void 0!==u[p+1][r]&&u[p][r]!==u[p+1][r]&&s.push("unEqual");return 0===s.length}},{key:"isInitialSeriesSameLen",value:function(){for(var r=!0,s=this.w.globals.initialSeries,u=0;u<s.length-1;u++)if(s[u].data.length!==s[u+1].data.length){r=!1;break}return r}},{key:"getBarsHeight",value:function(r){return Ft(r).reduce(function(s,u){return s+u.getBBox().height},0)}},{key:"getElMarkers",value:function(r){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof r?".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(r=Ft(r)).sort(function(u,p){var y=Number(u.getAttribute("data:realIndex")),x=Number(p.getAttribute("data:realIndex"));return x<y?1:x>y?-1:0});var s=[];return r.forEach(function(u){s.push(u.querySelector(".apexcharts-marker"))}),s}},{key:"hasMarkers",value:function(r){return this.getElMarkers(r).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(r){var s=this.w,u=s.config.markers.hover.size;return void 0===u&&(u=s.globals.markers.size[r]+s.config.markers.hover.sizeOffset),u}},{key:"toggleAllTooltipSeriesGroups",value:function(r){var s=this.w,u=this.ttCtx;0===u.allTooltipSeriesGroups.length&&(u.allTooltipSeriesGroups=s.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var p=u.allTooltipSeriesGroups,y=0;y<p.length;y++)"enable"===r?(p[y].classList.add("apexcharts-active"),p[y].style.display=s.config.tooltip.items.display):(p[y].classList.remove("apexcharts-active"),p[y].style.display="none")}}]),ye}(),ii=function(){function ye(r){l(this,ye),this.w=r.w,this.ctx=r.ctx,this.ttCtx=r,this.tooltipUtil=new Qi(r)}return je(ye,[{key:"drawSeriesTexts",value:function(r){var s=r.shared,u=void 0===s||s,p=r.ttItems,y=r.i,x=void 0===y?0:y,w=r.j,I=void 0===w?null:w,F=r.e,z=this.w;void 0!==z.config.tooltip.custom?this.handleCustomTooltip({i:x,j:I,y1:r.y1,y2:r.y2,w:z}):this.toggleActiveInactiveSeries(u);var X=this.getValuesToPrint({i:x,j:I});this.printLabels({i:x,j:I,values:X,ttItems:p,shared:u,e:F});var le=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=le.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=le.getBoundingClientRect().height}},{key:"printLabels",value:function(r){var s,u=this,p=r.i,y=r.j,x=r.values,w=r.ttItems,I=r.shared,P=r.e,N=this.w,F=[],z=function(ce){return N.globals.seriesGoals[ce]&&N.globals.seriesGoals[ce][y]&&Array.isArray(N.globals.seriesGoals[ce][y])},X=x.xVal,le=x.zVal,ie=x.xAxisTTVal,me="",Ae=N.globals.colors[p];null!==y&&N.config.plotOptions.bar.distributed&&(Ae=N.globals.colors[y]);for(var Ve=function(ce,xe){var Pe=u.getFormatters(p);me=u.getSeriesName({fn:Pe.yLbTitleFormatter,index:p,seriesIndex:p,j:y}),"treemap"===N.config.chart.type&&(me=Pe.yLbTitleFormatter(String(N.config.series[p].data[y].x),{series:N.globals.series,seriesIndex:p,dataPointIndex:y,w:N}));var ze=N.config.tooltip.inverseOrder?xe:ce;if(N.globals.axisCharts){var Ke=function($t){var zt,Ht,zn,Qn;return N.globals.isRangeData?Pe.yLbFormatter(null===(zt=N.globals.seriesRangeStart)||void 0===zt||null===(Ht=zt[$t])||void 0===Ht?void 0:Ht[y],{series:N.globals.seriesRangeStart,seriesIndex:$t,dataPointIndex:y,w:N})+" - "+Pe.yLbFormatter(null===(zn=N.globals.seriesRangeEnd)||void 0===zn||null===(Qn=zn[$t])||void 0===Qn?void 0:Qn[y],{series:N.globals.seriesRangeEnd,seriesIndex:$t,dataPointIndex:y,w:N}):Pe.yLbFormatter(N.globals.series[$t][y],{series:N.globals.series,seriesIndex:$t,dataPointIndex:y,w:N})};if(I)Pe=u.getFormatters(ze),me=u.getSeriesName({fn:Pe.yLbTitleFormatter,index:ze,seriesIndex:p,j:y}),Ae=N.globals.colors[ze],s=Ke(ze),z(ze)&&(F=N.globals.seriesGoals[ze][y].map(function($t){return{attrs:$t,val:Pe.yLbFormatter($t.value,{seriesIndex:ze,dataPointIndex:y,w:N})}}));else{var st,Tt=null==P||null===(st=P.target)||void 0===st?void 0:st.getAttribute("fill");Tt&&(Ae=-1!==Tt.indexOf("url")?document.querySelector(Tt.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Tt),s=Ke(p),z(p)&&Array.isArray(N.globals.seriesGoals[p][y])&&(F=N.globals.seriesGoals[p][y].map(function($t){return{attrs:$t,val:Pe.yLbFormatter($t.value,{seriesIndex:p,dataPointIndex:y,w:N})}}))}}null===y&&(s=Pe.yLbFormatter(N.globals.series[p],He(He({},N),{},{seriesIndex:p,dataPointIndex:p}))),u.DOMHandling({i:p,t:ze,j:y,ttItems:w,values:{val:s,goalVals:F,xVal:X,xAxisTTVal:ie,zVal:le},seriesName:me,shared:I,pColor:Ae})},D=0,Z=N.globals.series.length-1;D<N.globals.series.length;D++,Z--)Ve(D,Z)}},{key:"getFormatters",value:function(r){var s,u=this.w,p=u.globals.yLabelFormatters[r];return void 0!==u.globals.ttVal?Array.isArray(u.globals.ttVal)?(p=u.globals.ttVal[r]&&u.globals.ttVal[r].formatter,s=u.globals.ttVal[r]&&u.globals.ttVal[r].title&&u.globals.ttVal[r].title.formatter):(p=u.globals.ttVal.formatter,"function"==typeof u.globals.ttVal.title.formatter&&(s=u.globals.ttVal.title.formatter)):s=u.config.tooltip.y.title.formatter,"function"!=typeof p&&(p=u.globals.yLabelFormatters[0]?u.globals.yLabelFormatters[0]:function(y){return y}),"function"!=typeof s&&(s=function(y){return y}),{yLbFormatter:p,yLbTitleFormatter:s}}},{key:"getSeriesName",value:function(r){var p=r.seriesIndex,y=r.j,x=this.w;return(0,r.fn)(String(x.globals.seriesNames[r.index]),{series:x.globals.series,seriesIndex:p,dataPointIndex:y,w:x})}},{key:"DOMHandling",value:function(r){var s=r.t,u=r.j,p=r.ttItems,y=r.values,x=r.seriesName,w=r.shared,I=r.pColor,P=this.w,N=this.ttCtx,F=y.val,z=y.goalVals,X=y.xVal,le=y.xAxisTTVal,ie=y.zVal,me=null;me=p[s].children,P.config.tooltip.fillSeriesColor&&(p[s].style.backgroundColor=I,me[0].style.display="none"),N.showTooltipTitle&&(null===N.tooltipTitle&&(N.tooltipTitle=P.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),N.tooltipTitle.innerHTML=X),N.isXAxisTooltipEnabled&&(N.xaxisTooltipText.innerHTML=""!==le?le:X);var Ae=p[s].querySelector(".apexcharts-tooltip-text-y-label");Ae&&(Ae.innerHTML=x||"");var Ve=p[s].querySelector(".apexcharts-tooltip-text-y-value");Ve&&(Ve.innerHTML=void 0!==F?F:""),me[0]&&me[0].classList.contains("apexcharts-tooltip-marker")&&(P.config.tooltip.marker.fillColors&&Array.isArray(P.config.tooltip.marker.fillColors)&&(I=P.config.tooltip.marker.fillColors[s]),me[0].style.backgroundColor=I),P.config.tooltip.marker.show||(me[0].style.display="none");var D=p[s].querySelector(".apexcharts-tooltip-text-goals-label"),Z=p[s].querySelector(".apexcharts-tooltip-text-goals-value");if(z.length&&P.globals.seriesGoals[s]){var ce=function(){var xe="<div >",Pe="<div>";z.forEach(function(ze,Ke){xe+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(ze.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(ze.attrs.name,"</div>"),Pe+="<div>".concat(ze.val,"</div>")}),D.innerHTML=xe+"</div>",Z.innerHTML=Pe+"</div>"};w?P.globals.seriesGoals[s][u]&&Array.isArray(P.globals.seriesGoals[s][u])?ce():(D.innerHTML="",Z.innerHTML=""):ce()}else D.innerHTML="",Z.innerHTML="";null!==ie&&(p[s].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=P.config.tooltip.z.title,p[s].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==ie?ie:""),w&&me[0]&&(me[0].parentNode.style.display=null==F||P.globals.ancillaryCollapsedSeriesIndices.indexOf(s)>-1||P.globals.collapsedSeriesIndices.indexOf(s)>-1?"none":P.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(r){var s=this.w;if(r)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var u=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");u&&(u.classList.add("apexcharts-active"),u.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(r){var s=r.i,u=r.j,p=this.w,y=this.ctx.series.filteredSeriesX(),x="",w="",I=null,P=null,N={series:p.globals.series,seriesIndex:s,dataPointIndex:u,w:p},F=p.globals.ttZFormatter;null===u?P=p.globals.series[s]:p.globals.isXNumeric&&"treemap"!==p.config.chart.type?(x=y[s][u],0===y[s].length&&(x=y[this.tooltipUtil.getFirstActiveXArray(y)][u])):x=void 0!==p.globals.labels[u]?p.globals.labels[u]:"";var z=x;return x=p.globals.isXNumeric&&"datetime"===p.config.xaxis.type?new mn(this.ctx).xLabelFormat(p.globals.ttKeyFormatter,z,z,{i:void 0,dateFormatter:new In(this.ctx).formatDate,w:this.w}):p.globals.isBarHorizontal?p.globals.yLabelFormatters[0](z,N):p.globals.xLabelFormatter(z,N),void 0!==p.config.tooltip.x.formatter&&(x=p.globals.ttKeyFormatter(z,N)),p.globals.seriesZ.length>0&&p.globals.seriesZ[s].length>0&&(I=F(p.globals.seriesZ[s][u],p)),w="function"==typeof p.config.xaxis.tooltip.formatter?p.globals.xaxisTooltipFormatter(z,N):x,{val:Array.isArray(P)?P.join(" "):P,xVal:Array.isArray(x)?x.join(" "):x,xAxisTTVal:Array.isArray(w)?w.join(" "):w,zVal:I}}},{key:"handleCustomTooltip",value:function(r){var s=r.i,u=r.j,p=r.y1,y=r.y2,x=r.w,w=this.ttCtx.getElTooltip(),I=x.config.tooltip.custom;Array.isArray(I)&&I[s]&&(I=I[s]),w.innerHTML=I({ctx:this.ctx,series:x.globals.series,seriesIndex:s,dataPointIndex:u,y1:p,y2:y,w:x})}}]),ye}(),Ki=function(){function ye(r){l(this,ye),this.ttCtx=r,this.ctx=r.ctx,this.w=r.w}return je(ye,[{key:"moveXCrosshairs",value:function(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.ttCtx,p=this.w,y=u.getElXCrosshairs(),x=r-u.xcrosshairsWidth/2,w=p.globals.labels.slice().length;if(null!==s&&(x=p.globals.gridWidth/w*s),null===y||p.globals.isBarHorizontal||(y.setAttribute("x",x),y.setAttribute("x1",x),y.setAttribute("x2",x),y.setAttribute("y2",p.globals.gridHeight),y.classList.add("apexcharts-active")),x<0&&(x=0),x>p.globals.gridWidth&&(x=p.globals.gridWidth),u.isXAxisTooltipEnabled){var I=x;"tickWidth"!==p.config.xaxis.crosshairs.width&&"barWidth"!==p.config.xaxis.crosshairs.width||(I=x+u.xcrosshairsWidth/2),this.moveXAxisTooltip(I)}}},{key:"moveYCrosshairs",value:function(r){var s=this.ttCtx;null!==s.ycrosshairs&&et.setAttrs(s.ycrosshairs,{y1:r,y2:r}),null!==s.ycrosshairsHidden&&et.setAttrs(s.ycrosshairsHidden,{y1:r,y2:r})}},{key:"moveXAxisTooltip",value:function(r){var s=this.w,u=this.ttCtx;if(null!==u.xaxisTooltip&&0!==u.xcrosshairsWidth){u.xaxisTooltip.classList.add("apexcharts-active");var y,p=u.xaxisOffY+s.config.xaxis.tooltip.offsetY+s.globals.translateY+1+s.config.xaxis.offsetY;r-=u.xaxisTooltip.getBoundingClientRect().width/2,isNaN(r)||(r+=s.globals.translateX,y=new et(this.ctx).getTextRects(u.xaxisTooltipText.innerHTML),u.xaxisTooltipText.style.minWidth=y.width+"px",u.xaxisTooltip.style.left=r+"px",u.xaxisTooltip.style.top=p+"px")}}},{key:"moveYAxisTooltip",value:function(r){var s=this.w,u=this.ttCtx;null===u.yaxisTTEls&&(u.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var p=parseInt(u.ycrosshairsHidden.getAttribute("y1"),10),y=s.globals.translateY+p,x=u.yaxisTTEls[r].getBoundingClientRect().height,w=s.globals.translateYAxisX[r]-2;s.config.yaxis[r].opposite&&(w-=26),y-=x/2,-1===s.globals.ignoreYAxisIndexes.indexOf(r)?(u.yaxisTTEls[r].classList.add("apexcharts-active"),u.yaxisTTEls[r].style.top=y+"px",u.yaxisTTEls[r].style.left=w+s.config.yaxis[r].tooltip.offsetX+"px"):u.yaxisTTEls[r].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=this.w,y=this.ttCtx,x=y.getElTooltip(),w=y.tooltipRect,I=null!==u?parseFloat(u):1,P=parseFloat(r)+I+5,N=parseFloat(s)+I/2;if(P>p.globals.gridWidth/2&&(P=P-w.ttWidth-I-10),P>p.globals.gridWidth-w.ttWidth-10&&(P=p.globals.gridWidth-w.ttWidth),P<-20&&(P=-20),p.config.tooltip.followCursor){var F=y.getElGrid().getBoundingClientRect();(P=y.e.clientX-F.left)>p.globals.gridWidth/2&&(P-=y.tooltipRect.ttWidth),(N=y.e.clientY+p.globals.translateY-F.top)>p.globals.gridHeight/2&&(N-=y.tooltipRect.ttHeight)}else p.globals.isBarHorizontal||w.ttHeight/2+N>p.globals.gridHeight&&(N=p.globals.gridHeight-w.ttHeight+p.globals.translateY);isNaN(P)||(x.style.left=(P+=p.globals.translateX)+"px",x.style.top=N+"px")}},{key:"moveMarkers",value:function(r,s){var u=this.w,p=this.ttCtx;if(u.globals.markers.size[r]>0)for(var y=u.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-marker")),x=0;x<y.length;x++)parseInt(y[x].getAttribute("rel"),10)===s&&(p.marker.resetPointsSize(),p.marker.enlargeCurrentPoint(s,y[x]));else p.marker.resetPointsSize(),this.moveDynamicPointOnHover(s,r)}},{key:"moveDynamicPointOnHover",value:function(r,s){var u,p,y=this.w,x=this.ttCtx,w=y.globals.pointsArray,I=x.tooltipUtil.getHoverMarkerSize(s),P=y.config.series[s].type;if(!P||"column"!==P&&"candlestick"!==P&&"boxPlot"!==P){u=w[s][r][0],p=w[s][r][1]?w[s][r][1]:0;var N=y.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"'] .apexcharts-series-markers circle"));N&&p<y.globals.gridHeight&&p>0&&(N.setAttribute("r",I),N.setAttribute("cx",u),N.setAttribute("cy",p)),this.moveXCrosshairs(u),x.fixedTooltip||this.moveTooltip(u,p,I)}}},{key:"moveDynamicPointsOnHover",value:function(r){var s,u=this.ttCtx,p=u.w,y=0,x=0,w=p.globals.pointsArray;s=new Pn(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var I=u.tooltipUtil.getHoverMarkerSize(s);w[s]&&(y=w[s][r][0],x=w[s][r][1]);var P=u.tooltipUtil.getAllMarkers();if(null!==P)for(var N=0;N<p.globals.series.length;N++){var F=w[N];if(p.globals.comboCharts&&void 0===F&&P.splice(N,0,null),F&&F.length){var z=w[N][r][1];P[N].setAttribute("cx",y),"rangeArea"!==p.config.chart.type||p.globals.comboCharts||(z-=Math.abs(z-w[N][r+p.globals.series[N].length][1])/2),null!==z&&!isNaN(z)&&z<p.globals.gridHeight+I&&z+I>0?(P[N]&&P[N].setAttribute("r",I),P[N]&&P[N].setAttribute("cy",z)):P[N]&&P[N].setAttribute("r",0)}}this.moveXCrosshairs(y),u.fixedTooltip||this.moveTooltip(y,x||p.globals.gridHeight,I)}},{key:"moveStickyTooltipOverBars",value:function(r,s){var u=this.w,p=this.ttCtx,y=u.globals.columnSeries?u.globals.columnSeries.length:u.globals.series.length,x=y>=2&&y%2==0?Math.floor(y/2):Math.floor(y/2)+1;u.globals.isBarHorizontal&&(x=new Pn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var w=u.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(x,"'] path[j='").concat(r,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(x,"'] path[j='").concat(r,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(x,"'] path[j='").concat(r,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(x,"'] path[j='").concat(r,"']"));w||"number"!=typeof s||(w=u.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(s,"'] path[j='").concat(r,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(s,"'] path[j='").concat(r,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(s,"'] path[j='").concat(r,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(s,"'] path[j='").concat(r,"']")));var I=w?parseFloat(w.getAttribute("cx")):0,P=w?parseFloat(w.getAttribute("cy")):0,N=w?parseFloat(w.getAttribute("barWidth")):0,F=p.getElGrid().getBoundingClientRect(),z=w&&(w.classList.contains("apexcharts-candlestick-area")||w.classList.contains("apexcharts-boxPlot-area"));u.globals.isXNumeric?(w&&!z&&(I-=y%2!=0?N/2:0),w&&z&&u.globals.comboCharts&&(I-=N/2)):u.globals.isBarHorizontal||(I=p.xAxisTicksPositions[r-1]+p.dataPointsDividedWidth/2,isNaN(I)&&(I=p.xAxisTicksPositions[r]-p.dataPointsDividedWidth/2)),u.globals.isBarHorizontal?P-=p.tooltipRect.ttHeight:u.config.tooltip.followCursor?P=p.e.clientY-F.top-p.tooltipRect.ttHeight/2:P+p.tooltipRect.ttHeight+15>u.globals.gridHeight&&(P=u.globals.gridHeight),u.globals.isBarHorizontal||this.moveXCrosshairs(I),p.fixedTooltip||this.moveTooltip(I,P||u.globals.gridHeight)}}]),ye}(),pr=function(){function ye(r){l(this,ye),this.w=r.w,this.ttCtx=r,this.ctx=r.ctx,this.tooltipPosition=new Ki(r)}return je(ye,[{key:"drawDynamicPoints",value:function(){var r=this.w,s=new et(this.ctx),u=new Dt(this.ctx),p=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series");p=Ft(p),r.config.chart.stacked&&p.sort(function(F,z){return parseFloat(F.getAttribute("data:realIndex"))-parseFloat(z.getAttribute("data:realIndex"))});for(var y=0;y<p.length;y++){var x=p[y].querySelector(".apexcharts-series-markers-wrap");if(null!==x){var w=void 0,I="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==r.config.chart.type&&"area"!==r.config.chart.type||r.globals.comboCharts||r.config.tooltip.intersect||(I+=" no-pointer-events");var P=u.getMarkerConfig({cssClass:I,seriesIndex:Number(x.getAttribute("data:realIndex"))});(w=s.drawMarker(0,0,P)).node.setAttribute("default-marker-size",0);var N=document.createElementNS(r.globals.SVGNS,"g");N.classList.add("apexcharts-series-markers"),N.appendChild(w.node),x.appendChild(N)}}}},{key:"enlargeCurrentPoint",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,y=this.w;"bubble"!==y.config.chart.type&&this.newPointSize(r,s);var x=s.getAttribute("cx"),w=s.getAttribute("cy");if(null!==u&&null!==p&&(x=u,w=p),this.tooltipPosition.moveXCrosshairs(x),!this.fixedTooltip){if("radar"===y.config.chart.type){var I=this.ttCtx.getElGrid().getBoundingClientRect();x=this.ttCtx.e.clientX-I.left}this.tooltipPosition.moveTooltip(x,w,y.config.markers.hover.size)}}},{key:"enlargePoints",value:function(r){for(var s=this.w,u=this,p=this.ttCtx,y=r,x=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),w=s.config.markers.hover.size,I=0;I<x.length;I++){var P=x[I].getAttribute("rel"),N=x[I].getAttribute("index");if(void 0===w&&(w=s.globals.markers.size[N]+s.config.markers.hover.sizeOffset),y===parseInt(P,10)){u.newPointSize(y,x[I]);var F=x[I].getAttribute("cx"),z=x[I].getAttribute("cy");u.tooltipPosition.moveXCrosshairs(F),p.fixedTooltip||u.tooltipPosition.moveTooltip(F,z,w)}else u.oldPointSize(x[I])}}},{key:"newPointSize",value:function(r,s){var u=this.w,p=u.config.markers.hover.size,y=0===r?s.parentNode.firstChild:s.parentNode.lastChild;if("0"!==y.getAttribute("default-marker-size")){var x=parseInt(y.getAttribute("index"),10);void 0===p&&(p=u.globals.markers.size[x]+u.config.markers.hover.sizeOffset),p<0&&(p=0),y.setAttribute("r",p)}}},{key:"oldPointSize",value:function(r){var s=parseFloat(r.getAttribute("default-marker-size"));r.setAttribute("r",s)}},{key:"resetPointsSize",value:function(){for(var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=0;s<r.length;s++){var u=parseFloat(r[s].getAttribute("default-marker-size"));Ye.isNumber(u)&&u>=0?r[s].setAttribute("r",u):r[s].setAttribute("r",0)}}}]),ye}(),Mi=function(){function ye(r){l(this,ye),this.w=r.w;var s=this.w;this.ttCtx=r,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&"rangeBar"===s.config.chart.type&&s.config.plotOptions.bar.rangeBarGroupRows}return je(ye,[{key:"getAttr",value:function(r,s){return parseFloat(r.target.getAttribute(s))}},{key:"handleHeatTreeTooltip",value:function(r){var s=r.e,u=r.opt,p=r.x,y=r.y,w=this.ttCtx,I=this.w;if(s.target.classList.contains("apexcharts-".concat(r.type,"-rect"))){var P=this.getAttr(s,"i"),N=this.getAttr(s,"j"),F=this.getAttr(s,"cx"),z=this.getAttr(s,"cy"),X=this.getAttr(s,"width"),le=this.getAttr(s,"height");if(w.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:P,j:N,shared:!1,e:s}),I.globals.capturedSeriesIndex=P,I.globals.capturedDataPointIndex=N,p=F+w.tooltipRect.ttWidth/2+X,y=z+w.tooltipRect.ttHeight/2-le/2,w.tooltipPosition.moveXCrosshairs(F+X/2),p>I.globals.gridWidth/2&&(p=F-w.tooltipRect.ttWidth/2+X),w.w.config.tooltip.followCursor){var ie=I.globals.dom.elWrap.getBoundingClientRect();p=I.globals.clientX-ie.left-(p>I.globals.gridWidth/2?w.tooltipRect.ttWidth:0),y=I.globals.clientY-ie.top-(y>I.globals.gridHeight/2?w.tooltipRect.ttHeight:0)}}return{x:p,y}}},{key:"handleMarkerTooltip",value:function(r){var s,u,p=r.e,y=r.opt,x=r.x,w=r.y,I=this.w,P=this.ttCtx;if(p.target.classList.contains("apexcharts-marker")){var N=parseInt(y.paths.getAttribute("cx"),10),F=parseInt(y.paths.getAttribute("cy"),10),z=parseFloat(y.paths.getAttribute("val"));if(u=parseInt(y.paths.getAttribute("rel"),10),s=parseInt(y.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,P.intersect){var X=Ye.findAncestor(y.paths,"apexcharts-series");X&&(s=parseInt(X.getAttribute("data:realIndex"),10))}if(P.tooltipLabels.drawSeriesTexts({ttItems:y.ttItems,i:s,j:u,shared:!P.showOnIntersect&&I.config.tooltip.shared,e:p}),"mouseup"===p.type&&P.markerClick(p,s,u),I.globals.capturedSeriesIndex=s,I.globals.capturedDataPointIndex=u,x=N,w=F+I.globals.translateY-1.4*P.tooltipRect.ttHeight,P.w.config.tooltip.followCursor){var le=P.getElGrid().getBoundingClientRect();w=P.e.clientY+I.globals.translateY-le.top}z<0&&(w=F),P.marker.enlargeCurrentPoint(u,y.paths,x,w)}return{x,y:w}}},{key:"handleBarTooltip",value:function(r){var s,u,p=r.e,y=r.opt,x=this.w,w=this.ttCtx,I=w.getElTooltip(),P=0,N=0,F=0,z=this.getBarTooltipXY({e:p,opt:y}),X=z.barHeight,le=z.j;x.globals.capturedSeriesIndex=s=z.i,x.globals.capturedDataPointIndex=le,x.globals.isBarHorizontal&&w.tooltipUtil.hasBars()||!x.config.tooltip.shared?(N=z.x,F=z.y,u=Array.isArray(x.config.stroke.width)?x.config.stroke.width[s]:x.config.stroke.width,P=N):x.globals.comboCharts||x.config.tooltip.shared||(P/=2),isNaN(F)&&(F=x.globals.svgHeight-w.tooltipRect.ttHeight);var ie=parseInt(y.paths.parentNode.getAttribute("data:realIndex"),10),me=x.globals.isMultipleYAxis?x.config.yaxis[ie]&&x.config.yaxis[ie].reversed:x.config.yaxis[0].reversed;if(N+w.tooltipRect.ttWidth>x.globals.gridWidth&&!me?N-=w.tooltipRect.ttWidth:N<0&&(N=0),w.w.config.tooltip.followCursor){var Ae=w.getElGrid().getBoundingClientRect();F=w.e.clientY-Ae.top}null===w.tooltip&&(w.tooltip=x.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),x.config.tooltip.shared||w.tooltipPosition.moveXCrosshairs(x.globals.comboBarCount>0?P+u/2:P),!w.fixedTooltip&&(!x.config.tooltip.shared||x.globals.isBarHorizontal&&w.tooltipUtil.hasBars())&&(me&&(N-=w.tooltipRect.ttWidth)<0&&(N=0),!me||x.globals.isBarHorizontal&&w.tooltipUtil.hasBars()||(F=F+X-2*(x.globals.series[s][le]<0?X:0)),F=F+x.globals.translateY-w.tooltipRect.ttHeight/2,I.style.left=N+x.globals.translateX+"px",I.style.top=F+"px")}},{key:"getBarTooltipXY",value:function(r){var s=this,u=r.e,p=r.opt,y=this.w,x=null,w=this.ttCtx,I=0,P=0,N=0,F=0,z=0,X=u.target.classList;if(X.contains("apexcharts-bar-area")||X.contains("apexcharts-candlestick-area")||X.contains("apexcharts-boxPlot-area")||X.contains("apexcharts-rangebar-area")){var le=u.target,ie=le.getBoundingClientRect(),me=p.elGrid.getBoundingClientRect(),Ae=ie.height;z=ie.height;var Ve=ie.width,D=parseInt(le.getAttribute("cx"),10),Z=parseInt(le.getAttribute("cy"),10);F=parseFloat(le.getAttribute("barWidth"));var ce="touchmove"===u.type?u.touches[0].clientX:u.clientX;x=parseInt(le.getAttribute("j"),10),I=parseInt(le.parentNode.getAttribute("rel"),10)-1;var xe=le.getAttribute("data-range-y1"),Pe=le.getAttribute("data-range-y2");y.globals.comboCharts&&(I=parseInt(le.parentNode.getAttribute("data:realIndex"),10));var ze=function(st){return y.globals.isXNumeric?D-Ve/2:s.isVerticalGroupedRangeBar?D+Ve/2:D-w.dataPointsDividedWidth+Ve/2},Ke=function(){return Z-w.dataPointsDividedHeight+Ae/2-w.tooltipRect.ttHeight/2};w.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:I,j:x,y1:xe?parseInt(xe,10):null,y2:Pe?parseInt(Pe,10):null,shared:!w.showOnIntersect&&y.config.tooltip.shared,e:u}),y.config.tooltip.followCursor?y.globals.isBarHorizontal?(P=ce-me.left+15,N=Ke()):(P=ze(),N=u.clientY-me.top-w.tooltipRect.ttHeight/2-15):y.globals.isBarHorizontal?((P=D)<w.xyRatios.baseLineInvertedY&&(P=D-w.tooltipRect.ttWidth),N=Ke()):(P=ze(),N=Z)}return{x:P,y:N,barHeight:z,barWidth:F,i:I,j:x}}}]),ye}(),$r=function(){function ye(r){l(this,ye),this.w=r.w,this.ttCtx=r}return je(ye,[{key:"drawXaxisTooltip",value:function(){var r=this.w,s=this.ttCtx,u="bottom"===r.config.xaxis.position;s.xaxisOffY=u?r.globals.gridHeight+1:-r.globals.xAxisHeight-r.config.xaxis.axisTicks.height+3;var p=u?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",y=r.globals.dom.elWrap;s.isXAxisTooltipEnabled&&null===r.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(s.xaxisTooltip=document.createElement("div"),s.xaxisTooltip.setAttribute("class",p+" apexcharts-theme-"+r.config.tooltip.theme),y.appendChild(s.xaxisTooltip),s.xaxisTooltipText=document.createElement("div"),s.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),s.xaxisTooltipText.style.fontFamily=r.config.xaxis.tooltip.style.fontFamily||r.config.chart.fontFamily,s.xaxisTooltipText.style.fontSize=r.config.xaxis.tooltip.style.fontSize,s.xaxisTooltip.appendChild(s.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var r=this.w,s=this.ttCtx,u=function(y){var x=r.config.yaxis[y].opposite||r.config.yaxis[y].crosshairs.opposite;s.yaxisOffX=x?r.globals.gridWidth+1:1;var w="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(y,x?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");r.globals.yAxisSameScaleIndices.map(function(P,N){P.map(function(F,z){z===y&&(w+=r.config.yaxis[z].show?" ":" apexcharts-yaxistooltip-hidden")})});var I=r.globals.dom.elWrap;null===r.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(y))&&(s.yaxisTooltip=document.createElement("div"),s.yaxisTooltip.setAttribute("class",w+" apexcharts-theme-"+r.config.tooltip.theme),I.appendChild(s.yaxisTooltip),0===y&&(s.yaxisTooltipText=[]),s.yaxisTooltipText[y]=document.createElement("div"),s.yaxisTooltipText[y].classList.add("apexcharts-yaxistooltip-text"),s.yaxisTooltip.appendChild(s.yaxisTooltipText[y]))},p=0;p<r.config.yaxis.length;p++)u(p)}},{key:"setXCrosshairWidth",value:function(){var r=this.w,s=this.ttCtx,u=s.getElXCrosshairs();if(s.xcrosshairsWidth=parseInt(r.config.xaxis.crosshairs.width,10),r.globals.comboCharts){var p=r.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==p&&"barWidth"===r.config.xaxis.crosshairs.width){var y=parseFloat(p.getAttribute("barWidth"));s.xcrosshairsWidth=y}else"tickWidth"===r.config.xaxis.crosshairs.width&&(s.xcrosshairsWidth=r.globals.gridWidth/r.globals.labels.length)}else if("tickWidth"===r.config.xaxis.crosshairs.width)s.xcrosshairsWidth=r.globals.gridWidth/r.globals.labels.length;else if("barWidth"===r.config.xaxis.crosshairs.width){var I=r.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==I){var P=parseFloat(I.getAttribute("barWidth"));s.xcrosshairsWidth=P}else s.xcrosshairsWidth=1}r.globals.isBarHorizontal&&(s.xcrosshairsWidth=0),null!==u&&s.xcrosshairsWidth>0&&u.setAttribute("width",s.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var r=this.w,s=this.ttCtx;s.ycrosshairs=r.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),s.ycrosshairsHidden=r.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(r,s,u){var p=this.ttCtx,y=this.w,x=y.globals.yLabelFormatters[r];if(p.yaxisTooltips[r]){var w=p.getElGrid().getBoundingClientRect(),N=y.globals.minYArr[r]+(y.globals.maxYArr[r]-y.globals.minYArr[r]-(s-w.top)*u.yRatio[r]);p.tooltipPosition.moveYCrosshairs(s-w.top),p.yaxisTooltipText[r].innerHTML=x(N),p.tooltipPosition.moveYAxisTooltip(r)}}}]),ye}(),fi=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w;var s=this.w;this.tConfig=s.config.tooltip,this.tooltipUtil=new Qi(this),this.tooltipLabels=new ii(this),this.tooltipPosition=new Ki(this),this.marker=new pr(this),this.intersect=new Mi(this),this.axesTooltip=new $r(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!s.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return je(ye,[{key:"getElTooltip",value:function(r){return r||(r=this),r.w.globals.dom.baseEl?r.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(r){var s=this.w;this.xyRatios=r,this.isXAxisTooltipEnabled=s.config.xaxis.tooltip.enabled&&s.globals.axisCharts,this.yaxisTooltips=s.config.yaxis.map(function(x,w){return!!(x.show&&x.tooltip.enabled&&s.globals.axisCharts)}),this.allTooltipSeriesGroups=[],s.globals.axisCharts||(this.showTooltipTitle=!1);var u=document.createElement("div");if(u.classList.add("apexcharts-tooltip"),s.config.tooltip.cssClass&&u.classList.add(s.config.tooltip.cssClass),u.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),s.globals.dom.elWrap.appendChild(u),s.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var p=new Di(this.ctx);this.xAxisTicksPositions=p.getXAxisTicksPositions()}if(!s.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==s.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==s.config.markers.size&&0!==s.globals.markers.largestSize||this.marker.drawDynamicPoints(this),s.globals.collapsedSeries.length!==s.globals.series.length){this.dataPointsDividedHeight=s.globals.gridHeight/s.globals.dataPoints,this.dataPointsDividedWidth=s.globals.gridWidth/s.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||s.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,u.appendChild(this.tooltipTitle));var y=s.globals.series.length;(s.globals.xyCharts||s.globals.comboCharts)&&this.tConfig.shared&&(y=this.showOnIntersect?1:s.globals.series.length),this.legendLabels=s.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(y),this.addSVGEvents()}}},{key:"createTTElements",value:function(r){for(var s=this,u=this.w,p=[],y=this.getElTooltip(),x=function(I){var P=document.createElement("div");P.classList.add("apexcharts-tooltip-series-group"),P.style.order=u.config.tooltip.inverseOrder?r-I:I+1,s.tConfig.shared&&s.tConfig.enabledOnSeries&&Array.isArray(s.tConfig.enabledOnSeries)&&s.tConfig.enabledOnSeries.indexOf(I)<0&&P.classList.add("apexcharts-tooltip-series-group-hidden");var N=document.createElement("span");N.classList.add("apexcharts-tooltip-marker"),N.style.backgroundColor=u.globals.colors[I],P.appendChild(N);var F=document.createElement("div");F.classList.add("apexcharts-tooltip-text"),F.style.fontFamily=s.tConfig.style.fontFamily||u.config.chart.fontFamily,F.style.fontSize=s.tConfig.style.fontSize,["y","goals","z"].forEach(function(z){var X=document.createElement("div");X.classList.add("apexcharts-tooltip-".concat(z,"-group"));var le=document.createElement("span");le.classList.add("apexcharts-tooltip-text-".concat(z,"-label")),X.appendChild(le);var ie=document.createElement("span");ie.classList.add("apexcharts-tooltip-text-".concat(z,"-value")),X.appendChild(ie),F.appendChild(X)}),P.appendChild(F),y.appendChild(P),p.push(P)},w=0;w<r;w++)x(w);return p}},{key:"addSVGEvents",value:function(){var r=this.w,s=r.config.chart.type,u=this.getElTooltip(),p=!("bar"!==s&&"candlestick"!==s&&"boxPlot"!==s&&"rangeBar"!==s),y="area"===s||"line"===s||"scatter"===s||"bubble"===s||"radar"===s,x=r.globals.dom.Paper.node,w=this.getElGrid();w&&(this.seriesBound=w.getBoundingClientRect());var I,P=[],N=[],F={hoverArea:x,elGrid:w,tooltipEl:u,tooltipY:P,tooltipX:N,ttItems:this.ttItems};if(r.globals.axisCharts&&(y?I=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):p?I=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==s&&"treemap"!==s||(I=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),I&&I.length))for(var z=0;z<I.length;z++)P.push(I[z].getAttribute("cy")),N.push(I[z].getAttribute("cx"));if(r.globals.xyCharts&&!this.showOnIntersect||r.globals.comboCharts&&!this.showOnIntersect||p&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([x],F);else if(p&&!r.globals.comboCharts||y&&this.showOnIntersect)this.addDatapointEventsListeners(F);else if(!r.globals.axisCharts||"heatmap"===s||"treemap"===s){var X=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(X,F)}if(this.showOnIntersect){var le=r.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");le.length>0&&this.addPathsEventListeners(le,F),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(F)}}},{key:"drawFixedTooltipRect",value:function(){var r=this.w,s=this.getElTooltip(),u=s.getBoundingClientRect(),p=u.width+10,y=u.height+10,x=this.tConfig.fixed.offsetX,w=this.tConfig.fixed.offsetY,I=this.tConfig.fixed.position.toLowerCase();return I.indexOf("right")>-1&&(x=x+r.globals.svgWidth-p+10),I.indexOf("bottom")>-1&&(w=w+r.globals.svgHeight-y-10),s.style.left=x+"px",s.style.top=w+"px",{x,y:w,ttWidth:p,ttHeight:y}}},{key:"addDatapointEventsListeners",value:function(r){var s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(s,r)}},{key:"addPathsEventListeners",value:function(r,s){for(var u=this,p=function(x){var w={paths:r[x],tooltipEl:s.tooltipEl,tooltipY:s.tooltipY,tooltipX:s.tooltipX,elGrid:s.elGrid,hoverArea:s.hoverArea,ttItems:s.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(I){return r[x].addEventListener(I,u.onSeriesHover.bind(u,w),{capture:!1,passive:!0})})},y=0;y<r.length;y++)p(y)}},{key:"onSeriesHover",value:function(r,s){var u=this,p=Date.now()-this.lastHoverTime;p>=100?this.seriesHover(r,s):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){u.seriesHover(r,s)},100-p))}},{key:"seriesHover",value:function(r,s){var u=this;this.lastHoverTime=Date.now();var p=[],y=this.w;y.config.chart.group&&(p=this.ctx.getGroupedCharts()),y.globals.axisCharts&&(y.globals.minX===-1/0&&y.globals.maxX===1/0||0===y.globals.dataPoints)||(p.length?p.forEach(function(x){var w=u.getElTooltip(x);x.w.globals.minX===u.w.globals.minX&&x.w.globals.maxX===u.w.globals.maxX&&x.w.globals.tooltip.seriesHoverByContext({chartCtx:x,ttCtx:x.w.globals.tooltip,opt:{paths:r.paths,tooltipEl:w,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:x.w.globals.tooltip.ttItems},e:s})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:r,e:s}))}},{key:"seriesHoverByContext",value:function(r){var s=r.chartCtx,u=r.ttCtx,p=r.opt,y=r.e,x=s.w,w=this.getElTooltip();w&&(u.tooltipRect={x:0,y:0,ttWidth:w.getBoundingClientRect().width,ttHeight:w.getBoundingClientRect().height},u.e=y,u.tooltipUtil.hasBars()&&!x.globals.comboCharts&&!u.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Pn(s).toggleSeriesOnHover(y,y.target.parentNode),u.fixedTooltip&&u.drawFixedTooltipRect(),x.globals.axisCharts?u.axisChartsTooltips({e:y,opt:p,tooltipRect:u.tooltipRect}):u.nonAxisChartsTooltips({e:y,opt:p,tooltipRect:u.tooltipRect}))}},{key:"axisChartsTooltips",value:function(r){var s,u,p=r.e,y=r.opt,x=this.w,w=y.elGrid.getBoundingClientRect(),I="touchmove"===p.type?p.touches[0].clientX:p.clientX,P="touchmove"===p.type?p.touches[0].clientY:p.clientY;if(this.clientY=P,this.clientX=I,x.globals.capturedSeriesIndex=-1,x.globals.capturedDataPointIndex=-1,P<w.top||P>w.top+w.height)this.handleMouseOut(y);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!x.config.tooltip.shared){var N=parseInt(y.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(N)<0)return void this.handleMouseOut(y)}var F=this.getElTooltip(),z=this.getElXCrosshairs(),X=x.globals.xyCharts||"bar"===x.config.chart.type&&!x.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||x.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===p.type||"touchmove"===p.type||"mouseup"===p.type){if(x.globals.collapsedSeries.length+x.globals.ancillaryCollapsedSeries.length===x.globals.series.length)return;null!==z&&z.classList.add("apexcharts-active");var le=this.yaxisTooltips.filter(function(Ae){return!0===Ae});if(null!==this.ycrosshairs&&le.length&&this.ycrosshairs.classList.add("apexcharts-active"),X&&!this.showOnIntersect)this.handleStickyTooltip(p,I,P,y);else if("heatmap"===x.config.chart.type||"treemap"===x.config.chart.type){var ie=this.intersect.handleHeatTreeTooltip({e:p,opt:y,x:s,y:u,type:x.config.chart.type});u=ie.y,F.style.left=(s=ie.x)+"px",F.style.top=u+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:p,opt:y}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:p,opt:y,x:s,y:u});if(this.yaxisTooltips.length)for(var me=0;me<x.config.yaxis.length;me++)this.axesTooltip.drawYaxisTooltipText(me,P,this.xyRatios);y.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==p.type&&"touchend"!==p.type||this.handleMouseOut(y)}}},{key:"nonAxisChartsTooltips",value:function(r){var s=r.e,u=r.opt,p=r.tooltipRect,y=this.w,x=u.paths.getAttribute("rel"),w=this.getElTooltip(),I=y.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===s.type||"touchmove"===s.type){w.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:parseInt(x,10)-1,shared:!1});var N=y.globals.clientY-I.top-p.ttHeight-10;if(w.style.left=y.globals.clientX-I.left-p.ttWidth/2+"px",w.style.top=N+"px",y.config.legend.tooltipHoverFormatter){var F=x-1,z=(0,y.config.legend.tooltipHoverFormatter)(this.legendLabels[F].getAttribute("data:default-text"),{seriesIndex:F,dataPointIndex:F,w:y});this.legendLabels[F].innerHTML=z}}else"mouseout"!==s.type&&"touchend"!==s.type||(w.classList.remove("apexcharts-active"),y.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(X){var le=X.getAttribute("data:default-text");X.innerHTML=decodeURIComponent(le)}))}},{key:"handleStickyTooltip",value:function(r,s,u,p){var y=this.w,x=this.tooltipUtil.getNearestValues({context:this,hoverArea:p.hoverArea,elGrid:p.elGrid,clientX:s,clientY:u}),w=x.j,I=x.capturedSeries;y.globals.collapsedSeriesIndices.includes(I)&&(I=null);var P=p.elGrid.getBoundingClientRect();if(x.hoverX<0||x.hoverX>P.width)this.handleMouseOut(p);else if(null!==I)this.handleStickyCapturedSeries(r,I,p,w);else if(this.tooltipUtil.isXoverlap(w)||y.globals.isBarHorizontal){var N=y.globals.series.findIndex(function(F,z){return!y.globals.collapsedSeriesIndices.includes(z)});this.create(r,this,N,w,p.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(r,s,u,p){var y=this.w;if(this.tConfig.shared||null!==y.globals.series[s][p]){if(void 0!==y.globals.series[s][p])this.tConfig.shared&&this.tooltipUtil.isXoverlap(p)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(r,this,s,p,u.ttItems):this.create(r,this,s,p,u.ttItems,!1);else if(this.tooltipUtil.isXoverlap(p)){var x=y.globals.series.findIndex(function(w,I){return!y.globals.collapsedSeriesIndices.includes(I)});this.create(r,this,x,p,u.ttItems)}}else this.handleMouseOut(u)}},{key:"deactivateHoverFilter",value:function(){for(var r=this.w,s=new et(this.ctx),u=r.globals.dom.Paper.select(".apexcharts-bar-area"),p=0;p<u.length;p++)s.pathMouseLeave(u[p])}},{key:"handleMouseOut",value:function(r){var s=this.w,u=this.getElXCrosshairs();if(r.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==s.config.chart.type&&this.marker.resetPointsSize(),null!==u&&u.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var p=0;p<this.yaxisTTEls.length;p++)this.yaxisTTEls[p].classList.remove("apexcharts-active")}s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(y){var x=y.getAttribute("data:default-text");y.innerHTML=decodeURIComponent(x)})}},{key:"markerClick",value:function(r,s,u){var p=this.w;"function"==typeof p.config.chart.events.markerClick&&p.config.chart.events.markerClick(r,this.ctx,{seriesIndex:s,dataPointIndex:u,w:p}),this.ctx.events.fireEvent("markerClick",[r,this.ctx,{seriesIndex:s,dataPointIndex:u,w:p}])}},{key:"create",value:function(r,s,u,p,y){var x,w,I,P,N,F,z,X,le,ie,me,Ae,Ve,D,Z,ce,xe=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,Pe=this.w,ze=s;"mouseup"===r.type&&this.markerClick(r,u,p),null===xe&&(xe=this.tConfig.shared);var Ke=this.tooltipUtil.hasMarkers(u),st=this.tooltipUtil.getElBars();if(Pe.config.legend.tooltipHoverFormatter){var Tt=Pe.config.legend.tooltipHoverFormatter,$t=Array.from(this.legendLabels);$t.forEach(function(wr){var Ss=wr.getAttribute("data:default-text");wr.innerHTML=decodeURIComponent(Ss)});for(var zt=0;zt<$t.length;zt++){var Ht=$t[zt],zn=parseInt(Ht.getAttribute("i"),10),Qn=decodeURIComponent(Ht.getAttribute("data:default-text")),di=Tt(Qn,{seriesIndex:xe?zn:u,dataPointIndex:p,w:Pe});if(xe)Ht.innerHTML=Pe.globals.collapsedSeriesIndices.indexOf(zn)<0?di:Qn;else if(Ht.innerHTML=zn===u?di:Qn,u===zn)break}}var xi=He(He({ttItems:y,i:u,j:p},void 0!==(null===(x=Pe.globals.seriesRange)||void 0===x||null===(w=x[u])||void 0===w||null===(I=w[p])||void 0===I||null===(P=I.y[0])||void 0===P?void 0:P.y1)&&{y1:null===(N=Pe.globals.seriesRange)||void 0===N||null===(F=N[u])||void 0===F||null===(z=F[p])||void 0===z||null===(X=z.y[0])||void 0===X?void 0:X.y1}),void 0!==(null===(le=Pe.globals.seriesRange)||void 0===le||null===(ie=le[u])||void 0===ie||null===(me=ie[p])||void 0===me||null===(Ae=me.y[0])||void 0===Ae?void 0:Ae.y2)&&{y2:null===(Ve=Pe.globals.seriesRange)||void 0===Ve||null===(D=Ve[u])||void 0===D||null===(Z=D[p])||void 0===Z||null===(ce=Z.y[0])||void 0===ce?void 0:ce.y2});if(xe){if(ze.tooltipLabels.drawSeriesTexts(He(He({},xi),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Ke)Pe.globals.markers.largestSize>0?ze.marker.enlargePoints(p):ze.tooltipPosition.moveDynamicPointsOnHover(p);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(st),this.barSeriesHeight>0)){var ji=new et(this.ctx),pi=Pe.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(p,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(p,u);for(var $i=0;$i<pi.length;$i++)ji.pathMouseEnter(pi[$i])}}else ze.tooltipLabels.drawSeriesTexts(He({shared:!1},xi)),this.tooltipUtil.hasBars()&&ze.tooltipPosition.moveStickyTooltipOverBars(p,u),Ke&&ze.tooltipPosition.moveMarkers(u,p)}}]),ye}(),ur=function(){function ye(r){l(this,ye),this.w=r.w,this.barCtx=r,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return je(ye,[{key:"handleBarDataLabels",value:function(r){var s=r.x,u=r.y,p=r.y1,y=r.y2,x=r.i,w=r.j,I=r.realIndex,P=r.groupIndex,N=r.series,F=r.barHeight,z=r.barWidth,X=r.barXPosition,le=r.barYPosition,ie=r.visibleSeries,me=r.renderedPath,Ae=this.w,Ve=new et(this.barCtx.ctx),D=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[I]:this.barCtx.strokeWidth,Z=s+parseFloat(z*ie),ce=u+parseFloat(F*ie);Ae.globals.isXNumeric&&!Ae.globals.isBarHorizontal&&(Z=s+parseFloat(z*(ie+1)),ce=u+parseFloat(F*(ie+1))-D);var xe,st,Pe=null,ze=s,Ke=u,Tt=Ae.config.dataLabels,$t=this.barCtx.barOptions.dataLabels,zt=this.barCtx.barOptions.dataLabels.total;void 0!==le&&this.barCtx.isRangeBar&&(ce=le,Ke=le),void 0!==X&&this.barCtx.isVerticalGroupedRangeBar&&(Z=X,ze=X);var Ht=Tt.offsetX,zn=Tt.offsetY,Qn={width:0,height:0};Ae.config.dataLabels.enabled&&(Qn=Ve.getTextRects(Ae.globals.yLabelFormatters[0](this.barCtx.series[x][w]),parseFloat(Tt.style.fontSize)));var xi={x:s,y:u,i:x,j:w,realIndex:I,groupIndex:P||-1,renderedPath:me,bcx:Z,bcy:ce,barHeight:F,barWidth:z,textRects:Qn,strokeWidth:D,dataLabelsX:ze,dataLabelsY:Ke,dataLabelsConfig:Tt,barDataLabelsConfig:$t,barTotalDataLabelsConfig:zt,offX:Ht,offY:zn};return st=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(xi):this.calculateColumnsDataLabelsPosition(xi),me.attr({cy:st.bcy,cx:st.bcx,j:w,val:N[x][w],barHeight:F,barWidth:z}),xe=this.drawCalculatedDataLabels({x:st.dataLabelsX,y:st.dataLabelsY,val:this.barCtx.isRangeBar?[p,y]:N[x][w],i:I,j:w,barWidth:z,barHeight:F,textRects:Qn,dataLabelsConfig:Tt}),Ae.config.chart.stacked&&zt.enabled&&(Pe=this.drawTotalDataLabels({x:st.totalDataLabelsX,y:st.totalDataLabelsY,realIndex:I,textAnchor:st.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:I,j:w}),dataLabelsConfig:Tt,barTotalDataLabelsConfig:zt})),{dataLabels:xe,totalDataLabels:Pe}}},{key:"getStackedTotalDataLabel",value:function(r){var s=r.realIndex,u=r.j,p=this.w,y=this.barCtx.stackedSeriesTotals[u];return this.totalFormatter&&(y=this.totalFormatter(y,He(He({},p),{},{seriesIndex:s,dataPointIndex:u,w:p}))),y}},{key:"calculateColumnsDataLabelsPosition",value:function(r){var s,u,p=this.w,y=r.i,x=r.j,w=r.realIndex,I=r.groupIndex,P=r.y,N=r.bcx,F=r.barWidth,z=r.barHeight,X=r.textRects,le=r.dataLabelsX,ie=r.dataLabelsY,me=r.dataLabelsConfig,Ae=r.barDataLabelsConfig,Ve=r.barTotalDataLabelsConfig,D=r.strokeWidth,Z=r.offX,ce=r.offY;z=Math.abs(z);var xe="vertical"===p.config.plotOptions.bar.dataLabels.orientation;N=N-D/2+(-1!==I?I*F:0),this.barCtx.isVerticalGroupedRangeBar?le+=F/2:le=p.globals.isXNumeric?N-F/2+Z:N-p.globals.gridWidth/p.globals.dataPoints+F/2+Z,xe&&(le=le+X.height/2-D/2-2);var ze=this.barCtx.series[y][x]<0,Ke=P;switch(this.barCtx.isReversed&&(Ke=P-z+(ze?2*z:0),P-=z),Ae.position){case"center":ie=xe?ze?Ke+z/2+ce:Ke+z/2-ce:ze?Ke-z/2+X.height/2+ce:Ke+z/2+X.height/2-ce;break;case"bottom":ie=xe?ze?Ke+z+ce:Ke+z-ce:ze?Ke-z+X.height+D+ce:Ke+z-X.height/2+D-ce;break;case"top":ie=xe?ze?Ke+ce:Ke-ce:ze?Ke-X.height/2-ce:Ke+X.height+ce}if(this.barCtx.lastActiveBarSerieIndex===w&&Ve.enabled){var st=new et(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:w,j:x}),me.fontSize);s=ze?Ke-st.height/2-ce-Ve.offsetY+18:Ke+st.height+ce+Ve.offsetY-18,u=le+Ve.offsetX}return p.config.chart.stacked||(ie<0?ie=0+D:ie+X.height/3>p.globals.gridHeight&&(ie=p.globals.gridHeight-D)),{bcx:N,bcy:P,dataLabelsX:le,dataLabelsY:ie,totalDataLabelsX:u,totalDataLabelsY:s,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(r){var s=this.w,u=r.x,p=r.i,y=r.j,x=r.realIndex,w=r.groupIndex,I=r.bcy,P=r.barHeight,N=r.barWidth,F=r.textRects,z=r.dataLabelsX,X=r.strokeWidth,le=r.dataLabelsConfig,ie=r.barDataLabelsConfig,me=r.barTotalDataLabelsConfig,Ae=r.offX,Ve=r.offY,D=s.globals.gridHeight/s.globals.dataPoints;N=Math.abs(N);var Z,ce,xe=(I+=-1!==w?w*P:0)-(this.barCtx.isRangeBar?0:D)+P/2+F.height/2+Ve-3,Pe="start",ze=this.barCtx.series[p][y]<0,Ke=u;switch(this.barCtx.isReversed&&(Ke=u+N-(ze?2*N:0),u=s.globals.gridWidth-N),ie.position){case"center":z=ze?Ke+N/2-Ae:Math.max(F.width/2,Ke-N/2)+Ae;break;case"bottom":z=ze?Ke+N-X-Math.round(F.width/2)-Ae:Ke-N+X+Math.round(F.width/2)+Ae;break;case"top":z=ze?Ke-X+Math.round(F.width/2)-Ae:Ke-X-Math.round(F.width/2)+Ae}if(this.barCtx.lastActiveBarSerieIndex===x&&me.enabled){var st=new et(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:x,j:y}),le.fontSize);ze?(Z=Ke-X+Math.round(st.width/2)-Ae-me.offsetX-15,Pe="end"):Z=Ke-X-Math.round(st.width/2)+Ae+me.offsetX+15,ce=xe+me.offsetY}return s.config.chart.stacked||(z<0?z=z+F.width+X:z+F.width/2>s.globals.gridWidth&&(z=s.globals.gridWidth-F.width-X)),{bcx:u,bcy:I,dataLabelsX:z,dataLabelsY:xe,totalDataLabelsX:Z,totalDataLabelsY:ce,totalDataLabelsAnchor:Pe}}},{key:"drawCalculatedDataLabels",value:function(r){var s=r.x,u=r.y,p=r.val,y=r.i,x=r.j,w=r.textRects,I=r.barHeight,P=r.barWidth,N=r.dataLabelsConfig,F=this.w,z="rotate(0)";"vertical"===F.config.plotOptions.bar.dataLabels.orientation&&(z="rotate(-90, ".concat(s,", ").concat(u,")"));var X=new Tn(this.barCtx.ctx),le=new et(this.barCtx.ctx),ie=N.formatter,me=null,Ae=F.globals.collapsedSeriesIndices.indexOf(y)>-1;if(N.enabled&&!Ae){me=le.group({class:"apexcharts-data-labels",transform:z});var Ve="";void 0!==p&&(Ve=ie(p,He(He({},F),{},{seriesIndex:y,dataPointIndex:x,w:F}))),!p&&F.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Ve="");var D=F.globals.series[y][x]<0,Z=F.config.plotOptions.bar.dataLabels.position;"vertical"===F.config.plotOptions.bar.dataLabels.orientation&&("top"===Z&&(N.textAnchor=D?"end":"start"),"center"===Z&&(N.textAnchor="middle"),"bottom"===Z&&(N.textAnchor=D?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&P<le.getTextRects(Ve,parseFloat(N.style.fontSize)).width&&(Ve=""),F.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?w.width/1.6>Math.abs(P)&&(Ve=""):w.height/1.6>Math.abs(I)&&(Ve=""));var ce=He({},N);this.barCtx.isHorizontal&&p<0&&("start"===N.textAnchor?ce.textAnchor="end":"end"===N.textAnchor&&(ce.textAnchor="start")),X.plotDataLabelsText({x:s,y:u,text:Ve,i:y,j:x,parent:me,dataLabelsConfig:ce,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return me}},{key:"drawTotalDataLabels",value:function(r){var s,u=r.x,p=r.y,y=r.val,x=r.realIndex,w=r.textAnchor,I=r.barTotalDataLabelsConfig,P=new et(this.barCtx.ctx);return I.enabled&&void 0!==u&&void 0!==p&&this.barCtx.lastActiveBarSerieIndex===x&&(s=P.drawText({x:u,y:p,foreColor:I.style.color,text:y,textAnchor:w,fontFamily:I.style.fontFamily,fontSize:I.style.fontSize,fontWeight:I.style.fontWeight})),s}}]),ye}(),Ur=function(){function ye(r){l(this,ye),this.w=r.w,this.barCtx=r}return je(ye,[{key:"initVariables",value:function(r){var s=this.w;this.barCtx.series=r,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var u=0;u<r.length;u++)if(r[u].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=r[u].length),s.globals.isXNumeric)for(var p=0;p<r[u].length;p++)s.globals.seriesX[u][p]>s.globals.minX&&s.globals.seriesX[u][p]<s.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=s.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],s.globals.comboCharts||this.checkZeroSeries({series:r})}},{key:"initialPositions",value:function(){var r,s,u,p,y,x,w,I,P=this.w,N=P.globals.dataPoints;this.barCtx.isRangeBar&&(N=P.globals.labels.length);var F=this.barCtx.seriesLen;if(P.config.plotOptions.bar.rangeBarGroupRows&&(F=1),this.barCtx.isHorizontal)y=(u=P.globals.gridHeight/N)/F,P.globals.isXNumeric&&(y=(u=P.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),y=y*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(y=parseInt(this.barCtx.barOptions.barHeight,10)),I=this.barCtx.baseLineInvertedY+P.globals.padHorizontal+(this.barCtx.isReversed?P.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(I=P.globals.gridWidth/2),s=(u-y*this.barCtx.seriesLen)/2;else{if(p=P.globals.gridWidth/this.barCtx.visibleItems,P.config.xaxis.convertedCatToNumeric&&(p=P.globals.gridWidth/P.globals.dataPoints),x=p/F*parseInt(this.barCtx.barOptions.columnWidth,10)/100,P.globals.isXNumeric){var z=this.barCtx.xRatio;P.config.xaxis.convertedCatToNumeric&&(z=this.barCtx.initialXRatio),P.globals.minXDiff&&.5!==P.globals.minXDiff&&P.globals.minXDiff/z>0&&(p=P.globals.minXDiff/z),(x=p/F*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(x=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(x=parseInt(this.barCtx.barOptions.columnWidth,10)),w=P.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?P.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),r=P.globals.padHorizontal+(p-x*this.barCtx.seriesLen)/2}return{x:r,y:s,yDivision:u,xDivision:p,barHeight:y,barWidth:x,zeroH:w,zeroW:I}}},{key:"initializeStackedPrevVars",value:function(r){var s=r.w;s.globals.hasSeriesGroups?s.globals.seriesGroups.forEach(function(u){r[u]||(r[u]={}),r[u].prevY=[],r[u].prevX=[],r[u].prevYF=[],r[u].prevXF=[],r[u].prevYVal=[],r[u].prevXVal=[]}):(r.prevY=[],r.prevX=[],r.prevYF=[],r.prevXF=[],r.prevYVal=[],r.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(r){var s=r.w;s.globals.hasSeriesGroups?s.globals.seriesGroups.forEach(function(u){r[u]||(r[u]={}),r[u].xArrj=[],r[u].xArrjF=[],r[u].xArrjVal=[],r[u].yArrj=[],r[u].yArrjF=[],r[u].yArrjVal=[]}):(r.xArrj=[],r.xArrjF=[],r.xArrjVal=[],r.yArrj=[],r.yArrjF=[],r.yArrjVal=[])}},{key:"getPathFillColor",value:function(r,s,u,p){var y,x,w,I,P=this.w,N=new rn(this.barCtx.ctx),F=null,z=this.barCtx.barOptions.distributed?u:s;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(X){r[s][u]>=X.from&&r[s][u]<=X.to&&(F=X.color)}),P.config.series[s].data[u]&&P.config.series[s].data[u].fillColor&&(F=P.config.series[s].data[u].fillColor),N.fillPath({seriesNumber:this.barCtx.barOptions.distributed?z:p,dataPointIndex:u,color:F,value:r[s][u],fillConfig:null===(y=P.config.series[s].data[u])||void 0===y?void 0:y.fill,fillType:null!==(x=P.config.series[s].data[u])&&void 0!==x&&null!==(w=x.fill)&&void 0!==w&&w.type?null===(I=P.config.series[s].data[u])||void 0===I?void 0:I.fill.type:P.config.fill.type})}},{key:"getStrokeWidth",value:function(r,s,u){var p=0,y=this.w;return this.barCtx.isNullValue=!this.barCtx.series[r][s],y.config.stroke.show&&(this.barCtx.isNullValue||(p=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth)),p}},{key:"shouldApplyRadius",value:function(r){var s=this.w,u=!1;return s.config.plotOptions.bar.borderRadius>0&&(s.config.chart.stacked&&"last"===s.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===r&&(u=!0):u=!0),u}},{key:"barBackground",value:function(r){var s=r.j,u=r.i,p=r.x1,y=r.x2,x=r.y1,w=r.y2,I=r.elSeries,P=this.w,N=new et(this.barCtx.ctx),F=new Pn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&F===u){s>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(s%=this.barCtx.barOptions.colors.backgroundBarColors.length);var X=N.drawRect(void 0!==p?p:0,void 0!==x?x:0,void 0!==y?y:P.globals.gridWidth,void 0!==w?w:P.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[s],this.barCtx.barOptions.colors.backgroundBarOpacity);I.add(X),X.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(r){var s,u=r.barWidth,p=r.barXPosition,y=r.y1,x=r.y2,w=r.strokeWidth,I=r.seriesGroup,P=r.realIndex,N=r.i,F=r.j,z=r.w,X=new et(this.barCtx.ctx);(w=Array.isArray(w)?w[P]:w)||(w=0);var le=u,ie=p;null!==(s=z.config.series[P].data[F])&&void 0!==s&&s.columnWidthOffset&&(ie=p-z.config.series[P].data[F].columnWidthOffset/2,le=u+z.config.series[P].data[F].columnWidthOffset);var me=ie,Ae=ie+le;x+=.001;var Ve=X.move(me,y+=.001),D=X.move(me,y),Z=X.line(Ae-w,y);if(z.globals.previousPaths.length>0&&(D=this.barCtx.getPreviousPath(P,F,!1)),Ve=Ve+X.line(me,x)+X.line(Ae-w,x)+X.line(Ae-w,y)+("around"===z.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),D=D+X.line(me,y)+Z+Z+Z+Z+Z+X.line(me,y)+("around"===z.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(P)&&(Ve=X.roundPathCorners(Ve,z.config.plotOptions.bar.borderRadius)),z.config.chart.stacked){var ce=this.barCtx;z.globals.hasSeriesGroups&&I&&(ce=this.barCtx[I]),ce.yArrj.push(x),ce.yArrjF.push(Math.abs(y-x)),ce.yArrjVal.push(this.barCtx.series[N][F])}return{pathTo:Ve,pathFrom:D}}},{key:"getBarpaths",value:function(r){var s,u=r.barYPosition,p=r.barHeight,y=r.x1,x=r.x2,w=r.strokeWidth,I=r.seriesGroup,P=r.realIndex,N=r.i,F=r.j,z=r.w,X=new et(this.barCtx.ctx);(w=Array.isArray(w)?w[P]:w)||(w=0);var le=u,ie=p;null!==(s=z.config.series[P].data[F])&&void 0!==s&&s.barHeightOffset&&(le=u-z.config.series[P].data[F].barHeightOffset/2,ie=p+z.config.series[P].data[F].barHeightOffset);var me=le,Ae=le+ie;x+=.001;var Ve=X.move(y+=.001,me),D=X.move(y,me);z.globals.previousPaths.length>0&&(D=this.barCtx.getPreviousPath(P,F,!1));var Z=X.line(y,Ae-w);if(Ve=Ve+X.line(x,me)+X.line(x,Ae-w)+Z+("around"===z.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),D=D+X.line(y,me)+Z+Z+Z+Z+Z+X.line(y,me)+("around"===z.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(P)&&(Ve=X.roundPathCorners(Ve,z.config.plotOptions.bar.borderRadius)),z.config.chart.stacked){var ce=this.barCtx;z.globals.hasSeriesGroups&&I&&(ce=this.barCtx[I]),ce.xArrj.push(x),ce.xArrjF.push(Math.abs(y-x)),ce.xArrjVal.push(this.barCtx.series[N][F])}return{pathTo:Ve,pathFrom:D}}},{key:"checkZeroSeries",value:function(r){for(var s=r.series,u=this.w,p=0;p<s.length;p++){for(var y=0,x=0;x<s[u.globals.maxValsInArrayIndex].length;x++)y+=s[p][x];0===y&&this.barCtx.zeroSerieses.push(p)}}},{key:"getXForValue",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:s;return null!=r&&(u=s+r/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?r/this.barCtx.invertedYRatio:0)),u}},{key:"getYForValue",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:s;return null!=r&&(u=s-r/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?r/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),u}},{key:"getGoalValues",value:function(r,s,u,p,y){var x=this,w=this.w,I=[],P=function(z,X){var le;I.push((tt(le={},r,"x"===r?x.getXForValue(z,s,!1):x.getYForValue(z,u,!1)),tt(le,"attrs",X),le))};if(w.globals.seriesGoals[p]&&w.globals.seriesGoals[p][y]&&Array.isArray(w.globals.seriesGoals[p][y])&&w.globals.seriesGoals[p][y].forEach(function(z){P(z.value,z)}),this.barCtx.barOptions.isDumbbell&&w.globals.seriesRange.length){var N=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:w.globals.colors,F={strokeHeight:"x"===r?0:w.globals.markers.size[p],strokeWidth:"x"===r?w.globals.markers.size[p]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(N[p])?N[p][0]:N[p]};P(w.globals.seriesRangeStart[p][y],F),P(w.globals.seriesRangeEnd[p][y],He(He({},F),{},{strokeColor:Array.isArray(N[p])?N[p][1]:N[p]}))}return I}},{key:"drawGoalLine",value:function(r){var s=r.barXPosition,u=r.barYPosition,p=r.goalX,y=r.goalY,x=r.barWidth,w=r.barHeight,I=new et(this.barCtx.ctx),P=I.group({className:"apexcharts-bar-goals-groups"});P.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:P.node}),P.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var N=null;return this.barCtx.isHorizontal?Array.isArray(p)&&p.forEach(function(F){var z=void 0!==F.attrs.strokeHeight?F.attrs.strokeHeight:w/2,X=u+z+w/2;N=I.drawLine(F.x,X-2*z,F.x,X,F.attrs.strokeColor?F.attrs.strokeColor:void 0,F.attrs.strokeDashArray,F.attrs.strokeWidth?F.attrs.strokeWidth:2,F.attrs.strokeLineCap),P.add(N)}):Array.isArray(y)&&y.forEach(function(F){var z=void 0!==F.attrs.strokeWidth?F.attrs.strokeWidth:x/2,X=s+z+x/2;N=I.drawLine(X-2*z,F.y,X,F.y,F.attrs.strokeColor?F.attrs.strokeColor:void 0,F.attrs.strokeDashArray,F.attrs.strokeHeight?F.attrs.strokeHeight:2,F.attrs.strokeLineCap),P.add(N)}),P}},{key:"drawBarShadow",value:function(r){var s=r.prevPaths,u=r.currPaths,p=r.color,y=this.w,x=s.x,w=s.x1,P=u.x,N=u.x1,F=u.barYPosition,z=s.barYPosition+u.barHeight,X=new et(this.barCtx.ctx),le=new Ye,ie=X.move(w,z)+X.line(x,z)+X.line(P,F)+X.line(N,F)+X.line(w,z)+("around"===y.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return X.drawPath({d:ie,fill:le.shadeColor(.5,Ye.rgb2hex(p)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}}]),ye}(),gi=function(){function ye(r,s){l(this,ye),this.ctx=r,this.w=r.w;var u=this.w;this.barOptions=u.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=u.config.stroke.width,this.isNullValue=!1,this.isRangeBar=u.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!u.globals.isBarHorizontal&&u.globals.seriesRange.length&&u.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=s,null!==this.xyRatios&&(this.xRatio=s.xRatio,this.initialXRatio=s.initialXRatio,this.yRatio=s.yRatio,this.invertedXRatio=s.invertedXRatio,this.invertedYRatio=s.invertedYRatio,this.baseLineY=s.baseLineY,this.baseLineInvertedY=s.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var p=new Pn(this.ctx);this.lastActiveBarSerieIndex=p.getActiveConfigSeriesIndex("desc",["bar","column"]);var y=p.getBarSeriesIndices(),x=new jt(this.ctx);this.stackedSeriesTotals=x.getStackedSeriesTotals(this.w.config.series.map(function(w,I){return-1===y.indexOf(I)?I:-1}).filter(function(w){return-1!==w})),this.barHelpers=new Ur(this)}return je(ye,[{key:"draw",value:function(r,s){var u=this.w,p=new et(this.ctx),y=new jt(this.ctx,u);r=y.getLogSeries(r),this.series=r,this.yRatio=y.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r);var x=p.group({class:"apexcharts-bar-series apexcharts-plot-series"});u.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var w=0,I=0;w<r.length;w++,I++){var P,N,F,z,X=void 0,le=void 0,ie=[],me=[],Ae=u.globals.comboCharts?s[w]:w,Ve=p.group({class:"apexcharts-series",rel:w+1,seriesName:Ye.escapeString(u.globals.seriesNames[Ae]),"data:realIndex":Ae});this.ctx.series.addCollapsedClassToSeries(Ve,Ae),r[w].length>0&&(this.visibleI=this.visibleI+1);var D=0,Z=0;this.yRatio.length>1&&(this.yaxisIndex=Ae),this.isReversed=u.config.yaxis[this.yaxisIndex]&&u.config.yaxis[this.yaxisIndex].reversed;var ce=this.barHelpers.initialPositions();le=ce.y,D=ce.barHeight,N=ce.yDivision,z=ce.zeroW,X=ce.x,Z=ce.barWidth,P=ce.xDivision,F=ce.zeroH,this.horizontal||me.push(X+Z/2);var xe=p.group({class:"apexcharts-datalabels","data:realIndex":Ae});u.globals.delayedElements.push({el:xe.node}),xe.node.classList.add("apexcharts-element-hidden");var Pe=p.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ze=p.group({class:"apexcharts-bar-shadows",style:"pointer-events: none"});u.globals.delayedElements.push({el:ze.node}),ze.node.classList.add("apexcharts-element-hidden");for(var Ke=0;Ke<u.globals.dataPoints;Ke++){var st=this.barHelpers.getStrokeWidth(w,Ke,Ae),Tt=null,$t={indexes:{i:w,j:Ke,realIndex:Ae,bc:I},x:X,y:le,strokeWidth:st,elSeries:Ve};this.isHorizontal?(Tt=this.drawBarPaths(He(He({},$t),{},{barHeight:D,zeroW:z,yDivision:N})),Z=this.series[w][Ke]/this.invertedYRatio):(Tt=this.drawColumnPaths(He(He({},$t),{},{xDivision:P,barWidth:Z,zeroH:F})),D=this.series[w][Ke]/this.yRatio[this.yaxisIndex]);var zt=this.barHelpers.getPathFillColor(r,w,Ke,Ae);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Ke>0){var Ht=this.barHelpers.drawBarShadow({color:"string"==typeof zt&&-1===zt?.indexOf("url")?zt:Ye.hexToRgba(u.globals.colors[w]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Tt});Ht&&ze.add(Ht)}this.pathArr.push(Tt);var zn=this.barHelpers.drawGoalLine({barXPosition:Tt.barXPosition,barYPosition:Tt.barYPosition,goalX:Tt.goalX,goalY:Tt.goalY,barHeight:D,barWidth:Z});zn&&Pe.add(zn),le=Tt.y,X=Tt.x,Ke>0&&me.push(X+Z/2),ie.push(le),this.renderSeries({realIndex:Ae,pathFill:zt,j:Ke,i:w,pathFrom:Tt.pathFrom,pathTo:Tt.pathTo,strokeWidth:st,elSeries:Ve,x:X,y:le,series:r,barHeight:Tt.barHeight?Tt.barHeight:D,barWidth:Tt.barWidth?Tt.barWidth:Z,elDataLabelsWrap:xe,elGoalsMarkers:Pe,elBarShadows:ze,visibleSeries:this.visibleI,type:"bar"})}u.globals.seriesXvalues[Ae]=me,u.globals.seriesYvalues[Ae]=ie,x.add(Ve)}return x}},{key:"renderSeries",value:function(r){var s=r.realIndex,u=r.pathFill,p=r.lineFill,y=r.j,x=r.i,w=r.groupIndex,I=r.pathFrom,P=r.pathTo,N=r.strokeWidth,F=r.elSeries,z=r.x,X=r.y,le=r.y1,ie=r.y2,me=r.series,Ae=r.barHeight,Ve=r.barWidth,D=r.barXPosition,Z=r.barYPosition,ce=r.elDataLabelsWrap,xe=r.elGoalsMarkers,Pe=r.elBarShadows,ze=r.visibleSeries,Ke=r.type,st=this.w,Tt=new et(this.ctx);p||(p=this.barOptions.distributed?st.globals.stroke.colors[y]:st.globals.stroke.colors[s]),st.config.series[x].data[y]&&st.config.series[x].data[y].strokeColor&&(p=st.config.series[x].data[y].strokeColor),this.isNullValue&&(u="none");var zt=Tt.renderPaths({i:x,j:y,realIndex:s,pathFrom:I,pathTo:P,stroke:p,strokeWidth:N,strokeLineCap:st.config.stroke.lineCap,fill:u,animationDelay:y/st.config.chart.animations.animateGradually.delay*(st.config.chart.animations.speed/st.globals.dataPoints)/2.4,initialSpeed:st.config.chart.animations.speed,dataChangeSpeed:st.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Ke,"-area")});zt.attr("clip-path","url(#gridRectMask".concat(st.globals.cuid,")"));var Ht=st.config.forecastDataPoints;Ht.count>0&&y>=st.globals.dataPoints-Ht.count&&(zt.node.setAttribute("stroke-dasharray",Ht.dashArray),zt.node.setAttribute("stroke-width",Ht.strokeWidth),zt.node.setAttribute("fill-opacity",Ht.fillOpacity)),void 0!==le&&void 0!==ie&&(zt.attr("data-range-y1",le),zt.attr("data-range-y2",ie)),new un(this.ctx).setSelectionFilter(zt,s,y),F.add(zt);var zn=new ur(this).handleBarDataLabels({x:z,y:X,y1:le,y2:ie,i:x,j:y,series:me,realIndex:s,groupIndex:w,barHeight:Ae,barWidth:Ve,barXPosition:D,barYPosition:Z,renderedPath:zt,visibleSeries:ze});return null!==zn.dataLabels&&ce.add(zn.dataLabels),zn.totalDataLabels&&ce.add(zn.totalDataLabels),F.add(ce),xe&&F.add(xe),Pe&&F.add(Pe),F}},{key:"drawBarPaths",value:function(r){var s,w,u=r.indexes,p=r.barHeight,y=r.strokeWidth,x=r.zeroW,I=r.y,P=r.yDivision,N=r.elSeries,F=this.w,z=u.i,X=u.j;if(F.globals.isXNumeric)s=(I=(F.globals.seriesX[z][X]-F.globals.minX)/this.invertedXRatio-p)+p*this.visibleI;else if(F.config.plotOptions.bar.hideZeroBarsWhenGrouped){var le=0,ie=0;F.globals.seriesPercent.forEach(function(Ae,Ve){Ae[X]&&le++,Ve<z&&0===Ae[X]&&ie++}),le>0&&(p=this.seriesLen*p/le),s=I+p*this.visibleI,s-=p*ie}else s=I+p*this.visibleI;this.isFunnel&&(x-=(this.barHelpers.getXForValue(this.series[z][X],x)-x)/2),w=this.barHelpers.getXForValue(this.series[z][X],x);var me=this.barHelpers.getBarpaths({barYPosition:s,barHeight:p,x1:x,x2:w,strokeWidth:y,series:this.series,realIndex:u.realIndex,i:z,j:X,w:F});return F.globals.isXNumeric||(I+=P),this.barHelpers.barBackground({j:X,i:z,y1:s-p*this.visibleI,y2:p*this.seriesLen,elSeries:N}),{pathTo:me.pathTo,pathFrom:me.pathFrom,x1:x,x:w,y:I,goalX:this.barHelpers.getGoalValues("x",x,null,z,X),barYPosition:s,barHeight:p}}},{key:"drawColumnPaths",value:function(r){var s,y,u=r.indexes,p=r.x,x=r.xDivision,w=r.barWidth,I=r.zeroH,P=r.strokeWidth,N=r.elSeries,F=this.w,z=u.realIndex,X=u.i,le=u.j,ie=u.bc;if(F.globals.isXNumeric){var me=z;F.globals.seriesX[z].length||(me=F.globals.maxValsInArrayIndex),F.globals.seriesX[me][le]&&(p=(F.globals.seriesX[me][le]-F.globals.minX)/this.xRatio-w*this.seriesLen/2),s=p+w*this.visibleI}else if(F.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Ae=0,Ve=0;F.globals.seriesPercent.forEach(function(Z,ce){Z[le]&&Ae++,ce<X&&0===Z[le]&&Ve++}),Ae>0&&(w=this.seriesLen*w/Ae),s=p+w*this.visibleI,s-=w*Ve}else s=p+w*this.visibleI;y=this.barHelpers.getYForValue(this.series[X][le],I);var D=this.barHelpers.getColumnPaths({barXPosition:s,barWidth:w,y1:I,y2:y,strokeWidth:P,series:this.series,realIndex:u.realIndex,i:X,j:le,w:F});return F.globals.isXNumeric||(p+=x),this.barHelpers.barBackground({bc:ie,j:le,i:X,x1:s-P/2-w*this.visibleI,x2:w*this.seriesLen+P/2,elSeries:N}),{pathTo:D.pathTo,pathFrom:D.pathFrom,x:p,y,goalY:this.barHelpers.getGoalValues("y",null,I,X,le),barXPosition:s,barWidth:w}}},{key:"getPreviousPath",value:function(r,s){for(var u,p=this.w,y=0;y<p.globals.previousPaths.length;y++){var x=p.globals.previousPaths[y];x.paths&&x.paths.length>0&&parseInt(x.realIndex,10)===parseInt(r,10)&&void 0!==p.globals.previousPaths[y].paths[s]&&(u=p.globals.previousPaths[y].paths[s].d)}return u}}]),ye}(),or=function(ye){vt(s,gi);var r=Jt(s);function s(){return l(this,s),r.apply(this,arguments)}return je(s,[{key:"draw",value:function(u,p){var y=this,x=this.w;this.graphics=new et(this.ctx),this.bar=new gi(this.ctx,this.xyRatios);var w=new jt(this.ctx,x);u=w.getLogSeries(u),this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u),"100%"===x.config.chart.stackType&&(u=x.globals.seriesPercent.slice()),this.series=u,this.barHelpers.initializeStackedPrevVars(this);for(var I=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),P=0,N=0,F=function(le,ie){var me=void 0,Ae=void 0,Ve=void 0,D=void 0,Z=-1;y.groupCtx=y,x.globals.seriesGroups.forEach(function(pi,$i){pi.indexOf(x.config.series[le].name)>-1&&(Z=$i)}),-1!==Z&&(y.groupCtx=y[x.globals.seriesGroups[Z]]);var ce=[],xe=[],Pe=x.globals.comboCharts?p[le]:le;y.yRatio.length>1&&(y.yaxisIndex=Pe),y.isReversed=x.config.yaxis[y.yaxisIndex]&&x.config.yaxis[y.yaxisIndex].reversed;var ze=y.graphics.group({class:"apexcharts-series",seriesName:Ye.escapeString(x.globals.seriesNames[Pe]),rel:le+1,"data:realIndex":Pe});y.ctx.series.addCollapsedClassToSeries(ze,Pe);var Ke=y.graphics.group({class:"apexcharts-datalabels","data:realIndex":Pe}),st=y.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Tt=0,$t=0,zt=y.initialPositions(P,N,me,Ae,Ve,D);N=zt.y,Tt=zt.barHeight,Ae=zt.yDivision,D=zt.zeroW,P=zt.x,$t=zt.barWidth,me=zt.xDivision,Ve=zt.zeroH,y.barHelpers.initializeStackedXYVars(y),1===y.groupCtx.prevY.length&&y.groupCtx.prevY[0].every(function(pi){return isNaN(pi)})&&(y.groupCtx.prevY[0]=y.groupCtx.prevY[0].map(function(pi){return Ve}),y.groupCtx.prevYF[0]=y.groupCtx.prevYF[0].map(function(pi){return 0}));for(var Ht=0;Ht<x.globals.dataPoints;Ht++){var zn=y.barHelpers.getStrokeWidth(le,Ht,Pe),Qn={indexes:{i:le,j:Ht,realIndex:Pe,bc:ie},strokeWidth:zn,x:P,y:N,elSeries:ze,groupIndex:Z,seriesGroup:x.globals.seriesGroups[Z]},di=null;y.isHorizontal?(di=y.drawStackedBarPaths(He(He({},Qn),{},{zeroW:D,barHeight:Tt,yDivision:Ae})),$t=y.series[le][Ht]/y.invertedYRatio):(di=y.drawStackedColumnPaths(He(He({},Qn),{},{xDivision:me,barWidth:$t,zeroH:Ve})),Tt=y.series[le][Ht]/y.yRatio[y.yaxisIndex]);var xi=y.barHelpers.drawGoalLine({barXPosition:di.barXPosition,barYPosition:di.barYPosition,goalX:di.goalX,goalY:di.goalY,barHeight:Tt,barWidth:$t});xi&&st.add(xi),N=di.y,ce.push(P=di.x),xe.push(N);var ji=y.barHelpers.getPathFillColor(u,le,Ht,Pe);ze=y.renderSeries({realIndex:Pe,pathFill:ji,j:Ht,i:le,groupIndex:Z,pathFrom:di.pathFrom,pathTo:di.pathTo,strokeWidth:zn,elSeries:ze,x:P,y:N,series:u,barHeight:Tt,barWidth:$t,elDataLabelsWrap:Ke,elGoalsMarkers:st,type:"bar",visibleSeries:0})}x.globals.seriesXvalues[Pe]=ce,x.globals.seriesYvalues[Pe]=xe,y.groupCtx.prevY.push(y.groupCtx.yArrj),y.groupCtx.prevYF.push(y.groupCtx.yArrjF),y.groupCtx.prevYVal.push(y.groupCtx.yArrjVal),y.groupCtx.prevX.push(y.groupCtx.xArrj),y.groupCtx.prevXF.push(y.groupCtx.xArrjF),y.groupCtx.prevXVal.push(y.groupCtx.xArrjVal),I.add(ze)},z=0,X=0;z<u.length;z++,X++)F(z,X);return I}},{key:"initialPositions",value:function(u,p,y,x,w,I){var P,N,F,z,X=this.w;return this.isHorizontal?(F=(F=x=X.globals.gridHeight/X.globals.dataPoints)*parseInt(X.config.plotOptions.bar.barHeight,10)/100,-1===String(X.config.plotOptions.bar.barHeight).indexOf("%")&&(F=parseInt(X.config.plotOptions.bar.barHeight,10)),I=this.baseLineInvertedY+X.globals.padHorizontal+(this.isReversed?X.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),p=(x-F)/2):(z=y=X.globals.gridWidth/X.globals.dataPoints,z=X.globals.isXNumeric&&X.globals.dataPoints>1?(y=X.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:z*parseInt(X.config.plotOptions.bar.columnWidth,10)/100,-1===String(X.config.plotOptions.bar.columnWidth).indexOf("%")&&(z=parseInt(X.config.plotOptions.bar.columnWidth,10)),w=X.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?X.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),u=X.globals.padHorizontal+(y-z)/2),{x:u,y:p,yDivision:x,xDivision:y,barHeight:null!==(P=X.globals.seriesGroups)&&void 0!==P&&P.length?F/X.globals.seriesGroups.length:F,barWidth:null!==(N=X.globals.seriesGroups)&&void 0!==N&&N.length?z/X.globals.seriesGroups.length:z,zeroH:w,zeroW:I}}},{key:"drawStackedBarPaths",value:function(u){for(var p,P,y=u.indexes,x=u.barHeight,w=u.strokeWidth,I=u.zeroW,N=u.y,F=u.groupIndex,z=u.seriesGroup,X=u.yDivision,le=u.elSeries,ie=this.w,me=N+(-1!==F?F*x:0),Ae=y.i,Ve=y.j,D=0,Z=0;Z<this.groupCtx.prevXF.length;Z++)D+=this.groupCtx.prevXF[Z][Ve];var ce=Ae;if(z&&(ce=z.indexOf(ie.config.series[Ae].name)),ce>0){var xe=I;this.groupCtx.prevXVal[ce-1][Ve]<0?xe=this.series[Ae][Ve]>=0?this.groupCtx.prevX[ce-1][Ve]+D-2*(this.isReversed?D:0):this.groupCtx.prevX[ce-1][Ve]:this.groupCtx.prevXVal[ce-1][Ve]>=0&&(xe=this.series[Ae][Ve]>=0?this.groupCtx.prevX[ce-1][Ve]:this.groupCtx.prevX[ce-1][Ve]-D+2*(this.isReversed?D:0)),p=xe}else p=I;var Pe=this.barHelpers.getBarpaths({barYPosition:me,barHeight:x,x1:p,x2:P=null===this.series[Ae][Ve]?p:p+this.series[Ae][Ve]/this.invertedYRatio-2*(this.isReversed?this.series[Ae][Ve]/this.invertedYRatio:0),strokeWidth:w,series:this.series,realIndex:y.realIndex,seriesGroup:z,i:Ae,j:Ve,w:ie});return this.barHelpers.barBackground({j:Ve,i:Ae,y1:me,y2:x,elSeries:le}),N+=X,{pathTo:Pe.pathTo,pathFrom:Pe.pathFrom,goalX:this.barHelpers.getGoalValues("x",I,null,Ae,Ve),barYPosition:me,x:P,y:N}}},{key:"drawStackedColumnPaths",value:function(u){var x,p=u.indexes,y=u.x,w=u.xDivision,I=u.barWidth,P=u.zeroH,N=u.groupIndex,F=u.seriesGroup,z=u.elSeries,X=this.w,le=p.i,ie=p.j,me=p.bc;if(X.globals.isXNumeric){var Ae=X.globals.seriesX[le][ie];Ae||(Ae=0),y=(Ae-X.globals.minX)/this.xRatio-I/2,X.globals.seriesGroups.length&&(y=(Ae-X.globals.minX)/this.xRatio-I/2*X.globals.seriesGroups.length)}for(var Ve,D=y+(-1!==N?N*I:0),Z=0,ce=0;ce<this.groupCtx.prevYF.length;ce++)Z+=isNaN(this.groupCtx.prevYF[ce][ie])?0:this.groupCtx.prevYF[ce][ie];var xe=le;if(F&&(xe=F.indexOf(X.config.series[le].name)),xe>0&&!X.globals.isXNumeric||xe>0&&X.globals.isXNumeric&&X.globals.seriesX[le-1][ie]===X.globals.seriesX[le][ie]){var Pe,ze,Ke,st=Math.min(this.yRatio.length+1,le+1);if(void 0!==this.groupCtx.prevY[xe-1]&&this.groupCtx.prevY[xe-1].length)for(var Tt=1;Tt<st;Tt++){var $t;if(!isNaN(null===($t=this.groupCtx.prevY[xe-Tt])||void 0===$t?void 0:$t[ie])){Ke=this.groupCtx.prevY[xe-Tt][ie];break}}for(var zt=1;zt<st;zt++){var Ht,zn;if((null===(Ht=this.groupCtx.prevYVal[xe-zt])||void 0===Ht?void 0:Ht[ie])<0){ze=this.series[le][ie]>=0?Ke-Z+2*(this.isReversed?Z:0):Ke;break}if((null===(zn=this.groupCtx.prevYVal[xe-zt])||void 0===zn?void 0:zn[ie])>=0){ze=this.series[le][ie]>=0?Ke:Ke+Z-2*(this.isReversed?Z:0);break}}void 0===ze&&(ze=X.globals.gridHeight),Ve=null!==(Pe=this.groupCtx.prevYF[0])&&void 0!==Pe&&Pe.every(function(di){return 0===di})&&this.groupCtx.prevYF.slice(1,xe).every(function(di){return di.every(function(xi){return isNaN(xi)})})?P:ze}else Ve=P;var Qn=this.barHelpers.getColumnPaths({barXPosition:D,barWidth:I,y1:Ve,y2:x=this.series[le][ie]?Ve-this.series[le][ie]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[le][ie]/this.yRatio[this.yaxisIndex]:0):Ve,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:F,realIndex:p.realIndex,i:le,j:ie,w:X});return this.barHelpers.barBackground({bc:me,j:ie,i:le,x1:D,x2:I,elSeries:z}),y+=w,{pathTo:Qn.pathTo,pathFrom:Qn.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,P,le,ie),barXPosition:D,x:X.globals.isXNumeric?y-w:y,y:x}}}]),s}(),Yt=function(ye){vt(s,gi);var r=Jt(s);function s(){return l(this,s),r.apply(this,arguments)}return je(s,[{key:"draw",value:function(u,p,y){var x=this,w=this.w,I=new et(this.ctx),P=w.globals.comboCharts?p:w.config.chart.type,N=new rn(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=w.config.plotOptions.bar.horizontal;var F=new jt(this.ctx,w);u=F.getLogSeries(u),this.series=u,this.yRatio=F.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u);for(var z=I.group({class:"apexcharts-".concat(P,"-series apexcharts-plot-series")}),X=function(ie){x.isBoxPlot="boxPlot"===w.config.chart.type||"boxPlot"===w.config.series[ie].type;var me,Ae,Ve,D,st,Tt,Z=void 0,ce=void 0,xe=[],Pe=[],ze=w.globals.comboCharts?y[ie]:ie,Ke=I.group({class:"apexcharts-series",seriesName:Ye.escapeString(w.globals.seriesNames[ze]),rel:ie+1,"data:realIndex":ze});x.ctx.series.addCollapsedClassToSeries(Ke,ze),u[ie].length>0&&(x.visibleI=x.visibleI+1),x.yRatio.length>1&&(x.yaxisIndex=ze);var $t=x.barHelpers.initialPositions();ce=$t.y,st=$t.barHeight,Ae=$t.yDivision,D=$t.zeroW,me=$t.xDivision,Ve=$t.zeroH,Pe.push((Z=$t.x)+(Tt=$t.barWidth)/2);for(var zt=I.group({class:"apexcharts-datalabels","data:realIndex":ze}),Ht=function(Qn){var di=x.barHelpers.getStrokeWidth(ie,Qn,ze),xi=null,ji={indexes:{i:ie,j:Qn,realIndex:ze},x:Z,y:ce,strokeWidth:di,elSeries:Ke};xi=x.isHorizontal?x.drawHorizontalBoxPaths(He(He({},ji),{},{yDivision:Ae,barHeight:st,zeroW:D})):x.drawVerticalBoxPaths(He(He({},ji),{},{xDivision:me,barWidth:Tt,zeroH:Ve})),ce=xi.y,Z=xi.x,Qn>0&&Pe.push(Z+Tt/2),xe.push(ce),xi.pathTo.forEach(function(pi,$i){var wr=!x.isBoxPlot&&x.candlestickOptions.wick.useFillColor?xi.color[$i]:w.globals.stroke.colors[ie],Ss=N.fillPath({seriesNumber:ze,dataPointIndex:Qn,color:xi.color[$i],value:u[ie][Qn]});x.renderSeries({realIndex:ze,pathFill:Ss,lineFill:wr,j:Qn,i:ie,pathFrom:xi.pathFrom,pathTo:pi,strokeWidth:di,elSeries:Ke,x:Z,y:ce,series:u,barHeight:st,barWidth:Tt,elDataLabelsWrap:zt,visibleSeries:x.visibleI,type:w.config.chart.type})})},zn=0;zn<w.globals.dataPoints;zn++)Ht(zn);w.globals.seriesXvalues[ze]=Pe,w.globals.seriesYvalues[ze]=xe,z.add(Ke)},le=0;le<u.length;le++)X(le);return z}},{key:"drawVerticalBoxPaths",value:function(u){var p=u.indexes,y=u.x,x=u.xDivision,w=u.barWidth,I=u.zeroH,P=u.strokeWidth,N=this.w,F=new et(this.ctx),z=p.i,X=p.j,le=!0,ie=N.config.plotOptions.candlestick.colors.upward,me=N.config.plotOptions.candlestick.colors.downward,Ae="";this.isBoxPlot&&(Ae=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Ve=this.yRatio[this.yaxisIndex],D=p.realIndex,Z=this.getOHLCValue(D,X),ce=I,xe=I;Z.o>Z.c&&(le=!1);var Pe=Math.min(Z.o,Z.c),ze=Math.max(Z.o,Z.c),Ke=Z.m;N.globals.isXNumeric&&(y=(N.globals.seriesX[D][X]-N.globals.minX)/this.xRatio-w/2);var st=y+w*this.visibleI;null==this.series[z][X]?(Pe=I,ze=I):(Pe=I-Pe/Ve,ze=I-ze/Ve,ce=I-Z.h/Ve,xe=I-Z.l/Ve,Ke=I-Z.m/Ve);var Tt=F.move(st,I),$t=F.move(st+w/2,Pe);return N.globals.previousPaths.length>0&&($t=this.getPreviousPath(D,X,!0)),Tt=this.isBoxPlot?[F.move(st,Pe)+F.line(st+w/2,Pe)+F.line(st+w/2,ce)+F.line(st+w/4,ce)+F.line(st+w-w/4,ce)+F.line(st+w/2,ce)+F.line(st+w/2,Pe)+F.line(st+w,Pe)+F.line(st+w,Ke)+F.line(st,Ke)+F.line(st,Pe+P/2),F.move(st,Ke)+F.line(st+w,Ke)+F.line(st+w,ze)+F.line(st+w/2,ze)+F.line(st+w/2,xe)+F.line(st+w-w/4,xe)+F.line(st+w/4,xe)+F.line(st+w/2,xe)+F.line(st+w/2,ze)+F.line(st,ze)+F.line(st,Ke)+"z"]:[F.move(st,ze)+F.line(st+w/2,ze)+F.line(st+w/2,ce)+F.line(st+w/2,ze)+F.line(st+w,ze)+F.line(st+w,Pe)+F.line(st+w/2,Pe)+F.line(st+w/2,xe)+F.line(st+w/2,Pe)+F.line(st,Pe)+F.line(st,ze-P/2)],$t+=F.move(st,Pe),N.globals.isXNumeric||(y+=x),{pathTo:Tt,pathFrom:$t,x:y,y:ze,barXPosition:st,color:this.isBoxPlot?Ae:le?[ie]:[me]}}},{key:"drawHorizontalBoxPaths",value:function(u){var p=u.indexes,y=u.y,x=u.yDivision,w=u.barHeight,I=u.zeroW,P=u.strokeWidth,N=this.w,F=new et(this.ctx),z=p.i,X=p.j,le=this.boxOptions.colors.lower;this.isBoxPlot&&(le=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ie=this.invertedYRatio,me=p.realIndex,Ae=this.getOHLCValue(me,X),Ve=I,D=I,Z=Math.min(Ae.o,Ae.c),ce=Math.max(Ae.o,Ae.c),xe=Ae.m;N.globals.isXNumeric&&(y=(N.globals.seriesX[me][X]-N.globals.minX)/this.invertedXRatio-w/2);var Pe=y+w*this.visibleI;null==this.series[z][X]?(Z=I,ce=I):(Z=I+Z/ie,ce=I+ce/ie,Ve=I+Ae.h/ie,D=I+Ae.l/ie,xe=I+Ae.m/ie);var ze=F.move(I,Pe),Ke=F.move(Z,Pe+w/2);return N.globals.previousPaths.length>0&&(Ke=this.getPreviousPath(me,X,!0)),ze=[F.move(Z,Pe)+F.line(Z,Pe+w/2)+F.line(Ve,Pe+w/2)+F.line(Ve,Pe+w/2-w/4)+F.line(Ve,Pe+w/2+w/4)+F.line(Ve,Pe+w/2)+F.line(Z,Pe+w/2)+F.line(Z,Pe+w)+F.line(xe,Pe+w)+F.line(xe,Pe)+F.line(Z+P/2,Pe),F.move(xe,Pe)+F.line(xe,Pe+w)+F.line(ce,Pe+w)+F.line(ce,Pe+w/2)+F.line(D,Pe+w/2)+F.line(D,Pe+w-w/4)+F.line(D,Pe+w/4)+F.line(D,Pe+w/2)+F.line(ce,Pe+w/2)+F.line(ce,Pe)+F.line(xe,Pe)+"z"],Ke+=F.move(Z,Pe),N.globals.isXNumeric||(y+=x),{pathTo:ze,pathFrom:Ke,x:ce,y,barYPosition:Pe,color:le}}},{key:"getOHLCValue",value:function(u,p){var y=this.w;return{o:this.isBoxPlot?y.globals.seriesCandleH[u][p]:y.globals.seriesCandleO[u][p],h:this.isBoxPlot?y.globals.seriesCandleO[u][p]:y.globals.seriesCandleH[u][p],m:y.globals.seriesCandleM[u][p],l:this.isBoxPlot?y.globals.seriesCandleC[u][p]:y.globals.seriesCandleL[u][p],c:this.isBoxPlot?y.globals.seriesCandleL[u][p]:y.globals.seriesCandleC[u][p]}}}]),s}(),nt=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"checkColorRange",value:function(){var r=this.w,s=!1,u=r.config.plotOptions[r.config.chart.type];return u.colorScale.ranges.length>0&&u.colorScale.ranges.map(function(p,y){p.from<=0&&(s=!0)}),s}},{key:"getShadeColor",value:function(r,s,u,p){var y=this.w,x=1,w=y.config.plotOptions[r].shadeIntensity,I=this.determineColor(r,s,u);y.globals.hasNegs||p?x=y.config.plotOptions[r].reverseNegativeShade?I.percent<0?I.percent/100*(1.25*w):1.25*w*(1-I.percent/100):I.percent<=0?1-(1+I.percent/100)*w:(1-I.percent/100)*w:(x=1-I.percent/100,"treemap"===r&&(x=1.25*w*(1-I.percent/100)));var P=I.color,N=new Ye;return y.config.plotOptions[r].enableShades&&(P=Ye.hexToRgba(N.shadeColor("dark"===this.w.config.theme.mode?-1*x:x,I.color),y.config.fill.opacity)),{color:P,colorProps:I}}},{key:"determineColor",value:function(r,s,u){var p=this.w,y=p.globals.series[s][u],x=p.config.plotOptions[r],w=x.colorScale.inverse?u:s;x.distributed&&"treemap"===p.config.chart.type&&(w=u);var I=p.globals.colors[w],P=null,N=Math.min.apply(Math,Ft(p.globals.series[s])),F=Math.max.apply(Math,Ft(p.globals.series[s]));x.distributed||"heatmap"!==r||(N=p.globals.minY,F=p.globals.maxY),void 0!==x.colorScale.min&&(N=x.colorScale.min<p.globals.minY?x.colorScale.min:p.globals.minY,F=x.colorScale.max>p.globals.maxY?x.colorScale.max:p.globals.maxY);var z=Math.abs(F)+Math.abs(N),X=100*y/(0===z?z-1e-6:z);return x.colorScale.ranges.length>0&&x.colorScale.ranges.map(function(le,ie){if(y>=le.from&&y<=le.to){I=le.color,P=le.foreColor?le.foreColor:null,N=le.from,F=le.to;var me=Math.abs(F)+Math.abs(N);X=100*y/(0===me?me-1e-6:me)}}),{color:I,foreColor:P,percent:X}}},{key:"calculateDataLabels",value:function(r){var s=r.text,u=r.x,p=r.y,y=r.i,x=r.j,w=r.colorProps,I=r.fontSize,P=this.w.config.dataLabels,N=new et(this.ctx),F=new Tn(this.ctx),z=null;if(P.enabled){z=N.group({class:"apexcharts-data-labels"});var le=P.offsetY,ie=u+P.offsetX,me=p+parseFloat(P.style.fontSize)/3+le;F.plotDataLabelsText({x:ie,y:me,text:s,i:y,j:x,color:w.foreColor,parent:z,fontSize:I,dataLabelsConfig:P})}return z}},{key:"addListeners",value:function(r){var s=new et(this.ctx);r.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,r)),r.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,r)),r.node.addEventListener("mousedown",s.pathMouseDown.bind(this,r))}}]),ye}(),ft=function(){function ye(r,s){l(this,ye),this.ctx=r,this.w=r.w,this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new nt(r),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return je(ye,[{key:"draw",value:function(r){var s=this.w,u=new et(this.ctx),p=u.group({class:"apexcharts-heatmap"});p.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")"));var y=s.globals.gridWidth/s.globals.dataPoints,x=s.globals.gridHeight/s.globals.series.length,w=0,I=!1;this.negRange=this.helpers.checkColorRange();var P=r.slice();s.config.yaxis[0].reversed&&(I=!0,P.reverse());for(var N=I?0:P.length-1;I?N<P.length:N>=0;I?N++:N--){var F=u.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:Ye.escapeString(s.globals.seriesNames[N]),rel:N+1,"data:realIndex":N});if(this.ctx.series.addCollapsedClassToSeries(F,N),s.config.chart.dropShadow.enabled){var z=s.config.chart.dropShadow;new un(this.ctx).dropShadow(F,z,N)}for(var X=0,le=s.config.plotOptions.heatmap.shadeIntensity,ie=0;ie<P[N].length;ie++){var me=this.helpers.getShadeColor(s.config.chart.type,N,ie,this.negRange),Ae=me.color,Ve=me.colorProps;"image"===s.config.fill.type&&(Ae=new rn(this.ctx).fillPath({seriesNumber:N,dataPointIndex:ie,opacity:s.globals.hasNegs?Ve.percent<0?1-(1+Ve.percent/100):le+Ve.percent/100:Ve.percent/100,patternID:Ye.randomId(),width:s.config.fill.image.width?s.config.fill.image.width:y,height:s.config.fill.image.height?s.config.fill.image.height:x}));var Z=u.drawRect(X,w,y,x,this.rectRadius);if(Z.attr({cx:X,cy:w}),Z.node.classList.add("apexcharts-heatmap-rect"),F.add(Z),Z.attr({fill:Ae,i:N,index:N,j:ie,val:P[N][ie],"stroke-width":this.strokeWidth,stroke:s.config.plotOptions.heatmap.useFillColorAsStroke?Ae:s.globals.stroke.colors[0],color:Ae}),this.helpers.addListeners(Z),s.config.chart.animations.enabled&&!s.globals.dataChanged){var ce=1;s.globals.resized||(ce=s.config.chart.animations.speed),this.animateHeatMap(Z,X,w,y,x,ce)}if(s.globals.dataChanged){var xe=1;if(this.dynamicAnim.enabled&&s.globals.shouldAnimate){xe=this.dynamicAnim.speed;var Pe=s.globals.previousPaths[N]&&s.globals.previousPaths[N][ie]&&s.globals.previousPaths[N][ie].color;Pe||(Pe="rgba(255, 255, 255, 0)"),this.animateHeatColor(Z,Ye.isColorHex(Pe)?Pe:Ye.rgb2hex(Pe),Ye.isColorHex(Ae)?Ae:Ye.rgb2hex(Ae),xe)}}var ze=(0,s.config.dataLabels.formatter)(s.globals.series[N][ie],{value:s.globals.series[N][ie],seriesIndex:N,dataPointIndex:ie,w:s}),Ke=this.helpers.calculateDataLabels({text:ze,x:X+y/2,y:w+x/2,i:N,j:ie,colorProps:Ve,series:P});null!==Ke&&F.add(Ke),X+=y}w+=x,p.add(F)}var st=s.globals.yAxisScale[0].result.slice();return s.config.yaxis[0].reversed?st.unshift(""):st.push(""),s.globals.yAxisScale[0].result=st,s.config.yaxis[0].labels.offsetY=-s.globals.gridHeight/s.globals.series.length/2,p}},{key:"animateHeatMap",value:function(r,s,u,p,y,x){var w=new Ut(this.ctx);w.animateRect(r,{x:s+p/2,y:u+y/2,width:0,height:0},{x:s,y:u,width:p,height:y},x,function(){w.animationCompleted(r)})}},{key:"animateHeatColor",value:function(r,s,u,p){r.attr({fill:s}).animate(p).attr({fill:u})}}]),ye}(),hn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"drawYAxisTexts",value:function(r,s,u,p){var y=this.w,x=y.config.yaxis[0],w=y.globals.yLabelFormatters[0];return new et(this.ctx).drawText({x:r+x.labels.offsetX,y:s+x.labels.offsetY,text:w(p,u),textAnchor:"middle",fontSize:x.labels.style.fontSize,fontFamily:x.labels.style.fontFamily,foreColor:Array.isArray(x.labels.style.colors)?x.labels.style.colors[u]:x.labels.style.colors})}}]),ye}(),tn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w;var s=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==s.globals.stroke.colors?s.globals.stroke.colors:s.globals.colors,this.defaultSize=Math.min(s.globals.gridWidth,s.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=s.globals.gridWidth/2,this.fullAngle="radialBar"===s.config.chart.type?360:Math.abs(s.config.plotOptions.pie.endAngle-s.config.plotOptions.pie.startAngle),this.initialAngle=s.config.plotOptions.pie.startAngle%this.fullAngle,s.globals.radialSize=this.defaultSize/2.05-s.config.stroke.width-(s.config.chart.sparkline.enabled?0:s.config.chart.dropShadow.blur),this.donutSize=s.globals.radialSize*parseInt(s.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return je(ye,[{key:"draw",value:function(r){var s=this,u=this.w,p=new et(this.ctx);if(this.ret=p.group({class:"apexcharts-pie"}),u.globals.noData)return this.ret;for(var y=0,x=0;x<r.length;x++)y+=Ye.negToZero(r[x]);var w=[],I=p.group();0===y&&(y=1e-5),r.forEach(function(Pe){s.maxY=Math.max(s.maxY,Pe)}),u.config.yaxis[0].max&&(this.maxY=u.config.yaxis[0].max),"back"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var P=0;P<r.length;P++){var N=this.fullAngle*Ye.negToZero(r[P])/y;w.push(N),"polarArea"===this.chartType?(w[P]=this.fullAngle/r.length,this.sliceSizes.push(u.globals.radialSize*r[P]/this.maxY)):this.sliceSizes.push(u.globals.radialSize)}if(u.globals.dataChanged){for(var F,z=0,X=0;X<u.globals.previousPaths.length;X++)z+=Ye.negToZero(u.globals.previousPaths[X]);for(var le=0;le<u.globals.previousPaths.length;le++)F=this.fullAngle*Ye.negToZero(u.globals.previousPaths[le])/z,this.prevSectorAngleArr.push(F)}this.donutSize<0&&(this.donutSize=0);var ie=u.config.plotOptions.pie.customScale,Ve=u.globals.gridWidth/2-u.globals.gridWidth/2*ie,D=u.globals.gridHeight/2-u.globals.gridHeight/2*ie;if("donut"===this.chartType){var Z=p.drawCircle(this.donutSize);Z.attr({cx:this.centerX,cy:this.centerY,fill:u.config.plotOptions.pie.donut.background?u.config.plotOptions.pie.donut.background:"transparent"}),I.add(Z)}var ce=this.drawArcs(w,r);if(this.sliceLabels.forEach(function(Pe){ce.add(Pe)}),I.attr({transform:"translate(".concat(Ve,", ").concat(D,") scale(").concat(ie,")")}),I.add(ce),this.ret.add(I),this.donutDataLabels.show){var xe=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Ve,translateY:D});this.ret.add(xe)}return"front"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(r,s){var u=this.w,p=new un(this.ctx),y=new et(this.ctx),x=new rn(this.ctx),w=y.group({class:"apexcharts-slices"}),I=this.initialAngle,P=this.initialAngle,N=this.initialAngle,F=this.initialAngle;this.strokeWidth=u.config.stroke.show?u.config.stroke.width:0;for(var z=0;z<r.length;z++){var X=y.group({class:"apexcharts-series apexcharts-pie-series",seriesName:Ye.escapeString(u.globals.seriesNames[z]),rel:z+1,"data:realIndex":z});w.add(X),N=(I=N)+r[z],F=(P=F)+this.prevSectorAngleArr[z];var le=N<I?this.fullAngle+N-I:N-I,ie=x.fillPath({seriesNumber:z,size:this.sliceSizes[z],value:s[z]}),me=this.getChangedPath(P,F),Ae=y.drawPath({d:me,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[z]:this.lineColorArr,strokeWidth:0,fill:ie,fillOpacity:u.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(z)});Ae.attr({index:0,j:z}),p.setSelectionFilter(Ae,0,z),u.config.chart.dropShadow.enabled&&p.dropShadow(Ae,u.config.chart.dropShadow,z),this.addListeners(Ae,this.donutDataLabels),et.setAttrs(Ae.node,{"data:angle":le,"data:startAngle":I,"data:strokeWidth":this.strokeWidth,"data:value":s[z]});var D={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?D=Ye.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize/1.25+u.config.plotOptions.pie.dataLabels.offset,(I+le/2)%this.fullAngle):"donut"===this.chartType&&(D=Ye.polarToCartesian(this.centerX,this.centerY,(u.globals.radialSize+this.donutSize)/2+u.config.plotOptions.pie.dataLabels.offset,(I+le/2)%this.fullAngle)),X.add(Ae);var Z=0;if(!this.initialAnim||u.globals.resized||u.globals.dataChanged?this.animBeginArr.push(0):(0==(Z=le/this.fullAngle*u.config.chart.animations.speed)&&(Z=1),this.animDur=Z+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(Ae,this.dynamicAnim&&u.globals.dataChanged?{size:this.sliceSizes[z],endAngle:N,startAngle:I,prevStartAngle:P,prevEndAngle:F,animateStartingPos:!0,i:z,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:u.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[z],endAngle:N,startAngle:I,i:z,totalItems:r.length-1,animBeginArr:this.animBeginArr,dur:Z}),u.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&Ae.click(this.pieClicked.bind(this,z)),void 0!==u.globals.selectedDataPoints[0]&&u.globals.selectedDataPoints[0].indexOf(z)>-1&&this.pieClicked(z),u.config.dataLabels.enabled){var ce=D.x,xe=D.y,Pe=100*le/this.fullAngle+"%";if(0!==le&&u.config.plotOptions.pie.dataLabels.minAngleToShowLabel<r[z]){var ze=u.config.dataLabels.formatter;void 0!==ze&&(Pe=ze(u.globals.seriesPercent[z][0],{seriesIndex:z,w:u}));var Ke=u.globals.dataLabels.style.colors[z],st=y.group({class:"apexcharts-datalabels"}),Tt=y.drawText({x:ce,y:xe,text:Pe,textAnchor:"middle",fontSize:u.config.dataLabels.style.fontSize,fontFamily:u.config.dataLabels.style.fontFamily,fontWeight:u.config.dataLabels.style.fontWeight,foreColor:Ke});st.add(Tt),u.config.dataLabels.dropShadow.enabled&&p.dropShadow(Tt,u.config.dataLabels.dropShadow),Tt.node.classList.add("apexcharts-pie-label"),u.config.chart.animations.animate&&!1===u.globals.resized&&(Tt.node.classList.add("apexcharts-pie-label-delay"),Tt.node.style.animationDelay=u.config.chart.animations.speed/940+"s"),this.sliceLabels.push(st)}}}return w}},{key:"addListeners",value:function(r,s){var u=new et(this.ctx);r.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this,r)),r.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this,r)),r.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,r.node,s)),r.node.addEventListener("mousedown",u.pathMouseDown.bind(this,r)),this.donutDataLabels.total.showAlways||(r.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,r.node,s)),r.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,r.node,s)))}},{key:"animatePaths",value:function(r,s){var p=s.endAngle<s.startAngle?this.fullAngle+s.endAngle-s.startAngle:s.endAngle-s.startAngle,y=p,x=s.startAngle,w=s.startAngle;void 0!==s.prevStartAngle&&void 0!==s.prevEndAngle&&(x=s.prevEndAngle,y=s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle),s.i===this.w.config.series.length-1&&(p+w>this.fullAngle?s.endAngle=s.endAngle-(p+w):p+w<this.fullAngle&&(s.endAngle=s.endAngle+(this.fullAngle-(p+w)))),p===this.fullAngle&&(p=this.fullAngle-.01),this.animateArc(r,x,w,p,y,s)}},{key:"animateArc",value:function(r,s,u,p,y,x){var w,I=this,P=this.w,N=new Ut(this.ctx),F=x.size;(isNaN(s)||isNaN(y))&&(s=u,y=p,x.dur=0);var z=p,X=u,le=s<u?this.fullAngle+s-u:s-u;P.globals.dataChanged&&x.shouldSetPrevPaths&&x.prevEndAngle&&(w=I.getPiePath({me:I,startAngle:x.prevStartAngle,angle:x.prevEndAngle<x.prevStartAngle?this.fullAngle+x.prevEndAngle-x.prevStartAngle:x.prevEndAngle-x.prevStartAngle,size:F}),r.attr({d:w})),0!==x.dur?r.animate(x.dur,P.globals.easing,x.animBeginArr[x.i]).afterAll(function(){"pie"!==I.chartType&&"donut"!==I.chartType&&"polarArea"!==I.chartType||this.animate(P.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":I.strokeWidth}),x.i===P.config.series.length-1&&N.animationCompleted(r)}).during(function(ie){z=le+(p-le)*ie,x.animateStartingPos&&(z=y+(p-y)*ie,X=s-y+(u-(s-y))*ie),w=I.getPiePath({me:I,startAngle:X,angle:z,size:F}),r.node.setAttribute("data:pathOrig",w),r.attr({d:w})}):(w=I.getPiePath({me:I,startAngle:X,angle:p,size:F}),x.isTrack||(P.globals.animationEnded=!0),r.node.setAttribute("data:pathOrig",w),r.attr({d:w,"stroke-width":I.strokeWidth}))}},{key:"pieClicked",value:function(r){var s,u=this.w,p=this,y=p.sliceSizes[r]+(u.config.plotOptions.pie.expandOnClick?4:0),x=u.globals.dom.Paper.select(".apexcharts-".concat(p.chartType.toLowerCase(),"-slice-").concat(r)).members[0];if("true"!==x.attr("data:pieClicked")){var w=u.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(w,function(F){F.setAttribute("data:pieClicked","false");var z=F.getAttribute("data:pathOrig");z&&F.setAttribute("d",z)}),x.attr("data:pieClicked","true");var I=parseInt(x.attr("data:startAngle"),10),P=parseInt(x.attr("data:angle"),10);s=p.getPiePath({me:p,startAngle:I,angle:P,size:y}),360!==P&&x.plot(s)}else{x.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(x.node,this.donutDataLabels);var N=x.attr("data:pathOrig");x.attr({d:N})}}},{key:"getChangedPath",value:function(r,s){var u="";return this.dynamicAnim&&this.w.globals.dataChanged&&(u=this.getPiePath({me:this,startAngle:r,angle:s-r,size:this.size})),u}},{key:"getPiePath",value:function(r){var s=r.me,u=r.startAngle,p=r.angle,y=r.size,x=u,w=Math.PI*(x-90)/180,I=p+u;Math.ceil(I)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(I=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(I)>this.fullAngle&&(I-=this.fullAngle);var P=Math.PI*(I-90)/180,N=s.centerX+y*Math.cos(w),F=s.centerY+y*Math.sin(w),z=s.centerX+y*Math.cos(P),X=s.centerY+y*Math.sin(P),le=Ye.polarToCartesian(s.centerX,s.centerY,s.donutSize,I),ie=Ye.polarToCartesian(s.centerX,s.centerY,s.donutSize,x),me=p>180?1:0,Ae=["M",N,F,"A",y,y,0,me,1,z,X];return"donut"===s.chartType?[].concat(Ae,["L",le.x,le.y,"A",s.donutSize,s.donutSize,0,me,0,ie.x,ie.y,"L",N,F,"z"]).join(" "):"pie"===s.chartType||"polarArea"===s.chartType?[].concat(Ae,["L",s.centerX,s.centerY,"L",N,F]).join(" "):[].concat(Ae).join(" ")}},{key:"drawPolarElements",value:function(r){var s=this.w,u=new li(this.ctx),p=new et(this.ctx),y=new hn(this.ctx),x=p.group(),w=p.group(),I=u.niceScale(0,Math.ceil(this.maxY),s.config.yaxis[0].tickAmount,0,!0),P=I.result.reverse(),N=I.result.length;this.maxY=I.niceMax;for(var F=s.globals.radialSize,z=F/(N-1),X=0;X<N-1;X++){var le=p.drawCircle(F);if(le.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":s.config.plotOptions.polarArea.rings.strokeWidth,stroke:s.config.plotOptions.polarArea.rings.strokeColor}),s.config.yaxis[0].show){var ie=y.drawYAxisTexts(this.centerX,this.centerY-F+parseInt(s.config.yaxis[0].labels.style.fontSize,10)/2,X,P[X]);w.add(ie)}x.add(le),F-=z}this.drawSpokes(r),r.add(x),r.add(w)}},{key:"renderInnerDataLabels",value:function(r,s){var u=this.w,p=new et(this.ctx),y=p.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(s.translateX?s.translateX:0,", ").concat(s.translateY?s.translateY:0,") scale(").concat(u.config.plotOptions.pie.customScale,")")}),x=r.total.show;y.node.style.opacity=s.opacity;var w,I,P=s.centerX,N=s.centerY;w=void 0===r.name.color?u.globals.colors[0]:r.name.color;var F=r.name.fontSize,z=r.name.fontFamily,X=r.name.fontWeight;I=void 0===r.value.color?u.config.chart.foreColor:r.value.color;var le=r.value.formatter,ie="",me="";if(x?(w=r.total.color,F=r.total.fontSize,z=r.total.fontFamily,X=r.total.fontWeight,me=r.total.label,ie=r.total.formatter(u)):1===u.globals.series.length&&(ie=le(u.globals.series[0],u),me=u.globals.seriesNames[0]),me&&(me=r.name.formatter(me,r.total.show,u)),r.name.show){var Ae=p.drawText({x:P,y:N+parseFloat(r.name.offsetY),text:me,textAnchor:"middle",foreColor:w,fontSize:F,fontWeight:X,fontFamily:z});Ae.node.classList.add("apexcharts-datalabel-label"),y.add(Ae)}if(r.value.show){var Ve=r.name.show?parseFloat(r.value.offsetY)+16:r.value.offsetY,D=p.drawText({x:P,y:N+Ve,text:ie,textAnchor:"middle",foreColor:I,fontWeight:r.value.fontWeight,fontSize:r.value.fontSize,fontFamily:r.value.fontFamily});D.node.classList.add("apexcharts-datalabel-value"),y.add(D)}return y}},{key:"printInnerLabels",value:function(r,s,u,p){var y,x=this.w;p?y=void 0===r.name.color?x.globals.colors[parseInt(p.parentNode.getAttribute("rel"),10)-1]:r.name.color:x.globals.series.length>1&&r.total.show&&(y=r.total.color);var w=x.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),I=x.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");u=(0,r.value.formatter)(u,x),p||"function"!=typeof r.total.formatter||(u=r.total.formatter(x)),s=r.name.formatter(s,s===r.total.label,x),null!==w&&(w.textContent=s),null!==I&&(I.textContent=u),null!==w&&(w.style.fill=y)}},{key:"printDataLabelsInner",value:function(r,s){var u=this.w,p=r.getAttribute("data:value"),y=u.globals.seriesNames[parseInt(r.parentNode.getAttribute("rel"),10)-1];u.globals.series.length>1&&this.printInnerLabels(s,y,p,r);var x=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==x&&(x.style.opacity=1)}},{key:"drawSpokes",value:function(r){var s=this,u=this.w,p=new et(this.ctx),y=u.config.plotOptions.polarArea.spokes;if(0!==y.strokeWidth){for(var x=[],w=360/u.globals.series.length,I=0;I<u.globals.series.length;I++)x.push(Ye.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize,u.config.plotOptions.pie.startAngle+w*I));x.forEach(function(P,N){var F=p.drawLine(P.x,P.y,s.centerX,s.centerY,Array.isArray(y.connectorColors)?y.connectorColors[N]:y.connectorColors);r.add(F)})}}},{key:"revertDataLabelsInner",value:function(r,s,u){var p=this,y=this.w,x=y.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),w=!1,I=y.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),P=function(z){var X=z.makeSliceOut,le=z.printLabel;Array.prototype.forEach.call(I,function(ie){"true"===ie.getAttribute("data:pieClicked")&&(X&&(w=!0),le&&p.printDataLabelsInner(ie,s))})};if(P({makeSliceOut:!0,printLabel:!1}),s.total.show&&y.globals.series.length>1)w&&!s.total.showAlways?P({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(s,s.total.label,s.total.formatter(y));else if(P({makeSliceOut:!1,printLabel:!0}),!w)if(y.globals.selectedDataPoints.length&&y.globals.series.length>1)if(y.globals.selectedDataPoints[0].length>0){var N=y.globals.selectedDataPoints[0],F=y.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(N));this.printDataLabelsInner(F,s)}else x&&y.globals.selectedDataPoints.length&&0===y.globals.selectedDataPoints[0].length&&(x.style.opacity=0);else x&&y.globals.series.length>1&&(x.style.opacity=0)}}]),ye}(),cn=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var s=this.w;this.graphics=new et(this.ctx),this.lineColorArr=void 0!==s.globals.stroke.colors?s.globals.stroke.colors:s.globals.colors,this.defaultSize=s.globals.svgHeight<s.globals.svgWidth?s.globals.gridHeight+1.5*s.globals.goldenPadding:s.globals.gridWidth,this.isLog=s.config.yaxis[0].logarithmic,this.coreUtils=new jt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(s.globals.maxY,0):s.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):s.globals.minY,this.polygons=s.config.plotOptions.radar.polygons,this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-s.config.chart.dropShadow.blur,s.config.xaxis.labels.show&&(this.size=this.size-s.globals.xAxisLabelsWidth/1.75),void 0!==s.config.plotOptions.radar.size&&(this.size=s.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return je(ye,[{key:"draw",value:function(r){var s=this,u=this.w,p=new rn(this.ctx),y=[],x=new Tn(this.ctx);r.length&&(this.dataPointsLen=r[u.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var N=u.globals.gridHeight/2+u.config.plotOptions.radar.offsetY,F=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(u.globals.gridWidth/2+u.config.plotOptions.radar.offsetX||0,", ").concat(N||0,")")}),z=[],X=null,le=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),r.forEach(function(me,Ae){var Ve=me.length===u.globals.dataPoints,D=s.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Ve,seriesName:Ye.escapeString(u.globals.seriesNames[Ae]),rel:Ae+1,"data:realIndex":Ae});s.dataRadiusOfPercent[Ae]=[],s.dataRadius[Ae]=[],s.angleArr[Ae]=[],me.forEach(function(zt,Ht){var zn=Math.abs(s.maxValue-s.minValue);zt+=Math.abs(s.minValue),s.isLog&&(zt=s.coreUtils.getLogVal(zt,0)),s.dataRadiusOfPercent[Ae][Ht]=zt/zn,s.dataRadius[Ae][Ht]=s.dataRadiusOfPercent[Ae][Ht]*s.size,s.angleArr[Ae][Ht]=Ht*s.disAngle}),z=s.getDataPointsPos(s.dataRadius[Ae],s.angleArr[Ae]);var Z=s.createPaths(z,{x:0,y:0});X=s.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),le=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":Ae}),u.globals.delayedElements.push({el:X.node,index:Ae});var ce={i:Ae,realIndex:Ae,animationDelay:Ae,initialSpeed:u.config.chart.animations.speed,dataChangeSpeed:u.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:u.globals.stroke.colors[Ae],strokeLineCap:u.config.stroke.lineCap},xe=null;u.globals.previousPaths.length>0&&(xe=s.getPreviousPath(Ae));for(var Pe=0;Pe<Z.linePathsTo.length;Pe++){var ze=s.graphics.renderPaths(He(He({},ce),{},{pathFrom:null===xe?Z.linePathsFrom[Pe]:xe,pathTo:Z.linePathsTo[Pe],strokeWidth:Array.isArray(s.strokeWidth)?s.strokeWidth[Ae]:s.strokeWidth,fill:"none",drawShadow:!1}));D.add(ze);var Ke=p.fillPath({seriesNumber:Ae}),st=s.graphics.renderPaths(He(He({},ce),{},{pathFrom:null===xe?Z.areaPathsFrom[Pe]:xe,pathTo:Z.areaPathsTo[Pe],strokeWidth:0,fill:Ke,drawShadow:!1}));u.config.chart.dropShadow.enabled&&new un(s.ctx).dropShadow(st,Object.assign({},u.config.chart.dropShadow,{noUserSpaceOnUse:!0}),Ae),D.add(st)}me.forEach(function(zt,Ht){var zn=new Dt(s.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:Ae,dataPointIndex:Ht}),Qn=s.graphics.drawMarker(z[Ht].x,z[Ht].y,zn);Qn.attr("rel",Ht),Qn.attr("j",Ht),Qn.attr("index",Ae),Qn.node.setAttribute("default-marker-size",zn.pSize);var di=s.graphics.group({class:"apexcharts-series-markers"});di&&di.add(Qn),X.add(di),D.add(X);var xi=u.config.dataLabels;if(xi.enabled){var ji=xi.formatter(u.globals.series[Ae][Ht],{seriesIndex:Ae,dataPointIndex:Ht,w:u});x.plotDataLabelsText({x:z[Ht].x,y:z[Ht].y,text:ji,textAnchor:"middle",i:Ae,j:Ae,parent:le,offsetCorrection:!1,dataLabelsConfig:He({},xi)})}D.add(le)}),y.push(D)}),this.drawPolygons({parent:F}),u.config.xaxis.labels.show){var ie=this.drawXAxisTexts();F.add(ie)}return y.forEach(function(me){F.add(me)}),F.add(this.yaxisLabels),F}},{key:"drawPolygons",value:function(r){for(var s=this,u=this.w,p=r.parent,y=new hn(this.ctx),x=u.globals.yAxisScale[0].result.reverse(),w=x.length,I=[],P=this.size/(w-1),N=0;N<w;N++)I[N]=P*N;I.reverse();var F=[],z=[];I.forEach(function(X,le){var ie=Ye.getPolygonPos(X,s.dataPointsLen),me="";ie.forEach(function(Ae,Ve){if(0===le){var D=s.graphics.drawLine(Ae.x,Ae.y,0,0,Array.isArray(s.polygons.connectorColors)?s.polygons.connectorColors[Ve]:s.polygons.connectorColors);z.push(D)}0===Ve&&s.yaxisLabelsTextsPos.push({x:Ae.x,y:Ae.y}),me+=Ae.x+","+Ae.y+" "}),F.push(me)}),F.forEach(function(X,le){var ie=s.polygons.strokeColors,me=s.polygons.strokeWidth,Ae=s.graphics.drawPolygon(X,Array.isArray(ie)?ie[le]:ie,Array.isArray(me)?me[le]:me,u.globals.radarPolygons.fill.colors[le]);p.add(Ae)}),z.forEach(function(X){p.add(X)}),u.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(X,le){var ie=y.drawYAxisTexts(X.x,X.y,le,x[le]);s.yaxisLabels.add(ie)})}},{key:"drawXAxisTexts",value:function(){var r=this,s=this.w,u=s.config.xaxis.labels,p=this.graphics.group({class:"apexcharts-xaxis"}),y=Ye.getPolygonPos(this.size,this.dataPointsLen);return s.globals.labels.forEach(function(x,w){var I=s.config.xaxis.labels.formatter,P=new Tn(r.ctx);if(y[w]){var N=r.getTextPos(y[w],r.size),F=I(x,{seriesIndex:-1,dataPointIndex:w,w:s});P.plotDataLabelsText({x:N.newX,y:N.newY,text:F,textAnchor:N.textAnchor,i:w,j:w,parent:p,color:Array.isArray(u.style.colors)&&u.style.colors[w]?u.style.colors[w]:"#a8a8a8",dataLabelsConfig:He({textAnchor:N.textAnchor,dropShadow:{enabled:!1}},u),offsetCorrection:!1})}}),p}},{key:"createPaths",value:function(r,s){var u=this,p=[],y=[],x=[],w=[];if(r.length){y=[this.graphics.move(s.x,s.y)],w=[this.graphics.move(s.x,s.y)];var I=this.graphics.move(r[0].x,r[0].y),P=this.graphics.move(r[0].x,r[0].y);r.forEach(function(N,F){I+=u.graphics.line(N.x,N.y),P+=u.graphics.line(N.x,N.y),F===r.length-1&&(I+="Z",P+="Z")}),p.push(I),x.push(P)}return{linePathsFrom:y,linePathsTo:p,areaPathsFrom:w,areaPathsTo:x}}},{key:"getTextPos",value:function(r,s){var u="middle",p=r.x,y=r.y;return Math.abs(r.x)>=10?r.x>0?(u="start",p+=10):r.x<0&&(u="end",p-=10):u="middle",Math.abs(r.y)>=s-10&&(r.y<0?y-=10:r.y>0&&(y+=10)),{textAnchor:u,newX:p,newY:y}}},{key:"getPreviousPath",value:function(r){for(var s=this.w,u=null,p=0;p<s.globals.previousPaths.length;p++){var y=s.globals.previousPaths[p];y.paths.length>0&&parseInt(y.realIndex,10)===parseInt(r,10)&&void 0!==s.globals.previousPaths[p].paths[0]&&(u=s.globals.previousPaths[p].paths[0].d)}return u}},{key:"getDataPointsPos",value:function(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;r=r||[],s=s||[];for(var p=[],y=0;y<u;y++){var x={};x.x=r[y]*Math.sin(s[y]),x.y=-r[y]*Math.cos(s[y]),p.push(x)}return p}}]),ye}(),ke=function(ye){vt(s,tn);var r=Jt(s);function s(u){var p;l(this,s),(p=r.call(this,u)).ctx=u,p.w=u.w,p.animBeginArr=[0],p.animDur=0;var y=p.w;return p.startAngle=y.config.plotOptions.radialBar.startAngle,p.endAngle=y.config.plotOptions.radialBar.endAngle,p.totalAngle=Math.abs(y.config.plotOptions.radialBar.endAngle-y.config.plotOptions.radialBar.startAngle),p.trackStartAngle=y.config.plotOptions.radialBar.track.startAngle,p.trackEndAngle=y.config.plotOptions.radialBar.track.endAngle,p.donutDataLabels=p.w.config.plotOptions.radialBar.dataLabels,p.radialDataLabels=p.donutDataLabels,p.trackStartAngle||(p.trackStartAngle=p.startAngle),p.trackEndAngle||(p.trackEndAngle=p.endAngle),360===p.endAngle&&(p.endAngle=359.99),p.margin=parseInt(y.config.plotOptions.radialBar.track.margin,10),p}return je(s,[{key:"draw",value:function(u){var p=this.w,y=new et(this.ctx),x=y.group({class:"apexcharts-radialbar"});if(p.globals.noData)return x;var w=y.group(),I=this.defaultSize/2,P=p.globals.gridWidth/2,N=this.defaultSize/2.05;p.config.chart.sparkline.enabled||(N=N-p.config.stroke.width-p.config.chart.dropShadow.blur);var F=p.globals.fill.colors;if(p.config.plotOptions.radialBar.track.show){var z=this.drawTracks({size:N,centerX:P,centerY:I,colorArr:F,series:u});w.add(z)}var X=this.drawArcs({size:N,centerX:P,centerY:I,colorArr:F,series:u}),le=360;p.config.plotOptions.radialBar.startAngle<0&&(le=this.totalAngle);var ie=(360-le)/360;if(p.globals.radialSize=N-N*ie,this.radialDataLabels.value.show){var me=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);p.globals.radialSize+=me*ie}return w.add(X.g),"front"===p.config.plotOptions.radialBar.hollow.position&&(X.g.add(X.elHollow),X.dataLabels&&X.g.add(X.dataLabels)),x.add(w),x}},{key:"drawTracks",value:function(u){var p=this.w,y=new et(this.ctx),x=y.group({class:"apexcharts-tracks"}),w=new un(this.ctx),I=new rn(this.ctx),P=this.getStrokeWidth(u);u.size=u.size-P/2;for(var N=0;N<u.series.length;N++){var F=y.group({class:"apexcharts-radialbar-track apexcharts-track"});x.add(F),F.attr({rel:N+1}),u.size=u.size-P-this.margin;var z=p.config.plotOptions.radialBar.track,X=I.fillPath({seriesNumber:0,size:u.size,fillColors:Array.isArray(z.background)?z.background[N]:z.background,solid:!0}),le=this.trackStartAngle,ie=this.trackEndAngle;Math.abs(ie)+Math.abs(le)>=360&&(ie=360-Math.abs(this.startAngle)-.1);var me=y.drawPath({d:"",stroke:X,strokeWidth:P*parseInt(z.strokeWidth,10)/100,fill:"none",strokeOpacity:z.opacity,classes:"apexcharts-radialbar-area"});z.dropShadow.enabled&&w.dropShadow(me,z.dropShadow),F.add(me),me.attr("id","apexcharts-radialbarTrack-"+N),this.animatePaths(me,{centerX:u.centerX,centerY:u.centerY,endAngle:ie,startAngle:le,size:u.size,i:N,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:p.globals.easing})}return x}},{key:"drawArcs",value:function(u){var p=this.w,y=new et(this.ctx),x=new rn(this.ctx),w=new un(this.ctx),I=y.group(),P=this.getStrokeWidth(u);u.size=u.size-P/2;var N=p.config.plotOptions.radialBar.hollow.background,F=u.size-P*u.series.length-this.margin*u.series.length-P*parseInt(p.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,z=F-p.config.plotOptions.radialBar.hollow.margin;void 0!==p.config.plotOptions.radialBar.hollow.image&&(N=this.drawHollowImage(u,I,F,N));var X=this.drawHollow({size:z,centerX:u.centerX,centerY:u.centerY,fill:N||"transparent"});p.config.plotOptions.radialBar.hollow.dropShadow.enabled&&w.dropShadow(X,p.config.plotOptions.radialBar.hollow.dropShadow);var ie=1;!this.radialDataLabels.total.show&&p.globals.series.length>1&&(ie=0);var me=null;this.radialDataLabels.show&&(me=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:F,centerX:u.centerX,centerY:u.centerY,opacity:ie})),"back"===p.config.plotOptions.radialBar.hollow.position&&(I.add(X),me&&I.add(me));var Ae=!1;p.config.plotOptions.radialBar.inverseOrder&&(Ae=!0);for(var Ve=Ae?u.series.length-1:0;Ae?Ve>=0:Ve<u.series.length;Ae?Ve--:Ve++){var D=y.group({class:"apexcharts-series apexcharts-radial-series",seriesName:Ye.escapeString(p.globals.seriesNames[Ve])});I.add(D),D.attr({rel:Ve+1,"data:realIndex":Ve}),this.ctx.series.addCollapsedClassToSeries(D,Ve),u.size=u.size-P-this.margin;var Z=x.fillPath({seriesNumber:Ve,size:u.size,value:u.series[Ve]}),ce=this.startAngle,xe=void 0,Pe=Ye.negToZero(u.series[Ve]>100?100:u.series[Ve])/100,ze=Math.round(this.totalAngle*Pe)+this.startAngle,Ke=void 0;p.globals.dataChanged&&(xe=this.startAngle,Ke=Math.round(this.totalAngle*Ye.negToZero(p.globals.previousPaths[Ve])/100)+xe),Math.abs(ze)+Math.abs(ce)>=360&&(ze-=.01),Math.abs(Ke)+Math.abs(xe)>=360&&(Ke-=.01);var st=ze-ce,Tt=Array.isArray(p.config.stroke.dashArray)?p.config.stroke.dashArray[Ve]:p.config.stroke.dashArray,$t=y.drawPath({d:"",stroke:Z,strokeWidth:P,fill:"none",fillOpacity:p.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Ve,strokeDashArray:Tt});et.setAttrs($t.node,{"data:angle":st,"data:value":u.series[Ve]}),p.config.chart.dropShadow.enabled&&w.dropShadow($t,p.config.chart.dropShadow,Ve),w.setSelectionFilter($t,0,Ve),this.addListeners($t,this.radialDataLabels),D.add($t),$t.attr({index:0,j:Ve});var Ht=0;!this.initialAnim||p.globals.resized||p.globals.dataChanged||(Ht=p.config.chart.animations.speed),p.globals.dataChanged&&(Ht=p.config.chart.animations.dynamicAnimation.speed),this.animDur=Ht/(1.2*u.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths($t,{centerX:u.centerX,centerY:u.centerY,endAngle:ze,startAngle:ce,prevEndAngle:Ke,prevStartAngle:xe,size:u.size,i:Ve,totalItems:2,animBeginArr:this.animBeginArr,dur:Ht,shouldSetPrevPaths:!0,easing:p.globals.easing})}return{g:I,elHollow:X,dataLabels:me}}},{key:"drawHollow",value:function(u){var p=new et(this.ctx).drawCircle(2*u.size);return p.attr({class:"apexcharts-radialbar-hollow",cx:u.centerX,cy:u.centerY,r:u.size,fill:u.fill}),p}},{key:"drawHollowImage",value:function(u,p,y,x){var w=this.w,I=new rn(this.ctx),P=Ye.randomId(),N=w.config.plotOptions.radialBar.hollow.image;if(w.config.plotOptions.radialBar.hollow.imageClipped)I.clippedImgArea({width:y,height:y,image:N,patternID:"pattern".concat(w.globals.cuid).concat(P)}),x="url(#pattern".concat(w.globals.cuid).concat(P,")");else{var F=w.config.plotOptions.radialBar.hollow.imageWidth,z=w.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===F&&void 0===z){var X=w.globals.dom.Paper.image(N).loaded(function(ie){this.move(u.centerX-ie.width/2+w.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-ie.height/2+w.config.plotOptions.radialBar.hollow.imageOffsetY)});p.add(X)}else{var le=w.globals.dom.Paper.image(N).loaded(function(ie){this.move(u.centerX-F/2+w.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-z/2+w.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(F,z)});p.add(le)}}return x}},{key:"getStrokeWidth",value:function(u){return u.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(u.series.length+1)-this.margin}}]),s}(),vi=function(ye){vt(s,gi);var r=Jt(s);function s(){return l(this,s),r.apply(this,arguments)}return je(s,[{key:"draw",value:function(u,p){var y=this.w,x=new et(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=u,this.seriesRangeStart=y.globals.seriesRangeStart,this.seriesRangeEnd=y.globals.seriesRangeEnd,this.barHelpers.initVariables(u);for(var w=x.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),I=0;I<u.length;I++){var P,N,F,z,X=void 0,le=void 0,ie=y.globals.comboCharts?p[I]:I,me=x.group({class:"apexcharts-series",seriesName:Ye.escapeString(y.globals.seriesNames[ie]),rel:I+1,"data:realIndex":ie});this.ctx.series.addCollapsedClassToSeries(me,ie),u[I].length>0&&(this.visibleI=this.visibleI+1);var Ae=0,Ve=0;this.yRatio.length>1&&(this.yaxisIndex=ie);var D=this.barHelpers.initialPositions();le=D.y,z=D.zeroW,X=D.x,Ve=D.barWidth,Ae=D.barHeight,P=D.xDivision,N=D.yDivision,F=D.zeroH;for(var Z=x.group({class:"apexcharts-datalabels","data:realIndex":ie}),ce=x.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),xe=0;xe<y.globals.dataPoints;xe++){var Pe,ze=this.barHelpers.getStrokeWidth(I,xe,ie),Ke=this.seriesRangeStart[I][xe],st=this.seriesRangeEnd[I][xe],Tt=null,$t=null,zt=null,Ht={x:X,y:le,strokeWidth:ze,elSeries:me},zn=this.seriesLen;if(y.config.plotOptions.bar.rangeBarGroupRows&&(zn=1),void 0===y.config.series[I].data[xe])break;if(this.isHorizontal){if(zt=le+Ae*this.visibleI,y.config.series[I].data[xe].x){var di=this.detectOverlappingBars({i:I,j:xe,barYPosition:zt,srty:(N-Ae*zn)/2,barHeight:Ae,yDivision:N,initPositions:D});Ae=di.barHeight,zt=di.barYPosition}Ve=(Tt=this.drawRangeBarPaths(He({indexes:{i:I,j:xe,realIndex:ie},barHeight:Ae,barYPosition:zt,zeroW:z,yDivision:N,y1:Ke,y2:st},Ht))).barWidth}else{if(y.globals.isXNumeric&&(X=(y.globals.seriesX[I][xe]-y.globals.minX)/this.xRatio-Ve/2),$t=X+Ve*this.visibleI,y.config.series[I].data[xe].x){var ji=this.detectOverlappingBars({i:I,j:xe,barXPosition:$t,srtx:(P-Ve*zn)/2,barWidth:Ve,xDivision:P,initPositions:D});Ve=ji.barWidth,$t=ji.barXPosition}Ae=(Tt=this.drawRangeColumnPaths(He({indexes:{i:I,j:xe,realIndex:ie},barWidth:Ve,barXPosition:$t,zeroH:F,xDivision:P},Ht))).barHeight}var pi=this.barHelpers.drawGoalLine({barXPosition:Tt.barXPosition,barYPosition:zt,goalX:Tt.goalX,goalY:Tt.goalY,barHeight:Ae,barWidth:Ve});pi&&ce.add(pi),le=Tt.y,X=Tt.x;var $i=this.barHelpers.getPathFillColor(u,I,xe,ie);this.renderSeries((tt(Pe={realIndex:ie,pathFill:$i,lineFill:y.globals.stroke.colors[ie],j:xe,i:I,x:X,y:le,y1:Ke,y2:st,pathFrom:Tt.pathFrom,pathTo:Tt.pathTo,strokeWidth:ze,elSeries:me,series:u,barHeight:Ae,barWidth:Ve,barXPosition:$t,barYPosition:zt},"barWidth",Ve),tt(Pe,"elDataLabelsWrap",Z),tt(Pe,"elGoalsMarkers",ce),tt(Pe,"visibleSeries",this.visibleI),tt(Pe,"type","rangebar"),Pe))}w.add(me)}return w}},{key:"detectOverlappingBars",value:function(u){var p=u.i,y=u.j,x=u.barYPosition,w=u.barXPosition,I=u.srty,P=u.srtx,N=u.barHeight,F=u.barWidth,z=u.yDivision,X=u.xDivision,le=u.initPositions,ie=this.w,me=[],Ae=ie.config.series[p].data[y].rangeName,Ve=ie.config.series[p].data[y].x,D=Array.isArray(Ve)?Ve.join(" "):Ve,Z=ie.globals.labels.map(function(xe){return Array.isArray(xe)?xe.join(" "):xe}).indexOf(D),ce=ie.globals.seriesRange[p].findIndex(function(xe){return xe.x===D&&xe.overlaps.length>0});return this.isHorizontal?(x=ie.config.plotOptions.bar.rangeBarGroupRows?I+z*Z:I+N*this.visibleI+z*Z,ce>-1&&!ie.config.plotOptions.bar.rangeBarOverlap&&(me=ie.globals.seriesRange[p][ce].overlaps).indexOf(Ae)>-1&&(x=(N=le.barHeight/me.length)*this.visibleI+z*(100-parseInt(this.barOptions.barHeight,10))/100/2+N*(this.visibleI+me.indexOf(Ae))+z*Z)):(Z>-1&&(w=ie.config.plotOptions.bar.rangeBarGroupRows?P+X*Z:P+F*this.visibleI+X*Z),ce>-1&&!ie.config.plotOptions.bar.rangeBarOverlap&&(me=ie.globals.seriesRange[p][ce].overlaps).indexOf(Ae)>-1&&(w=(F=le.barWidth/me.length)*this.visibleI+X*(100-parseInt(this.barOptions.barWidth,10))/100/2+F*(this.visibleI+me.indexOf(Ae))+X*Z)),{barYPosition:x,barXPosition:w,barHeight:N,barWidth:F}}},{key:"drawRangeColumnPaths",value:function(u){var p=u.indexes,y=u.x,x=u.xDivision,w=u.barWidth,I=u.barXPosition,P=u.zeroH,N=this.w,F=p.i,z=p.j,X=this.yRatio[this.yaxisIndex],le=p.realIndex,ie=this.getRangeValue(le,z),me=Math.min(ie.start,ie.end),Ae=Math.max(ie.start,ie.end);null==this.series[F][z]?me=P:(me=P-me/X,Ae=P-Ae/X);var Ve=Math.abs(Ae-me),D=this.barHelpers.getColumnPaths({barXPosition:I,barWidth:w,y1:me,y2:Ae,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:p.realIndex,i:le,j:z,w:N});return N.globals.isXNumeric||(y+=x),{pathTo:D.pathTo,pathFrom:D.pathFrom,barHeight:Ve,x:y,y:Ae,goalY:this.barHelpers.getGoalValues("y",null,P,F,z),barXPosition:I}}},{key:"drawRangeBarPaths",value:function(u){var p=u.indexes,y=u.y,I=u.yDivision,P=u.barHeight,N=u.barYPosition,F=u.zeroW,z=this.w,X=F+u.y1/this.invertedYRatio,le=F+u.y2/this.invertedYRatio,ie=Math.abs(le-X),me=this.barHelpers.getBarpaths({barYPosition:N,barHeight:P,x1:X,x2:le,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:p.realIndex,realIndex:p.realIndex,j:p.j,w:z});return z.globals.isXNumeric||(y+=I),{pathTo:me.pathTo,pathFrom:me.pathFrom,barWidth:ie,x:le,goalX:this.barHelpers.getGoalValues("x",F,null,p.realIndex,p.j),y}}},{key:"getRangeValue",value:function(u,p){var y=this.w;return{start:y.globals.seriesRangeStart[u][p],end:y.globals.seriesRangeEnd[u][p]}}}]),s}(),Gn=function(){function ye(r){l(this,ye),this.w=r.w,this.lineCtx=r}return je(ye,[{key:"sameValueSeriesFix",value:function(r,s){var u=this.w;if(("gradient"===u.config.fill.type||"gradient"===u.config.fill.type[r])&&new jt(this.lineCtx.ctx,u).seriesHaveSameValues(r)){var p=s[r].slice();p[p.length-1]=p[p.length-1]+1e-6,s[r]=p}return s}},{key:"calculatePoints",value:function(r){var s=r.series,p=r.x,y=r.y,x=r.i,w=r.j,I=r.prevY,P=this.w,N=[],F=[];if(0===w){var z=this.lineCtx.categoryAxisCorrection+P.config.markers.offsetX;P.globals.isXNumeric&&(z=(P.globals.seriesX[r.realIndex][0]-P.globals.minX)/this.lineCtx.xRatio+P.config.markers.offsetX),N.push(z),F.push(Ye.isNumber(s[x][0])?I+P.config.markers.offsetY:null),N.push(p+P.config.markers.offsetX),F.push(Ye.isNumber(s[x][w+1])?y+P.config.markers.offsetY:null)}else N.push(p+P.config.markers.offsetX),F.push(Ye.isNumber(s[x][w+1])?y+P.config.markers.offsetY:null);return{x:N,y:F}}},{key:"checkPreviousPaths",value:function(r){for(var s=r.pathFromLine,u=r.pathFromArea,p=r.realIndex,y=this.w,x=0;x<y.globals.previousPaths.length;x++){var w=y.globals.previousPaths[x];("line"===w.type||"area"===w.type)&&w.paths.length>0&&parseInt(w.realIndex,10)===parseInt(p,10)&&("line"===w.type?(this.lineCtx.appendPathFrom=!1,s=y.globals.previousPaths[x].paths[0].d):"area"===w.type&&(this.lineCtx.appendPathFrom=!1,u=y.globals.previousPaths[x].paths[0].d,y.config.stroke.show&&y.globals.previousPaths[x].paths[1]&&(s=y.globals.previousPaths[x].paths[1].d)))}return{pathFromLine:s,pathFromArea:u}}},{key:"determineFirstPrevY",value:function(r){var s,u=r.i,p=r.series,y=r.prevY,x=r.lineYPosition,w=this.w;if(void 0!==(null===(s=p[u])||void 0===s?void 0:s[0]))y=(x=w.config.chart.stacked&&u>0?this.lineCtx.prevSeriesY[u-1][0]:this.lineCtx.zeroY)-p[u][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?p[u][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(w.config.chart.stacked&&u>0&&void 0===p[u][0])for(var I=u-1;I>=0;I--)if(null!=p[I][0]){y=x=this.lineCtx.prevSeriesY[I][0];break}return{prevY:y,lineYPosition:x}}}]),ye}(),dr=function(){function ye(r,s,u){l(this,ye),this.ctx=r,this.w=r.w,this.xyRatios=s,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||u,this.scatter=new $n(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Gn(this),this.markers=new Dt(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return je(ye,[{key:"draw",value:function(r,s,u,p){var y=this.w,x=new et(this.ctx),w=y.globals.comboCharts?s:y.config.chart.type,I=x.group({class:"apexcharts-".concat(w,"-series apexcharts-plot-series")}),P=new jt(this.ctx,y);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,r=P.getLogSeries(r),this.yRatio=P.getLogYRatios(this.yRatio);for(var N=[],F=0;F<r.length;F++){r=this.lineHelpers.sameValueSeriesFix(F,r);var z=y.globals.comboCharts?u[F]:F;this._initSerieVariables(r,F,z);var X=[],le=[],ie=y.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,z),y.globals.isXNumeric&&y.globals.seriesX.length>0&&(ie=(y.globals.seriesX[z][0]-y.globals.minX)/this.xRatio),le.push(ie);var me,Ae=ie,Ve=void 0,D=Ae,Z=this.zeroY,ce=this.zeroY;Z=this.lineHelpers.determineFirstPrevY({i:F,series:r,prevY:Z,lineYPosition:0}).prevY,X.push(Z),me=Z,"rangeArea"===w&&(Ve=ce=this.lineHelpers.determineFirstPrevY({i:F,series:p,prevY:ce,lineYPosition:0}).prevY);var xe={type:w,series:r,realIndex:z,i:F,x:ie,y:1,pX:Ae,pY:me,pathsFrom:this._calculatePathsFrom({type:w,series:r,i:F,realIndex:z,prevX:D,prevY:Z,prevY2:ce}),linePaths:[],areaPaths:[],seriesIndex:u,lineYPosition:0,xArrj:le,yArrj:X,seriesRangeEnd:p},Pe=this._iterateOverDataPoints(He(He({},xe),{},{iterations:"rangeArea"===w?r[F].length-1:void 0,isRangeStart:!0}));if("rangeArea"===w){var ze=this._calculatePathsFrom({series:p,i:F,realIndex:z,prevX:D,prevY:ce}),Ke=this._iterateOverDataPoints(He(He({},xe),{},{series:p,pY:Ve,pathsFrom:ze,iterations:p[F].length-1,isRangeStart:!1}));Pe.linePaths[0]=Ke.linePath+Pe.linePath,Pe.pathFromLine=Ke.pathFromLine+Pe.pathFromLine}this._handlePaths({type:w,realIndex:z,i:F,paths:Pe}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),N.push(this.elSeries)}if(y.config.chart.stacked)for(var st=N.length;st>0;st--)I.add(N[st-1]);else for(var Tt=0;Tt<N.length;Tt++)I.add(N[Tt]);return I}},{key:"_initSerieVariables",value:function(r,s,u){var p=this.w,y=new et(this.ctx);this.xDivision=p.globals.gridWidth/(p.globals.dataPoints-("on"===p.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(p.config.stroke.width)?p.config.stroke.width[u]:p.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=u),this.isReversed=p.config.yaxis[this.yaxisIndex]&&p.config.yaxis[this.yaxisIndex].reversed,this.zeroY=p.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?p.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>p.globals.gridHeight||"end"===p.config.plotOptions.area.fillTo)&&(this.areaBottomY=p.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=y.group({class:"apexcharts-series",seriesName:Ye.escapeString(p.globals.seriesNames[u])}),this.elPointsMain=y.group({class:"apexcharts-series-markers-wrap","data:realIndex":u}),this.elDataLabelsWrap=y.group({class:"apexcharts-datalabels","data:realIndex":u}),this.elSeries.attr({"data:longestSeries":r[s].length===p.globals.dataPoints,rel:s+1,"data:realIndex":u}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(r){var s,u,p,y,x=r.type,w=r.series,I=r.i,P=r.realIndex,N=r.prevX,F=r.prevY,z=r.prevY2,X=this.w,le=new et(this.ctx);if(null===w[I][0]){for(var ie=0;ie<w[I].length;ie++)if(null!==w[I][ie]){s=le.move(N=this.xDivision*ie,F=this.zeroY-w[I][ie]/this.yRatio[this.yaxisIndex]),u=le.move(N,this.areaBottomY);break}}else s=le.move(N,F),"rangeArea"===x&&(s=le.move(N,z)+le.line(N,F)),u=le.move(N,this.areaBottomY)+le.line(N,F);if(p=le.move(-1,this.zeroY)+le.line(-1,this.zeroY),y=le.move(-1,this.zeroY)+le.line(-1,this.zeroY),X.globals.previousPaths.length>0){var me=this.lineHelpers.checkPreviousPaths({pathFromLine:p,pathFromArea:y,realIndex:P});p=me.pathFromLine,y=me.pathFromArea}return{prevX:N,prevY:F,linePath:s,areaPath:u,pathFromLine:p,pathFromArea:y}}},{key:"_handlePaths",value:function(r){var s=r.type,u=r.realIndex,p=r.i,y=r.paths,x=this.w,w=new et(this.ctx),I=new rn(this.ctx);this.prevSeriesY.push(y.yArrj),x.globals.seriesXvalues[u]=y.xArrj,x.globals.seriesYvalues[u]=y.yArrj;var P=x.config.forecastDataPoints;if(P.count>0&&"rangeArea"!==s){var N=x.globals.seriesXvalues[u][x.globals.seriesXvalues[u].length-P.count-1],F=w.drawRect(N,0,x.globals.gridWidth,x.globals.gridHeight,0);x.globals.dom.elForecastMask.appendChild(F.node);var z=w.drawRect(0,0,N,x.globals.gridHeight,0);x.globals.dom.elNonForecastMask.appendChild(z.node)}this.pointsChart||x.globals.delayedElements.push({el:this.elPointsMain.node,index:u});var X={i:p,realIndex:u,animationDelay:p,initialSpeed:x.config.chart.animations.speed,dataChangeSpeed:x.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(s)};if("area"===s)for(var le=I.fillPath({seriesNumber:u}),ie=0;ie<y.areaPaths.length;ie++){var me=w.renderPaths(He(He({},X),{},{pathFrom:y.pathFromArea,pathTo:y.areaPaths[ie],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:le}));this.elSeries.add(me)}if(x.config.stroke.show&&!this.pointsChart){var Ae=null;if("line"===s)Ae=I.fillPath({seriesNumber:u,i:p});else if("solid"===x.config.stroke.fill.type)Ae=x.globals.stroke.colors[u];else{var Ve=x.config.fill;x.config.fill=x.config.stroke.fill,Ae=I.fillPath({seriesNumber:u,i:p}),x.config.fill=Ve}for(var D=0;D<y.linePaths.length;D++){var Z=Ae;"rangeArea"===s&&(Z=I.fillPath({seriesNumber:u}));var ce=He(He({},X),{},{pathFrom:y.pathFromLine,pathTo:y.linePaths[D],stroke:Ae,strokeWidth:this.strokeWidth,strokeLineCap:x.config.stroke.lineCap,fill:"rangeArea"===s?Z:"none"}),xe=w.renderPaths(ce);if(this.elSeries.add(xe),xe.attr("fill-rule","evenodd"),P.count>0&&"rangeArea"!==s){var Pe=w.renderPaths(ce);Pe.node.setAttribute("stroke-dasharray",P.dashArray),P.strokeWidth&&Pe.node.setAttribute("stroke-width",P.strokeWidth),this.elSeries.add(Pe),Pe.attr("clip-path","url(#forecastMask".concat(x.globals.cuid,")")),xe.attr("clip-path","url(#nonForecastMask".concat(x.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(r){var s=r.type,u=r.series,p=r.iterations,y=r.realIndex,x=r.i,w=r.x,I=r.y,P=r.pX,N=r.pY,F=r.pathsFrom,z=r.linePaths,X=r.areaPaths,le=r.seriesIndex,ie=r.lineYPosition,me=r.xArrj,Ae=r.yArrj,Ve=r.isRangeStart,D=r.seriesRangeEnd,Z=this.w,ce=new et(this.ctx),xe=this.yRatio,Pe=F.prevY,ze=F.linePath,Ke=F.areaPath,st=F.pathFromLine,Tt=F.pathFromArea,$t=Ye.isNumber(Z.globals.minYArr[y])?Z.globals.minYArr[y]:Z.globals.minY;p||(p=Z.globals.dataPoints>1?Z.globals.dataPoints-1:Z.globals.dataPoints);for(var zt=I,Ht=0;Ht<p;Ht++){var zn=null==u[x][Ht+1];if(Z.globals.isXNumeric){var Qn=Z.globals.seriesX[y][Ht+1];void 0===Z.globals.seriesX[y][Ht+1]&&(Qn=Z.globals.seriesX[y][p-1]),w=(Qn-Z.globals.minX)/this.xRatio}else w+=this.xDivision;ie=Z.config.chart.stacked&&x>0&&Z.globals.collapsedSeries.length<Z.config.series.length-1?this.prevSeriesY[function(ji){for(var pi=ji,$i=0;$i<Z.globals.series.length;$i++)if(Z.globals.collapsedSeriesIndices.indexOf(ji)>-1){pi--;break}return pi>=0?pi:0}(x-1)][Ht+1]:this.zeroY,zn?I=ie-$t/xe[this.yaxisIndex]+2*(this.isReversed?$t/xe[this.yaxisIndex]:0):(I=ie-u[x][Ht+1]/xe[this.yaxisIndex]+2*(this.isReversed?u[x][Ht+1]/xe[this.yaxisIndex]:0),"rangeArea"===s&&(zt=ie-D[x][Ht+1]/xe[this.yaxisIndex]+2*(this.isReversed?D[x][Ht+1]/xe[this.yaxisIndex]:0))),me.push(w),Ae.push(I);var di=this.lineHelpers.calculatePoints({series:u,x:w,y:I,realIndex:y,i:x,j:Ht,prevY:Pe}),xi=this._createPaths({type:s,series:u,i:x,realIndex:y,j:Ht,x:w,y:I,y2:zt,pX:P,pY:N,linePath:ze,areaPath:Ke,linePaths:z,areaPaths:X,seriesIndex:le,isRangeStart:Ve});X=xi.areaPaths,z=xi.linePaths,P=xi.pX,N=xi.pY,Ke=xi.areaPath,ze=xi.linePath,this.appendPathFrom&&(st+=ce.line(w,this.zeroY),Tt+=ce.line(w,this.zeroY)),this.handleNullDataPoints(u,di,x,Ht,y),this._handleMarkersAndLabels({type:s,pointsPos:di,i:x,j:Ht,realIndex:y,isRangeStart:Ve})}return{yArrj:Ae,xArrj:me,pathFromArea:Tt,areaPaths:X,pathFromLine:st,linePaths:z,linePath:ze,areaPath:Ke}}},{key:"_handleMarkersAndLabels",value:function(r){var s=r.type,u=r.pointsPos,p=r.isRangeStart,y=r.i,x=r.j,w=r.realIndex,I=this.w,P=new Tn(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,x,{realIndex:w,pointsPos:u,zRatio:this.zRatio,elParent:this.elPointsMain});else{I.globals.series[y].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var N=this.markers.plotChartMarkers(u,w,x+1);null!==N&&this.elPointsMain.add(N)}var F=P.drawDataLabel({type:s,isRangeStart:p,pos:u,i:w,j:x+1});null!==F&&this.elDataLabelsWrap.add(F)}},{key:"_createPaths",value:function(r){var s=r.type,u=r.series,p=r.i,y=r.realIndex,x=r.j,w=r.x,I=r.y,P=r.y2,N=r.pX,F=r.pY,z=r.linePath,X=r.areaPath,le=r.linePaths,ie=r.areaPaths,me=r.seriesIndex,Ae=r.isRangeStart,Ve=this.w,D=new et(this.ctx),Z=Ve.config.stroke.curve,ce=this.areaBottomY;if(Array.isArray(Ve.config.stroke.curve)&&(Z=Array.isArray(me)?Ve.config.stroke.curve[me[p]]:Ve.config.stroke.curve[p]),"smooth"===Z){var xe=.35*(w-N);Ve.globals.hasNullValues?(null!==u[p][x]&&(null!==u[p][x+1]?(z=D.move(N,F)+D.curve(N+xe,F,w-xe,I,w+1,I),X=D.move(N+1,F)+D.curve(N+xe,F,w-xe,I,w+1,I)+D.line(w,ce)+D.line(N,ce)+"z"):(z=D.move(N,F),X=D.move(N,F)+"z")),le.push(z),ie.push(X)):(z+=D.curve(N+xe,F,w-xe,I,w,I),X+=D.curve(N+xe,F,w-xe,I,w,I)),N=w,F=I,x===u[p].length-2&&(X=X+D.curve(N,F,w,I,w,ce)+D.move(w,I)+"z","rangeArea"===s&&Ae?z=z+D.curve(N,F,w,I,w,P)+D.move(w,P)+"z":Ve.globals.hasNullValues||(le.push(z),ie.push(X)))}else null===u[p][x+1]&&(z+=D.move(w,I),X=X+D.line(Ve.globals.isXNumeric?(Ve.globals.seriesX[y][x]-Ve.globals.minX)/this.xRatio:w-this.xDivision,ce)+D.move(w,I)+"z"),null===u[p][x]&&(z+=D.move(w,I),X+=D.move(w,ce)),"stepline"===Z?(z=z+D.line(w,null,"H")+D.line(null,I,"V"),X=X+D.line(w,null,"H")+D.line(null,I,"V")):"straight"===Z&&(z+=D.line(w,I),X+=D.line(w,I)),x===u[p].length-2&&(X=X+D.line(w,ce)+D.move(w,I)+"z","rangeArea"===s&&Ae?z=z+D.line(w,P)+D.move(w,P)+"z":(le.push(z),ie.push(X)));return{linePaths:le,areaPaths:ie,pX:N,pY:F,linePath:z,areaPath:X}}},{key:"handleNullDataPoints",value:function(r,s,u,p,y){var x=this.w;if(null===r[u][p]&&x.config.markers.showNullDataPoints||1===r[u].length){var w=this.markers.plotChartMarkers(s,y,p+1,this.strokeWidth-x.config.markers.strokeWidth/2,!0);null!==w&&this.elPointsMain.add(w)}}}]),ye}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function ye(w,I,P,N){this.xoffset=w,this.yoffset=I,this.height=N,this.width=P,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(F){var z,X=[],le=this.xoffset,ie=this.yoffset,me=y(F)/this.height,Ae=y(F)/this.width;if(this.width>=this.height)for(z=0;z<F.length;z++)X.push([le,ie,le+me,ie+F[z]/me]),ie+=F[z]/me;else for(z=0;z<F.length;z++)X.push([le,ie,le+F[z]/Ae,ie+Ae]),le+=F[z]/Ae;return X},this.cutArea=function(F){var z;if(this.width>=this.height){var X=F/this.height;z=new ye(this.xoffset+X,this.yoffset,this.width-X,this.height)}else{var ie=F/this.width;z=new ye(this.xoffset,this.yoffset+ie,this.width,this.height-ie)}return z}}function r(w,I,P,N,F){return N=void 0===N?0:N,F=void 0===F?0:F,function(X){var le,ie,me=[];for(le=0;le<X.length;le++)for(ie=0;ie<X[le].length;ie++)me.push(X[le][ie]);return me}(s(function(X,le){var ie,me=[],Ae=le/y(X);for(ie=0;ie<X.length;ie++)me[ie]=X[ie]*Ae;return me}(w,I*P),[],new ye(N,F,I,P),[]))}function s(w,I,P,N){var F,z,X,le,ie,me,Ae;if(0!==w.length)return F=P.shortestEdge(),ie=z=w[0],me=F,0===(le=I).length||((Ae=le.slice()).push(ie),u(le,me)>=u(Ae,me))?(I.push(z),s(w.slice(1),I,P,N)):(X=P.cutArea(y(I),N),N.push(P.getCoordinates(I)),s(w,[],X,N)),N;N.push(P.getCoordinates(I))}function u(w,I){var P=Math.min.apply(Math,w),N=Math.max.apply(Math,w),F=y(w);return Math.max(Math.pow(I,2)*N/Math.pow(F,2),Math.pow(F,2)/(Math.pow(I,2)*P))}function p(w){return w&&w.constructor===Array}function y(w){var I,P=0;for(I=0;I<w.length;I++)P+=w[I];return P}function x(w){var I,P=0;if(p(w[0]))for(I=0;I<w.length;I++)P+=x(w[I]);else P=y(w);return P}return function w(I,P,N,F,z){F=void 0===F?0:F,z=void 0===z?0:z;var X,le,ie=[],me=[];if(p(I[0])){for(le=0;le<I.length;le++)ie[le]=x(I[le]);for(X=r(ie,P,N,F,z),le=0;le<I.length;le++)me.push(w(I[le],X[le][2]-X[le][0],X[le][3]-X[le][1],X[le][0],X[le][1]))}else me=r(I,P,N,F,z);return me}}();var Gi,On,Wi=function(){function ye(r,s){l(this,ye),this.ctx=r,this.w=r.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new nt(r),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return je(ye,[{key:"draw",value:function(r){var s=this,u=this.w,p=new et(this.ctx),y=new rn(this.ctx),x=p.group({class:"apexcharts-treemap"});if(u.globals.noData)return x;var w=[];return r.forEach(function(I){var P=I.map(function(N){return Math.abs(N)});w.push(P)}),this.negRange=this.helpers.checkColorRange(),u.config.series.forEach(function(I,P){I.data.forEach(function(N){Array.isArray(s.labels[P])||(s.labels[P]=[]),s.labels[P].push(N.x)})}),window.TreemapSquared.generate(w,u.globals.gridWidth,u.globals.gridHeight).forEach(function(I,P){var N=p.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:Ye.escapeString(u.globals.seriesNames[P]),rel:P+1,"data:realIndex":P});if(u.config.chart.dropShadow.enabled){var F=u.config.chart.dropShadow;new un(s.ctx).dropShadow(x,F,P)}var z=p.group({class:"apexcharts-data-labels"});I.forEach(function(X,le){var ie=X[0],me=X[1],Ae=X[2],Ve=X[3],D=p.drawRect(ie,me,Ae-ie,Ve-me,0,"#fff",1,s.strokeWidth,u.config.plotOptions.treemap.useFillColorAsStroke?ce:u.globals.stroke.colors[P]);D.attr({cx:ie,cy:me,index:P,i:P,j:le,width:Ae-ie,height:Ve-me});var Z=s.helpers.getShadeColor(u.config.chart.type,P,le,s.negRange),ce=Z.color;void 0!==u.config.series[P].data[le]&&u.config.series[P].data[le].fillColor&&(ce=u.config.series[P].data[le].fillColor);var xe=y.fillPath({color:ce,seriesNumber:P,dataPointIndex:le});D.node.classList.add("apexcharts-treemap-rect"),D.attr({fill:xe}),s.helpers.addListeners(D);var Pe={x:ie+(Ae-ie)/2,y:me+(Ve-me)/2,width:0,height:0},ze={x:ie,y:me,width:Ae-ie,height:Ve-me};if(u.config.chart.animations.enabled&&!u.globals.dataChanged){var Ke=1;u.globals.resized||(Ke=u.config.chart.animations.speed),s.animateTreemap(D,Pe,ze,Ke)}u.globals.dataChanged&&s.dynamicAnim.enabled&&u.globals.shouldAnimate&&(u.globals.previousPaths[P]&&u.globals.previousPaths[P][le]&&u.globals.previousPaths[P][le].rect&&(Pe=u.globals.previousPaths[P][le].rect),s.animateTreemap(D,Pe,ze,s.dynamicAnim.speed));var Tt=s.getFontSize(X),$t=u.config.dataLabels.formatter(s.labels[P][le],{value:u.globals.series[P][le],seriesIndex:P,dataPointIndex:le,w:u}),zt=s.helpers.calculateDataLabels({text:$t,x:(ie+Ae)/2,y:(me+Ve)/2+s.strokeWidth/2+Tt/3,i:P,j:le,colorProps:Z,fontSize:Tt,series:r});u.config.dataLabels.enabled&&zt&&s.rotateToFitLabel(zt,Tt,$t,ie,me,Ae,Ve),N.add(D),null!==zt&&N.add(zt)}),N.add(z),x.add(N)}),x}},{key:"getFontSize",value:function(r){var x,s=this.w,w=function I(P){var N,F=0;if(Array.isArray(P[0]))for(N=0;N<P.length;N++)F+=I(P[N]);else for(N=0;N<P.length;N++)F+=P[N].length;return F}(this.labels)/function I(P){var N,F=0;if(Array.isArray(P[0]))for(N=0;N<P.length;N++)F+=I(P[N]);else for(N=0;N<P.length;N++)F+=1;return F}(this.labels);return x=Math.pow((r[2]-r[0])*(r[3]-r[1]),.5),Math.min(x/w,parseInt(s.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(r,s,u,p,y,x,w){var I=new et(this.ctx),P=I.getTextRects(u,s);if(P.width+this.w.config.stroke.width+5>x-p&&P.width<=w-y){var N=I.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(-90 ".concat(N.x," ").concat(N.y,")"))}}},{key:"animateTreemap",value:function(r,s,u,p){var y=new Ut(this.ctx);y.animateRect(r,{x:s.x,y:s.y,width:s.width,height:s.height},{x:u.x,y:u.y,width:u.width,height:u.height},p,function(){y.animationCompleted(r)})}}]),ye}(),ne=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return je(ye,[{key:"calculateTimeScaleTicks",value:function(r,s){var u=this,p=this.w;if(p.globals.allSeriesCollapsed)return p.globals.labels=[],p.globals.timescaleLabels=[],[];var y=new In(this.ctx),x=(s-r)/864e5;this.determineInterval(x),p.globals.disableZoomIn=!1,p.globals.disableZoomOut=!1,x<.00011574074074074075?p.globals.disableZoomIn=!0:x>5e4&&(p.globals.disableZoomOut=!0);var w=y.getTimeUnitsfromTimestamp(r,s,this.utc),I=p.globals.gridWidth/x,P=I/24,N=P/60,F=N/60,z=Math.floor(24*x),X=Math.floor(1440*x),le=Math.floor(86400*x),ie=Math.floor(x),me=Math.floor(x/30),Ae=Math.floor(x/365),Ve={minMillisecond:w.minMillisecond,minSecond:w.minSecond,minMinute:w.minMinute,minHour:w.minHour,minDate:w.minDate,minMonth:w.minMonth,minYear:w.minYear},D={firstVal:Ve,currentMillisecond:Ve.minMillisecond,currentSecond:Ve.minSecond,currentMinute:Ve.minMinute,currentHour:Ve.minHour,currentMonthDate:Ve.minDate,currentDate:Ve.minDate,currentMonth:Ve.minMonth,currentYear:Ve.minYear,daysWidthOnXAxis:I,hoursWidthOnXAxis:P,minutesWidthOnXAxis:N,secondsWidthOnXAxis:F,numberOfSeconds:le,numberOfMinutes:X,numberOfHours:z,numberOfDays:ie,numberOfMonths:me,numberOfYears:Ae};switch(this.tickInterval){case"years":this.generateYearScale(D);break;case"months":case"half_year":this.generateMonthScale(D);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(D);break;case"hours":this.generateHourScale(D);break;case"minutes_fives":case"minutes":this.generateMinuteScale(D);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(D)}var Z=this.timeScaleArray.map(function(ce){var xe={position:ce.position,unit:ce.unit,year:ce.year,day:ce.day?ce.day:1,hour:ce.hour?ce.hour:0,month:ce.month+1};return"month"===ce.unit?He(He({},xe),{},{day:1,value:ce.value+1}):"day"===ce.unit||"hour"===ce.unit?He(He({},xe),{},{value:ce.value}):"minute"===ce.unit?He(He({},xe),{},{value:ce.value,minute:ce.value}):"second"===ce.unit?He(He({},xe),{},{value:ce.value,minute:ce.minute,second:ce.second}):ce});return Z.filter(function(ce){var xe=1,Pe=Math.ceil(p.globals.gridWidth/120),ze=ce.value;void 0!==p.config.xaxis.tickAmount&&(Pe=p.config.xaxis.tickAmount),Z.length>Pe&&(xe=Math.floor(Z.length/Pe));var Ke=!1,st=!1;switch(u.tickInterval){case"years":"year"===ce.unit&&(Ke=!0);break;case"half_year":xe=7,"year"===ce.unit&&(Ke=!0);break;case"months":xe=1,"year"===ce.unit&&(Ke=!0);break;case"months_fortnight":xe=15,"year"!==ce.unit&&"month"!==ce.unit||(Ke=!0),30===ze&&(st=!0);break;case"months_days":xe=10,"month"===ce.unit&&(Ke=!0),30===ze&&(st=!0);break;case"week_days":xe=8,"month"===ce.unit&&(Ke=!0);break;case"days":xe=1,"month"===ce.unit&&(Ke=!0);break;case"hours":"day"===ce.unit&&(Ke=!0);break;case"minutes_fives":case"seconds_fives":ze%5!=0&&(st=!0);break;case"seconds_tens":ze%10!=0&&(st=!0)}if("hours"===u.tickInterval||"minutes_fives"===u.tickInterval||"seconds_tens"===u.tickInterval||"seconds_fives"===u.tickInterval){if(!st)return!0}else if((ze%xe==0||Ke)&&!st)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(r,s){var u=this.w,p=this.formatDates(r),y=this.removeOverlappingTS(p);u.globals.timescaleLabels=y.slice(),new ni(this.ctx).plotCoords()}},{key:"determineInterval",value:function(r){var s=24*r,u=60*s;switch(!0){case r/365>5:this.tickInterval="years";break;case r>800:this.tickInterval="half_year";break;case r>180:this.tickInterval="months";break;case r>90:this.tickInterval="months_fortnight";break;case r>60:this.tickInterval="months_days";break;case r>30:this.tickInterval="week_days";break;case r>2:this.tickInterval="days";break;case s>2.4:this.tickInterval="hours";break;case u>15:this.tickInterval="minutes_fives";break;case u>5:this.tickInterval="minutes";break;case u>1:this.tickInterval="seconds_tens";break;case 60*u>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(r){var s=r.firstVal,u=r.currentMonth,p=r.currentYear,y=r.daysWidthOnXAxis,x=r.numberOfYears,w=s.minYear,I=0,P=new In(this.ctx),N="year";if(s.minDate>1||s.minMonth>0){var F=P.determineRemainingDaysOfYear(s.minYear,s.minMonth,s.minDate);I=(P.determineDaysOfYear(s.minYear)-F+1)*y,this.timeScaleArray.push({position:I,value:w=s.minYear+1,unit:N,year:w,month:Ye.monthMod(u+1)})}else 1===s.minDate&&0===s.minMonth&&this.timeScaleArray.push({position:I,value:w,unit:N,year:p,month:Ye.monthMod(u+1)});for(var z=w,X=I,le=0;le<x;le++)z++,X=P.determineDaysOfYear(z-1)*y+X,this.timeScaleArray.push({position:X,value:z,unit:N,year:z,month:1})}},{key:"generateMonthScale",value:function(r){var s=r.firstVal,u=r.currentMonthDate,p=r.currentMonth,y=r.currentYear,x=r.daysWidthOnXAxis,w=r.numberOfMonths,I=p,P=0,N=new In(this.ctx),F="month",z=0;if(s.minDate>1){P=(N.determineDaysOfMonths(p+1,s.minYear)-u+1)*x,I=Ye.monthMod(p+1);var X=y+z,le=Ye.monthMod(I),ie=I;0===I&&(F="year",ie=X,le=1,X+=z+=1),this.timeScaleArray.push({position:P,value:ie,unit:F,year:X,month:le})}else this.timeScaleArray.push({position:P,value:I,unit:F,year:y,month:Ye.monthMod(p)});for(var me=I+1,Ae=P,Ve=0,D=1;Ve<w;Ve++,D++){0===(me=Ye.monthMod(me))?(F="year",z+=1):F="month";var Z=this._getYear(y,me,z);Ae=N.determineDaysOfMonths(me,Z)*x+Ae,this.timeScaleArray.push({position:Ae,value:0===me?Z:me,unit:F,year:Z,month:0===me?1:me}),me++}}},{key:"generateDayScale",value:function(r){var s=r.firstVal,u=r.currentMonth,p=r.currentYear,y=r.hoursWidthOnXAxis,x=r.numberOfDays,w=new In(this.ctx),I="day",P=s.minDate+1,N=P,F=function(D,Z,ce){return D>w.determineDaysOfMonths(Z+1,ce)&&(N=1,I="month",X=Z+=1),Z},z=(24-s.minHour)*y,X=P,le=F(N,u,p);0===s.minHour&&1===s.minDate?(z=0,X=Ye.monthMod(s.minMonth),I="month",N=s.minDate,x++):1!==s.minDate&&0===s.minHour&&0===s.minMinute&&(z=0,X=P=s.minDate,le=F(N=P,u,p)),this.timeScaleArray.push({position:z,value:X,unit:I,year:this._getYear(p,le,0),month:Ye.monthMod(le),day:N});for(var ie=z,me=0;me<x;me++){I="day",le=F(N+=1,le,this._getYear(p,le,0));var Ae=this._getYear(p,le,0);ie=24*y+ie;var Ve=1===N?Ye.monthMod(le):N;this.timeScaleArray.push({position:ie,value:Ve,unit:I,year:Ae,month:Ye.monthMod(le),day:Ve})}}},{key:"generateHourScale",value:function(r){var s=r.firstVal,u=r.currentDate,p=r.currentMonth,y=r.currentYear,x=r.minutesWidthOnXAxis,w=r.numberOfHours,I=new In(this.ctx),P="hour",F=function(xe,Pe){return xe>I.determineDaysOfMonths(Pe+1,y)?Pe+=1:Pe},z=60-(s.minMinute+s.minSecond/60),X=z*x,le=s.minHour+1,ie=le+1;60===z&&(X=0,ie=(le=s.minHour)+1);var xe,Pe,me=u,Ae=F(me,p);this.timeScaleArray.push({position:X,value:le,unit:P,day:me,hour:ie,year:y,month:Ye.monthMod(Ae)});for(var Ve=X,D=0;D<w;D++){P="hour",ie>=24&&(ie=0,P="day",Ae=(xe=me+=1,Pe=Ae,xe>I.determineDaysOfMonths(Pe+1,y)&&(me=1,Pe+=1),{month:Pe,date:me}).month,Ae=F(me,Ae));var Z=this._getYear(y,Ae,0);this.timeScaleArray.push({position:Ve=60*x+Ve,value:0===ie?me:ie,unit:P,hour:ie,day:me,year:Z,month:Ye.monthMod(Ae)}),ie++}}},{key:"generateMinuteScale",value:function(r){for(var P=r.minutesWidthOnXAxis,F=r.numberOfMinutes,z=r.currentMinute+1,X=r.currentDate,le=r.currentMonth,ie=r.currentYear,me=r.currentHour,Ae=(60-r.currentSecond-r.currentMillisecond/1e3)*r.secondsWidthOnXAxis,Ve=0;Ve<F;Ve++)z>=60&&(z=0,24===(me+=1)&&(me=0)),this.timeScaleArray.push({position:Ae,value:z,unit:"minute",hour:me,minute:z,day:X,year:this._getYear(ie,le,0),month:Ye.monthMod(le)}),Ae+=P,z++}},{key:"generateSecondScale",value:function(r){for(var P=r.secondsWidthOnXAxis,N=r.numberOfSeconds,F=r.currentSecond+1,z=r.currentMinute,X=r.currentDate,le=r.currentMonth,ie=r.currentYear,me=r.currentHour,Ae=(1e3-r.currentMillisecond)/1e3*P,Ve=0;Ve<N;Ve++)F>=60&&(F=0,++z>=60&&(z=0,24==++me&&(me=0))),this.timeScaleArray.push({position:Ae,value:F,unit:"second",hour:me,minute:z,second:F,day:X,year:this._getYear(ie,le,0),month:Ye.monthMod(le)}),Ae+=P,F++}},{key:"createRawDateString",value:function(r,s){var u=r.year;return 0===r.month&&(r.month=1),u+="-"+("0"+r.month.toString()).slice(-2),u+="day"===r.unit?"day"===r.unit?"-"+("0"+s).slice(-2):"-01":"-"+("0"+(r.day?r.day:"1")).slice(-2),u+="hour"===r.unit?"hour"===r.unit?"T"+("0"+s).slice(-2):"T00":"T"+("0"+(r.hour?r.hour:"0")).slice(-2),u+="minute"===r.unit?":"+("0"+s).slice(-2):":"+(r.minute?("0"+r.minute).slice(-2):"00"),u+="second"===r.unit?":"+("0"+s).slice(-2):":00",this.utc&&(u+=".000Z"),u}},{key:"formatDates",value:function(r){var s=this,u=this.w;return r.map(function(p){var y=p.value.toString(),x=new In(s.ctx),w=s.createRawDateString(p,y),I=x.getDate(x.parseDate(w));if(s.utc||(I=x.getDate(x.parseDateWithTimezone(w))),void 0===u.config.xaxis.labels.format){var P="dd MMM",N=u.config.xaxis.labels.datetimeFormatter;"year"===p.unit&&(P=N.year),"month"===p.unit&&(P=N.month),"day"===p.unit&&(P=N.day),"hour"===p.unit&&(P=N.hour),"minute"===p.unit&&(P=N.minute),"second"===p.unit&&(P=N.second),y=x.formatDate(I,P)}else y=x.formatDate(I,u.config.xaxis.labels.format);return{dateString:w,position:p.position,value:y,unit:p.unit,year:p.year,month:p.month}})}},{key:"removeOverlappingTS",value:function(r){var s,u=this,p=new et(this.ctx),y=!1;r.length>0&&r[0].value&&r.every(function(I){return I.value.length===r[0].value.length})&&(y=!0,s=p.getTextRects(r[0].value).width);var x=0;return r.map(function(I,P){if(P>0&&u.w.config.xaxis.labels.hideOverlappingLabels){var N=y?s:p.getTextRects(r[x].value).width;return I.position>r[x].position+N+10?(x=P,I):null}return I}).filter(function(I){return null!==I})}},{key:"_getYear",value:function(r,s,u){return r+Math.floor(s/12)+u}}]),ye}(),de=function(){function ye(r,s){l(this,ye),this.ctx=s,this.w=s.w,this.el=r}return je(ye,[{key:"setupElements",value:function(){var r=this.w.globals,s=this.w.config,u=s.chart.type;r.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(u)>-1,r.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(u)>-1,r.isBarHorizontal=("bar"===s.chart.type||"rangeBar"===s.chart.type||"boxPlot"===s.chart.type)&&s.plotOptions.bar.horizontal,r.chartClass=".apexcharts"+r.chartID,r.dom.baseEl=this.el,r.dom.elWrap=document.createElement("div"),et.setAttrs(r.dom.elWrap,{id:r.chartClass.substring(1),class:"apexcharts-canvas "+r.chartClass.substring(1)}),this.el.appendChild(r.dom.elWrap),r.dom.Paper=new window.SVG.Doc(r.dom.elWrap),r.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),r.dom.Paper.node.style.background=s.chart.background,this.setSVGDimensions(),r.dom.elLegendForeign=document.createElementNS(r.SVGNS,"foreignObject"),et.setAttrs(r.dom.elLegendForeign,{x:0,y:0,width:r.svgWidth,height:r.svgHeight}),r.dom.elLegendWrap=document.createElement("div"),r.dom.elLegendWrap.classList.add("apexcharts-legend"),r.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),r.dom.elLegendForeign.appendChild(r.dom.elLegendWrap),r.dom.Paper.node.appendChild(r.dom.elLegendForeign),r.dom.elGraphical=r.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),r.dom.elDefs=r.dom.Paper.defs(),r.dom.Paper.add(r.dom.elGraphical),r.dom.elGraphical.add(r.dom.elDefs)}},{key:"plotChartType",value:function(r,s){var u=this.w,p=u.config,y=u.globals,x={series:[],i:[]},w={series:[],i:[]},I={series:[],i:[]},P={series:[],i:[]},N={series:[],i:[]},F={series:[],i:[]},z={series:[],i:[]},X={series:[],i:[]},le={series:[],seriesRangeEnd:[],i:[]};y.series.map(function(Pe,ze){var Ke=0;void 0!==r[ze].type?("column"===r[ze].type||"bar"===r[ze].type?(y.series.length>1&&p.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),N.series.push(Pe),N.i.push(ze),Ke++,u.globals.columnSeries=N.series):"area"===r[ze].type?(w.series.push(Pe),w.i.push(ze),Ke++):"line"===r[ze].type?(x.series.push(Pe),x.i.push(ze),Ke++):"scatter"===r[ze].type?(I.series.push(Pe),I.i.push(ze)):"bubble"===r[ze].type?(P.series.push(Pe),P.i.push(ze),Ke++):"candlestick"===r[ze].type?(F.series.push(Pe),F.i.push(ze),Ke++):"boxPlot"===r[ze].type?(z.series.push(Pe),z.i.push(ze),Ke++):"rangeBar"===r[ze].type?(X.series.push(Pe),X.i.push(ze),Ke++):"rangeArea"===r[ze].type?(le.series.push(y.seriesRangeStart[ze]),le.seriesRangeEnd.push(y.seriesRangeEnd[ze]),le.i.push(ze),Ke++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),Ke>1&&(y.comboCharts=!0)):(x.series.push(Pe),x.i.push(ze))});var ie=new dr(this.ctx,s),me=new Yt(this.ctx,s);this.ctx.pie=new tn(this.ctx);var Ae=new ke(this.ctx);this.ctx.rangeBar=new vi(this.ctx,s);var Ve=new cn(this.ctx),D=[];if(y.comboCharts){if(w.series.length>0&&D.push(ie.draw(w.series,"area",w.i)),N.series.length>0)if(u.config.chart.stacked){var Z=new or(this.ctx,s);D.push(Z.draw(N.series,N.i))}else this.ctx.bar=new gi(this.ctx,s),D.push(this.ctx.bar.draw(N.series,N.i));if(le.series.length>0&&D.push(ie.draw(le.series,"rangeArea",le.i,le.seriesRangeEnd)),x.series.length>0&&D.push(ie.draw(x.series,"line",x.i)),F.series.length>0&&D.push(me.draw(F.series,"candlestick",F.i)),z.series.length>0&&D.push(me.draw(z.series,"boxPlot",z.i)),X.series.length>0&&D.push(this.ctx.rangeBar.draw(X.series,X.i)),I.series.length>0){var ce=new dr(this.ctx,s,!0);D.push(ce.draw(I.series,"scatter",I.i))}if(P.series.length>0){var xe=new dr(this.ctx,s,!0);D.push(xe.draw(P.series,"bubble",P.i))}}else switch(p.chart.type){case"line":D=ie.draw(y.series,"line");break;case"area":D=ie.draw(y.series,"area");break;case"bar":p.chart.stacked?D=new or(this.ctx,s).draw(y.series):(this.ctx.bar=new gi(this.ctx,s),D=this.ctx.bar.draw(y.series));break;case"candlestick":D=new Yt(this.ctx,s).draw(y.series,"candlestick");break;case"boxPlot":D=new Yt(this.ctx,s).draw(y.series,p.chart.type);break;case"rangeBar":D=this.ctx.rangeBar.draw(y.series);break;case"rangeArea":D=ie.draw(y.seriesRangeStart,"rangeArea",void 0,y.seriesRangeEnd);break;case"heatmap":D=new ft(this.ctx,s).draw(y.series);break;case"treemap":D=new Wi(this.ctx,s).draw(y.series);break;case"pie":case"donut":case"polarArea":D=this.ctx.pie.draw(y.series);break;case"radialBar":D=Ae.draw(y.series);break;case"radar":D=Ve.draw(y.series);break;default:D=ie.draw(y.series)}return D}},{key:"setSVGDimensions",value:function(){var r=this.w.globals,s=this.w.config;r.svgWidth=s.chart.width,r.svgHeight=s.chart.height;var u=Ye.getDimensions(this.el),p=s.chart.width.toString().split(/[0-9]+/g).pop();"%"===p?Ye.isNumber(u[0])&&(0===u[0].width&&(u=Ye.getDimensions(this.el.parentNode)),r.svgWidth=u[0]*parseInt(s.chart.width,10)/100):"px"!==p&&""!==p||(r.svgWidth=parseInt(s.chart.width,10));var y=s.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==r.svgHeight&&""!==r.svgHeight)if("%"===y){var x=Ye.getDimensions(this.el.parentNode);r.svgHeight=x[1]*parseInt(s.chart.height,10)/100}else r.svgHeight=parseInt(s.chart.height,10);else r.svgHeight=r.axisCharts?r.svgWidth/1.61:r.svgWidth/1.2;r.svgWidth<0&&(r.svgWidth=0),r.svgHeight<0&&(r.svgHeight=0),et.setAttrs(r.dom.Paper.node,{width:r.svgWidth,height:r.svgHeight}),"%"!==y&&(r.dom.Paper.node.parentNode.parentNode.style.minHeight=r.svgHeight+(s.chart.sparkline.enabled?0:r.axisCharts?s.chart.parentHeightOffset:0)+"px"),r.dom.elWrap.style.width=r.svgWidth+"px",r.dom.elWrap.style.height=r.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var r=this.w.globals;et.setAttrs(r.dom.elGraphical.node,{transform:"translate("+r.translateX+", "+r.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var r=this.w,s=r.globals,u=0,p=r.config.chart.sparkline.enabled?1:15;p+=r.config.grid.padding.bottom,"top"!==r.config.legend.position&&"bottom"!==r.config.legend.position||!r.config.legend.show||r.config.legend.floating||(u=new ln(this.ctx).legendHelpers.getLegendBBox().clwh+10);var y=r.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),x=2.05*r.globals.radialSize;if(y&&!r.config.chart.sparkline.enabled&&0!==r.config.plotOptions.radialBar.startAngle){var w=Ye.getBoundingClientRect(y);x=w.bottom,x=Math.max(2.05*r.globals.radialSize,w.bottom-w.top)}var P=x+s.translateY+u+p;s.dom.elLegendForeign&&s.dom.elLegendForeign.setAttribute("height",P),r.config.chart.height&&String(r.config.chart.height).indexOf("%")>0||(s.dom.elWrap.style.height=P+"px",et.setAttrs(s.dom.Paper.node,{height:P}),s.dom.Paper.node.parentNode.parentNode.style.minHeight=P+"px")}},{key:"coreCalculations",value:function(){new gn(this.ctx).init()}},{key:"resetGlobals",value:function(){var r=this,s=function(){return r.w.config.series.map(function(y){return[]})},u=new pn,p=this.w.globals;u.initGlobalVars(p),p.seriesXvalues=s(),p.seriesYvalues=s()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var r=null,s=this.w;if(s.globals.axisCharts){if("back"===s.config.xaxis.crosshairs.position&&new Pi(this.ctx).drawXCrosshairs(),"back"===s.config.yaxis[0].crosshairs.position&&new Pi(this.ctx).drawYCrosshairs(),"datetime"===s.config.xaxis.type&&void 0===s.config.xaxis.labels.formatter){this.ctx.timeScale=new ne(this.ctx);var u=[];isFinite(s.globals.minX)&&isFinite(s.globals.maxX)&&!s.globals.isBarHorizontal?u=this.ctx.timeScale.calculateTimeScaleTicks(s.globals.minX,s.globals.maxX):s.globals.isBarHorizontal&&(u=this.ctx.timeScale.calculateTimeScaleTicks(s.globals.minY,s.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(u)}r=new jt(this.ctx).getCalculatedRatios()}return r}},{key:"updateSourceChart",value:function(r){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:r.w.globals.minX,max:r.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var r=this,s=this.w;if(s.config.chart.brush.enabled&&"function"!=typeof s.config.chart.events.selection){var u=s.config.chart.brush.targets||[s.config.chart.brush.target];u.forEach(function(p){var y=ApexCharts.getChartByID(p);y.w.globals.brushSource=r.ctx,"function"!=typeof y.w.config.chart.events.zoomed&&(y.w.config.chart.events.zoomed=function(){r.updateSourceChart(y)}),"function"!=typeof y.w.config.chart.events.scrolled&&(y.w.config.chart.events.scrolled=function(){r.updateSourceChart(y)})}),s.config.chart.events.selection=function(p,y){u.forEach(function(x){var w=ApexCharts.getChartByID(x),I=Ye.clone(s.config.yaxis);if(s.config.chart.brush.autoScaleYaxis&&1===w.w.globals.series.length){var P=new li(w);I=P.autoScaleY(w,I,y)}var N=w.w.config.yaxis.reduce(function(F,z,X){return[].concat(Ft(F),[He(He({},w.w.config.yaxis[X]),{},{min:I[0].min,max:I[0].max})])},[]);w.ctx.updateHelpers._updateOptions({xaxis:{min:y.xaxis.min,max:y.xaxis.max},yaxis:N},!1,!1,!1,!1)})}}}}]),ye}(),Ie=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"_updateOptions",value:function(r){var s=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],x=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(w){var I=[s.ctx];y&&(I=s.ctx.getSyncedCharts()),s.ctx.w.globals.isExecCalled&&(I=[s.ctx],s.ctx.w.globals.isExecCalled=!1),I.forEach(function(P,N){var F=P.w;if(F.globals.shouldAnimate=p,u||(F.globals.resized=!0,F.globals.dataChanged=!0,p&&P.series.getPreviousPaths()),r&&"object"===Xe(r)&&(P.config=new Gt(r),r=jt.extendArrayProps(P.config,r,F),P.w.globals.chartID!==s.ctx.w.globals.chartID&&delete r.series,F.config=Ye.extend(F.config,r),x&&(F.globals.lastXAxis=r.xaxis?Ye.clone(r.xaxis):[],F.globals.lastYAxis=r.yaxis?Ye.clone(r.yaxis):[],F.globals.initialConfig=Ye.extend({},F.config),F.globals.initialSeries=Ye.clone(F.config.series),r.series))){for(var z=0;z<F.globals.collapsedSeriesIndices.length;z++){var X=F.config.series[F.globals.collapsedSeriesIndices[z]];F.globals.collapsedSeries[z].data=F.globals.axisCharts?X.data.slice():X}for(var le=0;le<F.globals.ancillaryCollapsedSeriesIndices.length;le++){var ie=F.config.series[F.globals.ancillaryCollapsedSeriesIndices[le]];F.globals.ancillaryCollapsedSeries[le].data=F.globals.axisCharts?ie.data.slice():ie}P.series.emptyCollapsedSeries(F.config.series)}return P.update(r).then(function(){N===I.length-1&&w(P)})})})}},{key:"_updateSeries",value:function(r,s){var u=this,p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(y){var x,w=u.w;return w.globals.shouldAnimate=s,w.globals.dataChanged=!0,s&&u.ctx.series.getPreviousPaths(),w.globals.axisCharts?(0===(x=r.map(function(I,P){return u._extendSeries(I,P)})).length&&(x=[{data:[]}]),w.config.series=x):w.config.series=r.slice(),p&&(w.globals.initialConfig.series=Ye.clone(w.config.series),w.globals.initialSeries=Ye.clone(w.config.series)),u.ctx.update().then(function(){y(u.ctx)})})}},{key:"_extendSeries",value:function(r,s){var u=this.w,p=u.config.series[s];return He(He({},u.config.series[s]),{},{name:r.name?r.name:p&&p.name,color:r.color?r.color:p&&p.color,type:r.type?r.type:p&&p.type,data:r.data?r.data:p&&p.data})}},{key:"toggleDataPointSelection",value:function(r,s){var u=this.w,p=null,y=".apexcharts-series[data\\:realIndex='".concat(r,"']");return u.globals.axisCharts?p=u.globals.dom.Paper.select("".concat(y," path[j='").concat(s,"'], ").concat(y," circle[j='").concat(s,"'], ").concat(y," rect[j='").concat(s,"']")).members[0]:void 0===s&&(p=u.globals.dom.Paper.select("".concat(y," path[j='").concat(r,"']")).members[0],"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"donut"!==u.config.chart.type||this.ctx.pie.pieClicked(r)),p?(new et(this.ctx).pathMouseDown(p,null),p.node?p.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(r){var s=this.w;if(["min","max"].forEach(function(p){void 0!==r.xaxis[p]&&(s.config.xaxis[p]=r.xaxis[p],s.globals.lastXAxis[p]=r.xaxis[p])}),r.xaxis.categories&&r.xaxis.categories.length&&(s.config.xaxis.categories=r.xaxis.categories),s.config.xaxis.convertedCatToNumeric){var u=new pt(r);r=u.convertCatToNumericXaxis(r,this.ctx)}return r}},{key:"forceYAxisUpdate",value:function(r){return r.chart&&r.chart.stacked&&"100%"===r.chart.stackType&&(Array.isArray(r.yaxis)?r.yaxis.forEach(function(s,u){r.yaxis[u].min=0,r.yaxis[u].max=100}):(r.yaxis.min=0,r.yaxis.max=100)),r}},{key:"revertDefaultAxisMinMax",value:function(r){var s=this,u=this.w,p=u.globals.lastXAxis,y=u.globals.lastYAxis;r&&r.xaxis&&(p=r.xaxis),r&&r.yaxis&&(y=r.yaxis),u.config.xaxis.min=p.min,u.config.xaxis.max=p.max,u.config.yaxis.map(function(w,I){u.globals.zoomed||void 0!==y[I]?function(w){void 0!==y[w]&&(u.config.yaxis[w].min=y[w].min,u.config.yaxis[w].max=y[w].max)}(I):void 0!==s.ctx.opts.yaxis[I]&&(w.min=s.ctx.opts.yaxis[I].min,w.max=s.ctx.opts.yaxis[I].max)})}}]),ye}();Gi=typeof window<"u"?window:void 0,On=function(ye,r){var s=(void 0!==this?this:ye).SVG=function(D){if(s.supported)return D=new s.Doc(D),s.parser.draw||s.prepare(),D};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.dev",s.supported=!0,!s.supported)return!1;s.did=1e3,s.eid=function(D){return"Svgjs"+N(D)+s.did++},s.create=function(D){var Z=r.createElementNS(this.ns,D);return Z.setAttribute("id",this.eid(D)),Z},s.extend=function(){var D,Z;Z=(D=[].slice.call(arguments)).pop();for(var ce=D.length-1;ce>=0;ce--)if(D[ce])for(var xe in Z)D[ce].prototype[xe]=Z[xe];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(D){var Z="function"==typeof D.create?D.create:function(){this.constructor.call(this,s.create(D.create))};return D.inherit&&(Z.prototype=new D.inherit),D.extend&&s.extend(Z,D.extend),D.construct&&s.extend(D.parent||s.Container,D.construct),Z},s.adopt=function(D){return D?D.instance?D.instance:((Z="svg"==D.nodeName?D.parentNode instanceof ye.SVGElement?new s.Nested:new s.Doc:"linearGradient"==D.nodeName?new s.Gradient("linear"):"radialGradient"==D.nodeName?new s.Gradient("radial"):s[N(D.nodeName)]?new(s[N(D.nodeName)]):new s.Element(D)).type=D.nodeName,Z.node=D,D.instance=Z,Z instanceof s.Doc&&Z.namespace().defs(),Z.setData(JSON.parse(D.getAttribute("svgjs:data"))||{}),Z):null;var Z},s.prepare=function(){var D=r.getElementsByTagName("body")[0],Z=(D?new s.Doc(D):s.adopt(r.documentElement).nested()).size(2,0);s.parser={body:D||r.documentElement,draw:Z.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:Z.polyline().node,path:Z.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},r.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(D,Z){for(var ce=D.length,xe=[],Pe=0;Pe<ce;Pe++)xe.push(Z(D[Pe]));return xe},filter:function(D,Z){for(var ce=D.length,xe=[],Pe=0;Pe<ce;Pe++)Z(D[Pe])&&xe.push(D[Pe]);return xe},filterSVGElements:function(D){return this.filter(D,function(Z){return Z instanceof ye.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(D){var Z,ce;this.r=0,this.g=0,this.b=0,D&&("string"==typeof D?s.regex.isRgb.test(D)?(Z=s.regex.rgb.exec(D.replace(s.regex.whitespace,"")),this.r=parseInt(Z[1]),this.g=parseInt(Z[2]),this.b=parseInt(Z[3])):s.regex.isHex.test(D)&&(Z=s.regex.hex.exec(4==(ce=D).length?["#",ce.substring(1,2),ce.substring(1,2),ce.substring(2,3),ce.substring(2,3),ce.substring(3,4),ce.substring(3,4)].join(""):ce),this.r=parseInt(Z[1],16),this.g=parseInt(Z[2],16),this.b=parseInt(Z[3],16)):"object"===Xe(D)&&(this.r=D.r,this.g=D.g,this.b=D.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+F(this.r)+F(this.g)+F(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(D){return this.destination=new s.Color(D),this},at:function(D){return this.destination?new s.Color({r:~~(this.r+(this.destination.r-this.r)*(D=D<0?0:D>1?1:D)),g:~~(this.g+(this.destination.g-this.g)*D),b:~~(this.b+(this.destination.b-this.b)*D)}):this}}),s.Color.test=function(D){return s.regex.isHex.test(D+="")||s.regex.isRgb.test(D)},s.Color.isRgb=function(D){return D&&"number"==typeof D.r&&"number"==typeof D.g&&"number"==typeof D.b},s.Color.isColor=function(D){return s.Color.isRgb(D)||s.Color.test(D)},s.Array=function(D,Z){0==(D=(D||[]).valueOf()).length&&Z&&(D=Z.valueOf()),this.value=this.parse(D)},s.extend(s.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(D){return D=D.valueOf(),Array.isArray(D)?D:this.split(D)}}),s.PointArray=function(D,Z){s.Array.call(this,D,Z||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray;for(var u={M:function(D,Z,ce){return Z.x=ce.x=D[0],Z.y=ce.y=D[1],["M",Z.x,Z.y]},L:function(D,Z){return Z.x=D[0],Z.y=D[1],["L",D[0],D[1]]},H:function(D,Z){return Z.x=D[0],["H",D[0]]},V:function(D,Z){return Z.y=D[0],["V",D[0]]},C:function(D,Z){return Z.x=D[4],Z.y=D[5],["C",D[0],D[1],D[2],D[3],D[4],D[5]]},Q:function(D,Z){return Z.x=D[2],Z.y=D[3],["Q",D[0],D[1],D[2],D[3]]},Z:function(D,Z,ce){return Z.x=ce.x,Z.y=ce.y,["Z"]}},p="mlhvqtcsaz".split(""),y=0,x=p.length;y<x;++y)u[p[y]]=function(D){return function(Z,ce,xe){if("H"==D)Z[0]=Z[0]+ce.x;else if("V"==D)Z[0]=Z[0]+ce.y;else if("A"==D)Z[5]=Z[5]+ce.x,Z[6]=Z[6]+ce.y;else for(var Pe=0,ze=Z.length;Pe<ze;++Pe)Z[Pe]=Z[Pe]+(Pe%2?ce.y:ce.x);if(u&&"function"==typeof u[D])return u[D](Z,ce,xe)}}(p[y].toUpperCase());s.PathArray=function(D,Z){s.Array.call(this,D,Z||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return function(D){for(var Z=0,ce=D.length,xe="";Z<ce;Z++)xe+=D[Z][0],null!=D[Z][1]&&(xe+=D[Z][1],null!=D[Z][2]&&(xe+=" ",xe+=D[Z][2],null!=D[Z][3]&&(xe+=" ",xe+=D[Z][3],xe+=" ",xe+=D[Z][4],null!=D[Z][5]&&(xe+=" ",xe+=D[Z][5],xe+=" ",xe+=D[Z][6],null!=D[Z][7]&&(xe+=" ",xe+=D[Z][7])))));return xe+" "}(this.value)},move:function(D,Z){return this.bbox(),this},at:function(D){if(!this.destination)return this;for(var Z=this.value,ce=this.destination.value,xe=[],Pe=new s.PathArray,ze=0,Ke=Z.length;ze<Ke;ze++){xe[ze]=[Z[ze][0]];for(var st=1,Tt=Z[ze].length;st<Tt;st++)xe[ze][st]=Z[ze][st]+(ce[ze][st]-Z[ze][st])*D;"A"===xe[ze][0]&&(xe[ze][4]=+(0!=xe[ze][4]),xe[ze][5]=+(0!=xe[ze][5]))}return Pe.value=xe,Pe},parse:function(D){if(D instanceof s.PathArray)return D.valueOf();var Z,ce={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};D="string"==typeof D?D.replace(s.regex.numbersWithDots,I).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):D.reduce(function(Tt,$t){return[].concat.call(Tt,$t)},[]);var xe=[],Pe=new s.Point,ze=new s.Point,Ke=0,st=D.length;do{s.regex.isPathLetter.test(D[Ke])?(Z=D[Ke],++Ke):"M"==Z?Z="L":"m"==Z&&(Z="l"),xe.push(u[Z].call(null,D.slice(Ke,Ke+=ce[Z.toUpperCase()]).map(parseFloat),Pe,ze))}while(st>Ke);return xe},bbox:function(){return s.parser.draw||s.prepare(),s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(D,Z){this.value=0,this.unit=Z||"","number"==typeof D?this.value=isNaN(D)?0:isFinite(D)?D:D<0?-34e37:34e37:"string"==typeof D?(Z=D.match(s.regex.numberAndUnit))&&(this.value=parseFloat(Z[1]),"%"==Z[5]?this.value/=100:"s"==Z[5]&&(this.value*=1e3),this.unit=Z[5]):D instanceof s.Number&&(this.value=D.valueOf(),this.unit=D.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(D){return D=new s.Number(D),new s.Number(this+D,this.unit||D.unit)},minus:function(D){return D=new s.Number(D),new s.Number(this-D,this.unit||D.unit)},times:function(D){return D=new s.Number(D),new s.Number(this*D,this.unit||D.unit)},divide:function(D){return D=new s.Number(D),new s.Number(this/D,this.unit||D.unit)},to:function(D){var Z=new s.Number(this);return"string"==typeof D&&(Z.unit=D),Z},morph:function(D){return this.destination=new s.Number(D),D.relative&&(this.destination.value+=this.value),this},at:function(D){return this.destination?new s.Number(this.destination).minus(this).times(D).plus(this):this}}}),s.Element=s.invent({create:function(D){this._stroke=s.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=D)&&(this.type=D.nodeName,this.node.instance=this,this._stroke=D.getAttribute("stroke")||this._stroke)},extend:{x:function(D){return this.attr("x",D)},y:function(D){return this.attr("y",D)},cx:function(D){return null==D?this.x()+this.width()/2:this.x(D-this.width()/2)},cy:function(D){return null==D?this.y()+this.height()/2:this.y(D-this.height()/2)},move:function(D,Z){return this.x(D).y(Z)},center:function(D,Z){return this.cx(D).cy(Z)},width:function(D){return this.attr("width",D)},height:function(D){return this.attr("height",D)},size:function(D,Z){var ce=z(this,D,Z);return this.width(new s.Number(ce.width)).height(new s.Number(ce.height))},clone:function(D){this.writeDataToDom();var Z=ie(this.node.cloneNode(!0));return D?D.add(Z):this.after(Z),Z},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(D){return this.after(D).remove(),D},addTo:function(D){return D.put(this)},putIn:function(D){return D.add(this)},id:function(D){return this.attr("id",D)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var D=this.attr("class");return null==D?[]:D.trim().split(s.regex.delimiter)},hasClass:function(D){return-1!=this.classes().indexOf(D)},addClass:function(D){if(!this.hasClass(D)){var Z=this.classes();Z.push(D),this.attr("class",Z.join(" "))}return this},removeClass:function(D){return this.hasClass(D)&&this.attr("class",this.classes().filter(function(Z){return Z!=D}).join(" ")),this},toggleClass:function(D){return this.hasClass(D)?this.removeClass(D):this.addClass(D)},reference:function(D){return s.get(this.attr(D))},parent:function(D){var Z=this;if(!Z.node.parentNode)return null;if(Z=s.adopt(Z.node.parentNode),!D)return Z;for(;Z&&Z.node instanceof ye.SVGElement;){if("string"==typeof D?Z.matches(D):Z instanceof D)return Z;if(!Z.node.parentNode||"#document"==Z.node.parentNode.nodeName)return null;Z=s.adopt(Z.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(D){var Z=[],ce=this;do{if(!(ce=ce.parent(D))||!ce.node)break;Z.push(ce)}while(ce.parent);return Z},matches:function(D){return((Z=this.node).matches||Z.matchesSelector||Z.msMatchesSelector||Z.mozMatchesSelector||Z.webkitMatchesSelector||Z.oMatchesSelector).call(Z,D);var Z},native:function(){return this.node},svg:function(D){var Z=r.createElement("svg");if(!(D&&this instanceof s.Parent))return Z.appendChild(D=r.createElement("svg")),this.writeDataToDom(),D.appendChild(this.node.cloneNode(!0)),Z.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");Z.innerHTML="<svg>"+D.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var ce=0,xe=Z.firstChild.childNodes.length;ce<xe;ce++)this.node.appendChild(Z.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(D){return this.dom=D,this},is:function(D){return this instanceof D}}}),s.easing={"-":function(D){return D},"<>":function(D){return-Math.cos(D*Math.PI)/2+.5},">":function(D){return Math.sin(D*Math.PI/2)},"<":function(D){return 1-Math.cos(D*Math.PI/2)}},s.morph=function(D){return function(Z,ce){return new s.MorphObj(Z,ce).at(D)}},s.Situation=s.invent({create:function(D){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(D.duration).valueOf(),this.delay=new s.Number(D.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=D.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(D){this._target=D,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(D,Z,ce){"object"===Xe(D)&&(Z=D.ease,ce=D.delay,D=D.duration);var xe=new s.Situation({duration:D||1e3,delay:ce||0,ease:s.easing[Z||"-"]||Z});return this.queue(xe),this},target:function(D){return D&&D instanceof s.Element?(this._target=D,this):this._target},timeToAbsPos:function(D){return(D-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(D){return this.situation.duration/this._speed*D+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=ye.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){ye.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(D){return("function"==typeof D||D instanceof s.Situation)&&this.situations.push(D),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var D,Z=this.situation;if(Z.init)return this;for(var ce in Z.animations){D=this.target()[ce](),Array.isArray(D)||(D=[D]),Array.isArray(Z.animations[ce])||(Z.animations[ce]=[Z.animations[ce]]);for(var xe=D.length;xe--;)Z.animations[ce][xe]instanceof s.Number&&(D[xe]=new s.Number(D[xe])),Z.animations[ce][xe]=D[xe].morph(Z.animations[ce][xe])}for(var ce in Z.attrs)Z.attrs[ce]=new s.MorphObj(this.target().attr(ce),Z.attrs[ce]);for(var ce in Z.styles)Z.styles[ce]=new s.MorphObj(this.target().style(ce),Z.styles[ce]);return Z.initialTransformation=this.target().matrixify(),Z.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(D,Z){var ce=this.active;return this.active=!1,Z&&this.clearQueue(),D&&this.situation&&(!ce&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(D){var Z=this.last();return this.target().on("finished.fx",function ce(xe){xe.detail.situation==Z&&(D.call(this,Z),this.off("finished.fx",ce))}),this._callStart()},during:function(D){var Z=this.last(),ce=function(xe){xe.detail.situation==Z&&D.call(this,xe.detail.pos,s.morph(xe.detail.pos),xe.detail.eased,Z)};return this.target().off("during.fx",ce).on("during.fx",ce),this.after(function(){this.off("during.fx",ce)}),this._callStart()},afterAll:function(D){var Z=function ce(xe){D.call(this),this.off("allfinished.fx",ce)};return this.target().off("allfinished.fx",Z).on("allfinished.fx",Z),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(D,Z,ce){return this.last()[ce||"animations"][D]=Z,this._callStart()},step:function(D){var Z,ce,xe;D||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(Z=Math.max(this.absPos,0),ce=Math.floor(Z),!0===this.situation.loops||ce<this.situation.loops?(this.pos=Z-ce,xe=this.situation.loop,this.situation.loop=ce):(this.absPos=this.situation.loops,this.pos=1,xe=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-xe)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Pe=this.situation.ease(this.pos);for(var ze in this.situation.once)ze>this.lastPos&&ze<=Pe&&(this.situation.once[ze].call(this.target(),this.pos,Pe),delete this.situation.once[ze]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Pe,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Pe,this):this},eachAt:function(){var D,Z=this,ce=this.target(),xe=this.situation;for(var Pe in xe.animations)D=[].concat(xe.animations[Pe]).map(function(st){return"string"!=typeof st&&st.at?st.at(xe.ease(Z.pos),Z.pos):st}),ce[Pe].apply(ce,D);for(var Pe in xe.attrs)D=[Pe].concat(xe.attrs[Pe]).map(function(Tt){return"string"!=typeof Tt&&Tt.at?Tt.at(xe.ease(Z.pos),Z.pos):Tt}),ce.attr.apply(ce,D);for(var Pe in xe.styles)D=[Pe].concat(xe.styles[Pe]).map(function(Tt){return"string"!=typeof Tt&&Tt.at?Tt.at(xe.ease(Z.pos),Z.pos):Tt}),ce.style.apply(ce,D);if(xe.transforms.length){D=xe.initialTransformation,Pe=0;for(var ze=xe.transforms.length;Pe<ze;Pe++){var Ke=xe.transforms[Pe];Ke instanceof s.Matrix?D=Ke.relative?D.multiply((new s.Matrix).morph(Ke).at(xe.ease(this.pos))):D.morph(Ke).at(xe.ease(this.pos)):(Ke.relative||Ke.undo(D.extract()),D=D.multiply(Ke.at(xe.ease(this.pos))))}ce.matrix(D)}return this},once:function(D,Z,ce){var xe=this.last();return ce||(D=xe.ease(D)),xe.once[D]=Z,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(D,Z,ce){return(this.fx||(this.fx=new s.FX(this))).animate(D,Z,ce)},delay:function(D){return(this.fx||(this.fx=new s.FX(this))).delay(D)},stop:function(D,Z){return this.fx&&this.fx.stop(D,Z),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),s.MorphObj=s.invent({create:function(D,Z){return s.Color.isColor(Z)?new s.Color(D).morph(Z):s.regex.delimiter.test(D)?s.regex.pathLetters.test(D)?new s.PathArray(D).morph(Z):new s.Array(D).morph(Z):s.regex.numberAndUnit.test(Z)?new s.Number(D).morph(Z):(this.value=D,void(this.destination=Z))},extend:{at:function(D,Z){return Z<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(D,Z,ce){if("object"===Xe(D))for(var xe in D)this.attr(xe,D[xe]);else this.add(D,Z,"attrs");return this},plot:function(D,Z,ce,xe){return 4==arguments.length?this.plot([D,Z,ce,xe]):this.add("plot",new(this.target().morphArray)(D))}}),s.Box=s.invent({create:function(D,Z,ce,xe){if(!("object"!==Xe(D)||D instanceof s.Element))return s.Box.call(this,null!=D.left?D.left:D.x,null!=D.top?D.top:D.y,D.width,D.height);var Pe;4==arguments.length&&(this.x=D,this.y=Z,this.width=ce,this.height=xe),null==(Pe=this).x&&(Pe.x=0,Pe.y=0,Pe.width=0,Pe.height=0),Pe.w=Pe.width,Pe.h=Pe.height,Pe.x2=Pe.x+Pe.width,Pe.y2=Pe.y+Pe.height,Pe.cx=Pe.x+Pe.width/2,Pe.cy=Pe.y+Pe.height/2}}),s.BBox=s.invent({create:function(D){if(s.Box.apply(this,[].slice.call(arguments)),D instanceof s.Element){var Z;try{if(!r.documentElement.contains){for(var ce=D.node;ce.parentNode;)ce=ce.parentNode;if(ce!=r)throw new Error("Element not in the dom")}Z=D.node.getBBox()}catch{if(D instanceof s.Shape){s.parser.draw||s.prepare();var xe=D.clone(s.parser.draw.instance).show();xe&&xe.node&&"function"==typeof xe.node.getBBox&&(Z=xe.node.getBBox()),xe&&"function"==typeof xe.remove&&xe.remove()}else Z={x:D.node.clientLeft,y:D.node.clientTop,width:D.node.clientWidth,height:D.node.clientHeight}}s.Box.call(this,Z)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.Matrix=s.invent({create:function(D){var Z=le([1,0,0,1,0,0]);D=null===D?Z:D instanceof s.Element?D.matrixify():"string"==typeof D?le(D.split(s.regex.delimiter).map(parseFloat)):6==arguments.length?le([].slice.call(arguments)):Array.isArray(D)?le(D):D&&"object"===Xe(D)?D:Z;for(var ce=Ae.length-1;ce>=0;--ce)this[Ae[ce]]=null!=D[Ae[ce]]?D[Ae[ce]]:Z[Ae[ce]]},extend:{extract:function(){var D=X(this,0,1);X(this,1,0);var Z=180/Math.PI*Math.atan2(D.y,D.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(Z*Math.PI/180)+this.f*Math.sin(Z*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(Z*Math.PI/180)+this.e*Math.sin(-Z*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:Z,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(D){return this.destination=new s.Matrix(D),this},multiply:function(D){return new s.Matrix(this.native().multiply((Z=D,Z instanceof s.Matrix||(Z=new s.Matrix(Z)),Z).native()));var Z},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(D,Z){return new s.Matrix(this.native().translate(D||0,Z||0))},native:function(){for(var D=s.parser.native.createSVGMatrix(),Z=Ae.length-1;Z>=0;Z--)D[Ae[Z]]=this[Ae[Z]];return D},toString:function(){return"matrix("+me(this.a)+","+me(this.b)+","+me(this.c)+","+me(this.d)+","+me(this.e)+","+me(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var D=this.rect(1,1),Z=D.node.getScreenCTM();return D.remove(),new s.Matrix(Z)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(D,Z){var ce;ce=Array.isArray(D)?{x:D[0],y:D[1]}:"object"===Xe(D)?{x:D.x,y:D.y}:null!=D?{x:D,y:Z??D}:{x:0,y:0},this.x=ce.x,this.y=ce.y},extend:{clone:function(){return new s.Point(this)},morph:function(D,Z){return this.destination=new s.Point(D,Z),this}}}),s.extend(s.Element,{point:function(D,Z){return new s.Point(D,Z).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(D,Z,ce){if(null==D){for(D={},ce=(Z=this.node.attributes).length-1;ce>=0;ce--)D[Z[ce].nodeName]=s.regex.isNumber.test(Z[ce].nodeValue)?parseFloat(Z[ce].nodeValue):Z[ce].nodeValue;return D}if("object"===Xe(D))for(var xe in D)this.attr(xe,D[xe]);else if(null===Z)this.node.removeAttribute(D);else{if(null==Z)return null==(Z=this.node.getAttribute(D))?s.defaults.attrs[D]:s.regex.isNumber.test(Z)?parseFloat(Z):Z;"stroke-width"==D?this.attr("stroke",parseFloat(Z)>0?this._stroke:null):"stroke"==D&&(this._stroke=Z),"fill"!=D&&"stroke"!=D||(s.regex.isImage.test(Z)&&(Z=this.doc().defs().image(Z,0,0)),Z instanceof s.Image&&(Z=this.doc().defs().pattern(0,0,function(){this.add(Z)}))),"number"==typeof Z?Z=new s.Number(Z):s.Color.isColor(Z)?Z=new s.Color(Z):Array.isArray(Z)&&(Z=new s.Array(Z)),"leading"==D?this.leading&&this.leading(Z):"string"==typeof ce?this.node.setAttributeNS(ce,D,Z.toString()):this.node.setAttribute(D,Z.toString()),!this.rebuild||"font-size"!=D&&"x"!=D||this.rebuild(D,Z)}return this}}),s.extend(s.Element,{transform:function(D,Z){var ce;return"object"!==Xe(D)?(ce=new s.Matrix(this).extract(),"string"==typeof D?ce[D]:ce):(ce=new s.Matrix(this),Z=!!Z||!!D.relative,null!=D.a&&(ce=Z?ce.multiply(new s.Matrix(D)):new s.Matrix(D)),this.attr("transform",ce))}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(D){var Z=D.trim().split("(");return[Z[0],Z[1].split(s.regex.delimiter).map(function(ce){return parseFloat(ce)})]}).reduce(function(D,Z){return"matrix"==Z[0]?D.multiply(le(Z[1])):D[Z[0]].apply(D,Z[1])},new s.Matrix)},toParent:function(D){if(this==D)return this;var Z=this.screenCTM(),ce=D.screenCTM().inverse();return this.addTo(D).untransform().transform(ce.multiply(Z)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(D,Z){if(arguments.length>1&&"boolean"!=typeof Z)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(D))for(var ce=0,xe=this.arguments.length;ce<xe;++ce)this[this.arguments[ce]]=D[ce];else if(D&&"object"===Xe(D))for(ce=0,xe=this.arguments.length;ce<xe;++ce)this[this.arguments[ce]]=D[this.arguments[ce]];this.inversed=!1,!0===Z&&(this.inversed=!0)}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(D,Z){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.extend(s.Element,{style:function(D,Z){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Xe(D))for(var ce in D)this.style(ce,D[ce]);else{if(!s.regex.isCss.test(D))return this.node.style[P(D)];for(D=D.split(/\s*;\s*/).filter(function(xe){return!!xe}).map(function(xe){return xe.split(/\s*:\s*/)});Z=D.pop();)this.style(Z[0],Z[1])}else this.node.style[P(D)]=null===Z||s.regex.isBlank.test(Z)?"":Z;return this}}),s.Parent=s.invent({create:function(D){this.constructor.call(this,D)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(D){return s.adopt(D)})},add:function(D,Z){return null==Z?this.node.appendChild(D.node):D.node!=this.node.childNodes[Z]&&this.node.insertBefore(D.node,this.node.childNodes[Z]),this},put:function(D,Z){return this.add(D,Z),D},has:function(D){return this.index(D)>=0},index:function(D){return[].slice.call(this.node.childNodes).indexOf(D.node)},get:function(D){return s.adopt(this.node.childNodes[D])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(D,Z){for(var ce=this.children(),xe=0,Pe=ce.length;xe<Pe;xe++)ce[xe]instanceof s.Element&&D.apply(ce[xe],[xe,ce]),Z&&ce[xe]instanceof s.Container&&ce[xe].each(D,Z);return this},removeElement:function(D){return this.node.removeChild(D.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(D,Z){return 0===Z||this instanceof s.Defs||this.node==s.parser.draw||(D=D||(this instanceof s.Doc?this:this.parent(s.Parent)),Z=Z||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(D,Z-1):this.toParent(D)}),this.node.firstChild||this.remove()),this},flatten:function(D,Z){return this.ungroup(D,Z)}}),s.Container=s.invent({create:function(D){this.constructor.call(this,D)},inherit:s.Parent}),s.ViewBox=s.invent({parent:s.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(D){s.Element.prototype[D]=function(Z){return s.on(this.node,D,Z),this}}),s.listeners=[],s.handlerMap=[],s.listenerId=0,s.on=function(D,Z,ce,xe,Pe){var ze=ce.bind(xe||D.instance||D),Ke=(s.handlerMap.indexOf(D)+1||s.handlerMap.push(D))-1,st=Z.split(".")[0],Tt=Z.split(".")[1]||"*";s.listeners[Ke]=s.listeners[Ke]||{},s.listeners[Ke][st]=s.listeners[Ke][st]||{},s.listeners[Ke][st][Tt]=s.listeners[Ke][st][Tt]||{},ce._svgjsListenerId||(ce._svgjsListenerId=++s.listenerId),s.listeners[Ke][st][Tt][ce._svgjsListenerId]=ze,D.addEventListener(st,ze,Pe||{passive:!0})},s.off=function(D,Z,ce){var xe=s.handlerMap.indexOf(D),Pe=Z&&Z.split(".")[0],ze=Z&&Z.split(".")[1],Ke="";if(-1!=xe)if(ce){if("function"==typeof ce&&(ce=ce._svgjsListenerId),!ce)return;s.listeners[xe][Pe]&&s.listeners[xe][Pe][ze||"*"]&&(D.removeEventListener(Pe,s.listeners[xe][Pe][ze||"*"][ce],!1),delete s.listeners[xe][Pe][ze||"*"][ce])}else if(ze&&Pe){if(s.listeners[xe][Pe]&&s.listeners[xe][Pe][ze]){for(var st in s.listeners[xe][Pe][ze])s.off(D,[Pe,ze].join("."),st);delete s.listeners[xe][Pe][ze]}}else if(ze)for(var Tt in s.listeners[xe])for(var Ke in s.listeners[xe][Tt])ze===Ke&&s.off(D,[Tt,ze].join("."));else if(Pe){if(s.listeners[xe][Pe]){for(var Ke in s.listeners[xe][Pe])s.off(D,[Pe,Ke].join("."));delete s.listeners[xe][Pe]}}else{for(var Tt in s.listeners[xe])s.off(D,Tt);delete s.listeners[xe],delete s.handlerMap[xe]}},s.extend(s.Element,{on:function(D,Z,ce,xe){return s.on(this.node,D,Z,ce,xe),this},off:function(D,Z){return s.off(this.node,D,Z),this},fire:function(D,Z){return this.node.dispatchEvent(D instanceof ye.Event?D:D=new s.CustomEvent(D,{detail:Z,cancelable:!0})),this._event=D,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(D){return null==D?this.transform("x"):this.transform({x:D-this.x()},!0)}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(D){D&&("svg"==(D="string"==typeof D?r.getElementById(D):D).nodeName?this.constructor.call(this,D):(this.constructor.call(this,s.create("svg")),D.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){var D;return this._defs||(this._defs=(D=this.node.getElementsByTagName("defs")[0])?s.adopt(D):new s.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw&&!s.parser.draw.parentNode&&this.node.appendChild(s.parser.draw),this},clone:function(D){this.writeDataToDom();var Z=this.node,ce=ie(Z.cloneNode(!0));return D?(D.node||D).appendChild(ce.node):Z.parentNode.insertBefore(ce.node,Z.nextSibling),ce}}}),s.extend(s.Element,{}),s.Gradient=s.invent({create:function(D){this.constructor.call(this,s.create(D+"Gradient")),this.type=D},inherit:s.Container,extend:{at:function(D,Z,ce){return this.put(new s.Stop).update(D,Z,ce)},update:function(D){return this.clear(),"function"==typeof D&&D.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(D,Z,ce){return"transform"==D&&(D="gradientTransform"),s.Container.prototype.attr.call(this,D,Z,ce)}},construct:{gradient:function(D,Z){return this.defs().gradient(D,Z)}}}),s.extend(s.Gradient,s.FX,{from:function(D,Z){return this.attr("radial"==(this._target||this).type?{fx:new s.Number(D),fy:new s.Number(Z)}:{x1:new s.Number(D),y1:new s.Number(Z)})},to:function(D,Z){return this.attr("radial"==(this._target||this).type?{cx:new s.Number(D),cy:new s.Number(Z)}:{x2:new s.Number(D),y2:new s.Number(Z)})}}),s.extend(s.Defs,{gradient:function(D,Z){return this.put(new s.Gradient(D)).update(Z)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(D){return("number"==typeof D||D instanceof s.Number)&&(D={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=D.opacity&&this.attr("stop-opacity",D.opacity),null!=D.color&&this.attr("stop-color",D.color),null!=D.offset&&this.attr("offset",new s.Number(D.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(D){return this.clear(),"function"==typeof D&&D.call(this,this),this},toString:function(){return this.fill()},attr:function(D,Z,ce){return"transform"==D&&(D="patternTransform"),s.Container.prototype.attr.call(this,D,Z,ce)}},construct:{pattern:function(D,Z,ce){return this.defs().pattern(D,Z,ce)}}}),s.extend(s.Defs,{pattern:function(D,Z,ce){return this.put(new s.Pattern).update(ce).attr({x:0,y:0,width:D,height:Z,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(D){this.constructor.call(this,D)},inherit:s.Element}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(D,Z){return this.attr("href",(Z||"")+"#"+D,s.xlink)}},construct:{use:function(D,Z){return this.put(new s.Use).element(D,Z)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(D,Z){return this.put(new s.Rect).size(D,Z)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(D){return this.put(new s.Circle).rx(new s.Number(D).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(D){return this.attr("r",D)},ry:function(D){return this.rx(D)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(D,Z){return this.put(new s.Ellipse).size(D,Z).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(D){return this.attr("rx",D)},ry:function(D){return this.attr("ry",D)}}),s.extend(s.Circle,s.Ellipse,{x:function(D){return null==D?this.cx()-this.rx():this.cx(D+this.rx())},y:function(D){return null==D?this.cy()-this.ry():this.cy(D+this.ry())},cx:function(D){return null==D?this.attr("cx"):this.attr("cx",D)},cy:function(D){return null==D?this.attr("cy"):this.attr("cy",D)},width:function(D){return null==D?2*this.rx():this.rx(new s.Number(D).divide(2))},height:function(D){return null==D?2*this.ry():this.ry(new s.Number(D).divide(2))},size:function(D,Z){var ce=z(this,D,Z);return this.rx(new s.Number(ce.width).divide(2)).ry(new s.Number(ce.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(D,Z,ce,xe){return null==D?this.array():(D=void 0!==Z?{x1:D,y1:Z,x2:ce,y2:xe}:new s.PointArray(D).toLine(),this.attr(D))},move:function(D,Z){return this.attr(this.array().move(D,Z).toLine())},size:function(D,Z){var ce=z(this,D,Z);return this.attr(this.array().size(ce.width,ce.height).toLine())}},construct:{line:function(D,Z,ce,xe){return s.Line.prototype.plot.apply(this.put(new s.Line),null!=D?[D,Z,ce,xe]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(D){return this.put(new s.Polyline).plot(D||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(D){return this.put(new s.Polygon).plot(D||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(D){return null==D?this.array():this.clear().attr("points","string"==typeof D?D:this._array=new s.PointArray(D))},clear:function(){return delete this._array,this},move:function(D,Z){return this.attr("points",this.array().move(D,Z))},size:function(D,Z){var ce=z(this,D,Z);return this.attr("points",this.array().size(ce.width,ce.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(D){return null==D?this.bbox().x:this.move(D,this.bbox().y)},y:function(D){return null==D?this.bbox().y:this.move(this.bbox().x,D)},width:function(D){var Z=this.bbox();return null==D?Z.width:this.size(D,Z.height)},height:function(D){var Z=this.bbox();return null==D?Z.height:this.size(Z.width,D)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(D){return null==D?this.array():this.clear().attr("d","string"==typeof D?D:this._array=new s.PathArray(D))},clear:function(){return delete this._array,this}},construct:{path:function(D){return this.put(new s.Path).plot(D||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(D){if(!D)return this;var Z=this,ce=new ye.Image;return s.on(ce,"load",function(){s.off(ce);var xe=Z.parent(s.Pattern);null!==xe&&(0==Z.width()&&0==Z.height()&&Z.size(ce.width,ce.height),xe&&0==xe.width()&&0==xe.height()&&xe.size(Z.width(),Z.height()),"function"==typeof Z._loaded&&Z._loaded.call(Z,{width:ce.width,height:ce.height,ratio:ce.width/ce.height,url:D}))}),s.on(ce,"error",function(xe){s.off(ce),"function"==typeof Z._error&&Z._error.call(Z,xe)}),this.attr("href",ce.src=this.src=D,s.xlink)},loaded:function(D){return this._loaded=D,this},error:function(D){return this._error=D,this}},construct:{image:function(D,Z,ce){return this.put(new s.Image).load(D).size(Z||0,ce||Z||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(D){return null==D?this.attr("x"):this.attr("x",D)},text:function(D){if(void 0===D){D="";for(var Z=this.node.childNodes,ce=0,xe=Z.length;ce<xe;++ce)0!=ce&&3!=Z[ce].nodeType&&1==s.adopt(Z[ce]).dom.newLined&&(D+="\n"),D+=Z[ce].textContent;return D}if(this.clear().build(!0),"function"==typeof D)D.call(this,this);else{ce=0;for(var Pe=(D=D.split("\n")).length;ce<Pe;ce++)this.tspan(D[ce]).newLine()}return this.build(!1).rebuild()},size:function(D){return this.attr("font-size",D).rebuild()},leading:function(D){return null==D?this.dom.leading:(this.dom.leading=new s.Number(D),this.rebuild())},lines:function(){var D=(this.textPath&&this.textPath()||this).node,Z=s.utils.map(s.utils.filterSVGElements(D.childNodes),function(ce){return s.adopt(ce)});return new s.Set(Z)},rebuild:function(D){if("boolean"==typeof D&&(this._rebuild=D),this._rebuild){var Z=this,ce=0,xe=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(Z.textPath()||this.attr("x",Z.attr("x")),"\n"==this.text()?ce+=xe:(this.attr("dy",xe+ce),ce=0))}),this.fire("rebuild")}return this},build:function(D){return this._build=!!D,this},setData:function(D){return this.dom=D,this.dom.leading=new s.Number(D.leading||1.3),this}},construct:{text:function(D){return this.put(new s.Text).text(D)},plain:function(D){return this.put(new s.Text).plain(D)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(D){return null==D?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof D?D.call(this,this):this.plain(D),this)},dx:function(D){return this.attr("dx",D)},dy:function(D){return this.attr("dy",D)},newLine:function(){var D=this.parent(s.Text);return this.dom.newLined=!0,this.dy(D.dom.leading*D.attr("font-size")).attr("x",D.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(D){return!1===this._build&&this.clear(),this.node.appendChild(r.createTextNode(D)),this},tspan:function(D){var Z=(this.textPath&&this.textPath()||this).node,ce=new s.Tspan;return!1===this._build&&this.clear(),Z.appendChild(ce.node),ce.text(D)},clear:function(){for(var D=(this.textPath&&this.textPath()||this).node;D.hasChildNodes();)D.removeChild(D.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,array:function(){var D=this.track();return D?D.array():null},plot:function(D){var Z=this.track(),ce=null;return Z&&(ce=Z.plot(D)),null==D?ce:this},track:function(){var D=this.textPath();if(D)return D.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}});var w={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(D,Z){return"color"==Z?D:D+"-"+Z}};function I(D,Z,ce,xe){return ce+xe.replace(s.regex.dots," .")}function P(D){return D.toLowerCase().replace(/-(.)/g,function(Z,ce){return ce.toUpperCase()})}function N(D){return D.charAt(0).toUpperCase()+D.slice(1)}function F(D){var Z=D.toString(16);return 1==Z.length?"0"+Z:Z}function z(D,Z,ce){if(null==Z||null==ce){var xe=D.bbox();null==Z?Z=xe.width/xe.height*ce:null==ce&&(ce=xe.height/xe.width*Z)}return{width:Z,height:ce}}function X(D,Z,ce){return{x:Z*D.a+ce*D.c+0,y:Z*D.b+ce*D.d+0}}function le(D){return{a:D[0],b:D[1],c:D[2],d:D[3],e:D[4],f:D[5]}}function ie(D){for(var Z=D.childNodes.length-1;Z>=0;Z--)D.childNodes[Z]instanceof ye.SVGElement&&ie(D.childNodes[Z]);return s.adopt(D).id(s.eid(D.nodeName))}function me(D){return Math.abs(D)>1e-37?D:0}["fill","stroke"].forEach(function(D){var Z={};Z[D]=function(ce){if(void 0===ce)return this;if("string"==typeof ce||s.Color.isRgb(ce)||ce&&"function"==typeof ce.fill)this.attr(D,ce);else for(var xe=w[D].length-1;xe>=0;xe--)null!=ce[w[D][xe]]&&this.attr(w.prefix(D,w[D][xe]),ce[w[D][xe]]);return this},s.extend(s.Element,s.FX,Z)}),s.extend(s.Element,s.FX,{translate:function(D,Z){return this.transform({x:D,y:Z})},matrix:function(D){return this.attr("transform",new s.Matrix(6==arguments.length?[].slice.call(arguments):D))},opacity:function(D){return this.attr("opacity",D)},dx:function(D){return this.x(new s.Number(D).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(D){return this.y(new s.Number(D).plus(this instanceof s.FX?0:this.y()),!0)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(D){return this.node.getPointAtLength(D)}}),s.Set=s.invent({create:function(D){Array.isArray(D)?this.members=D:this.clear()},extend:{add:function(){for(var D=[].slice.call(arguments),Z=0,ce=D.length;Z<ce;Z++)this.members.push(D[Z]);return this},remove:function(D){var Z=this.index(D);return Z>-1&&this.members.splice(Z,1),this},each:function(D){for(var Z=0,ce=this.members.length;Z<ce;Z++)D.apply(this.members[Z],[Z,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(D){return this.index(D)>=0},index:function(D){return this.members.indexOf(D)},get:function(D){return this.members[D]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(D){return new s.Set(D)}}}),s.FX.Set=s.invent({create:function(D){this.set=D}}),s.Set.inherit=function(){var D=[];for(var Z in s.Shape.prototype)"function"==typeof s.Shape.prototype[Z]&&"function"!=typeof s.Set.prototype[Z]&&D.push(Z);for(var Z in D.forEach(function(xe){s.Set.prototype[xe]=function(){for(var Pe=0,ze=this.members.length;Pe<ze;Pe++)this.members[Pe]&&"function"==typeof this.members[Pe][xe]&&this.members[Pe][xe].apply(this.members[Pe],arguments);return"animate"==xe?this.fx||(this.fx=new s.FX.Set(this)):this}}),D=[],s.FX.prototype)"function"==typeof s.FX.prototype[Z]&&"function"!=typeof s.FX.Set.prototype[Z]&&D.push(Z);D.forEach(function(ce){s.FX.Set.prototype[ce]=function(){for(var xe=0,Pe=this.set.members.length;xe<Pe;xe++)this.set.members[xe].fx[ce].apply(this.set.members[xe].fx,arguments);return this}})},s.extend(s.Element,{}),s.extend(s.Element,{remember:function(D,Z){if("object"===Xe(arguments[0]))for(var ce in D)this.remember(ce,D[ce]);else{if(1==arguments.length)return this.memory()[D];this.memory()[D]=Z}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var D=arguments.length-1;D>=0;D--)delete this.memory()[arguments[D]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(D){var Z=r.getElementById(function(ce){var xe=(ce||"").toString().match(s.regex.reference);if(xe)return xe[1]}(D)||D);return s.adopt(Z)},s.select=function(D,Z){return new s.Set(s.utils.map((Z||r).querySelectorAll(D),function(ce){return s.adopt(ce)}))},s.extend(s.Parent,{select:function(D){return s.select(D,this.node)}});var Ae="abcdef".split("");if("function"!=typeof ye.CustomEvent){var Ve=function(D,Z){Z=Z||{bubbles:!1,cancelable:!1,detail:void 0};var ce=r.createEvent("CustomEvent");return ce.initCustomEvent(D,Z.bubbles,Z.cancelable,Z.detail),ce};Ve.prototype=ye.Event.prototype,s.CustomEvent=Ve}else s.CustomEvent=ye.CustomEvent;return s},void 0!==(f=function(){return On(Gi,Gi.document)}.call(gt,ue,gt,Hn))&&(Hn.exports=f),
/*! svg.filter.js - v2.0.2 - 2016-02-24
        * https://github.com/wout/svg.filter.js
        * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(x,w){return this.add(x,w),!x.attr("in")&&this.autoSetIn&&x.attr("in",this.source),x.attr("result")||x.attr("result",x),x},blend:function(x,w,I){return this.put(new SVG.BlendEffect(x,w,I))},colorMatrix:function(x,w){return this.put(new SVG.ColorMatrixEffect(x,w))},convolveMatrix:function(x){return this.put(new SVG.ConvolveMatrixEffect(x))},componentTransfer:function(x){return this.put(new SVG.ComponentTransferEffect(x))},composite:function(x,w,I){return this.put(new SVG.CompositeEffect(x,w,I))},flood:function(x,w){return this.put(new SVG.FloodEffect(x,w))},offset:function(x,w){return this.put(new SVG.OffsetEffect(x,w))},image:function(x){return this.put(new SVG.ImageEffect(x))},merge:function(){var x=[void 0];for(var w in arguments)x.push(arguments[w]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,x)))},gaussianBlur:function(x,w){return this.put(new SVG.GaussianBlurEffect(x,w))},morphology:function(x,w){return this.put(new SVG.MorphologyEffect(x,w))},diffuseLighting:function(x,w,I){return this.put(new SVG.DiffuseLightingEffect(x,w,I))},displacementMap:function(x,w,I,P,N){return this.put(new SVG.DisplacementMapEffect(x,w,I,P,N))},specularLighting:function(x,w,I,P){return this.put(new SVG.SpecularLightingEffect(x,w,I,P))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(x,w,I,P,N){return this.put(new SVG.TurbulenceEffect(x,w,I,P,N))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(x){var w=this.put(new SVG.Filter);return"function"==typeof x&&x.call(w,w),w}}),SVG.extend(SVG.Container,{filter:function(x){return this.defs().filter(x)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(x){return this.filterer=x instanceof SVG.Element?x:this.doc().filter(x),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(x){return this.filterer&&!0===x&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(x){return null==x?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",x)},result:function(x){return null==x?this.attr("result"):this.attr("result",x)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(x){return null==x?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",x)},result:function(x){return null==x?this.attr("result"):this.attr("result",x)},toString:function(){return this.result()}}});var ye={blend:function(x,w){return this.parent()&&this.parent().blend(this,x,w)},colorMatrix:function(x,w){return this.parent()&&this.parent().colorMatrix(x,w).in(this)},convolveMatrix:function(x){return this.parent()&&this.parent().convolveMatrix(x).in(this)},componentTransfer:function(x){return this.parent()&&this.parent().componentTransfer(x).in(this)},composite:function(x,w){return this.parent()&&this.parent().composite(this,x,w)},flood:function(x,w){return this.parent()&&this.parent().flood(x,w)},offset:function(x,w){return this.parent()&&this.parent().offset(x,w).in(this)},image:function(x){return this.parent()&&this.parent().image(x)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(x,w){return this.parent()&&this.parent().gaussianBlur(x,w).in(this)},morphology:function(x,w){return this.parent()&&this.parent().morphology(x,w).in(this)},diffuseLighting:function(x,w,I){return this.parent()&&this.parent().diffuseLighting(x,w,I).in(this)},displacementMap:function(x,w,I,P){return this.parent()&&this.parent().displacementMap(this,x,w,I,P)},specularLighting:function(x,w,I,P){return this.parent()&&this.parent().specularLighting(x,w,I,P).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(x,w,I,P,N){return this.parent()&&this.parent().turbulence(x,w,I,P,N).in(this)}};SVG.extend(SVG.Effect,ye),SVG.extend(SVG.ParentEffect,ye),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(x){this.attr("in",x)}}});var r={blend:function(x,w,I){this.attr({in:x,in2:w,mode:I||"normal"})},colorMatrix:function(x,w){"matrix"==x&&(w=p(w)),this.attr({type:x,values:void 0===w?null:w})},convolveMatrix:function(x){x=p(x),this.attr({order:Math.sqrt(x.split(" ").length),kernelMatrix:x})},composite:function(x,w,I){this.attr({in:x,in2:w,operator:I})},flood:function(x,w){this.attr("flood-color",x),null!=w&&this.attr("flood-opacity",w)},offset:function(x,w){this.attr({dx:x,dy:w})},image:function(x){this.attr("href",x,SVG.xlink)},displacementMap:function(x,w,I,P,N){this.attr({in:x,in2:w,scale:I,xChannelSelector:P,yChannelSelector:N})},gaussianBlur:function(x,w){this.attr("stdDeviation",null!=x||null!=w?function(I){if(!Array.isArray(I))return I;for(var P=0,N=I.length,F=[];P<N;P++)F.push(I[P]);return F.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(x,w){this.attr({operator:x,radius:w})},tile:function(){},turbulence:function(x,w,I,P,N){this.attr({numOctaves:w,seed:I,stitchTiles:P,baseFrequency:x,type:N})}},s={merge:function(){var x;if(arguments[0]instanceof SVG.Set){var w=this;arguments[0].each(function(P){this instanceof SVG.MergeNode?w.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&w.put(new SVG.MergeNode(this))})}else{x=Array.isArray(arguments[0])?arguments[0]:arguments;for(var I=0;I<x.length;I++)x[I]instanceof SVG.MergeNode?this.put(x[I]):this.put(new SVG.MergeNode(x[I]))}},componentTransfer:function(x){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(I){this[I]=new(SVG["Func"+I.toUpperCase()])("identity"),this.rgb.add(this[I]),this.node.appendChild(this[I].node)}.bind(this)),x)for(var w in x.rgb&&(["r","g","b"].forEach(function(I){this[I].attr(x.rgb)}.bind(this)),delete x.rgb),x)this[w].attr(x[w])},diffuseLighting:function(x,w,I){this.attr({surfaceScale:x,diffuseConstant:w,kernelUnitLength:I})},specularLighting:function(x,w,I,P){this.attr({surfaceScale:x,diffuseConstant:w,specularExponent:I,kernelUnitLength:P})}},u={distantLight:function(x,w){this.attr({azimuth:x,elevation:w})},pointLight:function(x,w,I){this.attr({x,y:w,z:I})},spotLight:function(x,w,I,P,N,F){this.attr({x,y:w,z:I,pointsAtX:P,pointsAtY:N,pointsAtZ:F})},mergeNode:function(x){this.attr("in",x)}};function p(x){return Array.isArray(x)&&(x=new SVG.Array(x)),x.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function y(){var x=function(){};for(var w in"function"==typeof arguments[arguments.length-1]&&(x=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var I in arguments[w])x(arguments[w][I],I,arguments[w])}["r","g","b","a"].forEach(function(x){u["Func"+x.toUpperCase()]=function(w){switch(this.attr("type",w),w){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),y(r,function(x,w){var I=w.charAt(0).toUpperCase()+w.slice(1);SVG[I+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+I)),x.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),y(s,function(x,w){var I=w.charAt(0).toUpperCase()+w.slice(1);SVG[I+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+I)),x.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),y(u,function(x,w){var I=w.charAt(0).toUpperCase()+w.slice(1);SVG[I]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+I)),x.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(x){return x instanceof SVG.MergeNode?this.add(x,0):this.add(new SVG.MergeNode(x),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(x){return null==x?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",x)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function ye(y,x,w,I,P,N,F){for(var z=y.slice(x,w||F),X=I.slice(P,N||F),le=0,ie={pos:[0,0],start:[0,0]},me={pos:[0,0],start:[0,0]};z[le]=r.call(ie,z[le]),X[le]=r.call(me,X[le]),z[le][0]!=X[le][0]||"M"==z[le][0]||"A"==z[le][0]&&(z[le][4]!=X[le][4]||z[le][5]!=X[le][5])?(Array.prototype.splice.apply(z,[le,1].concat(u.call(ie,z[le]))),Array.prototype.splice.apply(X,[le,1].concat(u.call(me,X[le])))):(z[le]=s.call(ie,z[le]),X[le]=s.call(me,X[le])),++le!=z.length||le!=X.length;)le==z.length&&z.push(["C",ie.pos[0],ie.pos[1],ie.pos[0],ie.pos[1],ie.pos[0],ie.pos[1]]),le==X.length&&X.push(["C",me.pos[0],me.pos[1],me.pos[0],me.pos[1],me.pos[0],me.pos[1]]);return{start:z,dest:X}}function r(y){switch(y[0]){case"z":case"Z":y[0]="L",y[1]=this.start[0],y[2]=this.start[1];break;case"H":y[0]="L",y[2]=this.pos[1];break;case"V":y[0]="L",y[2]=y[1],y[1]=this.pos[0];break;case"T":y[0]="Q",y[3]=y[1],y[4]=y[2],y[1]=this.reflection[1],y[2]=this.reflection[0];break;case"S":y[0]="C",y[6]=y[4],y[5]=y[3],y[4]=y[2],y[3]=y[1],y[2]=this.reflection[1],y[1]=this.reflection[0]}return y}function s(y){var x=y.length;return this.pos=[y[x-2],y[x-1]],-1!="SCQT".indexOf(y[0])&&(this.reflection=[2*this.pos[0]-y[x-4],2*this.pos[1]-y[x-3]]),y}function u(y){var x=[y];switch(y[0]){case"M":return this.pos=this.start=[y[1],y[2]],x;case"L":y[5]=y[3]=y[1],y[6]=y[4]=y[2],y[1]=this.pos[0],y[2]=this.pos[1];break;case"Q":y[6]=y[4],y[5]=y[3],y[4]=1*y[4]/3+2*y[2]/3,y[3]=1*y[3]/3+2*y[1]/3,y[2]=1*this.pos[1]/3+2*y[2]/3,y[1]=1*this.pos[0]/3+2*y[1]/3;break;case"A":y=(x=function(w,I){var P,N,F,z,X,le,ie,me,Ae,Ve,D,Z,ce,xe,Pe,ze,Ke,st,Tt,$t,zt,Ht,zn,Qn,di,xi,ji=Math.abs(I[1]),pi=Math.abs(I[2]),$i=I[3]%360,wr=I[4],Ss=I[5],As=I[6],ss=I[7],kr=new SVG.Point(w),zi=new SVG.Point(As,ss),Qs=[];if(0===ji||0===pi||kr.x===zi.x&&kr.y===zi.y)return[["C",kr.x,kr.y,zi.x,zi.y,zi.x,zi.y]];for((N=(P=new SVG.Point((kr.x-zi.x)/2,(kr.y-zi.y)/2).transform((new SVG.Matrix).rotate($i))).x*P.x/(ji*ji)+P.y*P.y/(pi*pi))>1&&(ji*=N=Math.sqrt(N),pi*=N),F=(new SVG.Matrix).rotate($i).scale(1/ji,1/pi).rotate(-$i),kr=kr.transform(F),le=(z=[(zi=zi.transform(F)).x-kr.x,zi.y-kr.y])[0]*z[0]+z[1]*z[1],X=Math.sqrt(le),z[0]/=X,z[1]/=X,ie=le<4?Math.sqrt(1-le/4):0,wr===Ss&&(ie*=-1),me=new SVG.Point((zi.x+kr.x)/2+ie*-z[1],(zi.y+kr.y)/2+ie*z[0]),Ae=new SVG.Point(kr.x-me.x,kr.y-me.y),Ve=new SVG.Point(zi.x-me.x,zi.y-me.y),D=Math.acos(Ae.x/Math.sqrt(Ae.x*Ae.x+Ae.y*Ae.y)),Ae.y<0&&(D*=-1),Z=Math.acos(Ve.x/Math.sqrt(Ve.x*Ve.x+Ve.y*Ve.y)),Ve.y<0&&(Z*=-1),Ss&&D>Z&&(Z+=2*Math.PI),!Ss&&D<Z&&(Z-=2*Math.PI),ze=[],Ke=D,ce=(Z-D)/(xe=Math.ceil(2*Math.abs(D-Z)/Math.PI)),Pe=4*Math.tan(ce/4)/3,zt=0;zt<=xe;zt++)Tt=Math.cos(Ke),st=Math.sin(Ke),$t=new SVG.Point(me.x+Tt,me.y+st),ze[zt]=[new SVG.Point($t.x+Pe*st,$t.y-Pe*Tt),$t,new SVG.Point($t.x-Pe*st,$t.y+Pe*Tt)],Ke+=ce;for(ze[0][0]=ze[0][1].clone(),ze[ze.length-1][2]=ze[ze.length-1][1].clone(),F=(new SVG.Matrix).rotate($i).scale(ji,pi).rotate(-$i),zt=0,Ht=ze.length;zt<Ht;zt++)ze[zt][0]=ze[zt][0].transform(F),ze[zt][1]=ze[zt][1].transform(F),ze[zt][2]=ze[zt][2].transform(F);for(zt=1,Ht=ze.length;zt<Ht;zt++)zn=($t=ze[zt-1][2]).x,Qn=$t.y,di=($t=ze[zt][0]).x,xi=$t.y,As=($t=ze[zt][1]).x,Qs.push(["C",zn,Qn,di,xi,As,ss=$t.y]);return Qs}(this.pos,y))[0]}return y[0]="C",this.pos=[y[5],y[6]],this.reflection=[2*y[5]-y[3],2*y[6]-y[4]],x}function p(y,x){if(!1===x)return!1;for(var w=x,I=y.length;w<I;++w)if("M"==y[w][0])return w;return!1}SVG.extend(SVG.PathArray,{morph:function(y){for(var x=this.value,w=this.parse(y),I=0,P=0,N=!1,F=!1;!1!==I||!1!==P;){var z;N=p(x,!1!==I&&I+1),F=p(w,!1!==P&&P+1),!1===I&&(I=0==(z=new SVG.PathArray(X.start).bbox()).height||0==z.width?x.push(x[0])-1:x.push(["M",z.x+z.width/2,z.y+z.height/2])-1),!1===P&&(P=0==(z=new SVG.PathArray(X.dest).bbox()).height||0==z.width?w.push(w[0])-1:w.push(["M",z.x+z.width/2,z.y+z.height/2])-1);var X=ye(x,I,N,w,P,F);x=x.slice(0,I).concat(X.start,!1===N?[]:x.slice(N)),w=w.slice(0,P).concat(X.dest,!1===F?[]:w.slice(F)),I=!1!==N&&I+X.start.length,P=!1!==F&&P+X.dest.length}return this.value=x,this.destination=new SVG.PathArray,this.destination.value=w,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
        * https://github.com/svgdotjs/svg.draggable.js
        * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function ye(r){r.remember("_draggable",this),this.el=r}ye.prototype.init=function(r,s){var u=this;this.constraint=r,this.value=s,this.el.on("mousedown.drag",function(p){u.start(p)}),this.el.on("touchstart.drag",function(p){u.start(p)})},ye.prototype.transformPoint=function(r,s){var u=(r=r||window.event).changedTouches&&r.changedTouches[0]||r;return this.p.x=u.clientX-(s||0),this.p.y=u.clientY,this.p.matrixTransform(this.m)},ye.prototype.getBBox=function(){var r=this.el.bbox();return this.el instanceof SVG.Nested&&(r=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(r.x=this.el.x(),r.y=this.el.y()),r},ye.prototype.start=function(r){if("click"!=r.type&&"mousedown"!=r.type&&"mousemove"!=r.type||1==(r.which||r.buttons)){var s=this;if(this.el.fire("beforedrag",{event:r,handler:this}),!this.el.event().defaultPrevented){r.preventDefault(),r.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var u,p=this.getBBox();if(this.el instanceof SVG.Text)switch(u=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":u/=2;break;case"start":u=0}this.startPoints={point:this.transformPoint(r,u),box:p,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(y){s.drag(y)}),SVG.on(window,"touchmove.drag",function(y){s.drag(y)}),SVG.on(window,"mouseup.drag",function(y){s.end(y)}),SVG.on(window,"touchend.drag",function(y){s.end(y)}),this.el.fire("dragstart",{event:r,p:this.startPoints.point,m:this.m,handler:this})}}},ye.prototype.drag=function(r){var s=this.getBBox(),u=this.transformPoint(r),p=this.startPoints.box.x+u.x-this.startPoints.point.x,y=this.startPoints.box.y+u.y-this.startPoints.point.y,x=this.constraint,w=u.x-this.startPoints.point.x,I=u.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:r,p:u,m:this.m,handler:this}),this.el.event().defaultPrevented)return u;if("function"==typeof x){var P=x.call(this.el,p,y,this.m);"boolean"==typeof P&&(P={x:P,y:P}),!0===P.x?this.el.x(p):!1!==P.x&&this.el.x(P.x),!0===P.y?this.el.y(y):!1!==P.y&&this.el.y(P.y)}else"object"==typeof x&&(null!=x.minX&&p<x.minX?w=(p=x.minX)-this.startPoints.box.x:null!=x.maxX&&p>x.maxX-s.width&&(w=(p=x.maxX-s.width)-this.startPoints.box.x),null!=x.minY&&y<x.minY?I=(y=x.minY)-this.startPoints.box.y:null!=x.maxY&&y>x.maxY-s.height&&(I=(y=x.maxY-s.height)-this.startPoints.box.y),null!=x.snapToGrid&&(p-=p%x.snapToGrid,y-=y%x.snapToGrid,w-=w%x.snapToGrid,I-=I%x.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:w,y:I},!0):this.el.move(p,y));return u},ye.prototype.end=function(r){var s=this.drag(r);this.el.fire("dragend",{event:r,p:s,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(r,s){"function"!=typeof r&&"object"!=typeof r||(s=r,r=!0);var u=this.remember("_draggable")||new ye(this);return(r=void 0===r||r)?u.init(s||{},r):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function ye(r){this.el=r,r.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(s,u,p){var y="string"!=typeof s?s:u[s];return p?y/2:y},this.pointCoords=function(s,u){var p=this.pointsList[s];return{x:this.pointCoord(p[0],u,"t"===s||"b"===s),y:this.pointCoord(p[1],u,"r"===s||"l"===s)}}}ye.prototype.init=function(r,s){var u=this.el.bbox();this.options={};var p=this.el.selectize.defaults.points;for(var y in this.el.selectize.defaults)this.options[y]=this.el.selectize.defaults[y],void 0!==s[y]&&(this.options[y]=s[y]);var x=["points","pointsExclude"];for(var y in x){var w=this.options[x[y]];"string"==typeof w?w=w.length>0?w.split(/\s*,\s*/i):[]:"boolean"==typeof w&&"points"===x[y]&&(w=w?p:[]),this.options[x[y]]=w}this.options.points=[p,this.options.points].reduce(function(I,P){return I.filter(function(N){return P.indexOf(N)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(I,P){return I.filter(function(N){return P.indexOf(N)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(u.x,u.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(r):this.selectRect(r),this.observe(),this.cleanup()},ye.prototype.selectPoints=function(r){return this.pointSelection.isSelected=r,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},ye.prototype.getPointArray=function(){var r=this.el.bbox();return this.el.array().valueOf().map(function(s){return[s[0]-r.x,s[1]-r.y]})},ye.prototype.drawPoints=function(){for(var r=this,s=this.getPointArray(),u=0,p=s.length;u<p;++u){var y=function(w){return function(I){(I=I||window.event).preventDefault?I.preventDefault():I.returnValue=!1,I.stopPropagation(),r.el.fire("point",{x:I.pageX||I.touches[0].pageX,y:I.pageY||I.touches[0].pageY,i:w,event:I})}}(u),x=this.drawPoint(s[u][0],s[u][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",y).on("mousedown",y);this.pointSelection.set.add(x)}},ye.prototype.drawPoint=function(r,s){var u=this.options.pointType;switch(u){case"circle":return this.drawCircle(r,s);case"rect":return this.drawRect(r,s);default:if("function"==typeof u)return u.call(this,r,s);throw new Error("Unknown "+u+" point type!")}},ye.prototype.drawCircle=function(r,s){return this.nested.circle(this.options.pointSize).center(r,s)},ye.prototype.drawRect=function(r,s){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(r,s)},ye.prototype.updatePointSelection=function(){var r=this.getPointArray();this.pointSelection.set.each(function(s){this.cx()===r[s][0]&&this.cy()===r[s][1]||this.center(r[s][0],r[s][1])})},ye.prototype.updateRectSelection=function(){var r=this,s=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:s.width,height:s.height}),this.options.points.length&&this.options.points.map(function(p,y){var x=r.pointCoords(p,s);r.rectSelection.set.get(y+1).center(x.x,x.y)}),this.options.rotationPoint){var u=this.rectSelection.set.length();this.rectSelection.set.get(u-1).center(s.width/2,20)}},ye.prototype.selectRect=function(r){var s=this,u=this.el.bbox();function p(w){return function(I){(I=I||window.event).preventDefault?I.preventDefault():I.returnValue=!1,I.stopPropagation(),s.el.fire(w,{x:I.pageX||I.touches[0].pageX,y:I.pageY||I.touches[0].pageY,event:I})}}if(this.rectSelection.isSelected=r,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(u.width,u.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(w,I){var P=s.pointCoords(w,u),N=s.drawPoint(P.x,P.y).attr("class",s.options.classPoints+"_"+w).on("mousedown",p(w)).on("touchstart",p(w));s.rectSelection.set.add(N)}),this.rectSelection.set.each(function(){this.addClass(s.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var y=function(w){(w=w||window.event).preventDefault?w.preventDefault():w.returnValue=!1,w.stopPropagation(),s.el.fire("rot",{x:w.pageX||w.touches[0].pageX,y:w.pageY||w.touches[0].pageY,event:w})},x=this.drawPoint(u.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",y).on("mousedown",y);this.rectSelection.set.add(x)}},ye.prototype.handler=function(){var r=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(r.x,r.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},ye.prototype.observe=function(){var r=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){r.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){r.handler()})},ye.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(r,s){return"object"==typeof r&&(s=r,r=!0),(this.remember("_selectHandler")||new ye(this)).init(void 0===r||r,s||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function ye(r){r.remember("_resizeHandler",this),this.el=r,this.parameters={},this.lastUpdateCall=null,this.p=r.doc().node.createSVGPoint()}ye.prototype.transformPoint=function(r,s,u){return this.p.x=r-(this.offset.x-window.pageXOffset),this.p.y=s-(this.offset.y-window.pageYOffset),this.p.matrixTransform(u||this.m)},ye.prototype._extractPosition=function(r){return{x:null!=r.clientX?r.clientX:r.touches[0].clientX,y:null!=r.clientY?r.clientY:r.touches[0].clientY}},ye.prototype.init=function(r){var s=this;if(this.stop(),"stop"!==r){for(var u in this.options={},this.el.resize.defaults)this.options[u]=this.el.resize.defaults[u],void 0!==r[u]&&(this.options[u]=r[u]);this.el.on("lt.resize",function(p){s.resize(p||window.event)}),this.el.on("rt.resize",function(p){s.resize(p||window.event)}),this.el.on("rb.resize",function(p){s.resize(p||window.event)}),this.el.on("lb.resize",function(p){s.resize(p||window.event)}),this.el.on("t.resize",function(p){s.resize(p||window.event)}),this.el.on("r.resize",function(p){s.resize(p||window.event)}),this.el.on("b.resize",function(p){s.resize(p||window.event)}),this.el.on("l.resize",function(p){s.resize(p||window.event)}),this.el.on("rot.resize",function(p){s.resize(p||window.event)}),this.el.on("point.resize",function(p){s.resize(p||window.event)}),this.update()}},ye.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},ye.prototype.resize=function(r){var s=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var u=this._extractPosition(r.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(u.x,u.y),x:r.detail.x,y:r.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==r.detail.i){var p=this.el.array().valueOf();this.parameters.i=r.detail.i,this.parameters.pointCoords=[p[r.detail.i][0],p[r.detail.i][1]]}switch(r.type){case"lt":this.calc=function(y,x){var w=this.snapToGrid(y,x);if(this.parameters.box.width-w[0]>0&&this.parameters.box.height-w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-w[0]);w=this.checkAspectRatio(w),this.el.move(this.parameters.box.x+w[0],this.parameters.box.y+w[1]).size(this.parameters.box.width-w[0],this.parameters.box.height-w[1])}};break;case"rt":this.calc=function(y,x){var w=this.snapToGrid(y,x,2);if(this.parameters.box.width+w[0]>0&&this.parameters.box.height-w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+w[0]);w=this.checkAspectRatio(w,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+w[1]).size(this.parameters.box.width+w[0],this.parameters.box.height-w[1])}};break;case"rb":this.calc=function(y,x){var w=this.snapToGrid(y,x,0);if(this.parameters.box.width+w[0]>0&&this.parameters.box.height+w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+w[0]);w=this.checkAspectRatio(w),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+w[0],this.parameters.box.height+w[1])}};break;case"lb":this.calc=function(y,x){var w=this.snapToGrid(y,x,1);if(this.parameters.box.width-w[0]>0&&this.parameters.box.height+w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-w[0]);w=this.checkAspectRatio(w,!0),this.el.move(this.parameters.box.x+w[0],this.parameters.box.y).size(this.parameters.box.width-w[0],this.parameters.box.height+w[1])}};break;case"t":this.calc=function(y,x){var w=this.snapToGrid(y,x,2);if(this.parameters.box.height-w[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+w[1]).height(this.parameters.box.height-w[1])}};break;case"r":this.calc=function(y,x){var w=this.snapToGrid(y,x,0);if(this.parameters.box.width+w[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+w[0])}};break;case"b":this.calc=function(y,x){var w=this.snapToGrid(y,x,0);if(this.parameters.box.height+w[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+w[1])}};break;case"l":this.calc=function(y,x){var w=this.snapToGrid(y,x,1);if(this.parameters.box.width-w[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+w[0],this.parameters.box.y).width(this.parameters.box.width-w[0])}};break;case"rot":this.calc=function(y,x){var w=y+this.parameters.p.x,I=x+this.parameters.p.y,P=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),N=Math.atan2(I-this.parameters.box.y-this.parameters.box.height/2,w-this.parameters.box.x-this.parameters.box.width/2),F=this.parameters.rotation+180*(N-P)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(F-F%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(y,x){var w=this.snapToGrid(y,x,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),I=this.el.array().valueOf();I[this.parameters.i][0]=this.parameters.pointCoords[0]+w[0],I[this.parameters.i][1]=this.parameters.pointCoords[1]+w[1],this.el.plot(I)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:r}),SVG.on(window,"touchmove.resize",function(y){s.update(y||window.event)}),SVG.on(window,"touchend.resize",function(){s.done()}),SVG.on(window,"mousemove.resize",function(y){s.update(y||window.event)}),SVG.on(window,"mouseup.resize",function(){s.done()})},ye.prototype.update=function(r){if(r){var s=this._extractPosition(r),u=this.transformPoint(s.x,s.y),p=u.x-this.parameters.p.x,y=u.y-this.parameters.p.y;this.lastUpdateCall=[p,y],this.calc(p,y),this.el.fire("resizing",{dx:p,dy:y,event:r})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},ye.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},ye.prototype.snapToGrid=function(r,s,u,p){var y;return y=void 0!==p?[(u+r)%this.options.snapToGrid,(p+s)%this.options.snapToGrid]:[(this.parameters.box.x+r+(1&(u=u??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+s+(2&u?0:this.parameters.box.height))%this.options.snapToGrid],r<0&&(y[0]-=this.options.snapToGrid),s<0&&(y[1]-=this.options.snapToGrid),r-=Math.abs(y[0])<this.options.snapToGrid/2?y[0]:y[0]-(r<0?-this.options.snapToGrid:this.options.snapToGrid),s-=Math.abs(y[1])<this.options.snapToGrid/2?y[1]:y[1]-(s<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(r,s,u,p)},ye.prototype.constraintToBox=function(r,s,u,p){var y,x,w=this.options.constraint||{};return void 0!==p?(y=u,x=p):(y=this.parameters.box.x+(1&u?0:this.parameters.box.width),x=this.parameters.box.y+(2&u?0:this.parameters.box.height)),void 0!==w.minX&&y+r<w.minX&&(r=w.minX-y),void 0!==w.maxX&&y+r>w.maxX&&(r=w.maxX-y),void 0!==w.minY&&x+s<w.minY&&(s=w.minY-x),void 0!==w.maxY&&x+s>w.maxY&&(s=w.maxY-x),[r,s]},ye.prototype.checkAspectRatio=function(r,s){if(!this.options.saveAspectRatio)return r;var u=r.slice(),p=this.parameters.box.width/this.parameters.box.height,y=this.parameters.box.width+r[0],x=this.parameters.box.height-r[1],w=y/x;return w<p?(u[1]=y/p-this.parameters.box.height,s&&(u[1]=-u[1])):w>p&&(u[0]=this.parameters.box.width-x*p,s&&(u[0]=-u[0])),u},SVG.extend(SVG.Element,{resize:function(r){return(this.remember("_resizeHandler")||new ye(this)).init(r||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Ge=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Ut(this.ctx),this.ctx.axes=new ki(this.ctx),this.ctx.core=new de(this.ctx.el,this.ctx),this.ctx.config=new Gt({}),this.ctx.data=new Vn(this.ctx),this.ctx.grid=new bi(this.ctx),this.ctx.graphics=new et(this.ctx),this.ctx.coreUtils=new jt(this.ctx),this.ctx.crosshairs=new Pi(this.ctx),this.ctx.events=new sr(this.ctx),this.ctx.exports=new ui(this.ctx),this.ctx.localization=new Bi(this.ctx),this.ctx.options=new Cn,this.ctx.responsive=new qi(this.ctx),this.ctx.series=new Pn(this.ctx),this.ctx.theme=new Un(this.ctx),this.ctx.formatters=new mn(this.ctx),this.ctx.titleSubtitle=new Dn(this.ctx),this.ctx.legend=new ln(this.ctx),this.ctx.toolbar=new es(this.ctx),this.ctx.tooltip=new fi(this.ctx),this.ctx.dimensions=new ni(this.ctx),this.ctx.updateHelpers=new Ie(this.ctx),this.ctx.zoomPanSelection=new cr(this.ctx),this.ctx.w.globals.tooltip=new fi(this.ctx)}}]),ye}(),lt=function(){function ye(r){l(this,ye),this.ctx=r,this.w=r.w}return je(ye,[{key:"clear",value:function(r){var s=r.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:s})}},{key:"killSVG",value:function(r){r.each(function(s,u){this.removeClass("*"),this.off(),this.stop()},!0),r.ungroup(),r.clear()}},{key:"clearDomElements",value:function(r){var s=this,p=this.w.globals.dom.Paper.node;p.parentNode&&p.parentNode.parentNode&&!r.isUpdating&&(p.parentNode.parentNode.style.minHeight="unset");var y=this.w.globals.dom.baseEl;y&&this.ctx.eventList.forEach(function(w){y.removeEventListener(w,s.ctx.events.documentEvent)});var x=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(x.Paper),x.Paper.remove(),x.elWrap=null,x.elGraphical=null,x.elLegendWrap=null,x.elLegendForeign=null,x.baseEl=null,x.elGridRect=null,x.elGridRectMask=null,x.elGridRectMarkerMask=null,x.elForecastMask=null,x.elNonForecastMask=null,x.elDefs=null}}]),ye}(),Rt=new WeakMap,an=function(){function ye(r,s){l(this,ye),this.opts=s,this.ctx=this,this.w=new en(s).init(),this.el=r,this.w.globals.cuid=Ye.randomId(),this.w.globals.chartID=this.w.config.chart.id?Ye.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ge(this).initModules(),this.create=Ye.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return je(ye,[{key:"render",value:function(){var r=this;return new Promise(function(s,u){if(null!==r.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),r.w.config.chart.id&&Apex._chartInstances.push({id:r.w.globals.chartID,group:r.w.config.chart.group,chart:r}),r.setLocale(r.w.config.chart.defaultLocale);var p=r.w.config.chart.events.beforeMount;if("function"==typeof p&&p(r,r.w),r.events.fireEvent("beforeMount",[r,r.w]),window.addEventListener("resize",r.windowResizeHandler),function(N,F){var z=!1;if(N.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var X=N.getBoundingClientRect();"none"!==N.style.display&&0!==X.width||(z=!0)}var le=new ResizeObserver(function(ie){z&&F.call(N,ie),z=!0});N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(N.children).forEach(function(ie){return le.observe(ie)}):le.observe(N),Rt.set(F,le)}(r.el.parentNode,r.parentResizeHandler),!r.css){var y=r.el.getRootNode&&r.el.getRootNode(),x=Ye.is("ShadowRoot",y),w=r.el.ownerDocument,I=w.getElementById("apexcharts-css");!x&&I||(r.css=document.createElement("style"),r.css.id="apexcharts-css",r.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n',x?y.prepend(r.css):w.head.appendChild(r.css))}var P=r.create(r.w.config.series,{});if(!P)return s(r);r.mount(P).then(function(){"function"==typeof r.w.config.chart.events.mounted&&r.w.config.chart.events.mounted(r,r.w),r.events.fireEvent("mounted",[r,r.w]),s(P)}).catch(function(N){u(N)})}else u(new Error("Element not found"))})}},{key:"create",value:function(r,s){var u=this.w;new Ge(this).initModules();var p=this.w.globals;if(p.noData=!1,p.animationEnded=!1,this.responsive.checkResponsiveConfig(s),u.config.xaxis.convertedCatToNumeric&&new pt(u.config).convertCatToNumericXaxis(u.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===u.config.chart.type&&(u.config.grid.show=!1,u.config.yaxis[0].show=!1),0===p.svgWidth))return p.animationEnded=!0,null;var y=jt.checkComboSeries(r);p.comboCharts=y.comboCharts,p.comboBarCount=y.comboBarCount;var x=r.every(function(N){return N.data&&0===N.data.length});(0===r.length||x)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(r),this.theme.init(),new Dt(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),p.noData&&p.collapsedSeries.length!==p.series.length&&!u.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),p.axisCharts&&(this.core.coreCalculations(),"category"!==u.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=u.globals.minX,this.ctx.toolbar.maxX=u.globals.maxX),this.formatters.heatmapLabelFormatters(),new jt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var w=this.core.xySettings();this.grid.createGridMask();var I=this.core.plotChartType(r,w),P=new Tn(this);return P.bringForward(),u.config.dataLabels.background.enabled&&P.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:I,xyRatios:w,dimensions:{plot:{left:u.globals.translateX,top:u.globals.translateY,width:u.globals.gridWidth,height:u.globals.gridHeight}}}}},{key:"mount",value:function(){var r=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=this,p=u.w;return new Promise(function(y,x){if(null===u.el)return x(new Error("Not enough data to display or target element not found"));(null===s||p.globals.allSeriesCollapsed)&&u.series.handleNoData(),u.grid=new bi(u);var w=u.grid.drawGrid();if(u.annotations=new Bn(u),u.annotations.drawImageAnnos(),u.annotations.drawTextAnnos(),"back"===p.config.grid.position&&w&&p.globals.dom.elGraphical.add(w.el),Array.isArray(s.elGraph))for(var I=0;I<s.elGraph.length;I++)p.globals.dom.elGraphical.add(s.elGraph[I]);else p.globals.dom.elGraphical.add(s.elGraph);"front"===p.config.grid.position&&w&&p.globals.dom.elGraphical.add(w.el),w&&w.elGridBorders&&w.elGridBorders.node&&p.globals.dom.elGraphical.add(w.elGridBorders),"front"===p.config.xaxis.crosshairs.position&&u.crosshairs.drawXCrosshairs(),"front"===p.config.yaxis[0].crosshairs.position&&u.crosshairs.drawYCrosshairs(),"treemap"!==p.config.chart.type&&u.axes.drawAxis(p.config.chart.type,w);var P=new Di(r.ctx,w),N=new Si(r.ctx,w);if(null!==w&&(P.xAxisLabelCorrections(w.xAxisTickWidth),N.setYAxisTextAlignments(),p.config.yaxis.map(function(z,X){-1===p.globals.ignoreYAxisIndexes.indexOf(X)&&N.yAxisTitleRotate(X,z.opposite)})),u.annotations.drawAxesAnnotations(),!p.globals.noData){if(p.config.tooltip.enabled&&!p.globals.noData&&u.w.globals.tooltip.drawTooltip(s.xyRatios),p.globals.axisCharts&&(p.globals.isXNumeric||p.config.xaxis.convertedCatToNumeric||p.globals.isRangeBar))(p.config.chart.zoom.enabled||p.config.chart.selection&&p.config.chart.selection.enabled||p.config.chart.pan&&p.config.chart.pan.enabled)&&u.zoomPanSelection.init({xyRatios:s.xyRatios});else{var F=p.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(z){F[z]=!1})}p.config.chart.toolbar.show&&!p.globals.allSeriesCollapsed&&u.toolbar.createToolbar()}p.globals.memory.methodsToExec.length>0&&p.globals.memory.methodsToExec.forEach(function(z){z.method(z.params,!1,z.context)}),p.globals.axisCharts||p.globals.noData||u.core.resizeNonAxisCharts(),y(u)})}},{key:"destroy",value:function(){var r,s;window.removeEventListener("resize",this.windowResizeHandler),(s=Rt.get(r=this.parentResizeHandler))&&(s.disconnect(),Rt.delete(r));var u=this.w.config.chart.id;u&&Apex._chartInstances.forEach(function(p,y){p.id===Ye.escapeString(u)&&Apex._chartInstances.splice(y,1)}),new lt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(r){var s=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],x=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],w=this.w;return w.globals.selection=void 0,r.series&&(this.series.resetSeries(!1,!0,!1),r.series.length&&r.series[0].data&&(r.series=r.series.map(function(I,P){return s.updateHelpers._extendSeries(I,P)})),this.updateHelpers.revertDefaultAxisMinMax()),r.xaxis&&(r=this.updateHelpers.forceXAxisUpdate(r)),r.yaxis&&(r=this.updateHelpers.forceYAxisUpdate(r)),w.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),r.theme&&(r=this.theme.updateThemeOptions(r)),this.updateHelpers._updateOptions(r,u,p,y,x)}},{key:"updateSeries",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,s,u)}},{key:"appendSeries",value:function(r){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=this.w.config.series.slice();return p.push(r),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(p,s,u)}},{key:"appendData",value:function(r){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this;u.w.globals.dataChanged=!0,u.series.getPreviousPaths();for(var p=u.w.config.series.slice(),y=0;y<p.length;y++)if(null!=r[y])for(var x=0;x<r[y].data.length;x++)p[y].data.push(r[y].data[x]);return u.w.config.series=p,s&&(u.w.globals.initialSeries=Ye.clone(u.w.config.series)),this.update()}},{key:"update",value:function(r){var s=this;return new Promise(function(u,p){new lt(s.ctx).clear({isUpdating:!0});var y=s.create(s.w.config.series,r);if(!y)return u(s);s.mount(y).then(function(){"function"==typeof s.w.config.chart.events.updated&&s.w.config.chart.events.updated(s,s.w),s.events.fireEvent("updated",[s,s.w]),s.w.globals.isDirty=!0,u(s)}).catch(function(x){p(x)})})}},{key:"getSyncedCharts",value:function(){var r=this.getGroupedCharts(),s=[this];return r.length&&(s=[],r.forEach(function(u){s.push(u)})),s}},{key:"getGroupedCharts",value:function(){var r=this;return Apex._chartInstances.filter(function(s){if(s.group)return!0}).map(function(s){return r.w.config.chart.group===s.group?s.chart:r})}},{key:"toggleSeries",value:function(r){return this.series.toggleSeries(r)}},{key:"highlightSeriesOnLegendHover",value:function(r,s){return this.series.toggleSeriesOnHover(r,s)}},{key:"showSeries",value:function(r){this.series.showSeries(r)}},{key:"hideSeries",value:function(r){this.series.hideSeries(r)}},{key:"resetSeries",value:function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(r,s)}},{key:"addEventListener",value:function(r,s){this.events.addEventListener(r,s)}},{key:"removeEventListener",value:function(r,s){this.events.removeEventListener(r,s)}},{key:"addXaxisAnnotation",value:function(r){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,p=this;u&&(p=u),p.annotations.addXaxisAnnotationExternal(r,s,p)}},{key:"addYaxisAnnotation",value:function(r){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,p=this;u&&(p=u),p.annotations.addYaxisAnnotationExternal(r,s,p)}},{key:"addPointAnnotation",value:function(r){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,p=this;u&&(p=u),p.annotations.addPointAnnotationExternal(r,s,p)}},{key:"clearAnnotations",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=this;r&&(s=r),s.annotations.clearAnnotations(s)}},{key:"removeAnnotation",value:function(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=this;s&&(u=s),u.annotations.removeAnnotation(u,r)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(r,s){return this.coreUtils.getSeriesTotalsXRange(r,s)}},{key:"getHighestValueInSeries",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new gn(this.ctx).getMinYMaxY(r).highestY}},{key:"getLowestValueInSeries",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new gn(this.ctx).getMinYMaxY(r).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(r,s){return this.updateHelpers.toggleDataPointSelection(r,s)}},{key:"zoomX",value:function(r,s){this.ctx.toolbar.zoomUpdateOptions(r,s)}},{key:"setLocale",value:function(r){this.localization.setCurrentLocaleValues(r)}},{key:"dataURI",value:function(r){return new ui(this.ctx).dataURI(r)}},{key:"exportToCSV",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ui(this.ctx).exportToCSV(r)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var r=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){r.w.globals.resized=!0,r.w.globals.dataChanged=!1,r.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var r=this.w.config.chart.redrawOnWindowResize;"function"==typeof r&&(r=r()),r&&this._windowResize()}}],[{key:"getChartByID",value:function(r){var s=Ye.escapeString(r),u=Apex._chartInstances.filter(function(p){return p.id===s})[0];return u&&u.chart}},{key:"initOnLoad",value:function(){for(var r=document.querySelectorAll("[data-apexcharts]"),s=0;s<r.length;s++)new ye(r[s],JSON.parse(r[s].getAttribute("data-options"))).render()}},{key:"exec",value:function(r,s){var u=this.getChartByID(r);if(u){u.w.globals.isExecCalled=!0;var p=null;if(-1!==u.publicMethods.indexOf(s)){for(var y=arguments.length,x=new Array(y>2?y-2:0),w=2;w<y;w++)x[w-2]=arguments[w];p=u[s].apply(u,x)}return p}}},{key:"merge",value:function(r,s){return Ye.extend(r,s)}}]),ye}();Hn.exports=an},8407:function(Hn,gt){!function(ue){"use strict";function v(h){var T,R,K,_e;for(R=1,K=arguments.length;R<K;R++)for(T in _e=arguments[R])h[T]=_e[T];return h}var He=Object.create||function(){function h(){}return function(T){return h.prototype=T,new h}}();function Xe(h,T){var R=Array.prototype.slice;if(h.bind)return h.bind.apply(h,R.call(arguments,1));var K=R.call(arguments,2);return function(){return h.apply(T,K.length?K.concat(R.call(arguments)):arguments)}}var l=0;function Qe(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function je(h,T,R){var K,_e,Me,it;return it=function(){K=!1,_e&&(Me.apply(R,_e),_e=!1)},Me=function(){K?_e=arguments:(h.apply(R,arguments),setTimeout(it,T),K=!0)},Me}function tt(h,T,R){var K=T[1],_e=T[0],Me=K-_e;return h===K&&R?h:((h-_e)%Me+Me)%Me+_e}function vt(){return!1}function bt(h,T){if(!1===T)return h;var R=Math.pow(10,void 0===T?6:T);return Math.round(h*R)/R}function xt(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function Et(h){return xt(h).split(/\s+/)}function Jt(h,T){for(var R in Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?He(h.options):{}),T)h.options[R]=T[R];return h.options}function ct(h,T,R){var K=[];for(var _e in h)K.push(encodeURIComponent(R?_e.toUpperCase():_e)+"="+encodeURIComponent(h[_e]));return(T&&-1!==T.indexOf("?")?"&":"?")+K.join("&")}var Ft=/\{ *([\w_ -]+) *\}/g;function on(h,T){return h.replace(Ft,function(R,K){var _e=T[K];if(void 0===_e)throw new Error("No value provided for variable "+R);return"function"==typeof _e&&(_e=_e(T)),_e})}var At=Array.isArray||function(h){return"[object Array]"===Object.prototype.toString.call(h)};function Ye(h,T){for(var R=0;R<h.length;R++)if(h[R]===T)return R;return-1}var Ut="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function un(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var et=0;function jt(h){var T=+new Date,R=Math.max(0,16-(T-et));return et=T+R,window.setTimeout(h,R)}var fn=window.requestAnimationFrame||un("RequestAnimationFrame")||jt,Fn=window.cancelAnimationFrame||un("CancelAnimationFrame")||un("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function Qt(h,T,R){if(!R||fn!==jt)return fn.call(window,Xe(h,T));h.call(T)}function Nt(h){h&&Fn.call(window,h)}var vn={__proto__:null,extend:v,create:He,bind:Xe,get lastId(){return l},stamp:Qe,throttle:je,wrapNum:tt,falseFn:vt,formatNum:bt,trim:xt,splitWords:Et,setOptions:Jt,getParamString:ct,template:on,isArray:At,indexOf:Ye,emptyImageUrl:Ut,requestFn:fn,cancelFn:Fn,requestAnimFrame:Qt,cancelAnimFrame:Nt};function Cn(){}Cn.extend=function(h){var T=function(){Jt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},R=T.__super__=this.prototype,K=He(R);for(var _e in K.constructor=T,T.prototype=K,this)Object.prototype.hasOwnProperty.call(this,_e)&&"prototype"!==_e&&"__super__"!==_e&&(T[_e]=this[_e]);return h.statics&&v(T,h.statics),h.includes&&(function Bn(h){if(!(typeof L>"u")&&L&&L.Mixin){h=At(h)?h:[h];for(var T=0;T<h.length;T++)h[T]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(h.includes),v.apply(null,[K].concat(h.includes))),v(K,h),delete K.statics,delete K.includes,K.options&&(K.options=R.options?He(R.options):{},v(K.options,h.options)),K._initHooks=[],K.callInitHooks=function(){if(!this._initHooksCalled){R.callInitHooks&&R.callInitHooks.call(this),this._initHooksCalled=!0;for(var Me=0,it=K._initHooks.length;Me<it;Me++)K._initHooks[Me].call(this)}},T},Cn.include=function(h){var T=this.prototype.options;return v(this.prototype,h),h.options&&(this.prototype.options=T,this.mergeOptions(h.options)),this},Cn.mergeOptions=function(h){return v(this.prototype.options,h),this},Cn.addInitHook=function(h){var T=Array.prototype.slice.call(arguments,1),R="function"==typeof h?h:function(){this[h].apply(this,T)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(R),this};var In={on:function(h,T,R){if("object"==typeof h)for(var K in h)this._on(K,h[K],T);else for(var _e=0,Me=(h=Et(h)).length;_e<Me;_e++)this._on(h[_e],T,R);return this},off:function(h,T,R){if(arguments.length)if("object"==typeof h)for(var K in h)this._off(K,h[K],T);else{h=Et(h);for(var _e=1===arguments.length,Me=0,it=h.length;Me<it;Me++)_e?this._off(h[Me]):this._off(h[Me],T,R)}else delete this._events;return this},_on:function(h,T,R,K){if("function"==typeof T){if(!1===this._listens(h,T,R)){R===this&&(R=void 0);var _e={fn:T,ctx:R};K&&(_e.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(_e)}}else console.warn("wrong listener type: "+typeof T)},_off:function(h,T,R){var K,_e,Me;if(this._events&&(K=this._events[h])){if(1===arguments.length){if(this._firingCount)for(_e=0,Me=K.length;_e<Me;_e++)K[_e].fn=vt;return void delete this._events[h]}if("function"!=typeof T)return void console.warn("wrong listener type: "+typeof T);var it=this._listens(h,T,R);!1!==it&&(this._firingCount&&(K[it].fn=vt,this._events[h]=K=K.slice()),K.splice(it,1))}},fire:function(h,T,R){if(!this.listens(h,R))return this;var K=v({},T,{type:h,target:this,sourceTarget:T&&T.sourceTarget||this});if(this._events){var _e=this._events[h];if(_e){this._firingCount=this._firingCount+1||1;for(var Me=0,it=_e.length;Me<it;Me++){var Ct=_e[Me],Ot=Ct.fn;Ct.once&&this.off(h,Ot,Ct.ctx),Ot.call(Ct.ctx||this,K)}this._firingCount--}}return R&&this._propagateEvent(K),this},listens:function(h,T,R,K){"string"!=typeof h&&console.warn('"string" type argument expected');var _e=T;"function"!=typeof T&&(K=!!T,_e=void 0,R=void 0);var Me=this._events&&this._events[h];if(Me&&Me.length&&!1!==this._listens(h,_e,R))return!0;if(K)for(var it in this._eventParents)if(this._eventParents[it].listens(h,T,R,K))return!0;return!1},_listens:function(h,T,R){if(!this._events)return!1;var K=this._events[h]||[];if(!T)return!!K.length;R===this&&(R=void 0);for(var _e=0,Me=K.length;_e<Me;_e++)if(K[_e].fn===T&&K[_e].ctx===R)return _e;return!1},once:function(h,T,R){if("object"==typeof h)for(var K in h)this._on(K,h[K],T,!0);else for(var _e=0,Me=(h=Et(h)).length;_e<Me;_e++)this._on(h[_e],T,R,!0);return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[Qe(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[Qe(h)],this},_propagateEvent:function(h){for(var T in this._eventParents)this._eventParents[T].fire(h.type,v({layer:h.target,propagatedFrom:h.target},h),!0)}};In.addEventListener=In.on,In.removeEventListener=In.clearAllEventListeners=In.off,In.addOneTimeEventListener=In.once,In.fireEvent=In.fire,In.hasEventListeners=In.listens;var mn=Cn.extend(In);function mt(h,T,R){this.x=R?Math.round(h):h,this.y=R?Math.round(T):T}var Lt=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};function pt(h,T,R){return h instanceof mt?h:At(h)?new mt(h[0],h[1]):null==h?h:"object"==typeof h&&"x"in h&&"y"in h?new mt(h.x,h.y):new mt(h,T,R)}function Gt(h,T){if(h)for(var R=T?[h,T]:h,K=0,_e=R.length;K<_e;K++)this.extend(R[K])}function pn(h,T){return!h||h instanceof Gt?h:new Gt(h,T)}function en(h,T){if(h)for(var R=T?[h,T]:h,K=0,_e=R.length;K<_e;K++)this.extend(R[K])}function rn(h,T){return h instanceof en?h:new en(h,T)}function Dt(h,T,R){if(isNaN(h)||isNaN(T))throw new Error("Invalid LatLng object: ("+h+", "+T+")");this.lat=+h,this.lng=+T,void 0!==R&&(this.alt=+R)}function $n(h,T,R){return h instanceof Dt?h:At(h)&&"object"!=typeof h[0]?3===h.length?new Dt(h[0],h[1],h[2]):2===h.length?new Dt(h[0],h[1]):null:null==h?h:"object"==typeof h&&"lat"in h?new Dt(h.lat,"lng"in h?h.lng:h.lon,h.alt):void 0===T?null:new Dt(h,T,R)}mt.prototype={clone:function(){return new mt(this.x,this.y)},add:function(h){return this.clone()._add(pt(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(pt(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new mt(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new mt(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Lt(this.x),this.y=Lt(this.y),this},distanceTo:function(h){var T=(h=pt(h)).x-this.x,R=h.y-this.y;return Math.sqrt(T*T+R*R)},equals:function(h){return(h=pt(h)).x===this.x&&h.y===this.y},contains:function(h){return h=pt(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+bt(this.x)+", "+bt(this.y)+")"}},Gt.prototype={extend:function(h){var T,R;if(!h)return this;if(h instanceof mt||"number"==typeof h[0]||"x"in h)T=R=pt(h);else if(R=(h=pn(h)).max,!(T=h.min)||!R)return this;return this.min||this.max?(this.min.x=Math.min(T.x,this.min.x),this.max.x=Math.max(R.x,this.max.x),this.min.y=Math.min(T.y,this.min.y),this.max.y=Math.max(R.y,this.max.y)):(this.min=T.clone(),this.max=R.clone()),this},getCenter:function(h){return pt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return pt(this.min.x,this.max.y)},getTopRight:function(){return pt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var T,R;return(h="number"==typeof h[0]||h instanceof mt?pt(h):pn(h))instanceof Gt?(T=h.min,R=h.max):T=R=h,T.x>=this.min.x&&R.x<=this.max.x&&T.y>=this.min.y&&R.y<=this.max.y},intersects:function(h){h=pn(h);var T=this.min,R=this.max,K=h.min,_e=h.max;return _e.x>=T.x&&K.x<=R.x&&_e.y>=T.y&&K.y<=R.y},overlaps:function(h){h=pn(h);var T=this.min,R=this.max,K=h.min,_e=h.max;return _e.x>T.x&&K.x<R.x&&_e.y>T.y&&K.y<R.y},isValid:function(){return!(!this.min||!this.max)},pad:function(h){var T=this.min,R=this.max,K=Math.abs(T.x-R.x)*h,_e=Math.abs(T.y-R.y)*h;return pn(pt(T.x-K,T.y-_e),pt(R.x+K,R.y+_e))},equals:function(h){return!!h&&(h=pn(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight()))}},en.prototype={extend:function(h){var K,_e,T=this._southWest,R=this._northEast;if(h instanceof Dt)K=h,_e=h;else{if(!(h instanceof en))return h?this.extend($n(h)||rn(h)):this;if(_e=h._northEast,!(K=h._southWest)||!_e)return this}return T||R?(T.lat=Math.min(K.lat,T.lat),T.lng=Math.min(K.lng,T.lng),R.lat=Math.max(_e.lat,R.lat),R.lng=Math.max(_e.lng,R.lng)):(this._southWest=new Dt(K.lat,K.lng),this._northEast=new Dt(_e.lat,_e.lng)),this},pad:function(h){var T=this._southWest,R=this._northEast,K=Math.abs(T.lat-R.lat)*h,_e=Math.abs(T.lng-R.lng)*h;return new en(new Dt(T.lat-K,T.lng-_e),new Dt(R.lat+K,R.lng+_e))},getCenter:function(){return new Dt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Dt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Dt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){h="number"==typeof h[0]||h instanceof Dt||"lat"in h?$n(h):rn(h);var K,_e,T=this._southWest,R=this._northEast;return h instanceof en?(K=h.getSouthWest(),_e=h.getNorthEast()):K=_e=h,K.lat>=T.lat&&_e.lat<=R.lat&&K.lng>=T.lng&&_e.lng<=R.lng},intersects:function(h){h=rn(h);var T=this._southWest,R=this._northEast,K=h.getSouthWest(),_e=h.getNorthEast();return _e.lat>=T.lat&&K.lat<=R.lat&&_e.lng>=T.lng&&K.lng<=R.lng},overlaps:function(h){h=rn(h);var T=this._southWest,R=this._northEast,K=h.getSouthWest(),_e=h.getNorthEast();return _e.lat>T.lat&&K.lat<R.lat&&_e.lng>T.lng&&K.lng<R.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,T){return!!h&&(h=rn(h),this._southWest.equals(h.getSouthWest(),T)&&this._northEast.equals(h.getNorthEast(),T))},isValid:function(){return!(!this._southWest||!this._northEast)}},Dt.prototype={equals:function(h,T){return!!h&&(h=$n(h),Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng))<=(void 0===T?1e-9:T))},toString:function(h){return"LatLng("+bt(this.lat,h)+", "+bt(this.lng,h)+")"},distanceTo:function(h){return Pn.distance(this,$n(h))},wrap:function(){return Pn.wrapLatLng(this)},toBounds:function(h){var T=180*h/40075017,R=T/Math.cos(Math.PI/180*this.lat);return rn([this.lat-T,this.lng-R],[this.lat+T,this.lng+R])},clone:function(){return new Dt(this.lat,this.lng,this.alt)}};var h,Tn={latLngToPoint:function(h,T){var R=this.projection.project(h),K=this.scale(T);return this.transformation._transform(R,K)},pointToLatLng:function(h,T){var R=this.scale(T),K=this.transformation.untransform(h,R);return this.projection.unproject(K)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var T=this.projection.bounds,R=this.scale(h);return new Gt(this.transformation.transform(T.min,R),this.transformation.transform(T.max,R))},infinite:!1,wrapLatLng:function(h){var T=this.wrapLng?tt(h.lng,this.wrapLng,!0):h.lng;return new Dt(this.wrapLat?tt(h.lat,this.wrapLat,!0):h.lat,T,h.alt)},wrapLatLngBounds:function(h){var T=h.getCenter(),R=this.wrapLatLng(T),K=T.lat-R.lat,_e=T.lng-R.lng;if(0===K&&0===_e)return h;var Me=h.getSouthWest(),it=h.getNorthEast();return new en(new Dt(Me.lat-K,Me.lng-_e),new Dt(it.lat-K,it.lng-_e))}},Pn=v({},Tn,{wrapLng:[-180,180],R:6371e3,distance:function(h,T){var R=Math.PI/180,K=h.lat*R,_e=T.lat*R,Me=Math.sin((T.lat-h.lat)*R/2),it=Math.sin((T.lng-h.lng)*R/2),Ct=Me*Me+Math.cos(K)*Math.cos(_e)*it*it,Ot=2*Math.atan2(Math.sqrt(Ct),Math.sqrt(1-Ct));return this.R*Ot}}),Rn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(h){var T=Math.PI/180,R=this.MAX_LATITUDE,K=Math.max(Math.min(R,h.lat),-R),_e=Math.sin(K*T);return new mt(this.R*h.lng*T,this.R*Math.log((1+_e)/(1-_e))/2)},unproject:function(h){var T=180/Math.PI;return new Dt((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*T,h.x*T/this.R)},bounds:(h=6378137*Math.PI,new Gt([-h,-h],[h,h]))};function ui(h,T,R,K){if(At(h))return this._a=h[0],this._b=h[1],this._c=h[2],void(this._d=h[3]);this._a=h,this._b=T,this._c=R,this._d=K}function Di(h,T,R,K){return new ui(h,T,R,K)}ui.prototype={transform:function(h,T){return this._transform(h.clone(),T)},_transform:function(h,T){return h.x=(T=T||1)*(this._a*h.x+this._b),h.y=T*(this._c*h.y+this._d),h},untransform:function(h,T){return new mt((h.x/(T=T||1)-this._b)/this._a,(h.y/T-this._d)/this._c)}};var bi=v({},Pn,{code:"EPSG:3857",projection:Rn,transformation:function(){var h=.5/(Math.PI*Rn.R);return Di(h,.5,-h,.5)}()}),li=v({},bi,{code:"EPSG:900913"});function gn(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function Si(h,T){var K,_e,Me,it,Ct,Ot,R="";for(K=0,Me=h.length;K<Me;K++){for(_e=0,it=(Ct=h[K]).length;_e<it;_e++)R+=(_e?"L":"M")+(Ot=Ct[_e]).x+" "+Ot.y;R+=T?On.svg?"z":"x":""}return R||"M0 0"}var sr=document.documentElement.style,Bi="ActiveXObject"in window,ki=Bi&&!document.addEventListener,Pi="msLaunchUri"in navigator&&!("documentMode"in document),qi=Gi("webkit"),Un=Gi("android"),Dn=Gi("android 2")||Gi("android 3"),Rs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oi=Un&&Gi("Google")&&Rs<537&&!("AudioNode"in window),Hi=!!window.opera,xr=!Pi&&Gi("chrome"),ni=Gi("gecko")&&!qi&&!Hi&&!Bi,ti=!xr&&Gi("safari"),ln=Gi("phantom"),es="OTransition"in sr,cr=0===navigator.platform.indexOf("Win"),Qi=Bi&&"transition"in sr,ii="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Dn,Ki="MozPerspective"in sr,pr=!window.L_DISABLE_3D&&(Qi||ii||Ki)&&!es&&!ln,Mi=typeof orientation<"u"||Gi("mobile"),$r=Mi&&qi,fi=Mi&&ii,ur=!window.PointerEvent&&window.MSPointerEvent,Ur=!(!window.PointerEvent&&!ur),gi="ontouchstart"in window||!!window.TouchEvent,or=!window.L_NO_TOUCH&&(gi||Ur),Yt=Mi&&Hi,nt=Mi&&ni,ft=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hn=function(){var h=!1;try{var T=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",vt,T),window.removeEventListener("testPassiveEventSupport",vt,T)}catch{}return h}(),tn=!!document.createElement("canvas").getContext,cn=!(!document.createElementNS||!gn("svg").createSVGRect),ke=!!cn&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(h.firstChild&&h.firstChild.namespaceURI)}(),vi=!cn&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var T=h.firstChild;return T.style.behavior="url(#default#VML)",T&&"object"==typeof T.adj}catch{return!1}}();function Gi(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var On={ie:Bi,ielt9:ki,edge:Pi,webkit:qi,android:Un,android23:Dn,androidStock:Oi,opera:Hi,chrome:xr,gecko:ni,safari:ti,phantom:ln,opera12:es,win:cr,ie3d:Qi,webkit3d:ii,gecko3d:Ki,any3d:pr,mobile:Mi,mobileWebkit:$r,mobileWebkit3d:fi,msPointer:ur,pointer:Ur,touch:or,touchNative:gi,mobileOpera:Yt,mobileGecko:nt,retina:ft,passiveEvents:hn,canvas:tn,svg:cn,vml:vi,inlineSvg:ke,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Wi=On.msPointer?"MSPointerDown":"pointerdown",ot=On.msPointer?"MSPointerMove":"pointermove",ne=On.msPointer?"MSPointerUp":"pointerup",de=On.msPointer?"MSPointerCancel":"pointercancel",Ie={touchstart:Wi,touchmove:ot,touchend:ne,touchcancel:de},Ge={touchstart:function x(h,T){T.MSPOINTER_TYPE_TOUCH&&T.pointerType===T.MSPOINTER_TYPE_TOUCH&&Er(T),y(h,T)},touchmove:y,touchend:y,touchcancel:y},lt={},Rt=!1;function an(h,T,R){return"touchstart"===T&&function p(){Rt||(document.addEventListener(Wi,r,!0),document.addEventListener(ot,s,!0),document.addEventListener(ne,u,!0),document.addEventListener(de,u,!0),Rt=!0)}(),Ge[T]?(R=Ge[T].bind(this,R),h.addEventListener(Ie[T],R,!1),R):(console.warn("wrong event specified:",T),vt)}function r(h){lt[h.pointerId]=h}function s(h){lt[h.pointerId]&&(lt[h.pointerId]=h)}function u(h){delete lt[h.pointerId]}function y(h,T){if(T.pointerType!==(T.MSPOINTER_TYPE_MOUSE||"mouse")){for(var R in T.touches=[],lt)T.touches.push(lt[R]);T.changedTouches=[T],h(T)}}var Qn,di,xi,wr,Ss,F=$t(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),z=$t(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),X="webkitTransition"===z||"OTransition"===z?z+"End":"transitionend";function le(h){return"string"==typeof h?document.getElementById(h):h}function ie(h,T){var R=h.style[T]||h.currentStyle&&h.currentStyle[T];if((!R||"auto"===R)&&document.defaultView){var K=document.defaultView.getComputedStyle(h,null);R=K?K[T]:null}return"auto"===R?null:R}function me(h,T,R){var K=document.createElement(h);return K.className=T||"",R&&R.appendChild(K),K}function Ae(h){var T=h.parentNode;T&&T.removeChild(h)}function Ve(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function D(h){var T=h.parentNode;T&&T.lastChild!==h&&T.appendChild(h)}function Z(h){var T=h.parentNode;T&&T.firstChild!==h&&T.insertBefore(h,T.firstChild)}function ce(h,T){if(void 0!==h.classList)return h.classList.contains(T);var R=Ke(h);return R.length>0&&new RegExp("(^|\\s)"+T+"(\\s|$)").test(R)}function xe(h,T){if(void 0!==h.classList)for(var R=Et(T),K=0,_e=R.length;K<_e;K++)h.classList.add(R[K]);else if(!ce(h,T)){var Me=Ke(h);ze(h,(Me?Me+" ":"")+T)}}function Pe(h,T){void 0!==h.classList?h.classList.remove(T):ze(h,xt((" "+Ke(h)+" ").replace(" "+T+" "," ")))}function ze(h,T){void 0===h.className.baseVal?h.className=T:h.className.baseVal=T}function Ke(h){return h.correspondingElement&&(h=h.correspondingElement),void 0===h.className.baseVal?h.className:h.className.baseVal}function st(h,T){"opacity"in h.style?h.style.opacity=T:"filter"in h.style&&function Tt(h,T){var R=!1,K="DXImageTransform.Microsoft.Alpha";try{R=h.filters.item(K)}catch{if(1===T)return}T=Math.round(100*T),R?(R.Enabled=100!==T,R.Opacity=T):h.style.filter+=" progid:"+K+"(opacity="+T+")"}(h,T)}function $t(h){for(var T=document.documentElement.style,R=0;R<h.length;R++)if(h[R]in T)return h[R];return!1}function zt(h,T,R){var K=T||new mt(0,0);h.style[F]=(On.ie3d?"translate("+K.x+"px,"+K.y+"px)":"translate3d("+K.x+"px,"+K.y+"px,0)")+(R?" scale("+R+")":"")}function Ht(h,T){h._leaflet_pos=T,On.any3d?zt(h,T):(h.style.left=T.x+"px",h.style.top=T.y+"px")}function zn(h){return h._leaflet_pos||new mt(0,0)}if("onselectstart"in document)Qn=function(){ai(window,"selectstart",Er)},di=function(){ar(window,"selectstart",Er)};else{var ji=$t(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qn=function(){if(ji){var h=document.documentElement.style;xi=h[ji],h[ji]="none"}},di=function(){ji&&(document.documentElement.style[ji]=xi,xi=void 0)}}function pi(){ai(window,"dragstart",Er)}function $i(){ar(window,"dragstart",Er)}function As(h){for(;-1===h.tabIndex;)h=h.parentNode;h.style&&(ss(),wr=h,Ss=h.style.outlineStyle,h.style.outlineStyle="none",ai(window,"keydown",ss))}function ss(){wr&&(wr.style.outlineStyle=Ss,wr=void 0,Ss=void 0,ar(window,"keydown",ss))}function kr(h){do{h=h.parentNode}while(!(h.offsetWidth&&h.offsetHeight||h===document.body));return h}function zi(h){var T=h.getBoundingClientRect();return{x:T.width/h.offsetWidth||1,y:T.height/h.offsetHeight||1,boundingClientRect:T}}var Qs={__proto__:null,TRANSFORM:F,TRANSITION:z,TRANSITION_END:X,get:le,getStyle:ie,create:me,remove:Ae,empty:Ve,toFront:D,toBack:Z,hasClass:ce,addClass:xe,removeClass:Pe,setClass:ze,getClass:Ke,setOpacity:st,testProp:$t,setTransform:zt,setPosition:Ht,getPosition:zn,get disableTextSelection(){return Qn},get enableTextSelection(){return di},disableImageDrag:pi,enableImageDrag:$i,preventOutline:As,restoreOutline:ss,getSizedParentNode:kr,getScale:zi};function ai(h,T,R,K){if(T&&"object"==typeof T)for(var _e in T)Or(h,_e,T[_e],R);else for(var Me=0,it=(T=Et(T)).length;Me<it;Me++)Or(h,T[Me],R,K);return this}var gr="_leaflet_events";function ar(h,T,R,K){if(1===arguments.length)gs(h),delete h[gr];else if(T&&"object"==typeof T)for(var _e in T)Lo(h,_e,T[_e],R);else if(T=Et(T),2===arguments.length)gs(h,function(Ct){return-1!==Ye(T,Ct)});else for(var Me=0,it=T.length;Me<it;Me++)Lo(h,T[Me],R,K);return this}function gs(h,T){for(var R in h[gr]){var K=R.split(/\d/)[0];(!T||T(K))&&Lo(h,K,null,null,R)}}var cs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Or(h,T,R,K){var _e=T+Qe(R)+(K?"_"+Qe(K):"");if(h[gr]&&h[gr][_e])return this;var Me=function(Ct){return R.call(K||h,Ct||window.event)},it=Me;!On.touchNative&&On.pointer&&0===T.indexOf("touch")?Me=an(h,T,Me):On.touch&&"dblclick"===T?Me=function P(h,T){h.addEventListener("dblclick",T);var K,R=0;function _e(Me){if(1===Me.detail){if("mouse"!==Me.pointerType&&(!Me.sourceCapabilities||Me.sourceCapabilities.firesTouchEvents)){var it=_s(Me);if(!it.some(function(Ot){return Ot instanceof HTMLLabelElement&&Ot.attributes.for})||it.some(function(Ot){return Ot instanceof HTMLInputElement||Ot instanceof HTMLSelectElement})){var Ct=Date.now();Ct-R<=200?2==++K&&T(function w(h){var R,K,T={};for(K in h)T[K]=(R=h[K])&&R.bind?R.bind(h):R;return h=T,T.type="dblclick",T.detail=2,T.isTrusted=!1,T._simulated=!0,T}(Me)):K=1,R=Ct}}}else K=Me.detail}return h.addEventListener("click",_e),{dblclick:T,simDblclick:_e}}(h,Me):"addEventListener"in h?"touchstart"===T||"touchmove"===T||"wheel"===T||"mousewheel"===T?h.addEventListener(cs[T]||T,Me,!!On.passiveEvents&&{passive:!1}):"mouseenter"===T||"mouseleave"===T?h.addEventListener(cs[T],Me=function(Ct){Ct=Ct||window.event,lr(h,Ct)&&it(Ct)},!1):h.addEventListener(T,it,!1):h.attachEvent("on"+T,Me),h[gr]=h[gr]||{},h[gr][_e]=Me}function Lo(h,T,R,K,_e){_e=_e||T+Qe(R)+(K?"_"+Qe(K):"");var Me=h[gr]&&h[gr][_e];if(!Me)return this;!On.touchNative&&On.pointer&&0===T.indexOf("touch")?function ye(h,T,R){Ie[T]?h.removeEventListener(Ie[T],R,!1):console.warn("wrong event specified:",T)}(h,T,Me):On.touch&&"dblclick"===T?function N(h,T){h.removeEventListener("dblclick",T.dblclick),h.removeEventListener("click",T.simDblclick)}(h,Me):"removeEventListener"in h?h.removeEventListener(cs[T]||T,Me,!1):h.detachEvent("on"+T,Me),h[gr][_e]=null}function Ns(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function Ls(h){return Or(h,"wheel",Ns),this}function ms(h){return ai(h,"mousedown touchstart dblclick contextmenu",Ns),h._leaflet_disable_click=!0,this}function Er(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Fs(h){return Er(h),Ns(h),this}function _s(h){if(h.composedPath)return h.composedPath();for(var T=[],R=h.target;R;)T.push(R),R=R.parentNode;return T}function yo(h,T){if(!T)return new mt(h.clientX,h.clientY);var R=zi(T),K=R.boundingClientRect;return new mt((h.clientX-K.left)/R.x-T.clientLeft,(h.clientY-K.top)/R.y-T.clientTop)}var so=On.linux&&On.chrome?window.devicePixelRatio:On.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ys(h){return On.edge?h.wheelDeltaY/2:h.deltaY&&0===h.deltaMode?-h.deltaY/so:h.deltaY&&1===h.deltaMode?20*-h.deltaY:h.deltaY&&2===h.deltaMode?60*-h.deltaY:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?20*-h.detail:h.detail?h.detail/-32765*60:0}function lr(h,T){var R=T.relatedTarget;if(!R)return!0;try{for(;R&&R!==h;)R=R.parentNode}catch{return!1}return R!==h}var bs={__proto__:null,on:ai,off:ar,stopPropagation:Ns,disableScrollPropagation:Ls,disableClickPropagation:ms,preventDefault:Er,stop:Fs,getPropagationPath:_s,getMousePosition:yo,getWheelDelta:Ys,isExternalTarget:lr,addListener:ai,removeListener:ar},Fo=mn.extend({run:function(h,T,R,K){this.stop(),this._el=h,this._inProgress=!0,this._duration=R||.25,this._easeOutPower=1/Math.max(K||.5,.2),this._startPos=zn(h),this._offset=T.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Qt(this._animate,this),this._step()},_step:function(h){var T=+new Date-this._startTime,R=1e3*this._duration;T<R?this._runFrame(this._easeOut(T/R),h):(this._runFrame(1),this._complete())},_runFrame:function(h,T){var R=this._startPos.add(this._offset.multiplyBy(h));T&&R._round(),Ht(this._el,R),this.fire("step")},_complete:function(){Nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Fi=mn.extend({options:{crs:bi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,T){T=Jt(this,T),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=Xe(this._onResize,this),this._initEvents(),T.maxBounds&&this.setMaxBounds(T.maxBounds),void 0!==T.zoom&&(this._zoom=this._limitZoom(T.zoom)),T.center&&void 0!==T.zoom&&this.setView($n(T.center),T.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=z&&On.any3d&&!On.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ai(this._proxy,X,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,T,R){return T=void 0===T?this._zoom:this._limitZoom(T),h=this._limitCenter($n(h),T,this.options.maxBounds),R=R||{},this._stop(),this._loaded&&!R.reset&&!0!==R&&(void 0!==R.animate&&(R.zoom=v({animate:R.animate},R.zoom),R.pan=v({animate:R.animate,duration:R.duration},R.pan)),this._zoom!==T?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,T,R.zoom):this._tryAnimatedPan(h,R.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(h,T,R.pan&&R.pan.noMoveStart),this)},setZoom:function(h,T){return this._loaded?this.setView(this.getCenter(),h,{zoom:T}):(this._zoom=h,this)},zoomIn:function(h,T){return this.setZoom(this._zoom+(h=h||(On.any3d?this.options.zoomDelta:1)),T)},zoomOut:function(h,T){return this.setZoom(this._zoom-(h=h||(On.any3d?this.options.zoomDelta:1)),T)},setZoomAround:function(h,T,R){var K=this.getZoomScale(T),_e=this.getSize().divideBy(2),it=(h instanceof mt?h:this.latLngToContainerPoint(h)).subtract(_e).multiplyBy(1-1/K),Ct=this.containerPointToLatLng(_e.add(it));return this.setView(Ct,T,{zoom:R})},_getBoundsCenterZoom:function(h,T){T=T||{},h=h.getBounds?h.getBounds():rn(h);var R=pt(T.paddingTopLeft||T.padding||[0,0]),K=pt(T.paddingBottomRight||T.padding||[0,0]),_e=this.getBoundsZoom(h,!1,R.add(K));if((_e="number"==typeof T.maxZoom?Math.min(T.maxZoom,_e):_e)===1/0)return{center:h.getCenter(),zoom:_e};var Me=K.subtract(R).divideBy(2),it=this.project(h.getSouthWest(),_e),Ct=this.project(h.getNorthEast(),_e);return{center:this.unproject(it.add(Ct).divideBy(2).add(Me),_e),zoom:_e}},fitBounds:function(h,T){if(!(h=rn(h)).isValid())throw new Error("Bounds are not valid.");var R=this._getBoundsCenterZoom(h,T);return this.setView(R.center,R.zoom,T)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,T){return this.setView(h,this._zoom,{pan:T})},panBy:function(h,T){if(T=T||{},!(h=pt(h).round()).x&&!h.y)return this.fire("moveend");if(!0!==T.animate&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),T.noMoveStart||this.fire("movestart"),!1!==T.animate){xe(this._mapPane,"leaflet-pan-anim");var R=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,R,T.duration||.25,T.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,T,R){if(!1===(R=R||{}).animate||!On.any3d)return this.setView(h,T,R);this._stop();var K=this.project(this.getCenter()),_e=this.project(h),Me=this.getSize(),it=this._zoom;h=$n(h),T=void 0===T?it:T;var Ct=Math.max(Me.x,Me.y),Ot=Ct*this.getZoomScale(it,T),_n=_e.distanceTo(K)||1,Xn=1.42,wi=Xn*Xn;function Xi(ds){var To=(Ot*Ot-Ct*Ct+(ds?-1:1)*wi*wi*_n*_n)/(2*(ds?Ot:Ct)*wi*_n),Zo=Math.sqrt(To*To+1)-To;return Zo<1e-9?-18:Math.log(Zo)}function Ws(ds){return(Math.exp(ds)-Math.exp(-ds))/2}function as(ds){return(Math.exp(ds)+Math.exp(-ds))/2}var jr=Xi(0);function gl(ds){return Ct*(as(jr)*function Uo(ds){return Ws(ds)/as(ds)}(jr+Xn*ds)-Ws(jr))/wi}var td=Date.now(),zo=(Xi(1)-jr)/Xn,el=R.duration?1e3*R.duration:1e3*zo*.8;return this._moveStart(!0,R.noMoveStart),function nd(){var ds=(Date.now()-td)/el,Ga=function qc(ds){return 1-Math.pow(1-ds,1.5)}(ds)*zo;ds<=1?(this._flyToFrame=Qt(nd,this),this._move(this.unproject(K.add(_e.subtract(K).multiplyBy(gl(Ga)/_n)),it),this.getScaleZoom(Ct/function Ho(ds){return Ct*(as(jr)/as(jr+Xn*ds))}(Ga),it),{flyTo:!0})):this._move(h,T)._moveEnd(!0)}.call(this),this},flyToBounds:function(h,T){var R=this._getBoundsCenterZoom(h,T);return this.flyTo(R.center,R.zoom,T)},setMaxBounds:function(h){return h=rn(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var T=this.options.minZoom;return this.options.minZoom=h,this._loaded&&T!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var T=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&T!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,T){this._enforcingBounds=!0;var R=this.getCenter(),K=this._limitCenter(R,this._zoom,rn(h));return R.equals(K)||this.panTo(K,T),this._enforcingBounds=!1,this},panInside:function(h,T){var R=pt((T=T||{}).paddingTopLeft||T.padding||[0,0]),K=pt(T.paddingBottomRight||T.padding||[0,0]),_e=this.project(this.getCenter()),Me=this.project(h),it=this.getPixelBounds(),Ct=pn([it.min.add(R),it.max.subtract(K)]),Ot=Ct.getSize();if(!Ct.contains(Me)){this._enforcingBounds=!0;var _n=Me.subtract(Ct.getCenter()),Xn=Ct.extend(Me).getSize().subtract(Ot);_e.x+=_n.x<0?-Xn.x:Xn.x,_e.y+=_n.y<0?-Xn.y:Xn.y,this.panTo(this.unproject(_e),T),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=v({animate:!1,pan:!0},!0===h?{animate:!0}:h);var T=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var R=this.getSize(),K=T.divideBy(2).round(),_e=R.divideBy(2).round(),Me=K.subtract(_e);return Me.x||Me.y?(h.animate&&h.pan?this.panBy(Me):(h.pan&&this._rawPanBy(Me),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Xe(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:T,newSize:R})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=v({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var T=Xe(this._handleGeolocationResponse,this),R=Xe(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(T,R,h):navigator.geolocation.getCurrentPosition(T,R,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var T=h.code,R=h.message||(1===T?"permission denied":2===T?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:T,message:"Geolocation error: "+R+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var K=new Dt(h.coords.latitude,h.coords.longitude),_e=K.toBounds(2*h.coords.accuracy),Me=this._locateOptions;if(Me.setView){var it=this.getBoundsZoom(_e);this.setView(K,Me.maxZoom?Math.min(it,Me.maxZoom):it)}var Ct={latlng:K,bounds:_e,timestamp:h.timestamp};for(var Ot in h.coords)"number"==typeof h.coords[Ot]&&(Ct[Ot]=h.coords[Ot]);this.fire("locationfound",Ct)}},addHandler:function(h,T){if(!T)return this;var R=this[h]=new T(this);return this._handlers.push(R),this.options[h]&&R.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var h;for(h in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[h].remove();for(h in this._panes)Ae(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,T){var K=me("div","leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),T||this._mapPane);return h&&(this._panes[h]=K),K},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds();return new en(this.unproject(h.getBottomLeft()),this.unproject(h.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,T,R){h=rn(h),R=pt(R||[0,0]);var K=this.getZoom()||0,_e=this.getMinZoom(),Me=this.getMaxZoom(),it=h.getNorthWest(),Ct=h.getSouthEast(),Ot=this.getSize().subtract(R),_n=pn(this.project(Ct,K),this.project(it,K)).getSize(),Xn=On.any3d?this.options.zoomSnap:1,wi=Ot.x/_n.x,Xi=Ot.y/_n.y,Ws=T?Math.max(wi,Xi):Math.min(wi,Xi);return K=this.getScaleZoom(Ws,K),Xn&&(K=Math.round(K/(Xn/100))*(Xn/100),K=T?Math.ceil(K/Xn)*Xn:Math.floor(K/Xn)*Xn),Math.max(_e,Math.min(Me,K))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new mt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,T){var R=this._getTopLeftPoint(h,T);return new Gt(R,R.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(void 0===h?this.getZoom():h)},getPane:function(h){return"string"==typeof h?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,T){var R=this.options.crs;return T=void 0===T?this._zoom:T,R.scale(h)/R.scale(T)},getScaleZoom:function(h,T){var R=this.options.crs,K=R.zoom(h*R.scale(T=void 0===T?this._zoom:T));return isNaN(K)?1/0:K},project:function(h,T){return T=void 0===T?this._zoom:T,this.options.crs.latLngToPoint($n(h),T)},unproject:function(h,T){return T=void 0===T?this._zoom:T,this.options.crs.pointToLatLng(pt(h),T)},layerPointToLatLng:function(h){var T=pt(h).add(this.getPixelOrigin());return this.unproject(T)},latLngToLayerPoint:function(h){return this.project($n(h))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng($n(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(rn(h))},distance:function(h,T){return this.options.crs.distance($n(h),$n(T))},containerPointToLayerPoint:function(h){return pt(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return pt(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var T=this.containerPointToLayerPoint(pt(h));return this.layerPointToLatLng(T)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint($n(h)))},mouseEventToContainerPoint:function(h){return yo(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var T=this._container=le(h);if(!T)throw new Error("Map container not found.");if(T._leaflet_id)throw new Error("Map container is already initialized.");ai(T,"scroll",this._onScroll,this),this._containerId=Qe(T)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&On.any3d,xe(h,"leaflet-container"+(On.touch?" leaflet-touch":"")+(On.retina?" leaflet-retina":"")+(On.ielt9?" leaflet-oldie":"")+(On.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var T=ie(h,"position");"absolute"!==T&&"relative"!==T&&"fixed"!==T&&"sticky"!==T&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ht(this._mapPane,new mt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(h.markerPane,"leaflet-zoom-hide"),xe(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,T,R){Ht(this._mapPane,new mt(0,0));var K=!this._loaded;this._loaded=!0,T=this._limitZoom(T),this.fire("viewprereset");var _e=this._zoom!==T;this._moveStart(_e,R)._move(h,T)._moveEnd(_e),this.fire("viewreset"),K&&this.fire("load")},_moveStart:function(h,T){return h&&this.fire("zoomstart"),T||this.fire("movestart"),this},_move:function(h,T,R,K){void 0===T&&(T=this._zoom);var _e=this._zoom!==T;return this._zoom=T,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),K?R&&R.pinch&&this.fire("zoom",R):((_e||R&&R.pinch)&&this.fire("zoom",R),this.fire("move",R)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Ht(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[Qe(this._container)]=this;var T=h?ar:ai;T(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&T(window,"resize",this._onResize,this),On.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Nt(this._resizeRequest),this._resizeRequest=Qt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,T){for(var K,R=[],_e="mouseout"===T||"mouseover"===T,Me=h.target||h.srcElement,it=!1;Me;){if((K=this._targets[Qe(Me)])&&("click"===T||"preclick"===T)&&this._draggableMoved(K)){it=!0;break}if(K&&K.listens(T,!0)&&(_e&&!lr(Me,h)||(R.push(K),_e))||Me===this._container)break;Me=Me.parentNode}return!R.length&&!it&&!_e&&this.listens(T,!0)&&(R=[this]),R},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var T=h.target||h.srcElement;if(!(!this._loaded||T._leaflet_disable_events||"click"===h.type&&this._isClickDisabled(T))){var R=h.type;"mousedown"===R&&As(T),this._fireDOMEvent(h,R)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,T,R){if("click"===h.type){var K=v({},h);K.type="preclick",this._fireDOMEvent(K,K.type,R)}var _e=this._findEventTargets(h,T);if(R){for(var Me=[],it=0;it<R.length;it++)R[it].listens(T,!0)&&Me.push(R[it]);_e=Me.concat(_e)}if(_e.length){"contextmenu"===T&&Er(h);var Ct=_e[0],Ot={originalEvent:h};if("keypress"!==h.type&&"keydown"!==h.type&&"keyup"!==h.type){var _n=Ct.getLatLng&&(!Ct._radius||Ct._radius<=10);Ot.containerPoint=_n?this.latLngToContainerPoint(Ct.getLatLng()):this.mouseEventToContainerPoint(h),Ot.layerPoint=this.containerPointToLayerPoint(Ot.containerPoint),Ot.latlng=_n?Ct.getLatLng():this.layerPointToLatLng(Ot.layerPoint)}for(it=0;it<_e.length;it++)if(_e[it].fire(T,Ot,!0),Ot.originalEvent._stopped||!1===_e[it].options.bubblingMouseEvents&&-1!==Ye(this._mouseEvents,T))return}},_draggableMoved:function(h){return(h=h.dragging&&h.dragging.enabled()?h:this).dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,T=this._handlers.length;h<T;h++)this._handlers[h].disable()},whenReady:function(h,T){return this._loaded?h.call(T||this,{target:this}):this.on("load",h,T),this},_getMapPanePos:function(){return zn(this._mapPane)||new mt(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,T){return(h&&void 0!==T?this._getNewPixelOrigin(h,T):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,T){var R=this.getSize()._divideBy(2);return this.project(h,T)._subtract(R)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,T,R){var K=this._getNewPixelOrigin(R,T);return this.project(h,T)._subtract(K)},_latLngBoundsToNewLayerBounds:function(h,T,R){var K=this._getNewPixelOrigin(R,T);return pn([this.project(h.getSouthWest(),T)._subtract(K),this.project(h.getNorthWest(),T)._subtract(K),this.project(h.getSouthEast(),T)._subtract(K),this.project(h.getNorthEast(),T)._subtract(K)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,T,R){if(!R)return h;var K=this.project(h,T),_e=this.getSize().divideBy(2),Me=new Gt(K.subtract(_e),K.add(_e)),it=this._getBoundsOffset(Me,R,T);return Math.abs(it.x)<=1&&Math.abs(it.y)<=1?h:this.unproject(K.add(it),T)},_limitOffset:function(h,T){if(!T)return h;var R=this.getPixelBounds(),K=new Gt(R.min.add(h),R.max.add(h));return h.add(this._getBoundsOffset(K,T))},_getBoundsOffset:function(h,T,R){var K=pn(this.project(T.getNorthEast(),R),this.project(T.getSouthWest(),R)),_e=K.min.subtract(h.min),Me=K.max.subtract(h.max);return new mt(this._rebound(_e.x,-Me.x),this._rebound(_e.y,-Me.y))},_rebound:function(h,T){return h+T>0?Math.round(h-T)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(T))},_limitZoom:function(h){var T=this.getMinZoom(),R=this.getMaxZoom(),K=On.any3d?this.options.zoomSnap:1;return K&&(h=Math.round(h/K)*K),Math.max(T,Math.min(R,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,T){var R=this._getCenterOffset(h)._trunc();return!(!0!==(T&&T.animate)&&!this.getSize().contains(R)||(this.panBy(R,T),0))},_createAnimProxy:function(){var h=this._proxy=me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(T){var R=F,K=this._proxy.style[R];zt(this._proxy,this.project(T.center,T.zoom),this.getZoomScale(T.zoom,1)),K===this._proxy.style[R]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),T=this.getZoom();zt(this._proxy,this.project(h,T),this.getZoomScale(T,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,T,R){if(this._animatingZoom)return!0;if(R=R||{},!this._zoomAnimated||!1===R.animate||this._nothingToAnimate()||Math.abs(T-this._zoom)>this.options.zoomAnimationThreshold)return!1;var K=this.getZoomScale(T),_e=this._getCenterOffset(h)._divideBy(1-1/K);return!(!0!==R.animate&&!this.getSize().contains(_e)||(Qt(function(){this._moveStart(!0,R.noMoveStart||!1)._animateZoom(h,T,!0)},this),0))},_animateZoom:function(h,T,R,K){this._mapPane&&(R&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=T,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:T,noUpdate:K}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Xe(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ce=Cn.extend({options:{position:"topright"},initialize:function(h){Jt(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var T=this._map;return T&&T.removeControl(this),this.options.position=h,T&&T.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var T=this._container=this.onAdd(h),R=this.getPosition(),K=h._controlCorners[R];return xe(T,"leaflet-control"),-1!==R.indexOf("bottom")?K.insertBefore(T,K.firstChild):K.appendChild(T),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),fe=function(h){return new Ce(h)};Fi.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},T="leaflet-",R=this._controlContainer=me("div",T+"control-container",this._container);function K(_e,Me){h[_e+Me]=me("div",T+_e+" "+T+Me,R)}K("top","left"),K("top","right"),K("bottom","left"),K("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Ae(this._controlCorners[h]);Ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ue=Ce.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,T,R,K){return R<K?-1:K<R?1:0}},initialize:function(h,T,R){for(var K in Jt(this,R),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,h)this._addLayer(h[K],K);for(K in T)this._addLayer(T[K],K,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var T=0;T<this._layers.length;T++)this._layers[T].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ce.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,T){return this._addLayer(h,T),this._map?this._update():this},addOverlay:function(h,T){return this._addLayer(h,T,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var T=this._getLayer(Qe(h));return T&&this._layers.splice(this._layers.indexOf(T),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",T=this._container=me("div",h),R=this.options.collapsed;T.setAttribute("aria-haspopup",!0),ms(T),Ls(T);var K=this._section=me("section",h+"-list");R&&(this._map.on("click",this.collapse,this),ai(T,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _e=this._layersLink=me("a",h+"-toggle",T);_e.href="#",_e.title="Layers",_e.setAttribute("role","button"),ai(_e,{keydown:function(Me){13===Me.keyCode&&this._expandSafely()},click:function(Me){Er(Me),this._expandSafely()}},this),R||this.expand(),this._baseLayersList=me("div",h+"-base",K),this._separator=me("div",h+"-separator",K),this._overlaysList=me("div",h+"-overlays",K),T.appendChild(K)},_getLayer:function(h){for(var T=0;T<this._layers.length;T++)if(this._layers[T]&&Qe(this._layers[T].layer)===h)return this._layers[T]},_addLayer:function(h,T,R){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:T,overlay:R}),this.options.sortLayers&&this._layers.sort(Xe(function(K,_e){return this.options.sortFunction(K.layer,_e.layer,K.name,_e.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ve(this._baseLayersList),Ve(this._overlaysList),this._layerControlInputs=[];var h,T,R,K,_e=0;for(R=0;R<this._layers.length;R++)this._addItem(K=this._layers[R]),T=T||K.overlay,h=h||!K.overlay,_e+=K.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(h=h&&_e>1)?"":"none"),this._separator.style.display=T&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var T=this._getLayer(Qe(h.target)),R=T.overlay?"add"===h.type?"overlayadd":"overlayremove":"add"===h.type?"baselayerchange":null;R&&this._map.fire(R,T)},_createRadioElement:function(h,T){var R='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(T?' checked="checked"':"")+"/>",K=document.createElement("div");return K.innerHTML=R,K.firstChild},_addItem:function(h){var K,T=document.createElement("label"),R=this._map.hasLayer(h.layer);h.overlay?((K=document.createElement("input")).type="checkbox",K.className="leaflet-control-layers-selector",K.defaultChecked=R):K=this._createRadioElement("leaflet-base-layers_"+Qe(this),R),this._layerControlInputs.push(K),K.layerId=Qe(h.layer),ai(K,"click",this._onInputClick,this);var _e=document.createElement("span");_e.innerHTML=" "+h.name;var Me=document.createElement("span");return T.appendChild(Me),Me.appendChild(K),Me.appendChild(_e),(h.overlay?this._overlaysList:this._baseLayersList).appendChild(T),this._checkDisabledLayers(),T},_onInputClick:function(){if(!this._preventClick){var T,R,h=this._layerControlInputs,K=[],_e=[];this._handlingClick=!0;for(var Me=h.length-1;Me>=0;Me--)R=this._getLayer((T=h[Me]).layerId).layer,T.checked?K.push(R):T.checked||_e.push(R);for(Me=0;Me<_e.length;Me++)this._map.hasLayer(_e[Me])&&this._map.removeLayer(_e[Me]);for(Me=0;Me<K.length;Me++)this._map.hasLayer(K[Me])||this._map.addLayer(K[Me]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var T,R,h=this._layerControlInputs,K=this._map.getZoom(),_e=h.length-1;_e>=0;_e--)R=this._getLayer((T=h[_e]).layerId).layer,T.disabled=void 0!==R.options.minZoom&&K<R.options.minZoom||void 0!==R.options.maxZoom&&K>R.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,ai(h,"click",Er),this.expand();var T=this;setTimeout(function(){ar(h,"click",Er),T._preventClick=!1})}}),Pt=Ce.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var T="leaflet-control-zoom",R=me("div",T+" leaflet-bar"),K=this.options;return this._zoomInButton=this._createButton(K.zoomInText,K.zoomInTitle,T+"-in",R,this._zoomIn),this._zoomOutButton=this._createButton(K.zoomOutText,K.zoomOutTitle,T+"-out",R,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),R},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,T,R,K,_e){var Me=me("a",R,K);return Me.innerHTML=h,Me.href="#",Me.title=T,Me.setAttribute("role","button"),Me.setAttribute("aria-label",T),ms(Me),ai(Me,"click",Fs),ai(Me,"click",_e,this),ai(Me,"click",this._refocusOnMap,this),Me},_updateDisabled:function(){var h=this._map,T="leaflet-disabled";Pe(this._zoomInButton,T),Pe(this._zoomOutButton,T),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(xe(this._zoomOutButton,T),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(xe(this._zoomInButton,T),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fi.mergeOptions({zoomControl:!0}),Fi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pt,this.addControl(this.zoomControl))});var wn=Ce.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var T="leaflet-control-scale",R=me("div",T),K=this.options;return this._addScales(K,T+"-line",R),h.on(K.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),R},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,T,R){h.metric&&(this._mScale=me("div",T,R)),h.imperial&&(this._iScale=me("div",T,R))},_update:function(){var h=this._map,T=h.getSize().y/2,R=h.distance(h.containerPointToLatLng([0,T]),h.containerPointToLatLng([this.options.maxWidth,T]));this._updateScales(R)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var T=this._getRoundNum(h);this._updateScale(this._mScale,T<1e3?T+" m":T/1e3+" km",T/h)},_updateImperial:function(h){var R,K,_e,T=3.2808399*h;T>5280?(K=this._getRoundNum(R=T/5280),this._updateScale(this._iScale,K+" mi",K/R)):(_e=this._getRoundNum(T),this._updateScale(this._iScale,_e+" ft",_e/T))},_updateScale:function(h,T,R){h.style.width=Math.round(this.options.maxWidth*R)+"px",h.innerHTML=T},_getRoundNum:function(h){var T=Math.pow(10,(Math.floor(h)+"").length-1),R=h/T;return T*(R>=10?10:R>=5?5:R>=3?3:R>=2?2:1)}}),hi=Ce.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(On.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(h){Jt(this,h),this._attributions={}},onAdd:function(h){for(var T in h.attributionControl=this,this._container=me("div","leaflet-control-attribution"),ms(this._container),h._layers)h._layers[T].getAttribution&&this.addAttribution(h._layers[T].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var T in this._attributions)this._attributions[T]&&h.push(T);var R=[];this.options.prefix&&R.push(this.options.prefix),h.length&&R.push(h.join(", ")),this._container.innerHTML=R.join(' <span aria-hidden="true">|</span> ')}}});Fi.mergeOptions({attributionControl:!0}),Fi.addInitHook(function(){this.options.attributionControl&&(new hi).addTo(this)});Ce.Layers=Ue,Ce.Zoom=Pt,Ce.Scale=wn,Ce.Attribution=hi,fe.layers=function(h,T,R){return new Ue(h,T,R)},fe.zoom=function(h){return new Pt(h)},fe.scale=function(h){return new wn(h)},fe.attribution=function(h){return new hi(h)};var Hr=Cn.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hr.addTo=function(h,T){return h.addHandler(T,this),this};var Bs={Events:In},xs=On.touch?"touchstart mousedown":"mousedown",oo=mn.extend({options:{clickTolerance:3},initialize:function(h,T,R,K){Jt(this,K),this._element=h,this._dragStartTarget=T||h,this._preventOutline=R},enable:function(){this._enabled||(ai(this._dragStartTarget,xs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oo._dragging===this&&this.finishDrag(!0),ar(this._dragStartTarget,xs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim"))){if(h.touches&&1!==h.touches.length)return void(oo._dragging===this&&this.finishDrag());if(!(oo._dragging||h.shiftKey||1!==h.which&&1!==h.button&&!h.touches||(oo._dragging=this,this._preventOutline&&As(this._element),pi(),Qn(),this._moving))){this.fire("down");var T=h.touches?h.touches[0]:h,R=kr(this._element);this._startPoint=new mt(T.clientX,T.clientY),this._startPos=zn(this._element),this._parentScale=zi(R);var K="mousedown"===h.type;ai(document,K?"mousemove":"touchmove",this._onMove,this),ai(document,K?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1)return void(this._moved=!0);var T=h.touches&&1===h.touches.length?h.touches[0]:h,R=new mt(T.clientX,T.clientY)._subtract(this._startPoint);!R.x&&!R.y||Math.abs(R.x)+Math.abs(R.y)<this.options.clickTolerance||(R.x/=this._parentScale.x,R.y/=this._parentScale.y,Er(h),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(R),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Ht(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ar(document,"mousemove touchmove",this._onMove,this),ar(document,"mouseup touchend touchcancel",this._onUp,this),$i(),di();var T=this._moved&&this._moving;this._moving=!1,oo._dragging=!1,T&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function ha(h,T,R){var K,Me,it,Ct,Ot,_n,Xn,wi,Xi,_e=[1,4,2,8];for(Me=0,Xn=h.length;Me<Xn;Me++)h[Me]._code=Po(h[Me],T);for(Ct=0;Ct<4;Ct++){for(wi=_e[Ct],K=[],Me=0,it=(Xn=h.length)-1;Me<Xn;it=Me++)_n=h[it],(Ot=h[Me])._code&wi?_n._code&wi||((Xi=vs(_n,Ot,wi,T,R))._code=Po(Xi,T),K.push(Xi)):(_n._code&wi&&((Xi=vs(_n,Ot,wi,T,R))._code=Po(Xi,T),K.push(Xi)),K.push(Ot));h=K}return h}function fa(h,T){var R,K,_e,Me,it,Ct,Ot,_n;if(!h||0===h.length)throw new Error("latlngs not passed");Kr(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var wi=$n([0,0]),Xi=rn(h);Xi.getNorthWest().distanceTo(Xi.getSouthWest())*Xi.getNorthEast().distanceTo(Xi.getNorthWest())<1700&&(wi=ws(h));var as=h.length,Uo=[];for(R=0;R<as;R++){var jr=$n(h[R]);Uo.push(T.project($n([jr.lat-wi.lat,jr.lng-wi.lng])))}for(Ct=Ot=_n=0,R=0,K=as-1;R<as;K=R++)Ot+=((_e=Uo[R]).x+(Me=Uo[K]).x)*(it=_e.y*Me.x-Me.y*_e.x),_n+=(_e.y+Me.y)*it,Ct+=3*it;var Ho=T.unproject(pt(0===Ct?Uo[0]:[Ot/Ct,_n/Ct]));return $n([Ho.lat+wi.lat,Ho.lng+wi.lng])}function ws(h){for(var T=0,R=0,K=0,_e=0;_e<h.length;_e++){var Me=$n(h[_e]);T+=Me.lat,R+=Me.lng,K++}return $n([T/K,R/K])}var bo,Do={__proto__:null,clipPolygon:ha,polygonCenter:fa,centroid:ws};function Us(h,T){if(!T||!h.length)return h.slice();var R=T*T;return function qo(h,T){var R=h.length,_e=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(R);_e[0]=_e[R-1]=1,Tr(h,_e,T,0,R-1);var Me,it=[];for(Me=0;Me<R;Me++)_e[Me]&&it.push(h[Me]);return it}(h=function Ia(h,T){for(var R=[h[0]],K=1,_e=0,Me=h.length;K<Me;K++)lo(h[K],h[_e])>T&&(R.push(h[K]),_e=K);return _e<Me-1&&R.push(h[Me-1]),R}(h,R),R)}function Xr(h,T,R){return Math.sqrt(Wo(h,T,R,!0))}function Tr(h,T,R,K,_e){var it,Ct,Ot,Me=0;for(Ct=K+1;Ct<=_e-1;Ct++)(Ot=Wo(h[Ct],h[K],h[_e],!0))>Me&&(it=Ct,Me=Ot);Me>R&&(T[it]=1,Tr(h,T,R,K,it),Tr(h,T,R,it,_e))}function ko(h,T,R,K,_e){var Ct,Ot,_n,Me=K?bo:Po(h,R),it=Po(T,R);for(bo=it;;){if(!(Me|it))return[h,T];if(Me&it)return!1;_n=Po(Ot=vs(h,T,Ct=Me||it,R,_e),R),Ct===Me?(h=Ot,Me=_n):(T=Ot,it=_n)}}function vs(h,T,R,K,_e){var _n,Xn,Me=T.x-h.x,it=T.y-h.y,Ct=K.min,Ot=K.max;return 8&R?(_n=h.x+Me*(Ot.y-h.y)/it,Xn=Ot.y):4&R?(_n=h.x+Me*(Ct.y-h.y)/it,Xn=Ct.y):2&R?(_n=Ot.x,Xn=h.y+it*(Ot.x-h.x)/Me):1&R&&(_n=Ct.x,Xn=h.y+it*(Ct.x-h.x)/Me),new mt(_n,Xn,_e)}function Po(h,T){var R=0;return h.x<T.min.x?R|=1:h.x>T.max.x&&(R|=2),h.y<T.min.y?R|=4:h.y>T.max.y&&(R|=8),R}function lo(h,T){var R=T.x-h.x,K=T.y-h.y;return R*R+K*K}function Wo(h,T,R,K){var _n,_e=T.x,Me=T.y,it=R.x-_e,Ct=R.y-Me,Ot=it*it+Ct*Ct;return Ot>0&&((_n=((h.x-_e)*it+(h.y-Me)*Ct)/Ot)>1?(_e=R.x,Me=R.y):_n>0&&(_e+=it*_n,Me+=Ct*_n)),it=h.x-_e,Ct=h.y-Me,K?it*it+Ct*Ct:new mt(_e,Me)}function Kr(h){return!At(h[0])||"object"!=typeof h[0][0]&&typeof h[0][0]<"u"}function co(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kr(h)}function xo(h,T){var R,K,_e,Me,it,Ct,Ot,_n;if(!h||0===h.length)throw new Error("latlngs not passed");Kr(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Xn=$n([0,0]),wi=rn(h);wi.getNorthWest().distanceTo(wi.getSouthWest())*wi.getNorthEast().distanceTo(wi.getNorthWest())<1700&&(Xn=ws(h));var Ws=h.length,as=[];for(R=0;R<Ws;R++){var Uo=$n(h[R]);as.push(T.project($n([Uo.lat-Xn.lat,Uo.lng-Xn.lng])))}for(R=0,K=0;R<Ws-1;R++)K+=as[R].distanceTo(as[R+1])/2;if(0===K)_n=as[0];else for(R=0,Me=0;R<Ws-1;R++)if((Me+=_e=(it=as[R]).distanceTo(Ct=as[R+1]))>K){_n=[Ct.x-(Ot=(Me-K)/_e)*(Ct.x-it.x),Ct.y-Ot*(Ct.y-it.y)];break}var jr=T.unproject(pt(_n));return $n([jr.lat+Xn.lat,jr.lng+Xn.lng])}var Ii={__proto__:null,simplify:Us,pointToSegmentDistance:Xr,closestPointOnSegment:function ao(h,T,R){return Wo(h,T,R)},clipSegment:ko,_getEdgeIntersection:vs,_getBitCode:Po,_sqClosestPointOnSegment:Wo,isFlat:Kr,_flat:co,polylineCenter:xo},$o={project:function(h){return new mt(h.lng,h.lat)},unproject:function(h){return new Dt(h.y,h.x)},bounds:new Gt([-180,-90],[180,90])},ge={R:6378137,R_MINOR:6356752.314245179,bounds:new Gt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(h){var T=Math.PI/180,R=this.R,K=h.lat*T,_e=this.R_MINOR/R,Me=Math.sqrt(1-_e*_e),it=Me*Math.sin(K),Ct=Math.tan(Math.PI/4-K/2)/Math.pow((1-it)/(1+it),Me/2);return K=-R*Math.log(Math.max(Ct,1e-10)),new mt(h.lng*T*R,K)},unproject:function(h){for(var _n,T=180/Math.PI,R=this.R,K=this.R_MINOR/R,_e=Math.sqrt(1-K*K),Me=Math.exp(-h.y/R),it=Math.PI/2-2*Math.atan(Me),Ct=0,Ot=.1;Ct<15&&Math.abs(Ot)>1e-7;Ct++)_n=_e*Math.sin(it),_n=Math.pow((1-_n)/(1+_n),_e/2),it+=Ot=Math.PI/2-2*Math.atan(Me*_n)-it;return new Dt(it*T,h.x*T/R)}},pe={__proto__:null,LonLat:$o,Mercator:ge,SphericalMercator:Rn},re=v({},Pn,{code:"EPSG:3395",projection:ge,transformation:function(){var h=.5/(Math.PI*ge.R);return Di(h,.5,-h,.5)}()}),Re=v({},Pn,{code:"EPSG:4326",projection:$o,transformation:Di(1/180,1,-1/180,.5)}),Vt=v({},Tn,{projection:$o,transformation:Di(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,T){var R=T.lng-h.lng,K=T.lat-h.lat;return Math.sqrt(R*R+K*K)},infinite:!0});Tn.Earth=Pn,Tn.EPSG3395=re,Tn.EPSG3857=bi,Tn.EPSG900913=li,Tn.EPSG4326=Re,Tn.Simple=Vt;var Zn=mn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[Qe(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[Qe(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var T=h.target;if(T.hasLayer(this)){if(this._map=T,this._zoomAnimated=T._zoomAnimated,this.getEvents){var R=this.getEvents();T.on(R,this),this.once("remove",function(){T.off(R,this)},this)}this.onAdd(T),this.fire("add"),T.fire("layeradd",{layer:this})}}});Fi.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var T=Qe(h);return this._layers[T]||(this._layers[T]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h)),this},removeLayer:function(h){var T=Qe(h);return this._layers[T]?(this._loaded&&h.onRemove(this),delete this._layers[T],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return Qe(h)in this._layers},eachLayer:function(h,T){for(var R in this._layers)h.call(T,this._layers[R]);return this},_addLayers:function(h){for(var T=0,R=(h=h?At(h)?h:[h]:[]).length;T<R;T++)this.addLayer(h[T])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[Qe(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var T=Qe(h);this._zoomBoundLayers[T]&&(delete this._zoomBoundLayers[T],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,T=-1/0,R=this._getZoomSpan();for(var K in this._zoomBoundLayers){var _e=this._zoomBoundLayers[K].options;h=void 0===_e.minZoom?h:Math.min(h,_e.minZoom),T=void 0===_e.maxZoom?T:Math.max(T,_e.maxZoom)}this._layersMaxZoom=T===-1/0?void 0:T,this._layersMinZoom=h===1/0?void 0:h,R!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ar=Zn.extend({initialize:function(h,T){var R,K;if(Jt(this,T),this._layers={},h)for(R=0,K=h.length;R<K;R++)this.addLayer(h[R])},addLayer:function(h){var T=this.getLayerId(h);return this._layers[T]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var T=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[T]&&this._map.removeLayer(this._layers[T]),delete this._layers[T],this},hasLayer:function(h){return("number"==typeof h?h:this.getLayerId(h))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var R,K,T=Array.prototype.slice.call(arguments,1);for(R in this._layers)(K=this._layers[R])[h]&&K[h].apply(K,T);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,T){for(var R in this._layers)h.call(T,this._layers[R]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return Qe(h)}}),Ei=Ar.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Ar.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Ar.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new en;for(var T in this._layers){var R=this._layers[T];h.extend(R.getBounds?R.getBounds():R.getLatLng())}return h}}),Ko=Cn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){Jt(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,T){var R=this._getIconUrl(h);if(!R){if("icon"===h)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var K=this._createImg(R,T&&"IMG"===T.tagName?T:null);return this._setIconStyles(K,h),(this.options.crossOrigin||""===this.options.crossOrigin)&&(K.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),K},_setIconStyles:function(h,T){var R=this.options,K=R[T+"Size"];"number"==typeof K&&(K=[K,K]);var _e=pt(K),Me=pt("shadow"===T&&R.shadowAnchor||R.iconAnchor||_e&&_e.divideBy(2,!0));h.className="leaflet-marker-"+T+" "+(R.className||""),Me&&(h.style.marginLeft=-Me.x+"px",h.style.marginTop=-Me.y+"px"),_e&&(h.style.width=_e.x+"px",h.style.height=_e.y+"px")},_createImg:function(h,T){return(T=T||document.createElement("img")).src=h,T},_getIconUrl:function(h){return On.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});var wo=Ko.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return"string"!=typeof wo.imagePath&&(wo.imagePath=this._detectIconPath()),(this.options.imagePath||wo.imagePath)+Ko.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var T=function(R,K,_e){var Me=K.exec(R);return Me&&Me[_e]};return(h=T(h,/^url\((['"])?(.+)\1\)$/,2))&&T(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=me("div","leaflet-default-icon-path",document.body),T=ie(h,"background-image")||ie(h,"backgroundImage");if(document.body.removeChild(h),T=this._stripUrl(T))return T;var R=document.querySelector('link[href$="leaflet.css"]');return R?R.href.substring(0,R.href.length-11-1):""}}),pa=Hr.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new oo(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var T=this._marker,R=T._map,K=this._marker.options.autoPanSpeed,_e=this._marker.options.autoPanPadding,Me=zn(T._icon),it=R.getPixelBounds(),Ct=R.getPixelOrigin(),Ot=pn(it.min._subtract(Ct).add(_e),it.max._subtract(Ct).subtract(_e));if(!Ot.contains(Me)){var _n=pt((Math.max(Ot.max.x,Me.x)-Ot.max.x)/(it.max.x-Ot.max.x)-(Math.min(Ot.min.x,Me.x)-Ot.min.x)/(it.min.x-Ot.min.x),(Math.max(Ot.max.y,Me.y)-Ot.max.y)/(it.max.y-Ot.max.y)-(Math.min(Ot.min.y,Me.y)-Ot.min.y)/(it.min.y-Ot.min.y)).multiplyBy(K);R.panBy(_n,{animate:!1}),this._draggable._newPos._add(_n),this._draggable._startPos._add(_n),Ht(T._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=Qt(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(Nt(this._panRequest),this._panRequest=Qt(this._adjustPan.bind(this,h)))},_onDrag:function(h){var T=this._marker,R=T._shadow,K=zn(T._icon),_e=T._map.layerPointToLatLng(K);R&&Ht(R,K),T._latlng=_e,h.latlng=_e,h.oldLatLng=this._oldLatLng,T.fire("move",h).fire("drag",h)},_onDragEnd:function(h){Nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Is=Zn.extend({options:{icon:new wo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,T){Jt(this,T),this._latlng=$n(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var T=this._latlng;return this._latlng=$n(h),this.update(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,T="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),R=h.icon.createIcon(this._icon),K=!1;R!==this._icon&&(this._icon&&this._removeIcon(),K=!0,h.title&&(R.title=h.title),"IMG"===R.tagName&&(R.alt=h.alt||"")),xe(R,T),h.keyboard&&(R.tabIndex="0",R.setAttribute("role","button")),this._icon=R,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ai(R,"focus",this._panOnFocus,this);var _e=h.icon.createShadow(this._shadow),Me=!1;_e!==this._shadow&&(this._removeShadow(),Me=!0),_e&&(xe(_e,T),_e.alt=""),this._shadow=_e,h.opacity<1&&this._updateOpacity(),K&&this.getPane().appendChild(this._icon),this._initInteraction(),_e&&Me&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ar(this._icon,"focus",this._panOnFocus,this),Ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ae(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Ht(this._icon,h),this._shadow&&Ht(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var T=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(T)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pa)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pa(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&st(this._icon,h),this._shadow&&st(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var T=this.options.icon.options,R=T.iconSize?pt(T.iconSize):pt(0,0),K=T.iconAnchor?pt(T.iconAnchor):pt(0,0);h.panInside(this._latlng,{paddingTopLeft:K,paddingBottomRight:R.subtract(K)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Eo=Zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return Jt(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pl=Eo.extend({options:{fill:!0,radius:10},initialize:function(h,T){Jt(this,T),this._latlng=$n(h),this._radius=this.options.radius},setLatLng:function(h){var T=this._latlng;return this._latlng=$n(h),this.redraw(),this.fire("move",{oldLatLng:T,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var T=h&&h.radius||this._radius;return Eo.prototype.setStyle.call(this,h),this.setRadius(T),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,T=this._radiusY||h,R=this._clickTolerance(),K=[h+R,T+R];this._pxBounds=new Gt(this._point.subtract(K),this._point.add(K))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Da=pl.extend({initialize:function(h,T,R){if("number"==typeof T&&(T=v({},R,{radius:T})),Jt(this,T),this._latlng=$n(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new en(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:Eo.prototype.setStyle,_project:function(){var h=this._latlng.lng,T=this._latlng.lat,R=this._map,K=R.options.crs;if(K.distance===Pn.distance){var _e=Math.PI/180,Me=this._mRadius/Pn.R/_e,it=R.project([T+Me,h]),Ct=R.project([T-Me,h]),Ot=it.add(Ct).divideBy(2),_n=R.unproject(Ot).lat,Xn=Math.acos((Math.cos(Me*_e)-Math.sin(T*_e)*Math.sin(_n*_e))/(Math.cos(T*_e)*Math.cos(_n*_e)))/_e;(isNaN(Xn)||0===Xn)&&(Xn=Me/Math.cos(Math.PI/180*T)),this._point=Ot.subtract(R.getPixelOrigin()),this._radius=isNaN(Xn)?0:Ot.x-R.project([_n,h-Xn]).x,this._radiusY=Ot.y-it.y}else{var wi=K.unproject(K.project(this._latlng).subtract([this._mRadius,0]));this._point=R.latLngToLayerPoint(this._latlng),this._radius=this._point.x-R.latLngToLayerPoint(wi).x}this._updateBounds()}});var Ji=Eo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,T){Jt(this,T),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var _e,Me,T=1/0,R=null,K=Wo,it=0,Ct=this._parts.length;it<Ct;it++)for(var Ot=this._parts[it],_n=1,Xn=Ot.length;_n<Xn;_n++){var wi=K(h,_e=Ot[_n-1],Me=Ot[_n],!0);wi<T&&(T=wi,R=K(h,_e,Me))}return R&&(R.distance=Math.sqrt(T)),R},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,T){return T=T||this._defaultShape(),h=$n(h),T.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new en,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return Kr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var T=[],R=Kr(h),K=0,_e=h.length;K<_e;K++)R?(T[K]=$n(h[K]),this._bounds.extend(T[K])):T[K]=this._convertLatLngs(h[K]);return T},_project:function(){var h=new Gt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),T=new mt(h,h);this._rawPxBounds&&(this._pxBounds=new Gt([this._rawPxBounds.min.subtract(T),this._rawPxBounds.max.add(T)]))},_projectLatlngs:function(h,T,R){var Me,it,_e=h.length;if(h[0]instanceof Dt){for(it=[],Me=0;Me<_e;Me++)it[Me]=this._map.latLngToLayerPoint(h[Me]),R.extend(it[Me]);T.push(it)}else for(Me=0;Me<_e;Me++)this._projectLatlngs(h[Me],T,R)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(h)){if(this.options.noClip)return void(this._parts=this._rings);var R,K,_e,Me,it,Ct,Ot,T=this._parts;for(R=0,_e=0,Me=this._rings.length;R<Me;R++)for(K=0,it=(Ot=this._rings[R]).length;K<it-1;K++)(Ct=ko(Ot[K],Ot[K+1],h,K,!0))&&(T[_e]=T[_e]||[],T[_e].push(Ct[0]),(Ct[1]!==Ot[K+1]||K===it-2)&&(T[_e].push(Ct[1]),_e++))}},_simplifyPoints:function(){for(var h=this._parts,T=this.options.smoothFactor,R=0,K=h.length;R<K;R++)h[R]=Us(h[R],T)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,T){var R,K,_e,Me,it,Ct,Ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(R=0,Me=this._parts.length;R<Me;R++)for(K=0,_e=(it=(Ct=this._parts[R]).length)-1;K<it;_e=K++)if((T||0!==K)&&Xr(h,Ct[_e],Ct[K])<=Ot)return!0;return!1}});Ji._flat=co;var uo=Ji.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var T=Ji.prototype._convertLatLngs.call(this,h),R=T.length;return R>=2&&T[0]instanceof Dt&&T[0].equals(T[R-1])&&T.pop(),T},_setLatLngs:function(h){Ji.prototype._setLatLngs.call(this,h),Kr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,T=this.options.weight,R=new mt(T,T);if(h=new Gt(h.min.subtract(R),h.max.add(R)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(h)){if(this.options.noClip)return void(this._parts=this._rings);for(var Me,K=0,_e=this._rings.length;K<_e;K++)(Me=ha(this._rings[K],h,!0)).length&&this._parts.push(Me)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var R,K,_e,Me,it,Ct,Ot,_n,T=!1;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(Me=0,Ot=this._parts.length;Me<Ot;Me++)for(it=0,Ct=(_n=(R=this._parts[Me]).length)-1;it<_n;Ct=it++)(K=R[it]).y>h.y!=(_e=R[Ct]).y>h.y&&h.x<(_e.x-K.x)*(h.y-K.y)/(_e.y-K.y)+K.x&&(T=!T);return T||Ji.prototype._containsPoint.call(this,h,!0)}});var os=Ei.extend({initialize:function(h,T){Jt(this,T),this._layers={},h&&this.addData(h)},addData:function(h){var R,K,_e,T=At(h)?h:h.features;if(T){for(R=0,K=T.length;R<K;R++)((_e=T[R]).geometries||_e.geometry||_e.features||_e.coordinates)&&this.addData(_e);return this}var Me=this.options;if(Me.filter&&!Me.filter(h))return this;var it=xn(h,Me);return it?(it.feature=Ka(h),it.defaultOptions=it.options,this.resetStyle(it),Me.onEachFeature&&Me.onEachFeature(h,it),this.addLayer(it)):this},resetStyle:function(h){return void 0===h?this.eachLayer(this.resetStyle,this):(h.options=v({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(T){this._setLayerStyle(T,h)},this)},_setLayerStyle:function(h,T){h.setStyle&&("function"==typeof T&&(T=T(h.feature)),h.setStyle(T))}});function xn(h,T){var Ct,Ot,_n,Xn,R="Feature"===h.type?h.geometry:h,K=R?R.coordinates:null,_e=[],Me=T&&T.pointToLayer,it=T&&T.coordsToLatLng||ho;if(!K&&!R)return null;switch(R.type){case"Point":return qs(Me,h,Ct=it(K),T);case"MultiPoint":for(_n=0,Xn=K.length;_n<Xn;_n++)Ct=it(K[_n]),_e.push(qs(Me,h,Ct,T));return new Ei(_e);case"LineString":case"MultiLineString":return Ot=Oo(K,"LineString"===R.type?0:1,it),new Ji(Ot,T);case"Polygon":case"MultiPolygon":return Ot=Oo(K,"Polygon"===R.type?1:2,it),new uo(Ot,T);case"GeometryCollection":for(_n=0,Xn=R.geometries.length;_n<Xn;_n++){var wi=xn({geometry:R.geometries[_n],type:"Feature",properties:h.properties},T);wi&&_e.push(wi)}return new Ei(_e);case"FeatureCollection":for(_n=0,Xn=R.features.length;_n<Xn;_n++){var Xi=xn(R.features[_n],T);Xi&&_e.push(Xi)}return new Ei(_e);default:throw new Error("Invalid GeoJSON object.")}}function qs(h,T,R,K){return h?h(T,R):new Is(R,K&&K.markersInheritOptions&&K)}function ho(h){return new Dt(h[1],h[0],h[2])}function Oo(h,T,R){for(var it,K=[],_e=0,Me=h.length;_e<Me;_e++)it=T?Oo(h[_e],T-1,R):(R||ho)(h[_e]),K.push(it);return K}function Hs(h,T){return void 0!==(h=$n(h)).alt?[bt(h.lng,T),bt(h.lat,T),bt(h.alt,T)]:[bt(h.lng,T),bt(h.lat,T)]}function Fa(h,T,R,K){for(var _e=[],Me=0,it=h.length;Me<it;Me++)_e.push(T?Fa(h[Me],Kr(h[Me])?0:T-1,R,K):Hs(h[Me],K));return!T&&R&&_e.length>0&&_e.push(_e[0].slice()),_e}function Mo(h,T){return h.feature?v({},h.feature,{geometry:T}):Ka(T)}function Ka(h){return"Feature"===h.type||"FeatureCollection"===h.type?h:{type:"Feature",properties:{},geometry:h}}var Jo={toGeoJSON:function(h){return Mo(this,{type:"Point",coordinates:Hs(this.getLatLng(),h)})}};function Qo(h,T){return new os(h,T)}Is.include(Jo),Da.include(Jo),pl.include(Jo),Ji.include({toGeoJSON:function(h){var T=!Kr(this._latlngs);return Mo(this,{type:(T?"Multi":"")+"LineString",coordinates:Fa(this._latlngs,T?1:0,!1,h)})}}),uo.include({toGeoJSON:function(h){var T=!Kr(this._latlngs),R=T&&!Kr(this._latlngs[0]),K=Fa(this._latlngs,R?2:T?1:0,!0,h);return T||(K=[K]),Mo(this,{type:(R?"Multi":"")+"Polygon",coordinates:K})}}),Ar.include({toMultiPoint:function(h){var T=[];return this.eachLayer(function(R){T.push(R.toGeoJSON(h).geometry.coordinates)}),Mo(this,{type:"MultiPoint",coordinates:T})},toGeoJSON:function(h){var T=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===T)return this.toMultiPoint(h);var R="GeometryCollection"===T,K=[];return this.eachLayer(function(_e){if(_e.toGeoJSON){var Me=_e.toGeoJSON(h);if(R)K.push(Me.geometry);else{var it=Ka(Me);"FeatureCollection"===it.type?K.push.apply(K,it.features):K.push(it)}}}),R?Mo(this,{geometries:K,type:"GeometryCollection"}):{type:"FeatureCollection",features:K}}});var Va=Qo,Ba=Zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,T,R){this._url=h,this._bounds=rn(T),Jt(this,R)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&D(this._image),this},bringToBack:function(){return this._map&&Z(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=rn(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h="IMG"===this._url.tagName,T=this._image=h?this._url:me("img");xe(T,"leaflet-image-layer"),this._zoomAnimated&&xe(T,"leaflet-zoom-animated"),this.options.className&&xe(T,this.options.className),T.onselectstart=vt,T.onmousemove=vt,T.onload=Xe(this.fire,this,"load"),T.onerror=Xe(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(T.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h?this._url=T.src:(T.src=this._url,T.alt=this.options.alt)},_animateZoom:function(h){var T=this._map.getZoomScale(h.zoom),R=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;zt(this._image,R,T)},_reset:function(){var h=this._image,T=new Gt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),R=T.getSize();Ht(h,T.min),h.style.width=R.x+"px",h.style.height=R.y+"px"},_updateOpacity:function(){st(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Zr=Ba.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h="VIDEO"===this._url.tagName,T=this._image=h?this._url:me("video");if(xe(T,"leaflet-image-layer"),this._zoomAnimated&&xe(T,"leaflet-zoom-animated"),this.options.className&&xe(T,this.options.className),T.onselectstart=vt,T.onmousemove=vt,T.onloadeddata=Xe(this.fire,this,"load"),h){for(var R=T.getElementsByTagName("source"),K=[],_e=0;_e<R.length;_e++)K.push(R[_e].src);this._url=R.length>0?K:[T.src]}else{At(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(T.style,"objectFit")&&(T.style.objectFit="fill"),T.autoplay=!!this.options.autoplay,T.loop=!!this.options.loop,T.muted=!!this.options.muted,T.playsInline=!!this.options.playsInline;for(var Me=0;Me<this._url.length;Me++){var it=me("source");it.src=this._url[Me],T.appendChild(it)}}}});var Ha=Ba.extend({_initImage:function(){var h=this._image=this._url;xe(h,"leaflet-image-layer"),this._zoomAnimated&&xe(h,"leaflet-zoom-animated"),this.options.className&&xe(h,this.options.className),h.onselectstart=vt,h.onmousemove=vt}});var Mr=Zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,T){h&&(h instanceof Dt||At(h))?(this._latlng=$n(h),Jt(this,T)):(Jt(this,h),this._source=T),this.options.content&&(this._content=this.options.content)},openOn:function(h){return(h=arguments.length?h:this._source._map).hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&st(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&st(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(st(this._container,0),this._removeTimeout=setTimeout(Xe(Ae,void 0,this._container),200)):Ae(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=$n(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&D(this._container),this},bringToBack:function(){return this._map&&Z(this._container),this},_prepareOpen:function(h){var T=this._source;if(!T._map)return!1;if(T instanceof Ei){T=null;var R=this._source._layers;for(var K in R)if(R[K]._map){T=R[K];break}if(!T)return!1;this._source=T}if(!h)if(T.getCenter)h=T.getCenter();else if(T.getLatLng)h=T.getLatLng();else{if(!T.getBounds)throw new Error("Unable to get source layer LatLng.");h=T.getBounds().getCenter()}return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,T="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof T)h.innerHTML=T;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(T)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),T=pt(this.options.offset),R=this._getAnchor();this._zoomAnimated?Ht(this._container,h.add(R)):T=T.add(h).add(R);var K=this._containerBottom=-T.y,_e=this._containerLeft=-Math.round(this._containerWidth/2)+T.x;this._container.style.bottom=K+"px",this._container.style.left=_e+"px"}},_getAnchor:function(){return[0,0]}});Fi.include({_initOverlay:function(h,T,R,K){var _e=T;return _e instanceof h||(_e=new h(K).setContent(T)),R&&_e.setLatLng(R),_e}}),Zn.include({_initOverlay:function(h,T,R,K){var _e=R;return _e instanceof h?(Jt(_e,K),_e._source=this):(_e=T&&!K?T:new h(K,this)).setContent(R),_e}});var Ts=Mr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return!(h=arguments.length?h:this._source._map).hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,Mr.prototype.openOn.call(this,h)},onAdd:function(h){Mr.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Eo||this._source.on("preclick",Ns))},onRemove:function(h){Mr.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Eo||this._source.off("preclick",Ns))},getEvents:function(){var h=Mr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",T=this._container=me("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),R=this._wrapper=me("div",h+"-content-wrapper",T);if(this._contentNode=me("div",h+"-content",R),ms(T),Ls(this._contentNode),ai(T,"contextmenu",Ns),this._tipContainer=me("div",h+"-tip-container",T),this._tip=me("div",h+"-tip",this._tipContainer),this.options.closeButton){var K=this._closeButton=me("a",h+"-close-button",T);K.setAttribute("role","button"),K.setAttribute("aria-label","Close popup"),K.href="#close",K.innerHTML='<span aria-hidden="true">&#215;</span>',ai(K,"click",function(_e){Er(_e),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,T=h.style;T.width="",T.whiteSpace="nowrap";var R=h.offsetWidth;R=Math.min(R,this.options.maxWidth),R=Math.max(R,this.options.minWidth),T.width=R+1+"px",T.whiteSpace="",T.height="";var _e=this.options.maxHeight,Me="leaflet-popup-scrolled";_e&&h.offsetHeight>_e?(T.height=_e+"px",xe(h,Me)):Pe(h,Me),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var T=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),R=this._getAnchor();Ht(this._container,T.add(R))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var h=this._map,T=parseInt(ie(this._container,"marginBottom"),10)||0,R=this._container.offsetHeight+T,K=this._containerWidth,_e=new mt(this._containerLeft,-R-this._containerBottom);_e._add(zn(this._container));var Me=h.layerPointToContainerPoint(_e),it=pt(this.options.autoPanPadding),Ct=pt(this.options.autoPanPaddingTopLeft||it),Ot=pt(this.options.autoPanPaddingBottomRight||it),_n=h.getSize(),Xn=0,wi=0;Me.x+K+Ot.x>_n.x&&(Xn=Me.x+K-_n.x+Ot.x),Me.x-Xn-Ct.x<0&&(Xn=Me.x-Ct.x),Me.y+R+Ot.y>_n.y&&(wi=Me.y+R-_n.y+Ot.y),Me.y-wi-Ct.y<0&&(wi=Me.y-Ct.y),(Xn||wi)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Xn,wi]))}},_getAnchor:function(){return pt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Fi.mergeOptions({closePopupOnClick:!0}),Fi.include({openPopup:function(h,T,R){return this._initOverlay(Ts,h,T,R).openOn(this),this},closePopup:function(h){return(h=arguments.length?h:this._popup)&&h.close(),this}}),Zn.include({bindPopup:function(h,T){return this._popup=this._initOverlay(Ts,this._popup,h,T),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Ei||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(this._popup&&this._map){Fs(h);var T=h.layer||h.target;if(this._popup._source===T&&!(T instanceof Eo))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng));this._popup._source=T,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){13===h.originalEvent.keyCode&&this._openPopup(h)}});var Ja=Mr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){Mr.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){Mr.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=Mr.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){this._contentNode=this._container=me("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Qe(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var T,R,K=this._map,_e=this._container,Me=K.latLngToContainerPoint(K.getCenter()),it=K.layerPointToContainerPoint(h),Ct=this.options.direction,Ot=_e.offsetWidth,_n=_e.offsetHeight,Xn=pt(this.options.offset),wi=this._getAnchor();"top"===Ct?(T=Ot/2,R=_n):"bottom"===Ct?(T=Ot/2,R=0):"center"===Ct?(T=Ot/2,R=_n/2):"right"===Ct?(T=0,R=_n/2):"left"===Ct?(T=Ot,R=_n/2):it.x<Me.x?(Ct="right",T=0,R=_n/2):(Ct="left",T=Ot+2*(Xn.x+wi.x),R=_n/2),h=h.subtract(pt(T,R,!0)).add(Xn).add(wi),Pe(_e,"leaflet-tooltip-right"),Pe(_e,"leaflet-tooltip-left"),Pe(_e,"leaflet-tooltip-top"),Pe(_e,"leaflet-tooltip-bottom"),xe(_e,"leaflet-tooltip-"+Ct),Ht(_e,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&st(this._container,h)},_animateZoom:function(h){var T=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(T)},_getAnchor:function(){return pt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Fi.include({openTooltip:function(h,T,R){return this._initOverlay(Ja,h,T,R).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Zn.include({bindTooltip:function(h,T){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ja,this._tooltip,h,T),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(h||!this._tooltipHandlersAdded){var T=h?"off":"on",R={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?R.add=this._openTooltip:(R.mouseover=this._openTooltip,R.mouseout=this.closeTooltip,R.click=this._openTooltip,this._map?this._addFocusListeners():R.add=this._addFocusListeners),this._tooltip.options.sticky&&(R.mousemove=this._moveTooltip),this[T](R),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Ei||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var T="function"==typeof h.getElement&&h.getElement();T&&(ai(T,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),ai(T,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var T="function"==typeof h.getElement&&h.getElement();T&&T.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var T=this;return void this._map.once("moveend",function(){T._openOnceFlag=!1,T._openTooltip(h)})}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var R,K,T=h.latlng;this._tooltip.options.sticky&&h.originalEvent&&(R=this._map.mouseEventToContainerPoint(h.originalEvent),K=this._map.containerPointToLayerPoint(R),T=this._map.layerPointToLatLng(K)),this._tooltip.setLatLng(T)}});var za=Ko.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var T=h&&"DIV"===h.tagName?h:document.createElement("div"),R=this.options;if(R.html instanceof Element?(Ve(T),T.appendChild(R.html)):T.innerHTML=!1!==R.html?R.html:"",R.bgPos){var K=pt(R.bgPos);T.style.backgroundPosition=-K.x+"px "+-K.y+"px"}return this._setIconStyles(T,"icon"),T},createShadow:function(){return null}});Ko.Default=wo;var Za=Zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:On.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){Jt(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Ae(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(D(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Z(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=je(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof mt?h:new mt(h,h)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var Me,T=this.getPane().children,R=-h(-1/0,1/0),K=0,_e=T.length;K<_e;K++)Me=T[K].style.zIndex,T[K]!==this._container&&Me&&(R=h(R,+Me));isFinite(R)&&(this.options.zIndex=R+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!On.ielt9){st(this._container,this.options.opacity);var h=+new Date,T=!1,R=!1;for(var K in this._tiles){var _e=this._tiles[K];if(_e.current&&_e.loaded){var Me=Math.min(1,(h-_e.loaded)/200);st(_e.el,Me),Me<1?T=!0:(_e.active?R=!0:this._onOpaqueTile(_e),_e.active=!0)}}R&&!this._noPrune&&this._pruneTiles(),T&&(Nt(this._fadeFrame),this._fadeFrame=Qt(this._updateOpacity,this))}},_onOpaqueTile:vt,_initContainer:function(){this._container||(this._container=me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,T=this.options.maxZoom;if(void 0!==h){for(var R in this._levels)R=Number(R),this._levels[R].el.children.length||R===h?(this._levels[R].el.style.zIndex=T-Math.abs(h-R),this._onUpdateLevel(R)):(Ae(this._levels[R].el),this._removeTilesAtZoom(R),this._onRemoveLevel(R),delete this._levels[R]);var K=this._levels[h],_e=this._map;return K||((K=this._levels[h]={}).el=me("div","leaflet-tile-container leaflet-zoom-animated",this._container),K.el.style.zIndex=T,K.origin=_e.project(_e.unproject(_e.getPixelOrigin()),h).round(),K.zoom=h,this._setZoomTransform(K,_e.getCenter(),_e.getZoom()),this._onCreateLevel(K)),this._level=K,K}},_onUpdateLevel:vt,_onRemoveLevel:vt,_onCreateLevel:vt,_pruneTiles:function(){if(this._map){var h,T,R=this._map.getZoom();if(R>this.options.maxZoom||R<this.options.minZoom)return void this._removeAllTiles();for(h in this._tiles)(T=this._tiles[h]).retain=T.current;for(h in this._tiles)if((T=this._tiles[h]).current&&!T.active){var K=T.coords;this._retainParent(K.x,K.y,K.z,K.z-5)||this._retainChildren(K.x,K.y,K.z,K.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var T in this._tiles)this._tiles[T].coords.z===h&&this._removeTile(T)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Ae(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,T,R,K){var _e=Math.floor(h/2),Me=Math.floor(T/2),it=R-1,Ct=new mt(+_e,+Me);Ct.z=+it;var Ot=this._tileCoordsToKey(Ct),_n=this._tiles[Ot];return _n&&_n.active?(_n.retain=!0,!0):(_n&&_n.loaded&&(_n.retain=!0),it>K&&this._retainParent(_e,Me,it,K))},_retainChildren:function(h,T,R,K){for(var _e=2*h;_e<2*h+2;_e++)for(var Me=2*T;Me<2*T+2;Me++){var it=new mt(_e,Me);it.z=R+1;var Ct=this._tileCoordsToKey(it),Ot=this._tiles[Ct];Ot&&Ot.active?Ot.retain=!0:(Ot&&Ot.loaded&&(Ot.retain=!0),R+1<K&&this._retainChildren(_e,Me,R+1,K))}},_resetView:function(h){var T=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),T,T)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var T=this.options;return void 0!==T.minNativeZoom&&h<T.minNativeZoom?T.minNativeZoom:void 0!==T.maxNativeZoom&&T.maxNativeZoom<h?T.maxNativeZoom:h},_setView:function(h,T,R,K){var _e=Math.round(T);_e=void 0!==this.options.maxZoom&&_e>this.options.maxZoom||void 0!==this.options.minZoom&&_e<this.options.minZoom?void 0:this._clampZoom(_e),(!K||this.options.updateWhenZooming&&_e!==this._tileZoom)&&(this._tileZoom=_e,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==_e&&this._update(h),R||this._pruneTiles(),this._noPrune=!!R),this._setZoomTransforms(h,T)},_setZoomTransforms:function(h,T){for(var R in this._levels)this._setZoomTransform(this._levels[R],h,T)},_setZoomTransform:function(h,T,R){var K=this._map.getZoomScale(R,h.zoom),_e=h.origin.multiplyBy(K).subtract(this._map._getNewPixelOrigin(T,R)).round();On.any3d?zt(h.el,_e,K):Ht(h.el,_e)},_resetGrid:function(){var h=this._map,T=h.options.crs,R=this._tileSize=this.getTileSize(),K=this._tileZoom,_e=this._map.getPixelWorldBounds(this._tileZoom);_e&&(this._globalTileRange=this._pxBoundsToTileRange(_e)),this._wrapX=T.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,T.wrapLng[0]],K).x/R.x),Math.ceil(h.project([0,T.wrapLng[1]],K).x/R.y)],this._wrapY=T.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([T.wrapLat[0],0],K).y/R.x),Math.ceil(h.project([T.wrapLat[1],0],K).y/R.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var T=this._map,R=T._animatingZoom?Math.max(T._animateToZoom,T.getZoom()):T.getZoom(),K=T.getZoomScale(R,this._tileZoom),_e=T.project(h,this._tileZoom).floor(),Me=T.getSize().divideBy(2*K);return new Gt(_e.subtract(Me),_e.add(Me))},_update:function(h){var T=this._map;if(T){var R=this._clampZoom(T.getZoom());if(void 0===h&&(h=T.getCenter()),void 0!==this._tileZoom){var K=this._getTiledPixelBounds(h),_e=this._pxBoundsToTileRange(K),Me=_e.getCenter(),it=[],Ct=this.options.keepBuffer,Ot=new Gt(_e.getBottomLeft().subtract([Ct,-Ct]),_e.getTopRight().add([Ct,-Ct]));if(!(isFinite(_e.min.x)&&isFinite(_e.min.y)&&isFinite(_e.max.x)&&isFinite(_e.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _n in this._tiles){var Xn=this._tiles[_n].coords;(Xn.z!==this._tileZoom||!Ot.contains(new mt(Xn.x,Xn.y)))&&(this._tiles[_n].current=!1)}if(Math.abs(R-this._tileZoom)>1)return void this._setView(h,R);for(var wi=_e.min.y;wi<=_e.max.y;wi++)for(var Xi=_e.min.x;Xi<=_e.max.x;Xi++){var Ws=new mt(Xi,wi);if(Ws.z=this._tileZoom,this._isValidTile(Ws)){var as=this._tiles[this._tileCoordsToKey(Ws)];as?as.current=!0:it.push(Ws)}}if(it.sort(function(jr,Ho){return jr.distanceTo(Me)-Ho.distanceTo(Me)}),0!==it.length){this._loading||(this._loading=!0,this.fire("loading"));var Uo=document.createDocumentFragment();for(Xi=0;Xi<it.length;Xi++)this._addTile(it[Xi],Uo);this._level.el.appendChild(Uo)}}}},_isValidTile:function(h){var T=this._map.options.crs;if(!T.infinite){var R=this._globalTileRange;if(!T.wrapLng&&(h.x<R.min.x||h.x>R.max.x)||!T.wrapLat&&(h.y<R.min.y||h.y>R.max.y))return!1}if(!this.options.bounds)return!0;var K=this._tileCoordsToBounds(h);return rn(this.options.bounds).overlaps(K)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var T=this._map,R=this.getTileSize(),K=h.scaleBy(R),_e=K.add(R);return[T.unproject(K,h.z),T.unproject(_e,h.z)]},_tileCoordsToBounds:function(h){var T=this._tileCoordsToNwSe(h),R=new en(T[0],T[1]);return this.options.noWrap||(R=this._map.wrapLatLngBounds(R)),R},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var T=h.split(":"),R=new mt(+T[0],+T[1]);return R.z=+T[2],R},_removeTile:function(h){var T=this._tiles[h];T&&(Ae(T.el),delete this._tiles[h],this.fire("tileunload",{tile:T.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){xe(h,"leaflet-tile");var T=this.getTileSize();h.style.width=T.x+"px",h.style.height=T.y+"px",h.onselectstart=vt,h.onmousemove=vt,On.ielt9&&this.options.opacity<1&&st(h,this.options.opacity)},_addTile:function(h,T){var R=this._getTilePos(h),K=this._tileCoordsToKey(h),_e=this.createTile(this._wrapCoords(h),Xe(this._tileReady,this,h));this._initTile(_e),this.createTile.length<2&&Qt(Xe(this._tileReady,this,h,null,_e)),Ht(_e,R),this._tiles[K]={el:_e,coords:h,current:!0},T.appendChild(_e),this.fire("tileloadstart",{tile:_e,coords:h})},_tileReady:function(h,T,R){T&&this.fire("tileerror",{error:T,tile:R,coords:h});var K=this._tileCoordsToKey(h);(R=this._tiles[K])&&(R.loaded=+new Date,this._map._fadeAnimated?(st(R.el,0),Nt(this._fadeFrame),this._fadeFrame=Qt(this._updateOpacity,this)):(R.active=!0,this._pruneTiles()),T||(xe(R.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:R.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),On.ielt9||!this._map._fadeAnimated?Qt(this._pruneTiles,this):setTimeout(Xe(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var T=new mt(this._wrapX?tt(h.x,this._wrapX):h.x,this._wrapY?tt(h.y,this._wrapY):h.y);return T.z=h.z,T},_pxBoundsToTileRange:function(h){var T=this.getTileSize();return new Gt(h.min.unscaleBy(T).floor(),h.max.unscaleBy(T).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});var zs=Za.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,T){this._url=h,(T=Jt(this,T)).detectRetina&&On.retina&&T.maxZoom>0?(T.tileSize=Math.floor(T.tileSize/2),T.zoomReverse?(T.zoomOffset--,T.minZoom=Math.min(T.maxZoom,T.minZoom+1)):(T.zoomOffset++,T.maxZoom=Math.max(T.minZoom,T.maxZoom-1)),T.minZoom=Math.max(0,T.minZoom)):T.zoomReverse?T.minZoom=Math.min(T.maxZoom,T.minZoom):T.maxZoom=Math.max(T.minZoom,T.maxZoom),"string"==typeof T.subdomains&&(T.subdomains=T.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,T){return this._url===h&&void 0===T&&(T=!0),this._url=h,T||this.redraw(),this},createTile:function(h,T){var R=document.createElement("img");return ai(R,"load",Xe(this._tileOnLoad,this,T,R)),ai(R,"error",Xe(this._tileOnError,this,T,R)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(R.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(R.referrerPolicy=this.options.referrerPolicy),R.alt="",R.src=this.getTileUrl(h),R},getTileUrl:function(h){var T={r:On.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var R=this._globalTileRange.max.y-h.y;this.options.tms&&(T.y=R),T["-y"]=R}return on(this._url,v(T,this.options))},_tileOnLoad:function(h,T){On.ielt9?setTimeout(Xe(h,this,null,T),0):h(null,T)},_tileOnError:function(h,T,R){var K=this.options.errorTileUrl;K&&T.getAttribute("src")!==K&&(T.src=K),h(R,T)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom;return this.options.zoomReverse&&(h=this.options.maxZoom-h),h+this.options.zoomOffset},_getSubdomain:function(h){var T=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[T]},_abortLoading:function(){var h,T;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&((T=this._tiles[h].el).onload=vt,T.onerror=vt,!T.complete)){T.src=Ut;var R=this._tiles[h].coords;Ae(T),delete this._tiles[h],this.fire("tileabort",{tile:T,coords:R})}},_removeTile:function(h){var T=this._tiles[h];if(T)return T.el.setAttribute("src",Ut),Za.prototype._removeTile.call(this,h)},_tileReady:function(h,T,R){if(this._map&&(!R||R.getAttribute("src")!==Ut))return Za.prototype._tileReady.call(this,h,T,R)}});function Qa(h,T){return new zs(h,T)}var ee=zs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,T){this._url=h;var R=v({},this.defaultWmsParams);for(var K in T)K in this.options||(R[K]=T[K]);var _e=(T=Jt(this,T)).detectRetina&&On.retina?2:1,Me=this.getTileSize();R.width=Me.x*_e,R.height=Me.y*_e,this.wmsParams=R},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,zs.prototype.onAdd.call(this,h)},getTileUrl:function(h){var T=this._tileCoordsToNwSe(h),R=this._crs,K=pn(R.project(T[0]),R.project(T[1])),_e=K.min,Me=K.max,it=(this._wmsVersion>=1.3&&this._crs===Re?[_e.y,_e.x,Me.y,Me.x]:[_e.x,_e.y,Me.x,Me.y]).join(","),Ct=zs.prototype.getTileUrl.call(this,h);return Ct+ct(this.wmsParams,Ct,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+it},setParams:function(h,T){return v(this.wmsParams,h),T||this.redraw(),this}});zs.WMS=ee,Qa.wms=function Te(h,T){return new ee(h,T)};var ae=Zn.extend({options:{padding:.1},initialize:function(h){Jt(this,h),Qe(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,T){var R=this._map.getZoomScale(T,this._zoom),K=this._map.getSize().multiplyBy(.5+this.options.padding),_e=this._map.project(this._center,T),Me=K.multiplyBy(-R).add(_e).subtract(this._map._getNewPixelOrigin(h,T));On.any3d?zt(this._container,Me,R):Ht(this._container,Me)},_reset:function(){for(var h in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,T=this._map.getSize(),R=this._map.containerPointToLayerPoint(T.multiplyBy(-h)).round();this._bounds=new Gt(R,R.add(T.multiplyBy(1+2*h)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ne=ae.extend({options:{tolerance:0},getEvents:function(){var h=ae.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ae.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");ai(h,"mousemove",this._onMouseMove,this),ai(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ai(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){Nt(this._redrawRequest),delete this._ctx,Ae(this._container),ar(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var T in this._redrawBounds=null,this._layers)this._layers[T]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ae.prototype._update.call(this);var h=this._bounds,T=this._container,R=h.getSize(),K=On.retina?2:1;Ht(T,h.min),T.width=K*R.x,T.height=K*R.y,T.style.width=R.x+"px",T.style.height=R.y+"px",On.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){ae.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[Qe(h)]=h;var T=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=T),this._drawLast=T,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var T=h._order,R=T.next,K=T.prev;R?R.prev=K:this._drawLast=K,K?K.next=R:this._drawFirst=R,delete h._order,delete this._layers[Qe(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if("string"==typeof h.options.dashArray){var K,_e,T=h.options.dashArray.split(/[, ]+/),R=[];for(_e=0;_e<T.length;_e++){if(K=Number(T[_e]),isNaN(K))return;R.push(K)}h.options._dashArray=R}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||Qt(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var T=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Gt,this._redrawBounds.extend(h._pxBounds.min.subtract([T,T])),this._redrawBounds.extend(h._pxBounds.max.add([T,T]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var T=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,T.x,T.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,T=this._redrawBounds;if(this._ctx.save(),T){var R=T.getSize();this._ctx.beginPath(),this._ctx.rect(T.min.x,T.min.y,R.x,R.y),this._ctx.clip()}this._drawing=!0;for(var K=this._drawFirst;K;K=K.next)h=K.layer,(!T||h._pxBounds&&h._pxBounds.intersects(T))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,T){if(this._drawing){var R,K,_e,Me,it=h._parts,Ct=it.length,Ot=this._ctx;if(Ct){for(Ot.beginPath(),R=0;R<Ct;R++){for(K=0,_e=it[R].length;K<_e;K++)Ot[K?"lineTo":"moveTo"]((Me=it[R][K]).x,Me.y);T&&Ot.closePath()}this._fillStroke(Ot,h)}}},_updateCircle:function(h){if(this._drawing&&!h._empty()){var T=h._point,R=this._ctx,K=Math.max(Math.round(h._radius),1),_e=(Math.max(Math.round(h._radiusY),1)||K)/K;1!==_e&&(R.save(),R.scale(1,_e)),R.beginPath(),R.arc(T.x,T.y/_e,K,0,2*Math.PI,!1),1!==_e&&R.restore(),this._fillStroke(R,h)}},_fillStroke:function(h,T){var R=T.options;R.fill&&(h.globalAlpha=R.fillOpacity,h.fillStyle=R.fillColor||R.color,h.fill(R.fillRule||"evenodd")),R.stroke&&0!==R.weight&&(h.setLineDash&&h.setLineDash(T.options&&T.options._dashArray||[]),h.globalAlpha=R.opacity,h.lineWidth=R.weight,h.strokeStyle=R.color,h.lineCap=R.lineCap,h.lineJoin=R.lineJoin,h.stroke())},_onClick:function(h){for(var R,K,T=this._map.mouseEventToLayerPoint(h),_e=this._drawFirst;_e;_e=_e.next)(R=_e.layer).options.interactive&&R._containsPoint(T)&&("click"!==h.type&&"preclick"!==h.type||!this._map._draggableMoved(R))&&(K=R);this._fireEvent(!!K&&[K],h)},_onMouseMove:function(h){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var T=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,T)}},_handleMouseOut:function(h){var T=this._hoveredLayer;T&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([T],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,T){if(!this._mouseHoverThrottled){for(var R,K,_e=this._drawFirst;_e;_e=_e.next)(R=_e.layer).options.interactive&&R._containsPoint(T)&&(K=R);K!==this._hoveredLayer&&(this._handleMouseOut(h),K&&(xe(this._container,"leaflet-interactive"),this._fireEvent([K],h,"mouseover"),this._hoveredLayer=K)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],h),this._mouseHoverThrottled=!0,setTimeout(Xe(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,T,R){this._map._fireDOMEvent(T,R||T.type,h)},_bringToFront:function(h){var T=h._order;if(T){var R=T.next,K=T.prev;if(!R)return;R.prev=K,K?K.next=R:R&&(this._drawFirst=R),T.prev=this._drawLast,this._drawLast.next=T,T.next=null,this._drawLast=T,this._requestRedraw(h)}},_bringToBack:function(h){var T=h._order;if(T){var R=T.next,K=T.prev;if(!K)return;K.next=R,R?R.prev=K:K&&(this._drawLast=K),T.prev=null,T.next=this._drawFirst,this._drawFirst.prev=T,this._drawFirst=T,this._requestRedraw(h)}}});function $e(h){return On.canvas?new Ne(h):null}var wt=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kt={_initContainer:function(){this._container=me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ae.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var T=h._container=wt("shape");xe(T,"leaflet-vml-shape "+(this.options.className||"")),T.coordsize="1 1",h._path=wt("path"),T.appendChild(h._path),this._updateStyle(h),this._layers[Qe(h)]=h},_addPath:function(h){var T=h._container;this._container.appendChild(T),h.options.interactive&&h.addInteractiveTarget(T)},_removePath:function(h){var T=h._container;Ae(T),h.removeInteractiveTarget(T),delete this._layers[Qe(h)]},_updateStyle:function(h){var T=h._stroke,R=h._fill,K=h.options,_e=h._container;_e.stroked=!!K.stroke,_e.filled=!!K.fill,K.stroke?(T||(T=h._stroke=wt("stroke")),_e.appendChild(T),T.weight=K.weight+"px",T.color=K.color,T.opacity=K.opacity,T.dashStyle=K.dashArray?At(K.dashArray)?K.dashArray.join(" "):K.dashArray.replace(/( *, *)/g," "):"",T.endcap=K.lineCap.replace("butt","flat"),T.joinstyle=K.lineJoin):T&&(_e.removeChild(T),h._stroke=null),K.fill?(R||(R=h._fill=wt("fill")),_e.appendChild(R),R.color=K.fillColor||K.color,R.opacity=K.fillOpacity):R&&(_e.removeChild(R),h._fill=null)},_updateCircle:function(h){var T=h._point.round(),R=Math.round(h._radius),K=Math.round(h._radiusY||R);this._setPath(h,h._empty()?"M0 0":"AL "+T.x+","+T.y+" "+R+","+K+" 0,23592600")},_setPath:function(h,T){h._path.v=T},_bringToFront:function(h){D(h._container)},_bringToBack:function(h){Z(h._container)}},$=On.vml?wt:gn,Q=ae.extend({_initContainer:function(){this._container=$("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ae(this._container),ar(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ae.prototype._update.call(this);var h=this._bounds,T=h.getSize(),R=this._container;(!this._svgSize||!this._svgSize.equals(T))&&(this._svgSize=T,R.setAttribute("width",T.x),R.setAttribute("height",T.y)),Ht(R,h.min),R.setAttribute("viewBox",[h.min.x,h.min.y,T.x,T.y].join(" ")),this.fire("update")}},_initPath:function(h){var T=h._path=$("path");h.options.className&&xe(T,h.options.className),h.options.interactive&&xe(T,"leaflet-interactive"),this._updateStyle(h),this._layers[Qe(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Ae(h._path),h.removeInteractiveTarget(h._path),delete this._layers[Qe(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var T=h._path,R=h.options;T&&(R.stroke?(T.setAttribute("stroke",R.color),T.setAttribute("stroke-opacity",R.opacity),T.setAttribute("stroke-width",R.weight),T.setAttribute("stroke-linecap",R.lineCap),T.setAttribute("stroke-linejoin",R.lineJoin),R.dashArray?T.setAttribute("stroke-dasharray",R.dashArray):T.removeAttribute("stroke-dasharray"),R.dashOffset?T.setAttribute("stroke-dashoffset",R.dashOffset):T.removeAttribute("stroke-dashoffset")):T.setAttribute("stroke","none"),R.fill?(T.setAttribute("fill",R.fillColor||R.color),T.setAttribute("fill-opacity",R.fillOpacity),T.setAttribute("fill-rule",R.fillRule||"evenodd")):T.setAttribute("fill","none"))},_updatePoly:function(h,T){this._setPath(h,Si(h._parts,T))},_updateCircle:function(h){var T=h._point,R=Math.max(Math.round(h._radius),1),_e="a"+R+","+(Math.max(Math.round(h._radiusY),1)||R)+" 0 1,0 ",Me=h._empty()?"M0 0":"M"+(T.x-R)+","+T.y+_e+2*R+",0 "+_e+2*-R+",0 ";this._setPath(h,Me)},_setPath:function(h,T){h._path.setAttribute("d",T)},_bringToFront:function(h){D(h._path)},_bringToBack:function(h){Z(h._path)}});function Se(h){return On.svg||On.vml?new Q(h):null}On.vml&&Q.include(Kt),Fi.include({getRenderer:function(h){var T=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return T||(T=this._renderer=this._createRenderer()),this.hasLayer(T)||this.addLayer(T),T},_getPaneRenderer:function(h){if("overlayPane"===h||void 0===h)return!1;var T=this._paneRenderers[h];return void 0===T&&(T=this._createRenderer({pane:h}),this._paneRenderers[h]=T),T},_createRenderer:function(h){return this.options.preferCanvas&&$e(h)||Se(h)}});var qe=uo.extend({initialize:function(h,T){uo.prototype.initialize.call(this,this._boundsToLatLngs(h),T)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return[(h=rn(h)).getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});Q.create=$,Q.pointsToPath=Si,os.geometryToLayer=xn,os.coordsToLatLng=ho,os.coordsToLatLngs=Oo,os.latLngToCoords=Hs,os.latLngsToCoords=Fa,os.getFeature=Mo,os.asFeature=Ka,Fi.mergeOptions({boxZoom:!0});var Sn=Hr.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){ai(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ar(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||1!==h.which&&1!==h.button)return!1;this._clearDeferredResetState(),this._resetState(),Qn(),pi(),this._startPoint=this._map.mouseEventToContainerPoint(h),ai(document,{contextmenu:Fs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=me("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var T=new Gt(this._point,this._startPoint),R=T.getSize();Ht(this._box,T.min),this._box.style.width=R.x+"px",this._box.style.height=R.y+"px"},_finish:function(){this._moved&&(Ae(this._box),Pe(this._container,"leaflet-crosshair")),di(),$i(),ar(document,{contextmenu:Fs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if((1===h.which||1===h.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Xe(this._resetState,this),0);var T=new en(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(T).fire("boxzoomend",{boxZoomBounds:T})}},_onKeyDown:function(h){27===h.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fi.addInitHook("addHandler","boxZoom",Sn),Fi.mergeOptions({doubleClickZoom:!0});var mi=Hr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var T=this._map,R=T.getZoom(),K=T.options.zoomDelta,_e=h.originalEvent.shiftKey?R-K:R+K;"center"===T.options.doubleClickZoom?T.setZoom(_e):T.setZoomAround(h.containerPoint,_e)}});Fi.addInitHook("addHandler","doubleClickZoom",mi),Fi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var er=Hr.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new oo(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var T=rn(this._map.options.maxBounds);this._offsetLimit=pn(this._map.latLngToContainerPoint(T.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(T.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var T=this._lastTime=+new Date,R=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(R),this._times.push(T),this._prunePositions(T)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),T=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=T.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,T){return h-(h-T)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var h=this._draggable._newPos.subtract(this._draggable._startPos),T=this._offsetLimit;h.x<T.min.x&&(h.x=this._viscousLimit(h.x,T.min.x)),h.y<T.min.y&&(h.y=this._viscousLimit(h.y,T.min.y)),h.x>T.max.x&&(h.x=this._viscousLimit(h.x,T.max.x)),h.y>T.max.y&&(h.y=this._viscousLimit(h.y,T.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,T=Math.round(h/2),R=this._initialWorldOffset,K=this._draggable._newPos.x,_e=(K-T+R)%h+T-R,Me=(K+T+R)%h-T-R,it=Math.abs(_e+R)<Math.abs(Me+R)?_e:Me;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=it},_onDragEnd:function(h){var T=this._map,R=T.options,K=!R.inertia||h.noInertia||this._times.length<2;if(T.fire("dragend",h),K)T.fire("moveend");else{this._prunePositions(+new Date);var _e=this._lastPos.subtract(this._positions[0]),it=R.easeLinearity,Ct=_e.multiplyBy(it/((this._lastTime-this._times[0])/1e3)),Ot=Ct.distanceTo([0,0]),_n=Math.min(R.inertiaMaxSpeed,Ot),Xn=Ct.multiplyBy(_n/Ot),wi=_n/(R.inertiaDeceleration*it),Xi=Xn.multiplyBy(-wi/2).round();Xi.x||Xi.y?(Xi=T._limitOffset(Xi,T.options.maxBounds),Qt(function(){T.panBy(Xi,{duration:wi,easeLinearity:it,noMoveStart:!0,animate:!0})})):T.fire("moveend")}}});Fi.addInitHook("addHandler","dragging",er),Fi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rr=Hr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),ai(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ar(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,T=document.documentElement,R=h.scrollTop||T.scrollTop,K=h.scrollLeft||T.scrollLeft;this._map._container.focus(),window.scrollTo(K,R)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var K,_e,T=this._panKeys={},R=this.keyCodes;for(K=0,_e=R.left.length;K<_e;K++)T[R.left[K]]=[-1*h,0];for(K=0,_e=R.right.length;K<_e;K++)T[R.right[K]]=[h,0];for(K=0,_e=R.down.length;K<_e;K++)T[R.down[K]]=[0,h];for(K=0,_e=R.up.length;K<_e;K++)T[R.up[K]]=[0,-1*h]},_setZoomDelta:function(h){var K,_e,T=this._zoomKeys={},R=this.keyCodes;for(K=0,_e=R.zoomIn.length;K<_e;K++)T[R.zoomIn[K]]=h;for(K=0,_e=R.zoomOut.length;K<_e;K++)T[R.zoomOut[K]]=-h},_addHooks:function(){ai(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ar(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var K,T=h.keyCode,R=this._map;if(T in this._panKeys){if(!R._panAnim||!R._panAnim._inProgress)if(K=this._panKeys[T],h.shiftKey&&(K=pt(K).multiplyBy(3)),R.options.maxBounds&&(K=R._limitOffset(pt(K),R.options.maxBounds)),R.options.worldCopyJump){var _e=R.wrapLatLng(R.unproject(R.project(R.getCenter()).add(K)));R.panTo(_e)}else R.panBy(K)}else if(T in this._zoomKeys)R.setZoom(R.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[T]);else{if(27!==T||!R._popup||!R._popup.options.closeOnEscapeKey)return;R.closePopup()}Fs(h)}}});Fi.addInitHook("addHandler","keyboard",Rr),Fi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Dr=Hr.extend({addHooks:function(){ai(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ar(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var T=Ys(h),R=this._map.options.wheelDebounceTime;this._delta+=T,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var K=Math.max(R-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Xe(this._performZoom,this),K),Fs(h)},_performZoom:function(){var h=this._map,T=h.getZoom(),R=this._map.options.zoomSnap||0;h._stop();var _e=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,Me=R?Math.ceil(_e/R)*R:_e,it=h._limitZoom(T+(this._delta>0?Me:-Me))-T;this._delta=0,this._startTime=null,it&&("center"===h.options.scrollWheelZoom?h.setZoom(T+it):h.setZoomAround(this._lastMousePos,T+it))}});Fi.addInitHook("addHandler","scrollWheelZoom",Dr);Fi.mergeOptions({tapHold:On.touchNative&&On.safari&&On.mobile,tapTolerance:15});var Ro=Hr.extend({addHooks:function(){ai(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ar(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),1===h.touches.length){var T=h.touches[0];this._startPos=this._newPos=new mt(T.clientX,T.clientY),this._holdTimeout=setTimeout(Xe(function(){this._cancel(),this._isTapValid()&&(ai(document,"touchend",Er),ai(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",T))},this),600),ai(document,"touchend touchcancel contextmenu",this._cancel,this),ai(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){ar(document,"touchend",Er),ar(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),ar(document,"touchend touchcancel contextmenu",this._cancel,this),ar(document,"touchmove",this._onMove,this)},_onMove:function(h){var T=h.touches[0];this._newPos=new mt(T.clientX,T.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,T){var R=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:T.screenX,screenY:T.screenY,clientX:T.clientX,clientY:T.clientY});R._simulated=!0,T.target.dispatchEvent(R)}});Fi.addInitHook("addHandler","tapHold",Ro),Fi.mergeOptions({touchZoom:On.touch,bounceAtZoomLimits:!0});var Bo=Hr.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),ai(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),ar(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var T=this._map;if(h.touches&&2===h.touches.length&&!T._animatingZoom&&!this._zooming){var R=T.mouseEventToContainerPoint(h.touches[0]),K=T.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=T.getSize()._divideBy(2),this._startLatLng=T.containerPointToLatLng(this._centerPoint),"center"!==T.options.touchZoom&&(this._pinchStartLatLng=T.containerPointToLatLng(R.add(K)._divideBy(2))),this._startDist=R.distanceTo(K),this._startZoom=T.getZoom(),this._moved=!1,this._zooming=!0,T._stop(),ai(document,"touchmove",this._onTouchMove,this),ai(document,"touchend touchcancel",this._onTouchEnd,this),Er(h)}},_onTouchMove:function(h){if(h.touches&&2===h.touches.length&&this._zooming){var T=this._map,R=T.mouseEventToContainerPoint(h.touches[0]),K=T.mouseEventToContainerPoint(h.touches[1]),_e=R.distanceTo(K)/this._startDist;if(this._zoom=T.getScaleZoom(_e,this._startZoom),!T.options.bounceAtZoomLimits&&(this._zoom<T.getMinZoom()&&_e<1||this._zoom>T.getMaxZoom()&&_e>1)&&(this._zoom=T._limitZoom(this._zoom)),"center"===T.options.touchZoom){if(this._center=this._startLatLng,1===_e)return}else{var Me=R._add(K)._divideBy(2)._subtract(this._centerPoint);if(1===_e&&0===Me.x&&0===Me.y)return;this._center=T.unproject(T.project(this._pinchStartLatLng,this._zoom).subtract(Me),this._zoom)}this._moved||(T._moveStart(!0,!1),this._moved=!0),Nt(this._animRequest);var it=Xe(T._move,T,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Qt(it,this,!0),Er(h)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Nt(this._animRequest),ar(document,"touchmove",this._onTouchMove,this),ar(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Fi.addInitHook("addHandler","touchZoom",Bo),Fi.BoxZoom=Sn,Fi.DoubleClickZoom=mi,Fi.Drag=er,Fi.Keyboard=Rr,Fi.ScrollWheelZoom=Dr,Fi.TapHold=Ro,Fi.TouchZoom=Bo,ue.Bounds=Gt,ue.Browser=On,ue.CRS=Tn,ue.Canvas=Ne,ue.Circle=Da,ue.CircleMarker=pl,ue.Class=Cn,ue.Control=Ce,ue.DivIcon=za,ue.DivOverlay=Mr,ue.DomEvent=bs,ue.DomUtil=Qs,ue.Draggable=oo,ue.Evented=mn,ue.FeatureGroup=Ei,ue.GeoJSON=os,ue.GridLayer=Za,ue.Handler=Hr,ue.Icon=Ko,ue.ImageOverlay=Ba,ue.LatLng=Dt,ue.LatLngBounds=en,ue.Layer=Zn,ue.LayerGroup=Ar,ue.LineUtil=Ii,ue.Map=Fi,ue.Marker=Is,ue.Mixin=Bs,ue.Path=Eo,ue.Point=mt,ue.PolyUtil=Do,ue.Polygon=uo,ue.Polyline=Ji,ue.Popup=Ts,ue.PosAnimation=Fo,ue.Projection=pe,ue.Rectangle=qe,ue.Renderer=ae,ue.SVG=Q,ue.SVGOverlay=Ha,ue.TileLayer=zs,ue.Tooltip=Ja,ue.Transformation=ui,ue.Util=vn,ue.VideoOverlay=Zr,ue.bind=Xe,ue.bounds=pn,ue.canvas=$e,ue.circle=function us(h,T,R){return new Da(h,T,R)},ue.circleMarker=function La(h,T){return new pl(h,T)},ue.control=fe,ue.divIcon=function xc(h){return new za(h)},ue.extend=v,ue.featureGroup=function(h,T){return new Ei(h,T)},ue.geoJSON=Qo,ue.geoJson=Va,ue.gridLayer=function Vo(h){return new Za(h)},ue.icon=function zr(h){return new Ko(h)},ue.imageOverlay=function(h,T,R){return new Ba(h,T,R)},ue.latLng=$n,ue.latLngBounds=rn,ue.layerGroup=function(h,T){return new Ar(h,T)},ue.map=function Be(h,T){return new Fi(h,T)},ue.marker=function fl(h,T){return new Is(h,T)},ue.point=pt,ue.polygon=function Es(h,T){return new uo(h,T)},ue.polyline=function yr(h,T){return new Ji(h,T)},ue.popup=function(h,T){return new Ts(h,T)},ue.rectangle=function kt(h,T){return new qe(h,T)},ue.setOptions=Jt,ue.stamp=Qe,ue.svg=Se,ue.svgOverlay=function ql(h,T,R){return new Ha(h,T,R)},ue.tileLayer=Qa,ue.tooltip=function(h,T){return new Ja(h,T)},ue.transformation=Di,ue.version="1.9.4",ue.videoOverlay=function Ir(h,T,R){return new Zr(h,T,R)};var Nr=window.L;ue.noConflict=function(){return window.L=Nr,this},window.L=ue}(gt)},9234:(Hn,gt,ue)=>{"use strict";ue.d(gt,{op:()=>cn,Vv:()=>On,Xd:()=>ot});var f=ue(7579),v=ue(4968),He=ue(6451),Xe=ue(4986),l=ue(4482),Qe=ue(8421),je=ue(5403),vt=ue(5963);var xt=ue(2722),Et=ue(1884),Jt=ue(9718),ct=ue(4650),Ft=ue(6895);function on(ne){return getComputedStyle(ne)}function At(ne,de){for(var Ie in de){var Ge=de[Ie];"number"==typeof Ge&&(Ge+="px"),ne.style[Ie]=Ge}return ne}function Ye(ne){var de=document.createElement("div");return de.className=ne,de}var Ut=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function un(ne,de){if(!Ut)throw new Error("No element matching method supported");return Ut.call(ne,de)}function et(ne){ne.remove?ne.remove():ne.parentNode&&ne.parentNode.removeChild(ne)}function jt(ne,de){return Array.prototype.filter.call(ne.children,function(Ie){return un(Ie,de)})}var fn_element_thumb=function(ne){return"ps__thumb-"+ne},fn_element_rail=function(ne){return"ps__rail-"+ne},fn_element_consuming="ps__child--consume",fn_state_focus="ps--focus",fn_state_clicking="ps--clicking",fn_state_active=function(ne){return"ps--active-"+ne},fn_state_scrolling=function(ne){return"ps--scrolling-"+ne},Fn={x:null,y:null};function Qt(ne,de){var Ie=ne.element.classList,Ge=fn_state_scrolling(de);Ie.contains(Ge)?clearTimeout(Fn[de]):Ie.add(Ge)}function Nt(ne,de){Fn[de]=setTimeout(function(){return ne.isAlive&&ne.element.classList.remove(fn_state_scrolling(de))},ne.settings.scrollingThreshold)}var Cn=function(de){this.element=de,this.handlers={}},Bn={isEmpty:{configurable:!0}};Cn.prototype.bind=function(de,Ie){typeof this.handlers[de]>"u"&&(this.handlers[de]=[]),this.handlers[de].push(Ie),this.element.addEventListener(de,Ie,!1)},Cn.prototype.unbind=function(de,Ie){var Ge=this;this.handlers[de]=this.handlers[de].filter(function(lt){return!(!Ie||lt===Ie)||(Ge.element.removeEventListener(de,lt,!1),!1)})},Cn.prototype.unbindAll=function(){for(var de in this.handlers)this.unbind(de)},Bn.isEmpty.get=function(){var ne=this;return Object.keys(this.handlers).every(function(de){return 0===ne.handlers[de].length})},Object.defineProperties(Cn.prototype,Bn);var In=function(){this.eventElements=[]};function mn(ne){if("function"==typeof window.CustomEvent)return new CustomEvent(ne);var de=document.createEvent("CustomEvent");return de.initCustomEvent(ne,!1,!1,void 0),de}function mt(ne,de,Ie,Ge,lt){var Rt;if(void 0===Ge&&(Ge=!0),void 0===lt&&(lt=!1),"top"===de)Rt=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==de)throw new Error("A proper axis should be provided");Rt=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function Lt(ne,de,Ie,Ge,lt){var Rt=Ie[0],an=Ie[1],ye=Ie[2],r=Ie[3],s=Ie[4],u=Ie[5];void 0===Ge&&(Ge=!0),void 0===lt&&(lt=!1);var p=ne.element;ne.reach[r]=null,p[ye]<1&&(ne.reach[r]="start"),p[ye]>ne[Rt]-ne[an]-1&&(ne.reach[r]="end"),de&&(p.dispatchEvent(mn("ps-scroll-"+r)),de<0?p.dispatchEvent(mn("ps-scroll-"+s)):de>0&&p.dispatchEvent(mn("ps-scroll-"+u)),Ge&&function vn(ne,de){Qt(ne,de),Nt(ne,de)}(ne,r)),ne.reach[r]&&(de||lt)&&p.dispatchEvent(mn("ps-"+r+"-reach-"+ne.reach[r]))}(ne,Ie,Rt,Ge,lt)}function pt(ne){return parseInt(ne,10)||0}In.prototype.eventElement=function(de){var Ie=this.eventElements.filter(function(Ge){return Ge.element===de})[0];return Ie||(Ie=new Cn(de),this.eventElements.push(Ie)),Ie},In.prototype.bind=function(de,Ie,Ge){this.eventElement(de).bind(Ie,Ge)},In.prototype.unbind=function(de,Ie,Ge){var lt=this.eventElement(de);lt.unbind(Ie,Ge),lt.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(lt),1)},In.prototype.unbindAll=function(){this.eventElements.forEach(function(de){return de.unbindAll()}),this.eventElements=[]},In.prototype.once=function(de,Ie,Ge){var lt=this.eventElement(de),Rt=function(an){lt.unbind(Ie,Rt),Ge(an)};lt.bind(Ie,Rt)};var en={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function rn(ne){var de=ne.element,Ie=Math.floor(de.scrollTop),Ge=de.getBoundingClientRect();ne.containerWidth=Math.ceil(Ge.width),ne.containerHeight=Math.ceil(Ge.height),ne.contentWidth=de.scrollWidth,ne.contentHeight=de.scrollHeight,de.contains(ne.scrollbarXRail)||(jt(de,fn_element_rail("x")).forEach(function(lt){return et(lt)}),de.appendChild(ne.scrollbarXRail)),de.contains(ne.scrollbarYRail)||(jt(de,fn_element_rail("y")).forEach(function(lt){return et(lt)}),de.appendChild(ne.scrollbarYRail)),!ne.settings.suppressScrollX&&ne.containerWidth+ne.settings.scrollXMarginOffset<ne.contentWidth?(ne.scrollbarXActive=!0,ne.railXWidth=ne.containerWidth-ne.railXMarginWidth,ne.railXRatio=ne.containerWidth/ne.railXWidth,ne.scrollbarXWidth=Dt(ne,pt(ne.railXWidth*ne.containerWidth/ne.contentWidth)),ne.scrollbarXLeft=pt((ne.negativeScrollAdjustment+de.scrollLeft)*(ne.railXWidth-ne.scrollbarXWidth)/(ne.contentWidth-ne.containerWidth))):ne.scrollbarXActive=!1,!ne.settings.suppressScrollY&&ne.containerHeight+ne.settings.scrollYMarginOffset<ne.contentHeight?(ne.scrollbarYActive=!0,ne.railYHeight=ne.containerHeight-ne.railYMarginHeight,ne.railYRatio=ne.containerHeight/ne.railYHeight,ne.scrollbarYHeight=Dt(ne,pt(ne.railYHeight*ne.containerHeight/ne.contentHeight)),ne.scrollbarYTop=pt(Ie*(ne.railYHeight-ne.scrollbarYHeight)/(ne.contentHeight-ne.containerHeight))):ne.scrollbarYActive=!1,ne.scrollbarXLeft>=ne.railXWidth-ne.scrollbarXWidth&&(ne.scrollbarXLeft=ne.railXWidth-ne.scrollbarXWidth),ne.scrollbarYTop>=ne.railYHeight-ne.scrollbarYHeight&&(ne.scrollbarYTop=ne.railYHeight-ne.scrollbarYHeight),function $n(ne,de){var Ie={width:de.railXWidth},Ge=Math.floor(ne.scrollTop);Ie.left=de.isRtl?de.negativeScrollAdjustment+ne.scrollLeft+de.containerWidth-de.contentWidth:ne.scrollLeft,de.isScrollbarXUsingBottom?Ie.bottom=de.scrollbarXBottom-Ge:Ie.top=de.scrollbarXTop+Ge,At(de.scrollbarXRail,Ie);var lt={top:Ge,height:de.railYHeight};de.isScrollbarYUsingRight?lt.right=de.isRtl?de.contentWidth-(de.negativeScrollAdjustment+ne.scrollLeft)-de.scrollbarYRight-de.scrollbarYOuterWidth-9:de.scrollbarYRight-ne.scrollLeft:lt.left=de.isRtl?de.negativeScrollAdjustment+ne.scrollLeft+2*de.containerWidth-de.contentWidth-de.scrollbarYLeft-de.scrollbarYOuterWidth:de.scrollbarYLeft+ne.scrollLeft,At(de.scrollbarYRail,lt),At(de.scrollbarX,{left:de.scrollbarXLeft,width:de.scrollbarXWidth-de.railBorderXWidth}),At(de.scrollbarY,{top:de.scrollbarYTop,height:de.scrollbarYHeight-de.railBorderYWidth})}(de,ne),ne.scrollbarXActive?de.classList.add(fn_state_active("x")):(de.classList.remove(fn_state_active("x")),ne.scrollbarXWidth=0,ne.scrollbarXLeft=0,de.scrollLeft=!0===ne.isRtl?ne.contentWidth:0),ne.scrollbarYActive?de.classList.add(fn_state_active("y")):(de.classList.remove(fn_state_active("y")),ne.scrollbarYHeight=0,ne.scrollbarYTop=0,de.scrollTop=0)}function Dt(ne,de){return ne.settings.minScrollbarLength&&(de=Math.max(de,ne.settings.minScrollbarLength)),ne.settings.maxScrollbarLength&&(de=Math.min(de,ne.settings.maxScrollbarLength)),de}function Vn(ne,de){var Ie=de[0],Ge=de[1],lt=de[2],Rt=de[3],an=de[4],ye=de[5],r=de[6],s=de[7],u=de[8],p=ne.element,y=null,x=null,w=null;function I(F){F.touches&&F.touches[0]&&(F[lt]=F.touches[0].pageY),p[r]=y+w*(F[lt]-x),Qt(ne,s),rn(ne),F.stopPropagation(),F.preventDefault()}function P(){Nt(ne,s),ne[u].classList.remove(fn_state_clicking),ne.event.unbind(ne.ownerDocument,"mousemove",I)}function N(F,z){y=p[r],z&&F.touches&&(F[lt]=F.touches[0].pageY),x=F[lt],w=(ne[Ge]-ne[Ie])/(ne[Rt]-ne[ye]),z?ne.event.bind(ne.ownerDocument,"touchmove",I):(ne.event.bind(ne.ownerDocument,"mousemove",I),ne.event.once(ne.ownerDocument,"mouseup",P),F.preventDefault()),ne[u].classList.add(fn_state_clicking),F.stopPropagation()}ne.event.bind(ne[an],"mousedown",function(F){N(F)}),ne.event.bind(ne[an],"touchstart",function(F){N(F,!0)})}var li={"click-rail":function Tn(ne){ne.event.bind(ne.scrollbarY,"mousedown",function(Ie){return Ie.stopPropagation()}),ne.event.bind(ne.scrollbarYRail,"mousedown",function(Ie){var Ge=Ie.pageY-window.pageYOffset-ne.scrollbarYRail.getBoundingClientRect().top;ne.element.scrollTop+=(Ge>ne.scrollbarYTop?1:-1)*ne.containerHeight,rn(ne),Ie.stopPropagation()}),ne.event.bind(ne.scrollbarX,"mousedown",function(Ie){return Ie.stopPropagation()}),ne.event.bind(ne.scrollbarXRail,"mousedown",function(Ie){var Ge=Ie.pageX-window.pageXOffset-ne.scrollbarXRail.getBoundingClientRect().left;ne.element.scrollLeft+=(Ge>ne.scrollbarXLeft?1:-1)*ne.containerWidth,rn(ne),Ie.stopPropagation()})},"drag-thumb":function Pn(ne){Vn(ne,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),Vn(ne,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function Rn(ne){var de=ne.element;ne.event.bind(ne.ownerDocument,"keydown",function(Rt){if(!(Rt.isDefaultPrevented&&Rt.isDefaultPrevented()||Rt.defaultPrevented)&&(un(de,":hover")||un(ne.scrollbarX,":focus")||un(ne.scrollbarY,":focus"))){var an=document.activeElement?document.activeElement:ne.ownerDocument.activeElement;if(an){if("IFRAME"===an.tagName)an=an.contentDocument.activeElement;else for(;an.shadowRoot;)an=an.shadowRoot.activeElement;if(function Gt(ne){return un(ne,"input,[contenteditable]")||un(ne,"select,[contenteditable]")||un(ne,"textarea,[contenteditable]")||un(ne,"button,[contenteditable]")}(an))return}var ye=0,r=0;switch(Rt.which){case 37:ye=Rt.metaKey?-ne.contentWidth:Rt.altKey?-ne.containerWidth:-30;break;case 38:r=Rt.metaKey?ne.contentHeight:Rt.altKey?ne.containerHeight:30;break;case 39:ye=Rt.metaKey?ne.contentWidth:Rt.altKey?ne.containerWidth:30;break;case 40:r=Rt.metaKey?-ne.contentHeight:Rt.altKey?-ne.containerHeight:-30;break;case 32:r=Rt.shiftKey?ne.containerHeight:-ne.containerHeight;break;case 33:r=ne.containerHeight;break;case 34:r=-ne.containerHeight;break;case 36:r=ne.contentHeight;break;case 35:r=-ne.contentHeight;break;default:return}ne.settings.suppressScrollX&&0!==ye||ne.settings.suppressScrollY&&0!==r||(de.scrollTop-=r,de.scrollLeft+=ye,rn(ne),function lt(Rt,an){var ye=Math.floor(de.scrollTop);if(0===Rt){if(!ne.scrollbarYActive)return!1;if(0===ye&&an>0||ye>=ne.contentHeight-ne.containerHeight&&an<0)return!ne.settings.wheelPropagation}var r=de.scrollLeft;if(0===an){if(!ne.scrollbarXActive)return!1;if(0===r&&Rt<0||r>=ne.contentWidth-ne.containerWidth&&Rt>0)return!ne.settings.wheelPropagation}return!0}(ye,r)&&Rt.preventDefault())}})},wheel:function ui(ne){var de=ne.element;function Rt(an){var ye=function Ge(an){var ye=an.deltaX,r=-1*an.deltaY;return(typeof ye>"u"||typeof r>"u")&&(ye=-1*an.wheelDeltaX/6,r=an.wheelDeltaY/6),an.deltaMode&&1===an.deltaMode&&(ye*=10,r*=10),ye!=ye&&r!=r&&(ye=0,r=an.wheelDelta),an.shiftKey?[-r,-ye]:[ye,r]}(an),r=ye[0],s=ye[1];if(!function lt(an,ye,r){if(!en.isWebKit&&de.querySelector("select:focus"))return!0;if(!de.contains(an))return!1;for(var s=an;s&&s!==de;){if(s.classList.contains(fn_element_consuming))return!0;var u=on(s);if(r&&u.overflowY.match(/(scroll|auto)/)){var p=s.scrollHeight-s.clientHeight;if(p>0&&(s.scrollTop>0&&r<0||s.scrollTop<p&&r>0))return!0}if(ye&&u.overflowX.match(/(scroll|auto)/)){var y=s.scrollWidth-s.clientWidth;if(y>0&&(s.scrollLeft>0&&ye<0||s.scrollLeft<y&&ye>0))return!0}s=s.parentNode}return!1}(an.target,r,s)){var u=!1;ne.settings.useBothWheelAxes?ne.scrollbarYActive&&!ne.scrollbarXActive?(s?de.scrollTop-=s*ne.settings.wheelSpeed:de.scrollTop+=r*ne.settings.wheelSpeed,u=!0):ne.scrollbarXActive&&!ne.scrollbarYActive&&(r?de.scrollLeft+=r*ne.settings.wheelSpeed:de.scrollLeft-=s*ne.settings.wheelSpeed,u=!0):(de.scrollTop-=s*ne.settings.wheelSpeed,de.scrollLeft+=r*ne.settings.wheelSpeed),rn(ne),u=u||function Ie(an,ye){var r=Math.floor(de.scrollTop),s=0===de.scrollTop,u=r+de.offsetHeight===de.scrollHeight,p=0===de.scrollLeft,y=de.scrollLeft+de.offsetWidth===de.scrollWidth;return!(Math.abs(ye)>Math.abs(an)?s||u:p||y)||!ne.settings.wheelPropagation}(r,s),u&&!an.ctrlKey&&(an.stopPropagation(),an.preventDefault())}}typeof window.onwheel<"u"?ne.event.bind(de,"wheel",Rt):typeof window.onmousewheel<"u"&&ne.event.bind(de,"mousewheel",Rt)},touch:function Di(ne){if(en.supportsTouch||en.supportsIePointer){var de=ne.element,lt={},Rt=0,an={},ye=null;en.supportsTouch?(ne.event.bind(de,"touchstart",u),ne.event.bind(de,"touchmove",y),ne.event.bind(de,"touchend",x)):en.supportsIePointer&&(window.PointerEvent?(ne.event.bind(de,"pointerdown",u),ne.event.bind(de,"pointermove",y),ne.event.bind(de,"pointerup",x)):window.MSPointerEvent&&(ne.event.bind(de,"MSPointerDown",u),ne.event.bind(de,"MSPointerMove",y),ne.event.bind(de,"MSPointerUp",x)))}function Ge(w,I){de.scrollTop-=I,de.scrollLeft-=w,rn(ne)}function r(w){return w.targetTouches?w.targetTouches[0]:w}function s(w){return!(w.pointerType&&"pen"===w.pointerType&&0===w.buttons||!(w.targetTouches&&1===w.targetTouches.length||w.pointerType&&"mouse"!==w.pointerType&&w.pointerType!==w.MSPOINTER_TYPE_MOUSE))}function u(w){if(s(w)){var I=r(w);lt.pageX=I.pageX,lt.pageY=I.pageY,Rt=(new Date).getTime(),null!==ye&&clearInterval(ye)}}function y(w){if(s(w)){var I=r(w),P={pageX:I.pageX,pageY:I.pageY},N=P.pageX-lt.pageX,F=P.pageY-lt.pageY;if(function p(w,I,P){if(!de.contains(w))return!1;for(var N=w;N&&N!==de;){if(N.classList.contains(fn_element_consuming))return!0;var F=on(N);if(P&&F.overflowY.match(/(scroll|auto)/)){var z=N.scrollHeight-N.clientHeight;if(z>0&&(N.scrollTop>0&&P<0||N.scrollTop<z&&P>0))return!0}if(I&&F.overflowX.match(/(scroll|auto)/)){var X=N.scrollWidth-N.clientWidth;if(X>0&&(N.scrollLeft>0&&I<0||N.scrollLeft<X&&I>0))return!0}N=N.parentNode}return!1}(w.target,N,F))return;Ge(N,F),lt=P;var z=(new Date).getTime(),X=z-Rt;X>0&&(an.x=N/X,an.y=F/X,Rt=z),function Ie(w,I){var P=Math.floor(de.scrollTop),N=de.scrollLeft,F=Math.abs(w),z=Math.abs(I);if(z>F){if(I<0&&P===ne.contentHeight-ne.containerHeight||I>0&&0===P)return 0===window.scrollY&&I>0&&en.isChrome}else if(F>z&&(w<0&&N===ne.contentWidth-ne.containerWidth||w>0&&0===N))return!0;return!0}(N,F)&&w.preventDefault()}}function x(){ne.settings.swipeEasing&&(clearInterval(ye),ye=setInterval(function(){ne.isInitialized?clearInterval(ye):an.x||an.y?Math.abs(an.x)<.01&&Math.abs(an.y)<.01?clearInterval(ye):(Ge(30*an.x,30*an.y),an.x*=.8,an.y*=.8):clearInterval(ye)},10))}}},gn=function(de,Ie){var Ge=this;if(void 0===Ie&&(Ie={}),"string"==typeof de&&(de=document.querySelector(de)),!de||!de.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var lt in this.element=de,de.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},Ie)this.settings[lt]=Ie[lt];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var u,s,Rt=function(){return de.classList.add(fn_state_focus)},an=function(){return de.classList.remove(fn_state_focus)};this.isRtl="rtl"===on(de).direction,!0===this.isRtl&&de.classList.add("ps__rtl"),this.isNegativeScroll=(s=de.scrollLeft,de.scrollLeft=-1,u=de.scrollLeft<0,de.scrollLeft=s,u),this.negativeScrollAdjustment=this.isNegativeScroll?de.scrollWidth-de.clientWidth:0,this.event=new In,this.ownerDocument=de.ownerDocument||document,this.scrollbarXRail=Ye(fn_element_rail("x")),de.appendChild(this.scrollbarXRail),this.scrollbarX=Ye(fn_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",Rt),this.event.bind(this.scrollbarX,"blur",an),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var ye=on(this.scrollbarXRail);this.scrollbarXBottom=parseInt(ye.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=pt(ye.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=pt(ye.borderLeftWidth)+pt(ye.borderRightWidth),At(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=pt(ye.marginLeft)+pt(ye.marginRight),At(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Ye(fn_element_rail("y")),de.appendChild(this.scrollbarYRail),this.scrollbarY=Ye(fn_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",Rt),this.event.bind(this.scrollbarY,"blur",an),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var r=on(this.scrollbarYRail);this.scrollbarYRight=parseInt(r.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=pt(r.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function pn(ne){var de=on(ne);return pt(de.width)+pt(de.paddingLeft)+pt(de.paddingRight)+pt(de.borderLeftWidth)+pt(de.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=pt(r.borderTopWidth)+pt(r.borderBottomWidth),At(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=pt(r.marginTop)+pt(r.marginBottom),At(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:de.scrollLeft<=0?"start":de.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:de.scrollTop<=0?"start":de.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(s){return li[s](Ge)}),this.lastScrollTop=Math.floor(de.scrollTop),this.lastScrollLeft=de.scrollLeft,this.event.bind(this.element,"scroll",function(s){return Ge.onScroll(s)}),rn(this)};gn.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,At(this.scrollbarXRail,{display:"block"}),At(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=pt(on(this.scrollbarXRail).marginLeft)+pt(on(this.scrollbarXRail).marginRight),this.railYMarginHeight=pt(on(this.scrollbarYRail).marginTop)+pt(on(this.scrollbarYRail).marginBottom),At(this.scrollbarXRail,{display:"none"}),At(this.scrollbarYRail,{display:"none"}),rn(this),mt(this,"top",0,!1,!0),mt(this,"left",0,!1,!0),At(this.scrollbarXRail,{display:""}),At(this.scrollbarYRail,{display:""}))},gn.prototype.onScroll=function(de){this.isAlive&&(rn(this),mt(this,"top",this.element.scrollTop-this.lastScrollTop),mt(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},gn.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),et(this.scrollbarX),et(this.scrollbarY),et(this.scrollbarXRail),et(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},gn.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(de){return!de.match(/^ps([-_].+|)$/)}).join(" ")};const Si=gn;var sr=function(){if(typeof Map<"u")return Map;function ne(de,Ie){var Ge=-1;return de.some(function(lt,Rt){return lt[0]===Ie&&(Ge=Rt,!0)}),Ge}return function(){function de(){this.__entries__=[]}return Object.defineProperty(de.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),de.prototype.get=function(Ie){var Ge=ne(this.__entries__,Ie),lt=this.__entries__[Ge];return lt&&lt[1]},de.prototype.set=function(Ie,Ge){var lt=ne(this.__entries__,Ie);~lt?this.__entries__[lt][1]=Ge:this.__entries__.push([Ie,Ge])},de.prototype.delete=function(Ie){var Ge=this.__entries__,lt=ne(Ge,Ie);~lt&&Ge.splice(lt,1)},de.prototype.has=function(Ie){return!!~ne(this.__entries__,Ie)},de.prototype.clear=function(){this.__entries__.splice(0)},de.prototype.forEach=function(Ie,Ge){void 0===Ge&&(Ge=null);for(var lt=0,Rt=this.__entries__;lt<Rt.length;lt++){var an=Rt[lt];Ie.call(Ge,an[1],an[0])}},de}()}(),Bi=typeof window<"u"&&typeof document<"u"&&window.document===document,ki=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Pi="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ki):function(ne){return setTimeout(function(){return ne(Date.now())},1e3/60)},Rs=["top","right","bottom","left","width","height","size","weight"],Oi=typeof MutationObserver<"u",Hi=function(){function ne(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function Un(ne,de){var Ie=!1,Ge=!1,lt=0;function Rt(){Ie&&(Ie=!1,ne()),Ge&&ye()}function an(){Pi(Rt)}function ye(){var r=Date.now();if(Ie){if(r-lt<2)return;Ge=!0}else Ie=!0,Ge=!1,setTimeout(an,de);lt=r}return ye}(this.refresh.bind(this),20)}return ne.prototype.addObserver=function(de){~this.observers_.indexOf(de)||this.observers_.push(de),this.connected_||this.connect_()},ne.prototype.removeObserver=function(de){var Ie=this.observers_,Ge=Ie.indexOf(de);~Ge&&Ie.splice(Ge,1),!Ie.length&&this.connected_&&this.disconnect_()},ne.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ne.prototype.updateObservers_=function(){var de=this.observers_.filter(function(Ie){return Ie.gatherActive(),Ie.hasActive()});return de.forEach(function(Ie){return Ie.broadcastActive()}),de.length>0},ne.prototype.connect_=function(){!Bi||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Oi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ne.prototype.disconnect_=function(){!Bi||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ne.prototype.onTransitionEnd_=function(de){var Ie=de.propertyName,Ge=void 0===Ie?"":Ie;Rs.some(function(Rt){return!!~Ge.indexOf(Rt)})&&this.refresh()},ne.getInstance=function(){return this.instance_||(this.instance_=new ne),this.instance_},ne.instance_=null,ne}(),xr=function(ne,de){for(var Ie=0,Ge=Object.keys(de);Ie<Ge.length;Ie++){var lt=Ge[Ie];Object.defineProperty(ne,lt,{value:de[lt],enumerable:!1,writable:!1,configurable:!0})}return ne},ni=function(ne){return ne&&ne.ownerDocument&&ne.ownerDocument.defaultView||ki},ti=fi(0,0,0,0);function ln(ne){return parseFloat(ne)||0}function es(ne){for(var de=[],Ie=1;Ie<arguments.length;Ie++)de[Ie-1]=arguments[Ie];return de.reduce(function(Ge,lt){return Ge+ln(ne["border-"+lt+"-width"])},0)}var Ki=typeof SVGGraphicsElement<"u"?function(ne){return ne instanceof ni(ne).SVGGraphicsElement}:function(ne){return ne instanceof ni(ne).SVGElement&&"function"==typeof ne.getBBox};function Mi(ne){return Bi?Ki(ne)?function Qi(ne){var de=ne.getBBox();return fi(0,0,de.width,de.height)}(ne):function ii(ne){var de=ne.clientWidth,Ie=ne.clientHeight;if(!de&&!Ie)return ti;var Ge=ni(ne).getComputedStyle(ne),lt=function cr(ne){for(var Ie={},Ge=0,lt=["top","right","bottom","left"];Ge<lt.length;Ge++){var Rt=lt[Ge];Ie[Rt]=ln(ne["padding-"+Rt])}return Ie}(Ge),Rt=lt.left+lt.right,an=lt.top+lt.bottom,ye=ln(Ge.width),r=ln(Ge.height);if("border-box"===Ge.boxSizing&&(Math.round(ye+Rt)!==de&&(ye-=es(Ge,"left","right")+Rt),Math.round(r+an)!==Ie&&(r-=es(Ge,"top","bottom")+an)),!function pr(ne){return ne===ni(ne).document.documentElement}(ne)){var s=Math.round(ye+Rt)-de,u=Math.round(r+an)-Ie;1!==Math.abs(s)&&(ye-=s),1!==Math.abs(u)&&(r-=u)}return fi(lt.left,lt.top,ye,r)}(ne):ti}function fi(ne,de,Ie,Ge){return{x:ne,y:de,width:Ie,height:Ge}}var ur=function(){function ne(de){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fi(0,0,0,0),this.target=de}return ne.prototype.isActive=function(){var de=Mi(this.target);return this.contentRect_=de,de.width!==this.broadcastWidth||de.height!==this.broadcastHeight},ne.prototype.broadcastRect=function(){var de=this.contentRect_;return this.broadcastWidth=de.width,this.broadcastHeight=de.height,de},ne}(),Ur=function ne(de,Ie){var Ge=function $r(ne){var de=ne.x,Ie=ne.y,Ge=ne.width,lt=ne.height,Rt=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,an=Object.create(Rt.prototype);return xr(an,{x:de,y:Ie,width:Ge,height:lt,top:Ie,right:de+Ge,bottom:lt+Ie,left:de}),an}(Ie);xr(this,{target:de,contentRect:Ge})},gi=function(){function ne(de,Ie,Ge){if(this.activeObservations_=[],this.observations_=new sr,"function"!=typeof de)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=de,this.controller_=Ie,this.callbackCtx_=Ge}return ne.prototype.observe=function(de){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(de instanceof ni(de).Element))throw new TypeError('parameter 1 is not of type "Element".');var Ie=this.observations_;Ie.has(de)||(Ie.set(de,new ur(de)),this.controller_.addObserver(this),this.controller_.refresh())}},ne.prototype.unobserve=function(de){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(de instanceof ni(de).Element))throw new TypeError('parameter 1 is not of type "Element".');var Ie=this.observations_;Ie.has(de)&&(Ie.delete(de),Ie.size||this.controller_.removeObserver(this))}},ne.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ne.prototype.gatherActive=function(){var de=this;this.clearActive(),this.observations_.forEach(function(Ie){Ie.isActive()&&de.activeObservations_.push(Ie)})},ne.prototype.broadcastActive=function(){if(this.hasActive()){var de=this.callbackCtx_,Ie=this.activeObservations_.map(function(Ge){return new Ur(Ge.target,Ge.broadcastRect())});this.callback_.call(de,Ie,de),this.clearActive()}},ne.prototype.clearActive=function(){this.activeObservations_.splice(0)},ne.prototype.hasActive=function(){return this.activeObservations_.length>0},ne}(),or=typeof WeakMap<"u"?new WeakMap:new sr,Yt=function ne(de){if(!(this instanceof ne))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var Ie=Hi.getInstance(),Ge=new gi(de,Ie,this);or.set(this,Ge)};["observe","unobserve","disconnect"].forEach(function(ne){Yt.prototype[ne]=function(){var de;return(de=or.get(this))[ne].apply(de,arguments)}});const ft=typeof ki.ResizeObserver<"u"?ki.ResizeObserver:Yt;function hn(ne,de){if(1&ne&&(ct.TgZ(0,"div",3),ct._UZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),ct.qZA()),2&ne){const Ie=ct.oxw();ct.ekj("ps-at-top",Ie.states.top)("ps-at-left",Ie.states.left)("ps-at-right",Ie.states.right)("ps-at-bottom",Ie.states.bottom),ct.xp6(1),ct.ekj("ps-indicator-show",Ie.indicatorY&&Ie.interaction),ct.xp6(1),ct.ekj("ps-indicator-show",Ie.indicatorX&&Ie.interaction),ct.xp6(1),ct.ekj("ps-indicator-show",Ie.indicatorX&&Ie.interaction),ct.xp6(1),ct.ekj("ps-indicator-show",Ie.indicatorY&&Ie.interaction)}}const tn=["*"],cn=new ct.OlP("PERFECT_SCROLLBAR_CONFIG");class ke{constructor(de,Ie,Ge,lt){this.x=de,this.y=Ie,this.w=Ge,this.h=lt}}class vi{constructor(de,Ie){this.x=de,this.y=Ie}}const Gn=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class dr{constructor(de={}){this.assign(de)}assign(de={}){for(const Ie in de)this[Ie]=de[Ie]}}let Gi=(()=>{class ne{constructor(Ie,Ge,lt,Rt,an){this.zone=Ie,this.differs=Ge,this.elementRef=lt,this.platformId=Rt,this.defaults=an,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new f.x,this.disabled=!1,this.psScrollY=new ct.vpe,this.psScrollX=new ct.vpe,this.psScrollUp=new ct.vpe,this.psScrollDown=new ct.vpe,this.psScrollLeft=new ct.vpe,this.psScrollRight=new ct.vpe,this.psYReachEnd=new ct.vpe,this.psYReachStart=new ct.vpe,this.psXReachEnd=new ct.vpe,this.psXReachStart=new ct.vpe}ngOnInit(){if(!this.disabled&&(0,Ft.NF)(this.platformId)){const Ie=new dr(this.defaults);Ie.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new Si(this.elementRef.nativeElement,Ie)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new ft(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{Gn.forEach(Ge=>{const lt=Ge.replace(/([A-Z])/g,Rt=>`-${Rt.toLowerCase()}`);(0,v.R)(this.elementRef.nativeElement,lt).pipe(function bt(ne,de=Xe.z){return function tt(ne){return(0,l.e)((de,Ie)=>{let Ge=!1,lt=null,Rt=null,an=!1;const ye=()=>{if(Rt?.unsubscribe(),Rt=null,Ge){Ge=!1;const s=lt;lt=null,Ie.next(s)}an&&Ie.complete()},r=()=>{Rt=null,an&&Ie.complete()};de.subscribe((0,je.x)(Ie,s=>{Ge=!0,lt=s,Rt||(0,Qe.Xf)(ne(s)).subscribe(Rt=(0,je.x)(Ie,ye,r))},()=>{an=!0,(!Ge||!Rt||Rt.closed)&&Ie.complete()}))})}(()=>(0,vt.H)(ne,de))}(20),(0,xt.R)(this.ngDestroy)).subscribe(Rt=>{this[Ge].emit(Rt)})})})}}ngOnDestroy(){(0,Ft.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&typeof window<"u"&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,Ft.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(Ie){Ie.disabled&&!Ie.disabled.isFirstChange()&&(0,Ft.NF)(this.platformId)&&Ie.disabled.currentValue!==Ie.disabled.previousValue&&(!0===Ie.disabled.currentValue?this.ngOnDestroy():!1===Ie.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){typeof window<"u"&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch{}},0))}geometry(Ie="scroll"){return new ke(this.elementRef.nativeElement[Ie+"Left"],this.elementRef.nativeElement[Ie+"Top"],this.elementRef.nativeElement[Ie+"Width"],this.elementRef.nativeElement[Ie+"Height"])}position(Ie=!1){return!Ie&&this.instance?new vi(this.instance.reach.x||0,this.instance.reach.y||0):new vi(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(Ie="any"){const Ge=this.elementRef.nativeElement;return"any"===Ie?Ge.classList.contains("ps--active-x")||Ge.classList.contains("ps--active-y"):"both"===Ie?Ge.classList.contains("ps--active-x")&&Ge.classList.contains("ps--active-y"):Ge.classList.contains("ps--active-"+Ie)}scrollTo(Ie,Ge,lt){this.disabled||(null==Ge&&null==lt?this.animateScrolling("scrollTop",Ie,lt):(null!=Ie&&this.animateScrolling("scrollLeft",Ie,lt),null!=Ge&&this.animateScrolling("scrollTop",Ge,lt)))}scrollToX(Ie,Ge){this.animateScrolling("scrollLeft",Ie,Ge)}scrollToY(Ie,Ge){this.animateScrolling("scrollTop",Ie,Ge)}scrollToTop(Ie,Ge){this.animateScrolling("scrollTop",Ie||0,Ge)}scrollToLeft(Ie,Ge){this.animateScrolling("scrollLeft",Ie||0,Ge)}scrollToRight(Ie,Ge){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(Ie||0),Ge)}scrollToBottom(Ie,Ge){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(Ie||0),Ge)}scrollToElement(Ie,Ge,lt){if("string"==typeof Ie&&(Ie=this.elementRef.nativeElement.querySelector(Ie)),Ie){const Rt=Ie.getBoundingClientRect(),an=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",Rt.left-an.left+this.elementRef.nativeElement.scrollLeft+(Ge||0),lt),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",Rt.top-an.top+this.elementRef.nativeElement.scrollTop+(Ge||0),lt)}}animateScrolling(Ie,Ge,lt){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),!lt||typeof window>"u")this.elementRef.nativeElement[Ie]=Ge;else if(Ge!==this.elementRef.nativeElement[Ie]){let Rt=0,an=0,ye=performance.now(),r=this.elementRef.nativeElement[Ie];const s=(r-Ge)/2,u=p=>{an+=Math.PI/(lt/(p-ye)),Rt=Math.round(Ge+s+s*Math.cos(an)),this.elementRef.nativeElement[Ie]===r&&(an>=Math.PI?this.animateScrolling(Ie,Ge,0):(this.elementRef.nativeElement[Ie]=Rt,r=this.elementRef.nativeElement[Ie],ye=p,this.animation=window.requestAnimationFrame(u)))};window.requestAnimationFrame(u)}}}return ne.\u0275fac=function(Ie){return new(Ie||ne)(ct.Y36(ct.R0b),ct.Y36(ct.aQg),ct.Y36(ct.SBq),ct.Y36(ct.Lbi),ct.Y36(cn,8))},ne.\u0275dir=ct.lG2({type:ne,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[ct.TTD]}),ne})(),On=(()=>{class ne{constructor(Ie,Ge,lt){this.zone=Ie,this.cdRef=Ge,this.platformId=lt,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new f.x,this.stateUpdate=new f.x,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new ct.vpe,this.psScrollX=new ct.vpe,this.psScrollUp=new ct.vpe,this.psScrollDown=new ct.vpe,this.psScrollLeft=new ct.vpe,this.psScrollRight=new ct.vpe,this.psYReachEnd=new ct.vpe,this.psYReachStart=new ct.vpe,this.psXReachEnd=new ct.vpe,this.psXReachStart=new ct.vpe}ngOnInit(){(0,Ft.NF)(this.platformId)&&(this.stateUpdate.pipe((0,xt.R)(this.ngDestroy),(0,Et.x)((Ie,Ge)=>Ie===Ge&&!this.stateTimeout)).subscribe(Ie=>{this.stateTimeout&&typeof window<"u"&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===Ie||"y"===Ie?(this.interaction=!1,"x"===Ie?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===Ie&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===Ie||"right"===Ie?(this.states.left=!1,this.states.right=!1,this.states[Ie]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===Ie||"bottom"===Ie)&&(this.states.top=!1,this.states.bottom=!1,this.states[Ie]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&typeof window<"u"&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const Ie=this.directiveRef.elementRef.nativeElement;(0,v.R)(Ie,"wheel").pipe((0,xt.R)(this.ngDestroy)).subscribe(Ge=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(Ge,Ge.deltaX,Ge.deltaY)}),(0,v.R)(Ie,"touchmove").pipe((0,xt.R)(this.ngDestroy)).subscribe(Ge=>{if(!this.disabled&&this.autoPropagation){const lt=Ge.touches[0].clientX,Rt=Ge.touches[0].clientY;this.checkPropagation(Ge,lt-this.scrollPositionX,Rt-this.scrollPositionY),this.scrollPositionX=lt,this.scrollPositionY=Rt}}),(0,He.T)((0,v.R)(Ie,"ps-scroll-x").pipe((0,Jt.h)("x")),(0,v.R)(Ie,"ps-scroll-y").pipe((0,Jt.h)("y")),(0,v.R)(Ie,"ps-x-reach-end").pipe((0,Jt.h)("right")),(0,v.R)(Ie,"ps-y-reach-end").pipe((0,Jt.h)("bottom")),(0,v.R)(Ie,"ps-x-reach-start").pipe((0,Jt.h)("left")),(0,v.R)(Ie,"ps-y-reach-start").pipe((0,Jt.h)("top"))).pipe((0,xt.R)(this.ngDestroy)).subscribe(Ge=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(Ge)})}}),window.setTimeout(()=>{Gn.forEach(Ie=>{this.directiveRef&&(this.directiveRef[Ie]=this[Ie])})},0))}ngOnDestroy(){(0,Ft.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&typeof window<"u"&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,Ft.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const Ie=this.directiveRef.elementRef.nativeElement;this.usePropagationX=Ie.classList.contains("ps--active-x"),this.usePropagationY=Ie.classList.contains("ps--active-y")}}checkPropagation(Ie,Ge,lt){this.interaction=!0;const Rt=Ge<0?-1:1,an=lt<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==Rt)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==an))&&(Ie.preventDefault(),Ie.stopPropagation()),Ge&&(this.scrollDirectionX=Rt),lt&&(this.scrollDirectionY=an),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return ne.\u0275fac=function(Ie){return new(Ie||ne)(ct.Y36(ct.R0b),ct.Y36(ct.sBO),ct.Y36(ct.Lbi))},ne.\u0275cmp=ct.Xpm({type:ne,selectors:[["perfect-scrollbar"]],viewQuery:function(Ie,Ge){if(1&Ie&&ct.Gf(Gi,7),2&Ie){let lt;ct.iGM(lt=ct.CRH())&&(Ge.directiveRef=lt.first)}},hostVars:4,hostBindings:function(Ie,Ge){2&Ie&&ct.ekj("ps-show-limits",Ge.autoPropagation)("ps-show-active",Ge.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:tn,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(Ie,Ge){1&Ie&&(ct.F$t(),ct.TgZ(0,"div",0)(1,"div",1),ct.Hsn(2),ct.qZA(),ct.YNc(3,hn,5,16,"div",2),ct.qZA()),2&Ie&&(ct.ekj("ps",Ge.usePSClass),ct.Q6J("perfectScrollbar",Ge.config)("disabled",Ge.disabled),ct.xp6(3),ct.Q6J("ngIf",Ge.scrollIndicators))},dependencies:[Ft.O5,Gi],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),ne})(),ot=(()=>{class ne{}return ne.\u0275fac=function(Ie){return new(Ie||ne)},ne.\u0275mod=ct.oAB({type:ne}),ne.\u0275inj=ct.cJS({imports:[Ft.ez,Ft.ez]}),ne})()},1135:(Hn,gt,ue)=>{"use strict";ue.d(gt,{X:()=>v});var f=ue(7579);class v extends f.x{constructor(Xe){super(),this._value=Xe}get value(){return this.getValue()}_subscribe(Xe){const l=super._subscribe(Xe);return!l.closed&&Xe.next(this._value),l}getValue(){const{hasError:Xe,thrownError:l,_value:Qe}=this;if(Xe)throw l;return this._throwIfClosed(),Qe}next(Xe){super.next(this._value=Xe)}}},9751:(Hn,gt,ue)=>{"use strict";ue.d(gt,{y:()=>tt});var f=ue(930),v=ue(727),He=ue(8822),Xe=ue(9635),l=ue(2416),Qe=ue(576),je=ue(2806);let tt=(()=>{class Et{constructor(ct){ct&&(this._subscribe=ct)}lift(ct){const Ft=new Et;return Ft.source=this,Ft.operator=ct,Ft}subscribe(ct,Ft,on){const At=function xt(Et){return Et&&Et instanceof f.Lv||function bt(Et){return Et&&(0,Qe.m)(Et.next)&&(0,Qe.m)(Et.error)&&(0,Qe.m)(Et.complete)}(Et)&&(0,v.Nn)(Et)}(ct)?ct:new f.Hp(ct,Ft,on);return(0,je.x)(()=>{const{operator:Ye,source:Ut}=this;At.add(Ye?Ye.call(At,Ut):Ut?this._subscribe(At):this._trySubscribe(At))}),At}_trySubscribe(ct){try{return this._subscribe(ct)}catch(Ft){ct.error(Ft)}}forEach(ct,Ft){return new(Ft=vt(Ft))((on,At)=>{const Ye=new f.Hp({next:Ut=>{try{ct(Ut)}catch(un){At(un),Ye.unsubscribe()}},error:At,complete:on});this.subscribe(Ye)})}_subscribe(ct){var Ft;return null===(Ft=this.source)||void 0===Ft?void 0:Ft.subscribe(ct)}[He.L](){return this}pipe(...ct){return(0,Xe.U)(ct)(this)}toPromise(ct){return new(ct=vt(ct))((Ft,on)=>{let At;this.subscribe(Ye=>At=Ye,Ye=>on(Ye),()=>Ft(At))})}}return Et.create=Jt=>new Et(Jt),Et})();function vt(Et){var Jt;return null!==(Jt=Et??l.v.Promise)&&void 0!==Jt?Jt:Promise}},7579:(Hn,gt,ue)=>{"use strict";ue.d(gt,{x:()=>je});var f=ue(9751),v=ue(727);const Xe=(0,ue(3888).d)(vt=>function(){vt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var l=ue(8737),Qe=ue(2806);let je=(()=>{class vt extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(xt){const Et=new tt(this,this);return Et.operator=xt,Et}_throwIfClosed(){if(this.closed)throw new Xe}next(xt){(0,Qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Et of this.currentObservers)Et.next(xt)}})}error(xt){(0,Qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=xt;const{observers:Et}=this;for(;Et.length;)Et.shift().error(xt)}})}complete(){(0,Qe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:xt}=this;for(;xt.length;)xt.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var xt;return(null===(xt=this.observers)||void 0===xt?void 0:xt.length)>0}_trySubscribe(xt){return this._throwIfClosed(),super._trySubscribe(xt)}_subscribe(xt){return this._throwIfClosed(),this._checkFinalizedStatuses(xt),this._innerSubscribe(xt)}_innerSubscribe(xt){const{hasError:Et,isStopped:Jt,observers:ct}=this;return Et||Jt?v.Lc:(this.currentObservers=null,ct.push(xt),new v.w0(()=>{this.currentObservers=null,(0,l.P)(ct,xt)}))}_checkFinalizedStatuses(xt){const{hasError:Et,thrownError:Jt,isStopped:ct}=this;Et?xt.error(Jt):ct&&xt.complete()}asObservable(){const xt=new f.y;return xt.source=this,xt}}return vt.create=(bt,xt)=>new tt(bt,xt),vt})();class tt extends je{constructor(bt,xt){super(),this.destination=bt,this.source=xt}next(bt){var xt,Et;null===(Et=null===(xt=this.destination)||void 0===xt?void 0:xt.next)||void 0===Et||Et.call(xt,bt)}error(bt){var xt,Et;null===(Et=null===(xt=this.destination)||void 0===xt?void 0:xt.error)||void 0===Et||Et.call(xt,bt)}complete(){var bt,xt;null===(xt=null===(bt=this.destination)||void 0===bt?void 0:bt.complete)||void 0===xt||xt.call(bt)}_subscribe(bt){var xt,Et;return null!==(Et=null===(xt=this.source)||void 0===xt?void 0:xt.subscribe(bt))&&void 0!==Et?Et:v.Lc}}},930:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Hp:()=>on,Lv:()=>Et});var f=ue(576),v=ue(727),He=ue(2416),Xe=ue(7849),l=ue(5032);const Qe=vt("C",void 0,void 0);function vt(et,jt,fn){return{kind:et,value:jt,error:fn}}var bt=ue(3410),xt=ue(2806);class Et extends v.w0{constructor(jt){super(),this.isStopped=!1,jt?(this.destination=jt,(0,v.Nn)(jt)&&jt.add(this)):this.destination=un}static create(jt,fn,Fn){return new on(jt,fn,Fn)}next(jt){this.isStopped?Ut(function tt(et){return vt("N",et,void 0)}(jt),this):this._next(jt)}error(jt){this.isStopped?Ut(function je(et){return vt("E",void 0,et)}(jt),this):(this.isStopped=!0,this._error(jt))}complete(){this.isStopped?Ut(Qe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(jt){this.destination.next(jt)}_error(jt){try{this.destination.error(jt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jt=Function.prototype.bind;function ct(et,jt){return Jt.call(et,jt)}class Ft{constructor(jt){this.partialObserver=jt}next(jt){const{partialObserver:fn}=this;if(fn.next)try{fn.next(jt)}catch(Fn){At(Fn)}}error(jt){const{partialObserver:fn}=this;if(fn.error)try{fn.error(jt)}catch(Fn){At(Fn)}else At(jt)}complete(){const{partialObserver:jt}=this;if(jt.complete)try{jt.complete()}catch(fn){At(fn)}}}class on extends Et{constructor(jt,fn,Fn){let Qt;if(super(),(0,f.m)(jt)||!jt)Qt={next:jt??void 0,error:fn??void 0,complete:Fn??void 0};else{let Nt;this&&He.v.useDeprecatedNextContext?(Nt=Object.create(jt),Nt.unsubscribe=()=>this.unsubscribe(),Qt={next:jt.next&&ct(jt.next,Nt),error:jt.error&&ct(jt.error,Nt),complete:jt.complete&&ct(jt.complete,Nt)}):Qt=jt}this.destination=new Ft(Qt)}}function At(et){He.v.useDeprecatedSynchronousErrorHandling?(0,xt.O)(et):(0,Xe.h)(et)}function Ut(et,jt){const{onStoppedNotification:fn}=He.v;fn&&bt.z.setTimeout(()=>fn(et,jt))}const un={closed:!0,next:l.Z,error:function Ye(et){throw et},complete:l.Z}},727:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Lc:()=>Qe,w0:()=>l,Nn:()=>je});var f=ue(576);const He=(0,ue(3888).d)(vt=>function(xt){vt(this),this.message=xt?`${xt.length} errors occurred during unsubscription:\n${xt.map((Et,Jt)=>`${Jt+1}) ${Et.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=xt});var Xe=ue(8737);class l{constructor(bt){this.initialTeardown=bt,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let bt;if(!this.closed){this.closed=!0;const{_parentage:xt}=this;if(xt)if(this._parentage=null,Array.isArray(xt))for(const ct of xt)ct.remove(this);else xt.remove(this);const{initialTeardown:Et}=this;if((0,f.m)(Et))try{Et()}catch(ct){bt=ct instanceof He?ct.errors:[ct]}const{_finalizers:Jt}=this;if(Jt){this._finalizers=null;for(const ct of Jt)try{tt(ct)}catch(Ft){bt=bt??[],Ft instanceof He?bt=[...bt,...Ft.errors]:bt.push(Ft)}}if(bt)throw new He(bt)}}add(bt){var xt;if(bt&&bt!==this)if(this.closed)tt(bt);else{if(bt instanceof l){if(bt.closed||bt._hasParent(this))return;bt._addParent(this)}(this._finalizers=null!==(xt=this._finalizers)&&void 0!==xt?xt:[]).push(bt)}}_hasParent(bt){const{_parentage:xt}=this;return xt===bt||Array.isArray(xt)&&xt.includes(bt)}_addParent(bt){const{_parentage:xt}=this;this._parentage=Array.isArray(xt)?(xt.push(bt),xt):xt?[xt,bt]:bt}_removeParent(bt){const{_parentage:xt}=this;xt===bt?this._parentage=null:Array.isArray(xt)&&(0,Xe.P)(xt,bt)}remove(bt){const{_finalizers:xt}=this;xt&&(0,Xe.P)(xt,bt),bt instanceof l&&bt._removeParent(this)}}l.EMPTY=(()=>{const vt=new l;return vt.closed=!0,vt})();const Qe=l.EMPTY;function je(vt){return vt instanceof l||vt&&"closed"in vt&&(0,f.m)(vt.remove)&&(0,f.m)(vt.add)&&(0,f.m)(vt.unsubscribe)}function tt(vt){(0,f.m)(vt)?vt():vt.unsubscribe()}},2416:(Hn,gt,ue)=>{"use strict";ue.d(gt,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Hn,gt,ue)=>{"use strict";ue.d(gt,{a:()=>bt});var f=ue(9751),v=ue(4742),He=ue(2076),Xe=ue(4671),l=ue(3268),Qe=ue(3269),je=ue(1810),tt=ue(5403),vt=ue(9672);function bt(...Jt){const ct=(0,Qe.yG)(Jt),Ft=(0,Qe.jO)(Jt),{args:on,keys:At}=(0,v.D)(Jt);if(0===on.length)return(0,He.D)([],ct);const Ye=new f.y(function xt(Jt,ct,Ft=Xe.y){return on=>{Et(ct,()=>{const{length:At}=Jt,Ye=new Array(At);let Ut=At,un=At;for(let et=0;et<At;et++)Et(ct,()=>{const jt=(0,He.D)(Jt[et],ct);let fn=!1;jt.subscribe((0,tt.x)(on,Fn=>{Ye[et]=Fn,fn||(fn=!0,un--),un||on.next(Ft(Ye.slice()))},()=>{--Ut||on.complete()}))},on)},on)}}(on,ct,At?Ut=>(0,je.n)(At,Ut):Xe.y));return Ft?Ye.pipe((0,l.Z)(Ft)):Ye}function Et(Jt,ct,Ft){Jt?(0,vt.f)(Ft,Jt,ct):ct()}},7272:(Hn,gt,ue)=>{"use strict";ue.d(gt,{z:()=>l});var f=ue(8189),He=ue(3269),Xe=ue(2076);function l(...Qe){return function v(){return(0,f.J)(1)}()((0,Xe.D)(Qe,(0,He.yG)(Qe)))}},9770:(Hn,gt,ue)=>{"use strict";ue.d(gt,{P:()=>He});var f=ue(9751),v=ue(8421);function He(Xe){return new f.y(l=>{(0,v.Xf)(Xe()).subscribe(l)})}},515:(Hn,gt,ue)=>{"use strict";ue.d(gt,{E:()=>v});const v=new(ue(9751).y)(l=>l.complete())},4128:(Hn,gt,ue)=>{"use strict";ue.d(gt,{D:()=>tt});var f=ue(9751),v=ue(4742),He=ue(8421),Xe=ue(3269),l=ue(5403),Qe=ue(3268),je=ue(1810);function tt(...vt){const bt=(0,Xe.jO)(vt),{args:xt,keys:Et}=(0,v.D)(vt),Jt=new f.y(ct=>{const{length:Ft}=xt;if(!Ft)return void ct.complete();const on=new Array(Ft);let At=Ft,Ye=Ft;for(let Ut=0;Ut<Ft;Ut++){let un=!1;(0,He.Xf)(xt[Ut]).subscribe((0,l.x)(ct,et=>{un||(un=!0,Ye--),on[Ut]=et},()=>At--,void 0,()=>{(!At||!un)&&(Ye||ct.next(Et?(0,je.n)(Et,on):on),ct.complete())}))}});return bt?Jt.pipe((0,Qe.Z)(bt)):Jt}},2076:(Hn,gt,ue)=>{"use strict";ue.d(gt,{D:()=>Fn});var f=ue(8421),v=ue(9672),He=ue(4482),Xe=ue(5403);function l(Qt,Nt=0){return(0,He.e)((vn,Cn)=>{vn.subscribe((0,Xe.x)(Cn,Bn=>(0,v.f)(Cn,Qt,()=>Cn.next(Bn),Nt),()=>(0,v.f)(Cn,Qt,()=>Cn.complete(),Nt),Bn=>(0,v.f)(Cn,Qt,()=>Cn.error(Bn),Nt)))})}function Qe(Qt,Nt=0){return(0,He.e)((vn,Cn)=>{Cn.add(Qt.schedule(()=>vn.subscribe(Cn),Nt))})}var vt=ue(9751),xt=ue(2202),Et=ue(576);function ct(Qt,Nt){if(!Qt)throw new Error("Iterable cannot be null");return new vt.y(vn=>{(0,v.f)(vn,Nt,()=>{const Cn=Qt[Symbol.asyncIterator]();(0,v.f)(vn,Nt,()=>{Cn.next().then(Bn=>{Bn.done?vn.complete():vn.next(Bn.value)})},0,!0)})})}var Ft=ue(3670),on=ue(8239),At=ue(1144),Ye=ue(6495),Ut=ue(2206),un=ue(4532),et=ue(3260);function Fn(Qt,Nt){return Nt?function fn(Qt,Nt){if(null!=Qt){if((0,Ft.c)(Qt))return function je(Qt,Nt){return(0,f.Xf)(Qt).pipe(Qe(Nt),l(Nt))}(Qt,Nt);if((0,At.z)(Qt))return function bt(Qt,Nt){return new vt.y(vn=>{let Cn=0;return Nt.schedule(function(){Cn===Qt.length?vn.complete():(vn.next(Qt[Cn++]),vn.closed||this.schedule())})})}(Qt,Nt);if((0,on.t)(Qt))return function tt(Qt,Nt){return(0,f.Xf)(Qt).pipe(Qe(Nt),l(Nt))}(Qt,Nt);if((0,Ut.D)(Qt))return ct(Qt,Nt);if((0,Ye.T)(Qt))return function Jt(Qt,Nt){return new vt.y(vn=>{let Cn;return(0,v.f)(vn,Nt,()=>{Cn=Qt[xt.h](),(0,v.f)(vn,Nt,()=>{let Bn,In;try{({value:Bn,done:In}=Cn.next())}catch(mn){return void vn.error(mn)}In?vn.complete():vn.next(Bn)},0,!0)}),()=>(0,Et.m)(Cn?.return)&&Cn.return()})}(Qt,Nt);if((0,et.L)(Qt))return function jt(Qt,Nt){return ct((0,et.Q)(Qt),Nt)}(Qt,Nt)}throw(0,un.z)(Qt)}(Qt,Nt):(0,f.Xf)(Qt)}},4968:(Hn,gt,ue)=>{"use strict";ue.d(gt,{R:()=>bt});var f=ue(8421),v=ue(9751),He=ue(5577),Xe=ue(1144),l=ue(576),Qe=ue(3268);const je=["addListener","removeListener"],tt=["addEventListener","removeEventListener"],vt=["on","off"];function bt(Ft,on,At,Ye){if((0,l.m)(At)&&(Ye=At,At=void 0),Ye)return bt(Ft,on,At).pipe((0,Qe.Z)(Ye));const[Ut,un]=function ct(Ft){return(0,l.m)(Ft.addEventListener)&&(0,l.m)(Ft.removeEventListener)}(Ft)?tt.map(et=>jt=>Ft[et](on,jt,At)):function Et(Ft){return(0,l.m)(Ft.addListener)&&(0,l.m)(Ft.removeListener)}(Ft)?je.map(xt(Ft,on)):function Jt(Ft){return(0,l.m)(Ft.on)&&(0,l.m)(Ft.off)}(Ft)?vt.map(xt(Ft,on)):[];if(!Ut&&(0,Xe.z)(Ft))return(0,He.z)(et=>bt(et,on,At))((0,f.Xf)(Ft));if(!Ut)throw new TypeError("Invalid event target");return new v.y(et=>{const jt=(...fn)=>et.next(1<fn.length?fn:fn[0]);return Ut(jt),()=>un(jt)})}function xt(Ft,on){return At=>Ye=>Ft[At](on,Ye)}},8421:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Xf:()=>Jt});var f=ue(655),v=ue(1144),He=ue(8239),Xe=ue(9751),l=ue(3670),Qe=ue(2206),je=ue(4532),tt=ue(6495),vt=ue(3260),bt=ue(576),xt=ue(7849),Et=ue(8822);function Jt(et){if(et instanceof Xe.y)return et;if(null!=et){if((0,l.c)(et))return function ct(et){return new Xe.y(jt=>{const fn=et[Et.L]();if((0,bt.m)(fn.subscribe))return fn.subscribe(jt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(et);if((0,v.z)(et))return function Ft(et){return new Xe.y(jt=>{for(let fn=0;fn<et.length&&!jt.closed;fn++)jt.next(et[fn]);jt.complete()})}(et);if((0,He.t)(et))return function on(et){return new Xe.y(jt=>{et.then(fn=>{jt.closed||(jt.next(fn),jt.complete())},fn=>jt.error(fn)).then(null,xt.h)})}(et);if((0,Qe.D)(et))return Ye(et);if((0,tt.T)(et))return function At(et){return new Xe.y(jt=>{for(const fn of et)if(jt.next(fn),jt.closed)return;jt.complete()})}(et);if((0,vt.L)(et))return function Ut(et){return Ye((0,vt.Q)(et))}(et)}throw(0,je.z)(et)}function Ye(et){return new Xe.y(jt=>{(function un(et,jt){var fn,Fn,Qt,Nt;return(0,f.mG)(this,void 0,void 0,function*(){try{for(fn=(0,f.KL)(et);!(Fn=yield fn.next()).done;)if(jt.next(Fn.value),jt.closed)return}catch(vn){Qt={error:vn}}finally{try{Fn&&!Fn.done&&(Nt=fn.return)&&(yield Nt.call(fn))}finally{if(Qt)throw Qt.error}}jt.complete()})})(et,jt).catch(fn=>jt.error(fn))})}},6451:(Hn,gt,ue)=>{"use strict";ue.d(gt,{T:()=>Qe});var f=ue(8189),v=ue(8421),He=ue(515),Xe=ue(3269),l=ue(2076);function Qe(...je){const tt=(0,Xe.yG)(je),vt=(0,Xe._6)(je,1/0),bt=je;return bt.length?1===bt.length?(0,v.Xf)(bt[0]):(0,f.J)(vt)((0,l.D)(bt,tt)):He.E}},9646:(Hn,gt,ue)=>{"use strict";ue.d(gt,{of:()=>He});var f=ue(3269),v=ue(2076);function He(...Xe){const l=(0,f.yG)(Xe);return(0,v.D)(Xe,l)}},2843:(Hn,gt,ue)=>{"use strict";ue.d(gt,{_:()=>He});var f=ue(9751),v=ue(576);function He(Xe,l){const Qe=(0,v.m)(Xe)?Xe:()=>Xe,je=tt=>tt.error(Qe());return new f.y(l?tt=>l.schedule(je,0,tt):je)}},5963:(Hn,gt,ue)=>{"use strict";ue.d(gt,{H:()=>l});var f=ue(9751),v=ue(4986),He=ue(3532);function l(Qe=0,je,tt=v.P){let vt=-1;return null!=je&&((0,He.K)(je)?tt=je:vt=je),new f.y(bt=>{let xt=function Xe(Qe){return Qe instanceof Date&&!isNaN(Qe)}(Qe)?+Qe-tt.now():Qe;xt<0&&(xt=0);let Et=0;return tt.schedule(function(){bt.closed||(bt.next(Et++),0<=vt?this.schedule(void 0,vt):bt.complete())},xt)})}},5403:(Hn,gt,ue)=>{"use strict";ue.d(gt,{x:()=>v});var f=ue(930);function v(Xe,l,Qe,je,tt){return new He(Xe,l,Qe,je,tt)}class He extends f.Lv{constructor(l,Qe,je,tt,vt,bt){super(l),this.onFinalize=vt,this.shouldUnsubscribe=bt,this._next=Qe?function(xt){try{Qe(xt)}catch(Et){l.error(Et)}}:super._next,this._error=tt?function(xt){try{tt(xt)}catch(Et){l.error(Et)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(xt){l.error(xt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Qe}=this;super.unsubscribe(),!Qe&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}}}},262:(Hn,gt,ue)=>{"use strict";ue.d(gt,{K:()=>Xe});var f=ue(8421),v=ue(5403),He=ue(4482);function Xe(l){return(0,He.e)((Qe,je)=>{let bt,tt=null,vt=!1;tt=Qe.subscribe((0,v.x)(je,void 0,void 0,xt=>{bt=(0,f.Xf)(l(xt,Xe(l)(Qe))),tt?(tt.unsubscribe(),tt=null,bt.subscribe(je)):vt=!0})),vt&&(tt.unsubscribe(),tt=null,bt.subscribe(je))})}},4351:(Hn,gt,ue)=>{"use strict";ue.d(gt,{b:()=>He});var f=ue(5577),v=ue(576);function He(Xe,l){return(0,v.m)(l)?(0,f.z)(Xe,l,1):(0,f.z)(Xe,1)}},1005:(Hn,gt,ue)=>{"use strict";ue.d(gt,{g:()=>Jt});var f=ue(4986),v=ue(7272),He=ue(5698),Xe=ue(4482),l=ue(5403),Qe=ue(5032),tt=ue(9718),vt=ue(5577),bt=ue(8421);function xt(ct,Ft){return Ft?on=>(0,v.z)(Ft.pipe((0,He.q)(1),function je(){return(0,Xe.e)((ct,Ft)=>{ct.subscribe((0,l.x)(Ft,Qe.Z))})}()),on.pipe(xt(ct))):(0,vt.z)((on,At)=>(0,bt.Xf)(ct(on,At)).pipe((0,He.q)(1),(0,tt.h)(on)))}var Et=ue(5963);function Jt(ct,Ft=f.z){const on=(0,Et.H)(ct,Ft);return xt(()=>on)}},1884:(Hn,gt,ue)=>{"use strict";ue.d(gt,{x:()=>Xe});var f=ue(4671),v=ue(4482),He=ue(5403);function Xe(Qe,je=f.y){return Qe=Qe??l,(0,v.e)((tt,vt)=>{let bt,xt=!0;tt.subscribe((0,He.x)(vt,Et=>{const Jt=je(Et);(xt||!Qe(bt,Jt))&&(xt=!1,bt=Jt,vt.next(Et))}))})}function l(Qe,je){return Qe===je}},9300:(Hn,gt,ue)=>{"use strict";ue.d(gt,{h:()=>He});var f=ue(4482),v=ue(5403);function He(Xe,l){return(0,f.e)((Qe,je)=>{let tt=0;Qe.subscribe((0,v.x)(je,vt=>Xe.call(l,vt,tt++)&&je.next(vt)))})}},4004:(Hn,gt,ue)=>{"use strict";ue.d(gt,{U:()=>He});var f=ue(4482),v=ue(5403);function He(Xe,l){return(0,f.e)((Qe,je)=>{let tt=0;Qe.subscribe((0,v.x)(je,vt=>{je.next(Xe.call(l,vt,tt++))}))})}},9718:(Hn,gt,ue)=>{"use strict";ue.d(gt,{h:()=>v});var f=ue(4004);function v(He){return(0,f.U)(()=>He)}},8189:(Hn,gt,ue)=>{"use strict";ue.d(gt,{J:()=>He});var f=ue(5577),v=ue(4671);function He(Xe=1/0){return(0,f.z)(v.y,Xe)}},5577:(Hn,gt,ue)=>{"use strict";ue.d(gt,{z:()=>tt});var f=ue(4004),v=ue(8421),He=ue(4482),Xe=ue(9672),l=ue(5403),je=ue(576);function tt(vt,bt,xt=1/0){return(0,je.m)(bt)?tt((Et,Jt)=>(0,f.U)((ct,Ft)=>bt(Et,ct,Jt,Ft))((0,v.Xf)(vt(Et,Jt))),xt):("number"==typeof bt&&(xt=bt),(0,He.e)((Et,Jt)=>function Qe(vt,bt,xt,Et,Jt,ct,Ft,on){const At=[];let Ye=0,Ut=0,un=!1;const et=()=>{un&&!At.length&&!Ye&&bt.complete()},jt=Fn=>Ye<Et?fn(Fn):At.push(Fn),fn=Fn=>{ct&&bt.next(Fn),Ye++;let Qt=!1;(0,v.Xf)(xt(Fn,Ut++)).subscribe((0,l.x)(bt,Nt=>{Jt?.(Nt),ct?jt(Nt):bt.next(Nt)},()=>{Qt=!0},void 0,()=>{if(Qt)try{for(Ye--;At.length&&Ye<Et;){const Nt=At.shift();Ft?(0,Xe.f)(bt,Ft,()=>fn(Nt)):fn(Nt)}et()}catch(Nt){bt.error(Nt)}}))};return vt.subscribe((0,l.x)(bt,jt,()=>{un=!0,et()})),()=>{on?.()}}(Et,Jt,vt,xt)))}},3099:(Hn,gt,ue)=>{"use strict";ue.d(gt,{B:()=>l});var f=ue(8421),v=ue(7579),He=ue(930),Xe=ue(4482);function l(je={}){const{connector:tt=(()=>new v.x),resetOnError:vt=!0,resetOnComplete:bt=!0,resetOnRefCountZero:xt=!0}=je;return Et=>{let Jt,ct,Ft,on=0,At=!1,Ye=!1;const Ut=()=>{ct?.unsubscribe(),ct=void 0},un=()=>{Ut(),Jt=Ft=void 0,At=Ye=!1},et=()=>{const jt=Jt;un(),jt?.unsubscribe()};return(0,Xe.e)((jt,fn)=>{on++,!Ye&&!At&&Ut();const Fn=Ft=Ft??tt();fn.add(()=>{on--,0===on&&!Ye&&!At&&(ct=Qe(et,xt))}),Fn.subscribe(fn),!Jt&&on>0&&(Jt=new He.Hp({next:Qt=>Fn.next(Qt),error:Qt=>{Ye=!0,Ut(),ct=Qe(un,vt,Qt),Fn.error(Qt)},complete:()=>{At=!0,Ut(),ct=Qe(un,bt),Fn.complete()}}),(0,f.Xf)(jt).subscribe(Jt))})(Et)}}function Qe(je,tt,...vt){if(!0===tt)return void je();if(!1===tt)return;const bt=new He.Hp({next:()=>{bt.unsubscribe(),je()}});return(0,f.Xf)(tt(...vt)).subscribe(bt)}},8675:(Hn,gt,ue)=>{"use strict";ue.d(gt,{O:()=>Xe});var f=ue(7272),v=ue(3269),He=ue(4482);function Xe(...l){const Qe=(0,v.yG)(l);return(0,He.e)((je,tt)=>{(Qe?(0,f.z)(l,je,Qe):(0,f.z)(l,je)).subscribe(tt)})}},3900:(Hn,gt,ue)=>{"use strict";ue.d(gt,{w:()=>Xe});var f=ue(8421),v=ue(4482),He=ue(5403);function Xe(l,Qe){return(0,v.e)((je,tt)=>{let vt=null,bt=0,xt=!1;const Et=()=>xt&&!vt&&tt.complete();je.subscribe((0,He.x)(tt,Jt=>{vt?.unsubscribe();let ct=0;const Ft=bt++;(0,f.Xf)(l(Jt,Ft)).subscribe(vt=(0,He.x)(tt,on=>tt.next(Qe?Qe(Jt,on,Ft,ct++):on),()=>{vt=null,Et()}))},()=>{xt=!0,Et()}))})}},5698:(Hn,gt,ue)=>{"use strict";ue.d(gt,{q:()=>Xe});var f=ue(515),v=ue(4482),He=ue(5403);function Xe(l){return l<=0?()=>f.E:(0,v.e)((Qe,je)=>{let tt=0;Qe.subscribe((0,He.x)(je,vt=>{++tt<=l&&(je.next(vt),l<=tt&&je.complete())}))})}},2722:(Hn,gt,ue)=>{"use strict";ue.d(gt,{R:()=>l});var f=ue(4482),v=ue(5403),He=ue(8421),Xe=ue(5032);function l(Qe){return(0,f.e)((je,tt)=>{(0,He.Xf)(Qe).subscribe((0,v.x)(tt,()=>tt.complete(),Xe.Z)),!tt.closed&&je.subscribe(tt)})}},8505:(Hn,gt,ue)=>{"use strict";ue.d(gt,{b:()=>l});var f=ue(576),v=ue(4482),He=ue(5403),Xe=ue(4671);function l(Qe,je,tt){const vt=(0,f.m)(Qe)||je||tt?{next:Qe,error:je,complete:tt}:Qe;return vt?(0,v.e)((bt,xt)=>{var Et;null===(Et=vt.subscribe)||void 0===Et||Et.call(vt);let Jt=!0;bt.subscribe((0,He.x)(xt,ct=>{var Ft;null===(Ft=vt.next)||void 0===Ft||Ft.call(vt,ct),xt.next(ct)},()=>{var ct;Jt=!1,null===(ct=vt.complete)||void 0===ct||ct.call(vt),xt.complete()},ct=>{var Ft;Jt=!1,null===(Ft=vt.error)||void 0===Ft||Ft.call(vt,ct),xt.error(ct)},()=>{var ct,Ft;Jt&&(null===(ct=vt.unsubscribe)||void 0===ct||ct.call(vt)),null===(Ft=vt.finalize)||void 0===Ft||Ft.call(vt)}))}):Xe.y}},4408:(Hn,gt,ue)=>{"use strict";ue.d(gt,{o:()=>l});var f=ue(727);class v extends f.w0{constructor(je,tt){super()}schedule(je,tt=0){return this}}const He={setInterval(Qe,je,...tt){const{delegate:vt}=He;return vt?.setInterval?vt.setInterval(Qe,je,...tt):setInterval(Qe,je,...tt)},clearInterval(Qe){const{delegate:je}=He;return(je?.clearInterval||clearInterval)(Qe)},delegate:void 0};var Xe=ue(8737);class l extends v{constructor(je,tt){super(je,tt),this.scheduler=je,this.work=tt,this.pending=!1}schedule(je,tt=0){var vt;if(this.closed)return this;this.state=je;const bt=this.id,xt=this.scheduler;return null!=bt&&(this.id=this.recycleAsyncId(xt,bt,tt)),this.pending=!0,this.delay=tt,this.id=null!==(vt=this.id)&&void 0!==vt?vt:this.requestAsyncId(xt,this.id,tt),this}requestAsyncId(je,tt,vt=0){return He.setInterval(je.flush.bind(je,this),vt)}recycleAsyncId(je,tt,vt=0){if(null!=vt&&this.delay===vt&&!1===this.pending)return tt;null!=tt&&He.clearInterval(tt)}execute(je,tt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const vt=this._execute(je,tt);if(vt)return vt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(je,tt){let bt,vt=!1;try{this.work(je)}catch(xt){vt=!0,bt=xt||new Error("Scheduled action threw falsy error")}if(vt)return this.unsubscribe(),bt}unsubscribe(){if(!this.closed){const{id:je,scheduler:tt}=this,{actions:vt}=tt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Xe.P)(vt,this),null!=je&&(this.id=this.recycleAsyncId(tt,je,null)),this.delay=null,super.unsubscribe()}}}},7565:(Hn,gt,ue)=>{"use strict";ue.d(gt,{v:()=>He});var f=ue(6063);class v{constructor(l,Qe=v.now){this.schedulerActionCtor=l,this.now=Qe}schedule(l,Qe=0,je){return new this.schedulerActionCtor(this,l).schedule(je,Qe)}}v.now=f.l.now;class He extends v{constructor(l,Qe=v.now){super(l,Qe),this.actions=[],this._active=!1}flush(l){const{actions:Qe}=this;if(this._active)return void Qe.push(l);let je;this._active=!0;do{if(je=l.execute(l.state,l.delay))break}while(l=Qe.shift());if(this._active=!1,je){for(;l=Qe.shift();)l.unsubscribe();throw je}}}},4986:(Hn,gt,ue)=>{"use strict";ue.d(gt,{P:()=>Xe,z:()=>He});var f=ue(4408);const He=new(ue(7565).v)(f.o),Xe=He},6063:(Hn,gt,ue)=>{"use strict";ue.d(gt,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(Hn,gt,ue)=>{"use strict";ue.d(gt,{z:()=>f});const f={setTimeout(v,He,...Xe){const{delegate:l}=f;return l?.setTimeout?l.setTimeout(v,He,...Xe):setTimeout(v,He,...Xe)},clearTimeout(v){const{delegate:He}=f;return(He?.clearTimeout||clearTimeout)(v)},delegate:void 0}},2202:(Hn,gt,ue)=>{"use strict";ue.d(gt,{h:()=>v});const v=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Hn,gt,ue)=>{"use strict";ue.d(gt,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Hn,gt,ue)=>{"use strict";ue.d(gt,{_6:()=>Qe,jO:()=>Xe,yG:()=>l});var f=ue(576),v=ue(3532);function He(je){return je[je.length-1]}function Xe(je){return(0,f.m)(He(je))?je.pop():void 0}function l(je){return(0,v.K)(He(je))?je.pop():void 0}function Qe(je,tt){return"number"==typeof He(je)?je.pop():tt}},4742:(Hn,gt,ue)=>{"use strict";ue.d(gt,{D:()=>l});const{isArray:f}=Array,{getPrototypeOf:v,prototype:He,keys:Xe}=Object;function l(je){if(1===je.length){const tt=je[0];if(f(tt))return{args:tt,keys:null};if(function Qe(je){return je&&"object"==typeof je&&v(je)===He}(tt)){const vt=Xe(tt);return{args:vt.map(bt=>tt[bt]),keys:vt}}}return{args:je,keys:null}}},8737:(Hn,gt,ue)=>{"use strict";function f(v,He){if(v){const Xe=v.indexOf(He);0<=Xe&&v.splice(Xe,1)}}ue.d(gt,{P:()=>f})},3888:(Hn,gt,ue)=>{"use strict";function f(v){const Xe=v(l=>{Error.call(l),l.stack=(new Error).stack});return Xe.prototype=Object.create(Error.prototype),Xe.prototype.constructor=Xe,Xe}ue.d(gt,{d:()=>f})},1810:(Hn,gt,ue)=>{"use strict";function f(v,He){return v.reduce((Xe,l,Qe)=>(Xe[l]=He[Qe],Xe),{})}ue.d(gt,{n:()=>f})},2806:(Hn,gt,ue)=>{"use strict";ue.d(gt,{O:()=>Xe,x:()=>He});var f=ue(2416);let v=null;function He(l){if(f.v.useDeprecatedSynchronousErrorHandling){const Qe=!v;if(Qe&&(v={errorThrown:!1,error:null}),l(),Qe){const{errorThrown:je,error:tt}=v;if(v=null,je)throw tt}}else l()}function Xe(l){f.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=l)}},9672:(Hn,gt,ue)=>{"use strict";function f(v,He,Xe,l=0,Qe=!1){const je=He.schedule(function(){Xe(),Qe?v.add(this.schedule(null,l)):this.unsubscribe()},l);if(v.add(je),!Qe)return je}ue.d(gt,{f:()=>f})},4671:(Hn,gt,ue)=>{"use strict";function f(v){return v}ue.d(gt,{y:()=>f})},1144:(Hn,gt,ue)=>{"use strict";ue.d(gt,{z:()=>f});const f=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(Hn,gt,ue)=>{"use strict";ue.d(gt,{D:()=>v});var f=ue(576);function v(He){return Symbol.asyncIterator&&(0,f.m)(He?.[Symbol.asyncIterator])}},576:(Hn,gt,ue)=>{"use strict";function f(v){return"function"==typeof v}ue.d(gt,{m:()=>f})},3670:(Hn,gt,ue)=>{"use strict";ue.d(gt,{c:()=>He});var f=ue(8822),v=ue(576);function He(Xe){return(0,v.m)(Xe[f.L])}},6495:(Hn,gt,ue)=>{"use strict";ue.d(gt,{T:()=>He});var f=ue(2202),v=ue(576);function He(Xe){return(0,v.m)(Xe?.[f.h])}},8239:(Hn,gt,ue)=>{"use strict";ue.d(gt,{t:()=>v});var f=ue(576);function v(He){return(0,f.m)(He?.then)}},3260:(Hn,gt,ue)=>{"use strict";ue.d(gt,{L:()=>Xe,Q:()=>He});var f=ue(655),v=ue(576);function He(l){return(0,f.FC)(this,arguments,function*(){const je=l.getReader();try{for(;;){const{value:tt,done:vt}=yield(0,f.qq)(je.read());if(vt)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(tt)}}finally{je.releaseLock()}})}function Xe(l){return(0,v.m)(l?.getReader)}},3532:(Hn,gt,ue)=>{"use strict";ue.d(gt,{K:()=>v});var f=ue(576);function v(He){return He&&(0,f.m)(He.schedule)}},4482:(Hn,gt,ue)=>{"use strict";ue.d(gt,{A:()=>v,e:()=>He});var f=ue(576);function v(Xe){return(0,f.m)(Xe?.lift)}function He(Xe){return l=>{if(v(l))return l.lift(function(Qe){try{return Xe(Qe,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Z:()=>Xe});var f=ue(4004);const{isArray:v}=Array;function Xe(l){return(0,f.U)(Qe=>function He(l,Qe){return v(Qe)?l(...Qe):l(Qe)}(l,Qe))}},5032:(Hn,gt,ue)=>{"use strict";function f(){}ue.d(gt,{Z:()=>f})},9635:(Hn,gt,ue)=>{"use strict";ue.d(gt,{U:()=>He,z:()=>v});var f=ue(4671);function v(...Xe){return He(Xe)}function He(Xe){return 0===Xe.length?f.y:1===Xe.length?Xe[0]:function(Qe){return Xe.reduce((je,tt)=>tt(je),Qe)}}},7849:(Hn,gt,ue)=>{"use strict";ue.d(gt,{h:()=>He});var f=ue(2416),v=ue(3410);function He(Xe){v.z.setTimeout(()=>{const{onUnhandledError:l}=f.v;if(!l)throw Xe;l(Xe)})}},4532:(Hn,gt,ue)=>{"use strict";function f(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ue.d(gt,{z:()=>f})},5226:function(Hn){Hn.exports=function(){"use strict";var gt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const f=$=>{const Q={};for(const Se in $)Q[$[Se]]="swal2-"+$[Se];return Q},v=f(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),He=f(["success","warning","info","question","error"]),Xe="SweetAlert2:",Qe=$=>$.charAt(0).toUpperCase()+$.slice(1),je=$=>{console.warn(`${Xe} ${"object"==typeof $?$.join(" "):$}`)},tt=$=>{console.error(`${Xe} ${$}`)},vt=[],xt=($,Q)=>{($=>{vt.includes($)||(vt.push($),je($))})(`"${$}" is deprecated and will be removed in the next major release. Please use "${Q}" instead.`)},Et=$=>"function"==typeof $?$():$,Jt=$=>$&&"function"==typeof $.toPromise,ct=$=>Jt($)?$.toPromise():Promise.resolve($),Ft=$=>$&&Promise.resolve($)===$,on=()=>document.body.querySelector(`.${v.container}`),At=$=>{const Q=on();return Q?Q.querySelector($):null},Ye=$=>At(`.${$}`),Ut=()=>Ye(v.popup),un=()=>Ye(v.icon),jt=()=>Ye(v.title),fn=()=>Ye(v["html-container"]),Fn=()=>Ye(v.image),Qt=()=>Ye(v["progress-steps"]),Nt=()=>Ye(v["validation-message"]),vn=()=>At(`.${v.actions} .${v.confirm}`),Cn=()=>At(`.${v.actions} .${v.deny}`),In=()=>At(`.${v.loader}`),mn=()=>At(`.${v.actions} .${v.cancel}`),mt=()=>Ye(v.actions),Lt=()=>Ye(v.footer),pt=()=>Ye(v["timer-progress-bar"]),Gt=()=>Ye(v.close),en=()=>{const $=Array.from(Ut().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Se,qe)=>{const kt=parseInt(Se.getAttribute("tabindex")),Sn=parseInt(qe.getAttribute("tabindex"));return kt>Sn?1:kt<Sn?-1:0}),Q=Array.from(Ut().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(Se=>"-1"!==Se.getAttribute("tabindex"));return($=>{const Q=[];for(let Se=0;Se<$.length;Se++)-1===Q.indexOf($[Se])&&Q.push($[Se]);return Q})($.concat(Q)).filter(Se=>Dn(Se))},rn=()=>Vn(document.body,v.shown)&&!Vn(document.body,v["toast-shown"])&&!Vn(document.body,v["no-backdrop"]),Dt=()=>Ut()&&Vn(Ut(),v.toast),Tn={previousBodyPadding:null},Pn=($,Q)=>{if($.textContent="",Q){const qe=(new DOMParser).parseFromString(Q,"text/html");Array.from(qe.querySelector("head").childNodes).forEach(kt=>{$.appendChild(kt)}),Array.from(qe.querySelector("body").childNodes).forEach(kt=>{kt instanceof HTMLVideoElement||kt instanceof HTMLAudioElement?$.appendChild(kt.cloneNode(!0)):$.appendChild(kt)})}},Vn=($,Q)=>{if(!Q)return!1;const Se=Q.split(/\s+/);for(let qe=0;qe<Se.length;qe++)if(!$.classList.contains(Se[qe]))return!1;return!0},ui=($,Q,Se)=>{if((($,Q)=>{Array.from($.classList).forEach(Se=>{!Object.values(v).includes(Se)&&!Object.values(He).includes(Se)&&!Object.values(Q.showClass).includes(Se)&&$.classList.remove(Se)})})($,Q),Q.customClass&&Q.customClass[Se]){if("string"!=typeof Q.customClass[Se]&&!Q.customClass[Se].forEach)return void je(`Invalid type of customClass.${Se}! Expected string or iterable object, got "${typeof Q.customClass[Se]}"`);gn($,Q.customClass[Se])}},Di=($,Q)=>{if(!Q)return null;switch(Q){case"select":case"textarea":case"file":return $.querySelector(`.${v.popup} > .${v[Q]}`);case"checkbox":return $.querySelector(`.${v.popup} > .${v.checkbox} input`);case"radio":return $.querySelector(`.${v.popup} > .${v.radio} input:checked`)||$.querySelector(`.${v.popup} > .${v.radio} input:first-child`);case"range":return $.querySelector(`.${v.popup} > .${v.range} input`);default:return $.querySelector(`.${v.popup} > .${v.input}`)}},bi=$=>{if($.focus(),"file"!==$.type){const Q=$.value;$.value="",$.value=Q}},li=($,Q,Se)=>{!$||!Q||("string"==typeof Q&&(Q=Q.split(/\s+/).filter(Boolean)),Q.forEach(qe=>{Array.isArray($)?$.forEach(kt=>{Se?kt.classList.add(qe):kt.classList.remove(qe)}):Se?$.classList.add(qe):$.classList.remove(qe)}))},gn=($,Q)=>{li($,Q,!0)},Si=($,Q)=>{li($,Q,!1)},sr=($,Q)=>{const Se=Array.from($.children);for(let qe=0;qe<Se.length;qe++){const kt=Se[qe];if(kt instanceof HTMLElement&&Vn(kt,Q))return kt}},Bi=($,Q,Se)=>{Se===`${parseInt(Se)}`&&(Se=parseInt(Se)),Se||0===parseInt(Se)?$.style[Q]="number"==typeof Se?`${Se}px`:Se:$.style.removeProperty(Q)},ki=function($){$.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Pi=$=>{$.style.display="none"},qi=($,Q,Se,qe)=>{const kt=$.querySelector(Q);kt&&(kt.style[Se]=qe)},Un=function($,Q){Q?ki($,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Pi($)},Dn=$=>!(!$||!($.offsetWidth||$.offsetHeight||$.getClientRects().length)),Oi=$=>$.scrollHeight>$.clientHeight,Hi=$=>{const Q=window.getComputedStyle($),Se=parseFloat(Q.getPropertyValue("animation-duration")||"0"),qe=parseFloat(Q.getPropertyValue("transition-duration")||"0");return Se>0||qe>0},xr=function($){let Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const Se=pt();Dn(Se)&&(Q&&(Se.style.transition="none",Se.style.width="100%"),setTimeout(()=>{Se.style.transition=`width ${$/1e3}s linear`,Se.style.width="0%"},10))},ln={},cr=$=>new Promise(Q=>{if(!$)return Q();const Se=window.scrollX,qe=window.scrollY;ln.restoreFocusTimeout=setTimeout(()=>{ln.previousActiveElement instanceof HTMLElement?(ln.previousActiveElement.focus(),ln.previousActiveElement=null):document.body&&document.body.focus(),Q()},100),window.scrollTo(Se,qe)}),Qi=()=>typeof window>"u"||typeof document>"u",ii=`\n <div aria-labelledby="${v.title}" aria-describedby="${v["html-container"]}" class="${v.popup}" tabindex="-1">\n   <button type="button" class="${v.close}"></button>\n   <ul class="${v["progress-steps"]}"></ul>\n   <div class="${v.icon}"></div>\n   <img class="${v.image}" />\n   <h2 class="${v.title}" id="${v.title}"></h2>\n   <div class="${v["html-container"]}" id="${v["html-container"]}"></div>\n   <input class="${v.input}" />\n   <input type="file" class="${v.file}" />\n   <div class="${v.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${v.select}"></select>\n   <div class="${v.radio}"></div>\n   <label for="${v.checkbox}" class="${v.checkbox}">\n     <input type="checkbox" />\n     <span class="${v.label}"></span>\n   </label>\n   <textarea class="${v.textarea}"></textarea>\n   <div class="${v["validation-message"]}" id="${v["validation-message"]}"></div>\n   <div class="${v.actions}">\n     <div class="${v.loader}"></div>\n     <button type="button" class="${v.confirm}"></button>\n     <button type="button" class="${v.deny}"></button>\n     <button type="button" class="${v.cancel}"></button>\n   </div>\n   <div class="${v.footer}"></div>\n   <div class="${v["timer-progress-bar-container"]}">\n     <div class="${v["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),pr=()=>{ln.currentInstance.resetValidationMessage()},Ur=$=>{const Q=(()=>{const $=on();return!!$&&($.remove(),Si([document.documentElement,document.body],[v["no-backdrop"],v["toast-shown"],v["has-column"]]),!0)})();if(Qi())return void tt("SweetAlert2 requires document to initialize");const Se=document.createElement("div");Se.className=v.container,Q&&gn(Se,v["no-transition"]),Pn(Se,ii);const qe=($=>"string"==typeof $?document.querySelector($):$)($.target);qe.appendChild(Se),($=>{const Q=Ut();Q.setAttribute("role",$.toast?"alert":"dialog"),Q.setAttribute("aria-live",$.toast?"polite":"assertive"),$.toast||Q.setAttribute("aria-modal","true")})($),($=>{"rtl"===window.getComputedStyle($).direction&&gn(on(),v.rtl)})(qe),(()=>{const $=Ut(),Q=sr($,v.input),Se=sr($,v.file),qe=$.querySelector(`.${v.range} input`),kt=$.querySelector(`.${v.range} output`),Sn=sr($,v.select),mi=$.querySelector(`.${v.checkbox} input`),er=sr($,v.textarea);Q.oninput=pr,Se.onchange=pr,Sn.onchange=pr,mi.onchange=pr,er.oninput=pr,qe.oninput=()=>{pr(),kt.value=qe.value},qe.onchange=()=>{pr(),kt.value=qe.value}})()},gi=($,Q)=>{$ instanceof HTMLElement?Q.appendChild($):"object"==typeof $?or($,Q):$&&Pn(Q,$)},or=($,Q)=>{$.jquery?Yt(Q,$):Pn(Q,$.toString())},Yt=($,Q)=>{if($.textContent="",0 in Q)for(let Se=0;Se in Q;Se++)$.appendChild(Q[Se].cloneNode(!0));else $.appendChild(Q.cloneNode(!0))},nt=(()=>{if(Qi())return!1;const $=document.createElement("div"),Q={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const Se in Q)if(Object.prototype.hasOwnProperty.call(Q,Se)&&typeof $.style[Se]<"u")return Q[Se];return!1})(),hn=($,Q)=>{const Se=mt(),qe=In();Q.showConfirmButton||Q.showDenyButton||Q.showCancelButton?ki(Se):Pi(Se),ui(Se,Q,"actions"),function tn($,Q,Se){const qe=vn(),kt=Cn(),Sn=mn();ke(qe,"confirm",Se),ke(kt,"deny",Se),ke(Sn,"cancel",Se),function cn($,Q,Se,qe){qe.buttonsStyling?(gn([$,Q,Se],v.styled),qe.confirmButtonColor&&($.style.backgroundColor=qe.confirmButtonColor,gn($,v["default-outline"])),qe.denyButtonColor&&(Q.style.backgroundColor=qe.denyButtonColor,gn(Q,v["default-outline"])),qe.cancelButtonColor&&(Se.style.backgroundColor=qe.cancelButtonColor,gn(Se,v["default-outline"]))):Si([$,Q,Se],v.styled)}(qe,kt,Sn,Se),Se.reverseButtons&&(Se.toast?($.insertBefore(Sn,qe),$.insertBefore(kt,qe)):($.insertBefore(Sn,Q),$.insertBefore(kt,Q),$.insertBefore(qe,Q)))}(Se,qe,Q),Pn(qe,Q.loaderHtml),ui(qe,Q,"loader")};function ke($,Q,Se){Un($,Se[`show${Qe(Q)}Button`],"inline-block"),Pn($,Se[`${Q}ButtonText`]),$.setAttribute("aria-label",Se[`${Q}ButtonAriaLabel`]),$.className=v[Q],ui($,Se,`${Q}Button`),gn($,Se[`${Q}ButtonClass`])}const Gn=($,Q)=>{const Se=on();Se&&(function dr($,Q){"string"==typeof Q?$.style.background=Q:Q||gn([document.documentElement,document.body],v["no-backdrop"])}(Se,Q.backdrop),function Gi($,Q){Q in v?gn($,v[Q]):(je('The "position" parameter is not valid, defaulting to "center"'),gn($,v.center))}(Se,Q.position),function On($,Q){if(Q&&"string"==typeof Q){const Se=`grow-${Q}`;Se in v&&gn($,v[Se])}}(Se,Q.grow),ui(Se,Q,"container"))};const Wi=["input","file","range","select","radio","checkbox","textarea"],ne=$=>{if(!r[$.input])return void tt(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${$.input}"`);const Q=an($.input),Se=r[$.input](Q,$);ki(Q),setTimeout(()=>{bi(Se)})},Ie=($,Q)=>{const Se=Di(Ut(),$);if(Se){($=>{for(let Q=0;Q<$.attributes.length;Q++){const Se=$.attributes[Q].name;["type","value","style"].includes(Se)||$.removeAttribute(Se)}})(Se);for(const qe in Q)Se.setAttribute(qe,Q[qe])}},Ge=$=>{const Q=an($.input);"object"==typeof $.customClass&&gn(Q,$.customClass.input)},lt=($,Q)=>{(!$.placeholder||Q.inputPlaceholder)&&($.placeholder=Q.inputPlaceholder)},Rt=($,Q,Se)=>{if(Se.inputLabel){$.id=v.input;const qe=document.createElement("label"),kt=v["input-label"];qe.setAttribute("for",$.id),qe.className=kt,"object"==typeof Se.customClass&&gn(qe,Se.customClass.inputLabel),qe.innerText=Se.inputLabel,Q.insertAdjacentElement("beforebegin",qe)}},an=$=>sr(Ut(),v[$]||v.input),ye=($,Q)=>{["string","number"].includes(typeof Q)?$.value=`${Q}`:Ft(Q)||je(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof Q}"`)},r={};r.text=r.email=r.password=r.number=r.tel=r.url=($,Q)=>(ye($,Q.inputValue),Rt($,$,Q),lt($,Q),$.type=Q.input,$),r.file=($,Q)=>(Rt($,$,Q),lt($,Q),$),r.range=($,Q)=>{const Se=$.querySelector("input"),qe=$.querySelector("output");return ye(Se,Q.inputValue),Se.type=Q.input,ye(qe,Q.inputValue),Rt(Se,$,Q),$},r.select=($,Q)=>{if($.textContent="",Q.inputPlaceholder){const Se=document.createElement("option");Pn(Se,Q.inputPlaceholder),Se.value="",Se.disabled=!0,Se.selected=!0,$.appendChild(Se)}return Rt($,$,Q),$},r.radio=$=>($.textContent="",$),r.checkbox=($,Q)=>{const Se=Di(Ut(),"checkbox");Se.value="1",Se.id=v.checkbox,Se.checked=Boolean(Q.inputValue);const qe=$.querySelector("span");return Pn(qe,Q.inputPlaceholder),Se},r.textarea=($,Q)=>{ye($,Q.inputValue),lt($,Q),Rt($,$,Q);return setTimeout(()=>{if("MutationObserver"in window){const qe=parseInt(window.getComputedStyle(Ut()).width);new MutationObserver(()=>{const Sn=$.offsetWidth+(qe=>parseInt(window.getComputedStyle(qe).marginLeft)+parseInt(window.getComputedStyle(qe).marginRight))($);Ut().style.width=Sn>qe?`${Sn}px`:null}).observe($,{attributes:!0,attributeFilter:["style"]})}}),$};const s=($,Q)=>{const Se=fn();ui(Se,Q,"htmlContainer"),Q.html?(gi(Q.html,Se),ki(Se,"block")):Q.text?(Se.textContent=Q.text,ki(Se,"block")):Pi(Se),(($,Q)=>{const Se=Ut(),qe=gt.innerParams.get($),kt=!qe||Q.input!==qe.input;Wi.forEach(Sn=>{const mi=sr(Se,v[Sn]);Ie(Sn,Q.inputAttributes),mi.className=v[Sn],kt&&Pi(mi)}),Q.input&&(kt&&ne(Q),Ge(Q))})($,Q)},y=($,Q)=>{for(const Se in He)Q.icon!==Se&&Si($,He[Se]);gn($,He[Q.icon]),N($,Q),x(),ui($,Q,"icon")},x=()=>{const $=Ut(),Q=window.getComputedStyle($).getPropertyValue("background-color"),Se=$.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let qe=0;qe<Se.length;qe++)Se[qe].style.backgroundColor=Q},P=($,Q)=>{let qe,Se=$.innerHTML;Q.iconHtml?qe=F(Q.iconHtml):"success"===Q.icon?(qe='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',Se=Se.replace(/ style=".*?"/g,"")):qe="error"===Q.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':F({question:"?",warning:"!",info:"i"}[Q.icon]),Se.trim()!==qe.trim()&&Pn($,qe)},N=($,Q)=>{if(Q.iconColor){$.style.color=Q.iconColor,$.style.borderColor=Q.iconColor;for(const Se of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qi($,Se,"backgroundColor",Q.iconColor);qi($,".swal2-success-ring","borderColor",Q.iconColor)}},F=$=>`<div class="${v["icon-content"]}">${$}</div>`,le=($,Q)=>{$.className=`${v.popup} ${Dn($)?Q.showClass.popup:""}`,Q.toast?(gn([document.documentElement,document.body],v["toast-shown"]),gn($,v.toast)):gn($,v.modal),ui($,Q,"popup"),"string"==typeof Q.customClass&&gn($,Q.customClass),Q.icon&&gn($,v[`icon-${Q.icon}`])},me=$=>{const Q=document.createElement("li");return gn(Q,v["progress-step"]),Pn(Q,$),Q},Ae=$=>{const Q=document.createElement("li");return gn(Q,v["progress-step-line"]),$.progressStepsDistance&&Bi(Q,"width",$.progressStepsDistance),Q},D=($,Q)=>{(($,Q)=>{const Se=on(),qe=Ut();Q.toast?(Bi(Se,"width",Q.width),qe.style.width="100%",qe.insertBefore(In(),un())):Bi(qe,"width",Q.width),Bi(qe,"padding",Q.padding),Q.color&&(qe.style.color=Q.color),Q.background&&(qe.style.background=Q.background),Pi(Nt()),le(qe,Q)})(0,Q),Gn(0,Q),(($,Q)=>{const Se=Qt();Q.progressSteps&&0!==Q.progressSteps.length?(ki(Se),Se.textContent="",Q.currentProgressStep>=Q.progressSteps.length&&je("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Q.progressSteps.forEach((qe,kt)=>{const Sn=me(qe);if(Se.appendChild(Sn),kt===Q.currentProgressStep&&gn(Sn,v["active-progress-step"]),kt!==Q.progressSteps.length-1){const mi=Ae(Q);Se.appendChild(mi)}})):Pi(Se)})(0,Q),(($,Q)=>{const Se=gt.innerParams.get($),qe=un();Se&&Q.icon===Se.icon?(P(qe,Q),y(qe,Q)):Q.icon||Q.iconHtml?Q.icon&&-1===Object.keys(He).indexOf(Q.icon)?(tt(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${Q.icon}"`),Pi(qe)):(ki(qe),P(qe,Q),y(qe,Q),gn(qe,Q.showClass.icon)):Pi(qe)})($,Q),(($,Q)=>{const Se=Fn();Q.imageUrl?(ki(Se,""),Se.setAttribute("src",Q.imageUrl),Se.setAttribute("alt",Q.imageAlt),Bi(Se,"width",Q.imageWidth),Bi(Se,"height",Q.imageHeight),Se.className=v.image,ui(Se,Q,"image")):Pi(Se)})(0,Q),(($,Q)=>{const Se=jt();Un(Se,Q.title||Q.titleText,"block"),Q.title&&gi(Q.title,Se),Q.titleText&&(Se.innerText=Q.titleText),ui(Se,Q,"title")})(0,Q),(($,Q)=>{const Se=Gt();Pn(Se,Q.closeButtonHtml),ui(Se,Q,"closeButton"),Un(Se,Q.showCloseButton),Se.setAttribute("aria-label",Q.closeButtonAriaLabel)})(0,Q),s($,Q),hn(0,Q),(($,Q)=>{const Se=Lt();Un(Se,Q.footer),Q.footer&&gi(Q.footer,Se),ui(Se,Q,"footer")})(0,Q),"function"==typeof Q.didRender&&Q.didRender(Ut())};function Z(){const $=gt.innerParams.get(this);if(!$)return;const Q=gt.domCache.get(this);Pi(Q.loader),Dt()?$.icon&&ki(un()):ce(Q),Si([Q.popup,Q.actions],v.loading),Q.popup.removeAttribute("aria-busy"),Q.popup.removeAttribute("data-loading"),Q.confirmButton.disabled=!1,Q.denyButton.disabled=!1,Q.cancelButton.disabled=!1}const ce=$=>{const Q=$.popup.getElementsByClassName($.loader.getAttribute("data-button-to-replace"));Q.length?ki(Q[0],"inline-block"):!Dn(vn())&&!Dn(Cn())&&!Dn(mn())&&Pi($.actions)};const ze=()=>vn()&&vn().click(),Tt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),$t=$=>{$.keydownTarget&&$.keydownHandlerAdded&&($.keydownTarget.removeEventListener("keydown",$.keydownHandler,{capture:$.keydownListenerCapture}),$.keydownHandlerAdded=!1)},Ht=($,Q,Se)=>{const qe=en();if(qe.length)return(Q+=Se)===qe.length?Q=0:-1===Q&&(Q=qe.length-1),qe[Q].focus();Ut().focus()},zn=["ArrowRight","ArrowDown"],Qn=["ArrowLeft","ArrowUp"],di=($,Q,Se)=>{const qe=gt.innerParams.get($);qe&&(Q.isComposing||229===Q.keyCode||(qe.stopKeydownPropagation&&Q.stopPropagation(),"Enter"===Q.key?xi($,Q,qe):"Tab"===Q.key?ji(Q,qe):[...zn,...Qn].includes(Q.key)?pi(Q.key):"Escape"===Q.key&&$i(Q,qe,Se)))},xi=($,Q,Se)=>{if(Et(Se.allowEnterKey)&&Q.target&&$.getInput()&&Q.target instanceof HTMLElement&&Q.target.outerHTML===$.getInput().outerHTML){if(["textarea","file"].includes(Se.input))return;ze(),Q.preventDefault()}},ji=($,Q)=>{const Se=$.target,qe=en();let kt=-1;for(let Sn=0;Sn<qe.length;Sn++)if(Se===qe[Sn]){kt=Sn;break}Ht(0,kt,$.shiftKey?-1:1),$.stopPropagation(),$.preventDefault()},pi=$=>{const Q=vn(),Se=Cn(),qe=mn();if(document.activeElement instanceof HTMLElement&&![Q,Se,qe].includes(document.activeElement))return;const kt=zn.includes($)?"nextElementSibling":"previousElementSibling";let Sn=document.activeElement;for(let mi=0;mi<mt().children.length;mi++){if(Sn=Sn[kt],!Sn)return;if(Sn instanceof HTMLButtonElement&&Dn(Sn))break}Sn instanceof HTMLButtonElement&&Sn.focus()},$i=($,Q,Se)=>{Et(Q.allowEscapeKey)&&($.preventDefault(),Se(Tt.esc))};var wr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const As=()=>{Array.from(document.body.children).forEach(Q=>{Q.hasAttribute("data-previous-aria-hidden")?(Q.setAttribute("aria-hidden",Q.getAttribute("data-previous-aria-hidden")),Q.removeAttribute("data-previous-aria-hidden")):Q.removeAttribute("aria-hidden")})},kr=()=>{const $=navigator.userAgent,Q=!!$.match(/iPad/i)||!!$.match(/iPhone/i),Se=!!$.match(/WebKit/i);Q&&Se&&!$.match(/CriOS/i)&&Ut().scrollHeight>window.innerHeight-44&&(on().style.paddingBottom="44px")},zi=()=>{const $=on();let Q;$.ontouchstart=Se=>{Q=Qs(Se)},$.ontouchmove=Se=>{Q&&(Se.preventDefault(),Se.stopPropagation())}},Qs=$=>{const Q=$.target,Se=on();return!ai($)&&!gr($)&&(Q===Se||!Oi(Se)&&Q instanceof HTMLElement&&"INPUT"!==Q.tagName&&"TEXTAREA"!==Q.tagName&&!(Oi(fn())&&fn().contains(Q)))},ai=$=>$.touches&&$.touches.length&&"stylus"===$.touches[0].touchType,gr=$=>$.touches&&$.touches.length>1,gs=()=>{null===Tn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Tn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Tn.previousBodyPadding+(()=>{const $=document.createElement("div");$.className=v["scrollbar-measure"],document.body.appendChild($);const Q=$.getBoundingClientRect().width-$.clientWidth;return document.body.removeChild($),Q})()}px`)};function Or($,Q,Se,qe){Dt()?Ys($,qe):(cr(Se).then(()=>Ys($,qe)),$t(ln)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Q.setAttribute("style","display:none !important"),Q.removeAttribute("class"),Q.innerHTML=""):Q.remove(),rn()&&(null!==Tn.previousBodyPadding&&(document.body.style.paddingRight=`${Tn.previousBodyPadding}px`,Tn.previousBodyPadding=null),(()=>{if(Vn(document.body,v.iosfix)){const $=parseInt(document.body.style.top,10);Si(document.body,v.iosfix),document.body.style.top="",document.body.scrollTop=-1*$}})(),As()),function Lo(){Si([document.documentElement,document.body],[v.shown,v["height-auto"],v["no-backdrop"],v["toast-shown"]])}()}function Ns($){$=_s($);const Q=wr.swalPromiseResolve.get(this),Se=ms(this);this.isAwaitingPromise()?$.isDismissed||(Fs(this),Q($)):Se&&Q($)}const ms=$=>{const Q=Ut();if(!Q)return!1;const Se=gt.innerParams.get($);if(!Se||Vn(Q,Se.hideClass.popup))return!1;Si(Q,Se.showClass.popup),gn(Q,Se.hideClass.popup);const qe=on();return Si(qe,Se.showClass.backdrop),gn(qe,Se.hideClass.backdrop),yo($,Q,Se),!0};const Fs=$=>{$.isAwaitingPromise()&&(gt.awaitingPromise.delete($),gt.innerParams.get($)||$._destroy())},_s=$=>typeof $>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},$),yo=($,Q,Se)=>{const qe=on(),kt=nt&&Hi(Q);"function"==typeof Se.willClose&&Se.willClose(Q),kt?so($,Q,qe,Se.returnFocus,Se.didClose):Or($,qe,Se.returnFocus,Se.didClose)},so=($,Q,Se,qe,kt)=>{ln.swalCloseEventFinishedCallback=Or.bind(null,$,Se,qe,kt),Q.addEventListener(nt,function(Sn){Sn.target===Q&&(ln.swalCloseEventFinishedCallback(),delete ln.swalCloseEventFinishedCallback)})},Ys=($,Q)=>{setTimeout(()=>{"function"==typeof Q&&Q.bind($.params)(),$._destroy()})};function lr($,Q,Se){const qe=gt.domCache.get($);Q.forEach(kt=>{qe[kt].disabled=Se})}function bs($,Q){if($)if("radio"===$.type){const qe=$.parentNode.parentNode.querySelectorAll("input");for(let kt=0;kt<qe.length;kt++)qe[kt].disabled=Q}else $.disabled=Q}const ut={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],sn={},wn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],yi=$=>Object.prototype.hasOwnProperty.call(ut,$),Ai=$=>-1!==Pt.indexOf($),hi=$=>sn[$],Yr=$=>{yi($)||je(`Unknown parameter "${$}"`)},Hr=$=>{wn.includes($)&&je(`The parameter "${$}" is incompatible with toasts`)},Bs=$=>{hi($)&&xt($,hi($))};const ha=$=>{const Q={};return Object.keys($).forEach(Se=>{Ai(Se)?Q[Se]=$[Se]:je(`Invalid parameter to update: ${Se}`)}),Q};const ws=$=>{Do($),delete $.params,delete ln.keydownHandler,delete ln.keydownTarget,delete ln.currentInstance},Do=$=>{$.isAwaitingPromise()?(Us(gt,$),gt.awaitingPromise.set($,!0)):(Us(wr,$),Us(gt,$))},Us=($,Q)=>{for(const Se in $)$[Se].delete(Q)};var Xr=Object.freeze({__proto__:null,hideLoading:Z,disableLoading:Z,getInput:function xe($){const Q=gt.innerParams.get($||this),Se=gt.domCache.get($||this);return Se?Di(Se.popup,Q.input):null},close:Ns,isAwaitingPromise:function Ls(){return!!gt.awaitingPromise.get(this)},rejectPromise:function Er($){const Q=wr.swalPromiseReject.get(this);Fs(this),Q&&Q($)},handleAwaitingPromise:Fs,closePopup:Ns,closeModal:Ns,closeToast:Ns,enableButtons:function Fo(){lr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Fi(){lr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Be(){bs(this.getInput(),!1)},disableInput:function Ce(){bs(this.getInput(),!0)},showValidationMessage:function fe($){const Q=gt.domCache.get(this),Se=gt.innerParams.get(this);Pn(Q.validationMessage,$),Q.validationMessage.className=v["validation-message"],Se.customClass&&Se.customClass.validationMessage&&gn(Q.validationMessage,Se.customClass.validationMessage),ki(Q.validationMessage);const qe=this.getInput();qe&&(qe.setAttribute("aria-invalid",!0),qe.setAttribute("aria-describedby",v["validation-message"]),bi(qe),gn(qe,v.inputerror))},resetValidationMessage:function Ue(){const $=gt.domCache.get(this);$.validationMessage&&Pi($.validationMessage);const Q=this.getInput();Q&&(Q.removeAttribute("aria-invalid"),Q.removeAttribute("aria-describedby"),Si(Q,v.inputerror))},update:function oo($){const Q=Ut(),Se=gt.innerParams.get(this);if(!Q||Vn(Q,Se.hideClass.popup))return void je("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const qe=ha($),kt=Object.assign({},Se,qe);D(this,kt),gt.innerParams.set(this,kt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,$),writable:!1,enumerable:!0}})},_destroy:function fa(){const $=gt.domCache.get(this),Q=gt.innerParams.get(this);Q?($.popup&&ln.swalCloseEventFinishedCallback&&(ln.swalCloseEventFinishedCallback(),delete ln.swalCloseEventFinishedCallback),"function"==typeof Q.didDestroy&&Q.didDestroy(),ws(this)):Do(this)}});const ao=$=>{let Q=Ut();Q||new Kt,Q=Ut();const Se=In();Dt()?Pi(un()):qo(Q,$),ki(Se),Q.setAttribute("data-loading","true"),Q.setAttribute("aria-busy","true"),Q.focus()},qo=($,Q)=>{const Se=mt(),qe=In();!Q&&Dn(vn())&&(Q=vn()),ki(Se),Q&&(Pi(Q),qe.setAttribute("data-button-to-replace",Q.className)),qe.parentNode.insertBefore(qe,Q),gn([$,Se],v.loading)},bo=$=>$.checked?1:0,ko=$=>$.checked?$.value:null,vs=$=>$.files.length?null!==$.getAttribute("multiple")?$.files:$.files[0]:null,Po=($,Q)=>{const Se=Ut(),qe=kt=>{Wo[Q.input](Se,Kr(kt),Q)};Jt(Q.inputOptions)||Ft(Q.inputOptions)?(ao(vn()),ct(Q.inputOptions).then(kt=>{$.hideLoading(),qe(kt)})):"object"==typeof Q.inputOptions?qe(Q.inputOptions):tt("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof Q.inputOptions)},lo=($,Q)=>{const Se=$.getInput();Pi(Se),ct(Q.inputValue).then(qe=>{Se.value="number"===Q.input?`${parseFloat(qe)||0}`:`${qe}`,ki(Se),Se.focus(),$.hideLoading()}).catch(qe=>{tt(`Error in inputValue promise: ${qe}`),Se.value="",ki(Se),Se.focus(),$.hideLoading()})},Wo={select:($,Q,Se)=>{const qe=sr($,v.select),kt=(Sn,mi,er)=>{const Rr=document.createElement("option");Rr.value=er,Pn(Rr,mi),Rr.selected=co(er,Se.inputValue),Sn.appendChild(Rr)};Q.forEach(Sn=>{const mi=Sn[0],er=Sn[1];if(Array.isArray(er)){const Rr=document.createElement("optgroup");Rr.label=mi,Rr.disabled=!1,qe.appendChild(Rr),er.forEach(Dr=>kt(Rr,Dr[1],Dr[0]))}else kt(qe,er,mi)}),qe.focus()},radio:($,Q,Se)=>{const qe=sr($,v.radio);Q.forEach(Sn=>{const mi=Sn[0],er=Sn[1],Rr=document.createElement("input"),Dr=document.createElement("label");Rr.type="radio",Rr.name=v.radio,Rr.value=mi,co(mi,Se.inputValue)&&(Rr.checked=!0);const Ds=document.createElement("span");Pn(Ds,er),Ds.className=v.label,Dr.appendChild(Rr),Dr.appendChild(Ds),qe.appendChild(Dr)});const kt=qe.querySelectorAll("input");kt.length&&kt[0].focus()}},Kr=$=>{const Q=[];return typeof Map<"u"&&$ instanceof Map?$.forEach((Se,qe)=>{let kt=Se;"object"==typeof kt&&(kt=Kr(kt)),Q.push([qe,kt])}):Object.keys($).forEach(Se=>{let qe=$[Se];"object"==typeof qe&&(qe=Kr(qe)),Q.push([Se,qe])}),Q},co=($,Q)=>Q&&Q.toString()===$.toString(),ge=($,Q)=>{const Se=gt.innerParams.get($);if(!Se.input)return void tt(`The "input" parameter is needed to be set when using returnInputValueOn${Qe(Q)}`);const qe=(($,Q)=>{const Se=$.getInput();if(!Se)return null;switch(Q.input){case"checkbox":return bo(Se);case"radio":return ko(Se);case"file":return vs(Se);default:return Q.inputAutoTrim?Se.value.trim():Se.value}})($,Se);Se.inputValidator?pe($,qe,Q):$.getInput().checkValidity()?"deny"===Q?re($,qe):Zn($,qe):($.enableButtons(),$.showValidationMessage(Se.validationMessage))},pe=($,Q,Se)=>{const qe=gt.innerParams.get($);$.disableInput(),Promise.resolve().then(()=>ct(qe.inputValidator(Q,qe.validationMessage))).then(Sn=>{$.enableButtons(),$.enableInput(),Sn?$.showValidationMessage(Sn):"deny"===Se?re($,Q):Zn($,Q)})},re=($,Q)=>{const Se=gt.innerParams.get($||void 0);Se.showLoaderOnDeny&&ao(Cn()),Se.preDeny?(gt.awaitingPromise.set($||void 0,!0),Promise.resolve().then(()=>ct(Se.preDeny(Q,Se.validationMessage))).then(kt=>{!1===kt?($.hideLoading(),Fs($)):$.close({isDenied:!0,value:typeof kt>"u"?Q:kt})}).catch(kt=>Vt($||void 0,kt))):$.close({isDenied:!0,value:Q})},Re=($,Q)=>{$.close({isConfirmed:!0,value:Q})},Vt=($,Q)=>{$.rejectPromise(Q)},Zn=($,Q)=>{const Se=gt.innerParams.get($||void 0);Se.showLoaderOnConfirm&&ao(),Se.preConfirm?($.resetValidationMessage(),gt.awaitingPromise.set($||void 0,!0),Promise.resolve().then(()=>ct(Se.preConfirm(Q,Se.validationMessage))).then(kt=>{Dn(Nt())||!1===kt?($.hideLoading(),Fs($)):Re($,typeof kt>"u"?Q:kt)}).catch(kt=>Vt($||void 0,kt))):Re($,Q)},qt=($,Q,Se)=>{Q.popup.onclick=()=>{const qe=gt.innerParams.get($);qe&&(Ei(qe)||qe.timer||qe.input)||Se(Tt.close)}},Ei=$=>$.showConfirmButton||$.showDenyButton||$.showCancelButton||$.showCloseButton;let Xo=!1;const Ko=$=>{$.popup.onmousedown=()=>{$.container.onmouseup=function(Q){$.container.onmouseup=void 0,Q.target===$.container&&(Xo=!0)}}},zr=$=>{$.container.onmousedown=()=>{$.popup.onmouseup=function(Q){$.popup.onmouseup=void 0,(Q.target===$.popup||$.popup.contains(Q.target))&&(Xo=!0)}}},wo=($,Q,Se)=>{Q.container.onclick=qe=>{const kt=gt.innerParams.get($);Xo?Xo=!1:qe.target===Q.container&&Et(kt.allowOutsideClick)&&Se(Tt.backdrop)}},Is=$=>$ instanceof Element||($=>"object"==typeof $&&$.jquery)($);const Da=()=>{if(ln.timeout)return(()=>{const $=pt(),Q=parseInt(window.getComputedStyle($).width);$.style.removeProperty("transition"),$.style.width="100%";const qe=Q/parseInt(window.getComputedStyle($).width)*100;$.style.removeProperty("transition"),$.style.width=`${qe}%`})(),ln.timeout.stop()},us=()=>{if(ln.timeout){const $=ln.timeout.start();return xr($),$}};let Es=!1;const os={};const qs=$=>{for(let Q=$.target;Q&&Q!==document;Q=Q.parentNode)for(const Se in os){const qe=Q.getAttribute(Se);if(qe)return void os[Se].fire({template:qe})}};var ho=Object.freeze({__proto__:null,isValidParameter:yi,isUpdatableParameter:Ai,isDeprecatedParameter:hi,argsToParams:$=>{const Q={};return"object"!=typeof $[0]||Is($[0])?["title","html","icon"].forEach((Se,qe)=>{const kt=$[qe];"string"==typeof kt||Is(kt)?Q[Se]=kt:void 0!==kt&&tt(`Unexpected type of ${Se}! Expected "string" or "Element", got ${typeof kt}`)}):Object.assign(Q,$[0]),Q},getContainer:on,getPopup:Ut,getTitle:jt,getHtmlContainer:fn,getImage:Fn,getIcon:un,getIconContent:()=>Ye(v["icon-content"]),getInputLabel:()=>Ye(v["input-label"]),getCloseButton:Gt,getActions:mt,getConfirmButton:vn,getDenyButton:Cn,getCancelButton:mn,getLoader:In,getFooter:Lt,getTimerProgressBar:pt,getFocusableElements:en,getValidationMessage:Nt,getProgressSteps:Qt,isLoading:()=>Ut().hasAttribute("data-loading"),isVisible:()=>Dn(Ut()),clickConfirm:ze,clickDeny:()=>Cn()&&Cn().click(),clickCancel:()=>mn()&&mn().click(),fire:function Eo(){const $=this;for(var Q=arguments.length,Se=new Array(Q),qe=0;qe<Q;qe++)Se[qe]=arguments[qe];return new $(...Se)},mixin:function pl($){return class Q extends(this){_main(qe,kt){return super._main(qe,Object.assign({},$,kt))}}},showLoading:ao,enableLoading:ao,getTimerLeft:()=>ln.timeout&&ln.timeout.getTimerLeft(),stopTimer:Da,resumeTimer:us,toggleTimer:()=>{const $=ln.timeout;return $&&($.running?Da():us())},increaseTimer:$=>{if(ln.timeout){const Q=ln.timeout.increase($);return xr(Q,!0),Q}},isTimerRunning:()=>ln.timeout&&ln.timeout.isRunning(),bindClickHandler:function xn(){os[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Es||(document.body.addEventListener("click",qs),Es=!0)}});class Oo{constructor(Q,Se){this.callback=Q,this.remaining=Se,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(Q){const Se=this.running;return Se&&this.stop(),this.remaining+=Q,Se&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Hs=["swal-title","swal-html","swal-footer"],Mo=$=>{const Q={};return Array.from($.querySelectorAll("swal-param")).forEach(qe=>{Ir(qe,["name","value"]);const kt=qe.getAttribute("name"),Sn=qe.getAttribute("value");Q[kt]="boolean"==typeof ut[kt]?"false"!==Sn:"object"==typeof ut[kt]?JSON.parse(Sn):Sn}),Q},Ka=$=>{const Q={};return Array.from($.querySelectorAll("swal-function-param")).forEach(qe=>{const kt=qe.getAttribute("name"),Sn=qe.getAttribute("value");Q[kt]=new Function(`return ${Sn}`)()}),Q},Jo=$=>{const Q={};return Array.from($.querySelectorAll("swal-button")).forEach(qe=>{Ir(qe,["type","color","aria-label"]);const kt=qe.getAttribute("type");Q[`${kt}ButtonText`]=qe.innerHTML,Q[`show${Qe(kt)}Button`]=!0,qe.hasAttribute("color")&&(Q[`${kt}ButtonColor`]=qe.getAttribute("color")),qe.hasAttribute("aria-label")&&(Q[`${kt}ButtonAriaLabel`]=qe.getAttribute("aria-label"))}),Q},Qo=$=>{const Q={},Se=$.querySelector("swal-image");return Se&&(Ir(Se,["src","width","height","alt"]),Se.hasAttribute("src")&&(Q.imageUrl=Se.getAttribute("src")),Se.hasAttribute("width")&&(Q.imageWidth=Se.getAttribute("width")),Se.hasAttribute("height")&&(Q.imageHeight=Se.getAttribute("height")),Se.hasAttribute("alt")&&(Q.imageAlt=Se.getAttribute("alt"))),Q},Va=$=>{const Q={},Se=$.querySelector("swal-icon");return Se&&(Ir(Se,["type","color"]),Se.hasAttribute("type")&&(Q.icon=Se.getAttribute("type")),Se.hasAttribute("color")&&(Q.iconColor=Se.getAttribute("color")),Q.iconHtml=Se.innerHTML),Q},Ba=$=>{const Q={},Se=$.querySelector("swal-input");Se&&(Ir(Se,["type","label","placeholder","value"]),Q.input=Se.getAttribute("type")||"text",Se.hasAttribute("label")&&(Q.inputLabel=Se.getAttribute("label")),Se.hasAttribute("placeholder")&&(Q.inputPlaceholder=Se.getAttribute("placeholder")),Se.hasAttribute("value")&&(Q.inputValue=Se.getAttribute("value")));const qe=Array.from($.querySelectorAll("swal-input-option"));return qe.length&&(Q.inputOptions={},qe.forEach(kt=>{Ir(kt,["value"]);const Sn=kt.getAttribute("value");Q.inputOptions[Sn]=kt.innerHTML})),Q},Ua=($,Q)=>{const Se={};for(const qe in Q){const kt=Q[qe],Sn=$.querySelector(kt);Sn&&(Ir(Sn,[]),Se[kt.replace(/^swal-/,"")]=Sn.innerHTML.trim())}return Se},Zr=$=>{const Q=Hs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from($.children).forEach(Se=>{const qe=Se.tagName.toLowerCase();Q.includes(qe)||je(`Unrecognized element <${qe}>`)})},Ir=($,Q)=>{Array.from($.attributes).forEach(Se=>{-1===Q.indexOf(Se.name)&&je([`Unrecognized attribute "${Se.name}" on <${$.tagName.toLowerCase()}>.`,Q.length?`Allowed attributes are: ${Q.join(", ")}`:"To set the value, use HTML within the element."])})},ql=$=>{const Q=on(),Se=Ut();"function"==typeof $.willOpen&&$.willOpen(Se);const kt=window.getComputedStyle(document.body).overflowY;Ja(Q,Se,$),setTimeout(()=>{Ts(Q,Se)},10),rn()&&(Gr(Q,$.scrollbarPadding,kt),Array.from(document.body.children).forEach(Q=>{Q===on()||Q.contains(on())||(Q.hasAttribute("aria-hidden")&&Q.setAttribute("data-previous-aria-hidden",Q.getAttribute("aria-hidden")),Q.setAttribute("aria-hidden","true"))})),!Dt()&&!ln.previousActiveElement&&(ln.previousActiveElement=document.activeElement),"function"==typeof $.didOpen&&setTimeout(()=>$.didOpen(Se)),Si(Q,v["no-transition"])},Mr=$=>{const Q=Ut();if($.target!==Q)return;const Se=on();Q.removeEventListener(nt,Mr),Se.style.overflowY="auto"},Ts=($,Q)=>{nt&&Hi(Q)?($.style.overflowY="hidden",Q.addEventListener(nt,Mr)):$.style.overflowY="auto"},Gr=($,Q,Se)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Vn(document.body,v.iosfix)){const Q=document.body.scrollTop;document.body.style.top=-1*Q+"px",gn(document.body,v.iosfix),zi(),kr()}})(),Q&&"hidden"!==Se&&gs(),setTimeout(()=>{$.scrollTop=0})},Ja=($,Q,Se)=>{gn($,Se.showClass.backdrop),Q.style.setProperty("opacity","0","important"),ki(Q,"grid"),setTimeout(()=>{gn(Q,Se.showClass.popup),Q.style.removeProperty("opacity")},10),gn([document.documentElement,document.body],v.shown),Se.heightAuto&&Se.backdrop&&!Se.toast&&gn([document.documentElement,document.body],v["height-auto"])};var Wl={email:($,Q)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test($)?Promise.resolve():Promise.resolve(Q||"Invalid email address"),url:($,Q)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test($)?Promise.resolve():Promise.resolve(Q||"Invalid URL")};function Za($){(function za($){$.inputValidator||Object.keys(Wl).forEach(Q=>{$.input===Q&&($.inputValidator=Wl[Q])})})($),$.showLoaderOnConfirm&&!$.preConfirm&&je("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function xc($){(!$.target||"string"==typeof $.target&&!document.querySelector($.target)||"string"!=typeof $.target&&!$.target.appendChild)&&(je('Target parameter is not valid, defaulting to "body"'),$.target="body")}($),"string"==typeof $.title&&($.title=$.title.split("\n").join("<br />")),Ur($)}let Vo;class zs{constructor(){if(typeof window>"u")return;Vo=this;for(var Q=arguments.length,Se=new Array(Q),qe=0;qe<Q;qe++)Se[qe]=arguments[qe];const kt=Object.freeze(this.constructor.argsToParams(Se));Object.defineProperties(this,{params:{value:kt,writable:!1,enumerable:!0,configurable:!0}});const Sn=Vo._main(Vo.params);gt.promise.set(this,Sn)}_main(Q){let Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};($=>{!1===$.backdrop&&$.allowOutsideClick&&je('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Q in $)Yr(Q),$.toast&&Hr(Q),Bs(Q)})(Object.assign({},Se,Q)),ln.currentInstance&&(ln.currentInstance._destroy(),rn()&&As()),ln.currentInstance=Vo;const qe=ee(Q,Se);Za(qe),Object.freeze(qe),ln.timeout&&(ln.timeout.stop(),delete ln.timeout),clearTimeout(ln.restoreFocusTimeout);const kt=Te(Vo);return D(Vo,qe),gt.innerParams.set(Vo,qe),Qa(Vo,kt,qe)}then(Q){return gt.promise.get(this).then(Q)}finally(Q){return gt.promise.get(this).finally(Q)}}const Qa=($,Q,Se)=>new Promise((qe,kt)=>{const Sn=mi=>{$.close({isDismissed:!0,dismiss:mi})};wr.swalPromiseResolve.set($,qe),wr.swalPromiseReject.set($,kt),Q.confirmButton.onclick=()=>{($=>{const Q=gt.innerParams.get($);$.disableButtons(),Q.input?ge($,"confirm"):Zn($,!0)})($)},Q.denyButton.onclick=()=>{($=>{const Q=gt.innerParams.get($);$.disableButtons(),Q.returnInputValueOnDeny?ge($,"deny"):re($,!1)})($)},Q.cancelButton.onclick=()=>{(($,Q)=>{$.disableButtons(),Q(Tt.cancel)})($,Sn)},Q.closeButton.onclick=()=>{Sn(Tt.close)},(($,Q,Se)=>{gt.innerParams.get($).toast?qt($,Q,Se):(Ko(Q),zr(Q),wo($,Q,Se))})($,Q,Sn),(($,Q,Se,qe)=>{$t(Q),Se.toast||(Q.keydownHandler=kt=>di($,kt,qe),Q.keydownTarget=Se.keydownListenerCapture?window:Ut(),Q.keydownListenerCapture=Se.keydownListenerCapture,Q.keydownTarget.addEventListener("keydown",Q.keydownHandler,{capture:Q.keydownListenerCapture}),Q.keydownHandlerAdded=!0)})($,ln,Se,Sn),(($,Q)=>{"select"===Q.input||"radio"===Q.input?Po($,Q):["text","email","number","tel","textarea"].includes(Q.input)&&(Jt(Q.inputValue)||Ft(Q.inputValue))&&(ao(vn()),lo($,Q))})($,Se),ql(Se),ae(ln,Se,Sn),Ne(Q,Se),setTimeout(()=>{Q.container.scrollTop=0})}),ee=($,Q)=>{const Se=($=>{const Q="string"==typeof $.template?document.querySelector($.template):$.template;if(!Q)return{};const Se=Q.content;return Zr(Se),Object.assign(Mo(Se),Ka(Se),Jo(Se),Qo(Se),Va(Se),Ba(Se),Ua(Se,Hs))})($),qe=Object.assign({},ut,Q,Se,$);return qe.showClass=Object.assign({},ut.showClass,qe.showClass),qe.hideClass=Object.assign({},ut.hideClass,qe.hideClass),qe},Te=$=>{const Q={popup:Ut(),container:on(),actions:mt(),confirmButton:vn(),denyButton:Cn(),cancelButton:mn(),loader:In(),closeButton:Gt(),validationMessage:Nt(),progressSteps:Qt()};return gt.domCache.set($,Q),Q},ae=($,Q,Se)=>{const qe=pt();Pi(qe),Q.timer&&($.timeout=new Oo(()=>{Se("timer"),delete $.timeout},Q.timer),Q.timerProgressBar&&(ki(qe),ui(qe,Q,"timerProgressBar"),setTimeout(()=>{$.timeout&&$.timeout.running&&xr(Q.timer)})))},Ne=($,Q)=>{if(!Q.toast){if(!Et(Q.allowEnterKey))return void wt();$e($,Q)||Ht(0,-1,1)}},$e=($,Q)=>Q.focusDeny&&Dn($.denyButton)?($.denyButton.focus(),!0):Q.focusCancel&&Dn($.cancelButton)?($.cancelButton.focus(),!0):!(!Q.focusConfirm||!Dn($.confirmButton)||($.confirmButton.focus(),0)),wt=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const $=new Date,Q=localStorage.getItem("swal-initiation");Q?($.getTime()-Date.parse(Q))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const Se=document.createElement("audio");Se.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",Se.loop=!0,document.body.appendChild(Se),setTimeout(()=>{Se.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${$}`)}Object.assign(zs.prototype,Xr),Object.assign(zs,ho),Object.keys(Xr).forEach($=>{zs[$]=function(){if(Vo)return Vo[$](...arguments)}}),zs.DismissReason=Tt,zs.version="11.6.13";const Kt=zs;return Kt.default=Kt,Kt}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(gt,ue){var f=gt.createElement("style");if(gt.getElementsByTagName("head")[0].appendChild(f),f.styleSheet)f.styleSheet.disabled||(f.styleSheet.cssText=ue);else try{f.innerHTML=ue}catch{f.innerText=ue}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Hn,gt,ue)=>{"use strict";function Xe(mt,Lt){var pt={};for(var Gt in mt)Object.prototype.hasOwnProperty.call(mt,Gt)&&Lt.indexOf(Gt)<0&&(pt[Gt]=mt[Gt]);if(null!=mt&&"function"==typeof Object.getOwnPropertySymbols){var pn=0;for(Gt=Object.getOwnPropertySymbols(mt);pn<Gt.length;pn++)Lt.indexOf(Gt[pn])<0&&Object.prototype.propertyIsEnumerable.call(mt,Gt[pn])&&(pt[Gt[pn]]=mt[Gt[pn]])}return pt}function Et(mt,Lt,pt,Gt){return new(pt||(pt=Promise))(function(en,rn){function Dt(Pn){try{Tn(Gt.next(Pn))}catch(Vn){rn(Vn)}}function $n(Pn){try{Tn(Gt.throw(Pn))}catch(Vn){rn(Vn)}}function Tn(Pn){Pn.done?en(Pn.value):function pn(en){return en instanceof pt?en:new pt(function(rn){rn(en)})}(Pn.value).then(Dt,$n)}Tn((Gt=Gt.apply(mt,Lt||[])).next())})}function et(mt){return this instanceof et?(this.v=mt,this):new et(mt)}function jt(mt,Lt,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pn,Gt=pt.apply(mt,Lt||[]),en=[];return pn={},rn("next"),rn("throw"),rn("return"),pn[Symbol.asyncIterator]=function(){return this},pn;function rn(Rn){Gt[Rn]&&(pn[Rn]=function(ui){return new Promise(function(Di,bi){en.push([Rn,ui,Di,bi])>1||Dt(Rn,ui)})})}function Dt(Rn,ui){try{!function $n(Rn){Rn.value instanceof et?Promise.resolve(Rn.value.v).then(Tn,Pn):Vn(en[0][2],Rn)}(Gt[Rn](ui))}catch(Di){Vn(en[0][3],Di)}}function Tn(Rn){Dt("next",Rn)}function Pn(Rn){Dt("throw",Rn)}function Vn(Rn,ui){Rn(ui),en.shift(),en.length&&Dt(en[0][0],en[0][1])}}function Fn(mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,Lt=mt[Symbol.asyncIterator];return Lt?Lt.call(mt):(mt=function on(mt){var Lt="function"==typeof Symbol&&Symbol.iterator,pt=Lt&&mt[Lt],Gt=0;if(pt)return pt.call(mt);if(mt&&"number"==typeof mt.length)return{next:function(){return mt&&Gt>=mt.length&&(mt=void 0),{value:mt&&mt[Gt++],done:!mt}}};throw new TypeError(Lt?"Object is not iterable.":"Symbol.iterator is not defined.")}(mt),pt={},Gt("next"),Gt("throw"),Gt("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function Gt(en){pt[en]=mt[en]&&function(rn){return new Promise(function(Dt,$n){!function pn(en,rn,Dt,$n){Promise.resolve($n).then(function(Tn){en({value:Tn,done:Dt})},rn)}(Dt,$n,(rn=mt[en](rn)).done,rn.value)})}}}ue.d(gt,{FC:()=>jt,KL:()=>Fn,_T:()=>Xe,mG:()=>Et,qq:()=>et})},6895:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Do:()=>Ut,EM:()=>hi,HT:()=>Xe,JF:()=>oo,K0:()=>Qe,Mn:()=>Gt,Mx:()=>X,NF:()=>Pt,O5:()=>ze,PC:()=>xi,S$:()=>on,Tn:()=>Bn,UT:()=>pn,V_:()=>vt,Ye:()=>un,Zx:()=>so,ax:()=>ce,b0:()=>Ye,bD:()=>Ce,ez:()=>Be,mk:()=>me,ol:()=>pt,p6:()=>es,q:()=>He,sg:()=>ce,tP:()=>ji,w_:()=>l,x:()=>Cn});var f=ue(4650);let v=null;function He(){return v}function Xe(ee){v||(v=ee)}class l{}const Qe=new f.OlP("DocumentToken");let je=(()=>{class ee{historyGo(ae){throw new Error("Not implemented")}}return ee.\u0275fac=function(ae){return new(ae||ee)},ee.\u0275prov=f.Yz7({token:ee,factory:function(){return function tt(){return(0,f.LFG)(bt)}()},providedIn:"platform"}),ee})();const vt=new f.OlP("Location Initialized");let bt=(()=>{class ee extends je{constructor(ae){super(),this._doc=ae,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return He().getBaseHref(this._doc)}onPopState(ae){const Ne=He().getGlobalEventTarget(this._doc,"window");return Ne.addEventListener("popstate",ae,!1),()=>Ne.removeEventListener("popstate",ae)}onHashChange(ae){const Ne=He().getGlobalEventTarget(this._doc,"window");return Ne.addEventListener("hashchange",ae,!1),()=>Ne.removeEventListener("hashchange",ae)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ae){this._location.pathname=ae}pushState(ae,Ne,$e){xt()?this._history.pushState(ae,Ne,$e):this._location.hash=$e}replaceState(ae,Ne,$e){xt()?this._history.replaceState(ae,Ne,$e):this._location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(ae=0){this._history.go(ae)}getState(){return this._history.state}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.LFG(Qe))},ee.\u0275prov=f.Yz7({token:ee,factory:function(){return function Et(){return new bt((0,f.LFG)(Qe))}()},providedIn:"platform"}),ee})();function xt(){return!!window.history.pushState}function Jt(ee,Te){if(0==ee.length)return Te;if(0==Te.length)return ee;let ae=0;return ee.endsWith("/")&&ae++,Te.startsWith("/")&&ae++,2==ae?ee+Te.substring(1):1==ae?ee+Te:ee+"/"+Te}function ct(ee){const Te=ee.match(/#|\?|$/),ae=Te&&Te.index||ee.length;return ee.slice(0,ae-("/"===ee[ae-1]?1:0))+ee.slice(ae)}function Ft(ee){return ee&&"?"!==ee[0]?"?"+ee:ee}let on=(()=>{class ee{historyGo(ae){throw new Error("Not implemented")}}return ee.\u0275fac=function(ae){return new(ae||ee)},ee.\u0275prov=f.Yz7({token:ee,factory:function(){return(0,f.f3M)(Ye)},providedIn:"root"}),ee})();const At=new f.OlP("appBaseHref");let Ye=(()=>{class ee extends on{constructor(ae,Ne){super(),this._platformLocation=ae,this._removeListenerFns=[],this._baseHref=Ne??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ae){this._removeListenerFns.push(this._platformLocation.onPopState(ae),this._platformLocation.onHashChange(ae))}getBaseHref(){return this._baseHref}prepareExternalUrl(ae){return Jt(this._baseHref,ae)}path(ae=!1){const Ne=this._platformLocation.pathname+Ft(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&ae?`${Ne}${$e}`:Ne}pushState(ae,Ne,$e,wt){const Kt=this.prepareExternalUrl($e+Ft(wt));this._platformLocation.pushState(ae,Ne,Kt)}replaceState(ae,Ne,$e,wt){const Kt=this.prepareExternalUrl($e+Ft(wt));this._platformLocation.replaceState(ae,Ne,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ae=0){this._platformLocation.historyGo?.(ae)}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.LFG(je),f.LFG(At,8))},ee.\u0275prov=f.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})(),Ut=(()=>{class ee extends on{constructor(ae,Ne){super(),this._platformLocation=ae,this._baseHref="",this._removeListenerFns=[],null!=Ne&&(this._baseHref=Ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ae){this._removeListenerFns.push(this._platformLocation.onPopState(ae),this._platformLocation.onHashChange(ae))}getBaseHref(){return this._baseHref}path(ae=!1){let Ne=this._platformLocation.hash;return null==Ne&&(Ne="#"),Ne.length>0?Ne.substring(1):Ne}prepareExternalUrl(ae){const Ne=Jt(this._baseHref,ae);return Ne.length>0?"#"+Ne:Ne}pushState(ae,Ne,$e,wt){let Kt=this.prepareExternalUrl($e+Ft(wt));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.pushState(ae,Ne,Kt)}replaceState(ae,Ne,$e,wt){let Kt=this.prepareExternalUrl($e+Ft(wt));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.replaceState(ae,Ne,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ae=0){this._platformLocation.historyGo?.(ae)}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.LFG(je),f.LFG(At,8))},ee.\u0275prov=f.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),un=(()=>{class ee{constructor(ae){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ae;const Ne=this._locationStrategy.getBaseHref();this._basePath=function Fn(ee){if(new RegExp("^(https?:)?//").test(ee)){const[,ae]=ee.split(/\/\/[^\/]+/);return ae}return ee}(ct(fn(Ne))),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ae=!1){return this.normalize(this._locationStrategy.path(ae))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ae,Ne=""){return this.path()==this.normalize(ae+Ft(Ne))}normalize(ae){return ee.stripTrailingSlash(function jt(ee,Te){return ee&&new RegExp(`^${ee}([/;?#]|$)`).test(Te)?Te.substring(ee.length):Te}(this._basePath,fn(ae)))}prepareExternalUrl(ae){return ae&&"/"!==ae[0]&&(ae="/"+ae),this._locationStrategy.prepareExternalUrl(ae)}go(ae,Ne="",$e=null){this._locationStrategy.pushState($e,"",ae,Ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(ae+Ft(Ne)),$e)}replaceState(ae,Ne="",$e=null){this._locationStrategy.replaceState($e,"",ae,Ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(ae+Ft(Ne)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ae=0){this._locationStrategy.historyGo?.(ae)}onUrlChange(ae){return this._urlChangeListeners.push(ae),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ne=>{this._notifyUrlChangeListeners(Ne.url,Ne.state)})),()=>{const Ne=this._urlChangeListeners.indexOf(ae);this._urlChangeListeners.splice(Ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ae="",Ne){this._urlChangeListeners.forEach($e=>$e(ae,Ne))}subscribe(ae,Ne,$e){return this._subject.subscribe({next:ae,error:Ne,complete:$e})}}return ee.normalizeQueryParams=Ft,ee.joinWithSlash=Jt,ee.stripTrailingSlash=ct,ee.\u0275fac=function(ae){return new(ae||ee)(f.LFG(on))},ee.\u0275prov=f.Yz7({token:ee,factory:function(){return function et(){return new un((0,f.LFG)(on))}()},providedIn:"root"}),ee})();function fn(ee){return ee.replace(/\/index.html$/,"")}var Nt=(()=>((Nt=Nt||{})[Nt.Decimal=0]="Decimal",Nt[Nt.Percent=1]="Percent",Nt[Nt.Currency=2]="Currency",Nt[Nt.Scientific=3]="Scientific",Nt))(),Cn=(()=>((Cn=Cn||{})[Cn.Format=0]="Format",Cn[Cn.Standalone=1]="Standalone",Cn))(),Bn=(()=>((Bn=Bn||{})[Bn.Narrow=0]="Narrow",Bn[Bn.Abbreviated=1]="Abbreviated",Bn[Bn.Wide=2]="Wide",Bn[Bn.Short=3]="Short",Bn))(),In=(()=>((In=In||{})[In.Short=0]="Short",In[In.Medium=1]="Medium",In[In.Long=2]="Long",In[In.Full=3]="Full",In))(),mn=(()=>((mn=mn||{})[mn.Decimal=0]="Decimal",mn[mn.Group=1]="Group",mn[mn.List=2]="List",mn[mn.PercentSign=3]="PercentSign",mn[mn.PlusSign=4]="PlusSign",mn[mn.MinusSign=5]="MinusSign",mn[mn.Exponential=6]="Exponential",mn[mn.SuperscriptingExponent=7]="SuperscriptingExponent",mn[mn.PerMille=8]="PerMille",mn[mn.Infinity=9]="Infinity",mn[mn.NaN=10]="NaN",mn[mn.TimeSeparator=11]="TimeSeparator",mn[mn.CurrencyDecimal=12]="CurrencyDecimal",mn[mn.CurrencyGroup=13]="CurrencyGroup",mn))();function pt(ee,Te,ae){const Ne=(0,f.cg1)(ee),wt=Pi([Ne[f.wAp.DayPeriodsFormat],Ne[f.wAp.DayPeriodsStandalone]],Te);return Pi(wt,ae)}function Gt(ee,Te,ae){const Ne=(0,f.cg1)(ee),wt=Pi([Ne[f.wAp.DaysFormat],Ne[f.wAp.DaysStandalone]],Te);return Pi(wt,ae)}function pn(ee,Te,ae){const Ne=(0,f.cg1)(ee),wt=Pi([Ne[f.wAp.MonthsFormat],Ne[f.wAp.MonthsStandalone]],Te);return Pi(wt,ae)}function $n(ee,Te){return Pi((0,f.cg1)(ee)[f.wAp.DateFormat],Te)}function Tn(ee,Te){return Pi((0,f.cg1)(ee)[f.wAp.TimeFormat],Te)}function Pn(ee,Te){return Pi((0,f.cg1)(ee)[f.wAp.DateTimeFormat],Te)}function Vn(ee,Te){const ae=(0,f.cg1)(ee),Ne=ae[f.wAp.NumberSymbols][Te];if(typeof Ne>"u"){if(Te===mn.CurrencyDecimal)return ae[f.wAp.NumberSymbols][mn.Decimal];if(Te===mn.CurrencyGroup)return ae[f.wAp.NumberSymbols][mn.Group]}return Ne}function Si(ee){if(!ee[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${ee[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pi(ee,Te){for(let ae=Te;ae>-1;ae--)if(typeof ee[ae]<"u")return ee[ae];throw new Error("Locale data API: locale data undefined")}function qi(ee){const[Te,ae]=ee.split(":");return{hours:+Te,minutes:+ae}}const Oi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hi={},xr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ni=(()=>((ni=ni||{})[ni.Short=0]="Short",ni[ni.ShortGMT=1]="ShortGMT",ni[ni.Long=2]="Long",ni[ni.Extended=3]="Extended",ni))(),ti=(()=>((ti=ti||{})[ti.FullYear=0]="FullYear",ti[ti.Month=1]="Month",ti[ti.Date=2]="Date",ti[ti.Hours=3]="Hours",ti[ti.Minutes=4]="Minutes",ti[ti.Seconds=5]="Seconds",ti[ti.FractionalSeconds=6]="FractionalSeconds",ti[ti.Day=7]="Day",ti))(),ln=(()=>((ln=ln||{})[ln.DayPeriods=0]="DayPeriods",ln[ln.Days=1]="Days",ln[ln.Months=2]="Months",ln[ln.Eras=3]="Eras",ln))();function es(ee,Te,ae,Ne){let $e=function dr(ee){if(On(ee))return ee;if("number"==typeof ee&&!isNaN(ee))return new Date(ee);if("string"==typeof ee){if(ee=ee.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ee)){const[$e,wt=1,Kt=1]=ee.split("-").map($=>+$);return cr($e,wt-1,Kt)}const ae=parseFloat(ee);if(!isNaN(ee-ae))return new Date(ae);let Ne;if(Ne=ee.match(Oi))return function Gi(ee){const Te=new Date(0);let ae=0,Ne=0;const $e=ee[8]?Te.setUTCFullYear:Te.setFullYear,wt=ee[8]?Te.setUTCHours:Te.setHours;ee[9]&&(ae=Number(ee[9]+ee[10]),Ne=Number(ee[9]+ee[11])),$e.call(Te,Number(ee[1]),Number(ee[2])-1,Number(ee[3]));const Kt=Number(ee[4]||0)-ae,$=Number(ee[5]||0)-Ne,Q=Number(ee[6]||0),Se=Math.floor(1e3*parseFloat("0."+(ee[7]||0)));return wt.call(Te,Kt,$,Q,Se),Te}(Ne)}const Te=new Date(ee);if(!On(Te))throw new Error(`Unable to convert "${ee}" into a date`);return Te}(ee);Te=Qi(ae,Te)||Te;let $,Kt=[];for(;Te;){if($=xr.exec(Te),!$){Kt.push(Te);break}{Kt=Kt.concat($.slice(1));const qe=Kt.pop();if(!qe)break;Te=qe}}let Q=$e.getTimezoneOffset();Ne&&(Q=ke(Ne,Q),$e=function Gn(ee,Te,ae){const Ne=ae?-1:1,$e=ee.getTimezoneOffset();return function vi(ee,Te){return(ee=new Date(ee.getTime())).setMinutes(ee.getMinutes()+Te),ee}(ee,Ne*(ke(Te,$e)-$e))}($e,Ne,!0));let Se="";return Kt.forEach(qe=>{const kt=function cn(ee){if(tn[ee])return tn[ee];let Te;switch(ee){case"G":case"GG":case"GGG":Te=fi(ln.Eras,Bn.Abbreviated);break;case"GGGG":Te=fi(ln.Eras,Bn.Wide);break;case"GGGGG":Te=fi(ln.Eras,Bn.Narrow);break;case"y":Te=Mi(ti.FullYear,1,0,!1,!0);break;case"yy":Te=Mi(ti.FullYear,2,0,!0,!0);break;case"yyy":Te=Mi(ti.FullYear,3,0,!1,!0);break;case"yyyy":Te=Mi(ti.FullYear,4,0,!1,!0);break;case"Y":Te=hn(1);break;case"YY":Te=hn(2,!0);break;case"YYY":Te=hn(3);break;case"YYYY":Te=hn(4);break;case"M":case"L":Te=Mi(ti.Month,1,1);break;case"MM":case"LL":Te=Mi(ti.Month,2,1);break;case"MMM":Te=fi(ln.Months,Bn.Abbreviated);break;case"MMMM":Te=fi(ln.Months,Bn.Wide);break;case"MMMMM":Te=fi(ln.Months,Bn.Narrow);break;case"LLL":Te=fi(ln.Months,Bn.Abbreviated,Cn.Standalone);break;case"LLLL":Te=fi(ln.Months,Bn.Wide,Cn.Standalone);break;case"LLLLL":Te=fi(ln.Months,Bn.Narrow,Cn.Standalone);break;case"w":Te=ft(1);break;case"ww":Te=ft(2);break;case"W":Te=ft(1,!0);break;case"d":Te=Mi(ti.Date,1);break;case"dd":Te=Mi(ti.Date,2);break;case"c":case"cc":Te=Mi(ti.Day,1);break;case"ccc":Te=fi(ln.Days,Bn.Abbreviated,Cn.Standalone);break;case"cccc":Te=fi(ln.Days,Bn.Wide,Cn.Standalone);break;case"ccccc":Te=fi(ln.Days,Bn.Narrow,Cn.Standalone);break;case"cccccc":Te=fi(ln.Days,Bn.Short,Cn.Standalone);break;case"E":case"EE":case"EEE":Te=fi(ln.Days,Bn.Abbreviated);break;case"EEEE":Te=fi(ln.Days,Bn.Wide);break;case"EEEEE":Te=fi(ln.Days,Bn.Narrow);break;case"EEEEEE":Te=fi(ln.Days,Bn.Short);break;case"a":case"aa":case"aaa":Te=fi(ln.DayPeriods,Bn.Abbreviated);break;case"aaaa":Te=fi(ln.DayPeriods,Bn.Wide);break;case"aaaaa":Te=fi(ln.DayPeriods,Bn.Narrow);break;case"b":case"bb":case"bbb":Te=fi(ln.DayPeriods,Bn.Abbreviated,Cn.Standalone,!0);break;case"bbbb":Te=fi(ln.DayPeriods,Bn.Wide,Cn.Standalone,!0);break;case"bbbbb":Te=fi(ln.DayPeriods,Bn.Narrow,Cn.Standalone,!0);break;case"B":case"BB":case"BBB":Te=fi(ln.DayPeriods,Bn.Abbreviated,Cn.Format,!0);break;case"BBBB":Te=fi(ln.DayPeriods,Bn.Wide,Cn.Format,!0);break;case"BBBBB":Te=fi(ln.DayPeriods,Bn.Narrow,Cn.Format,!0);break;case"h":Te=Mi(ti.Hours,1,-12);break;case"hh":Te=Mi(ti.Hours,2,-12);break;case"H":Te=Mi(ti.Hours,1);break;case"HH":Te=Mi(ti.Hours,2);break;case"m":Te=Mi(ti.Minutes,1);break;case"mm":Te=Mi(ti.Minutes,2);break;case"s":Te=Mi(ti.Seconds,1);break;case"ss":Te=Mi(ti.Seconds,2);break;case"S":Te=Mi(ti.FractionalSeconds,1);break;case"SS":Te=Mi(ti.FractionalSeconds,2);break;case"SSS":Te=Mi(ti.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Te=Ur(ni.Short);break;case"ZZZZZ":Te=Ur(ni.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Te=Ur(ni.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Te=Ur(ni.Long);break;default:return null}return tn[ee]=Te,Te}(qe);Se+=kt?kt($e,ae,Q):"''"===qe?"'":qe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Se}function cr(ee,Te,ae){const Ne=new Date(0);return Ne.setFullYear(ee,Te,ae),Ne.setHours(0,0,0),Ne}function Qi(ee,Te){const ae=function Lt(ee){return(0,f.cg1)(ee)[f.wAp.LocaleId]}(ee);if(Hi[ae]=Hi[ae]||{},Hi[ae][Te])return Hi[ae][Te];let Ne="";switch(Te){case"shortDate":Ne=$n(ee,In.Short);break;case"mediumDate":Ne=$n(ee,In.Medium);break;case"longDate":Ne=$n(ee,In.Long);break;case"fullDate":Ne=$n(ee,In.Full);break;case"shortTime":Ne=Tn(ee,In.Short);break;case"mediumTime":Ne=Tn(ee,In.Medium);break;case"longTime":Ne=Tn(ee,In.Long);break;case"fullTime":Ne=Tn(ee,In.Full);break;case"short":const $e=Qi(ee,"shortTime"),wt=Qi(ee,"shortDate");Ne=ii(Pn(ee,In.Short),[$e,wt]);break;case"medium":const Kt=Qi(ee,"mediumTime"),$=Qi(ee,"mediumDate");Ne=ii(Pn(ee,In.Medium),[Kt,$]);break;case"long":const Q=Qi(ee,"longTime"),Se=Qi(ee,"longDate");Ne=ii(Pn(ee,In.Long),[Q,Se]);break;case"full":const qe=Qi(ee,"fullTime"),kt=Qi(ee,"fullDate");Ne=ii(Pn(ee,In.Full),[qe,kt])}return Ne&&(Hi[ae][Te]=Ne),Ne}function ii(ee,Te){return Te&&(ee=ee.replace(/\{([^}]+)}/g,function(ae,Ne){return null!=Te&&Ne in Te?Te[Ne]:ae})),ee}function Ki(ee,Te,ae="-",Ne,$e){let wt="";(ee<0||$e&&ee<=0)&&($e?ee=1-ee:(ee=-ee,wt=ae));let Kt=String(ee);for(;Kt.length<Te;)Kt="0"+Kt;return Ne&&(Kt=Kt.slice(Kt.length-Te)),wt+Kt}function Mi(ee,Te,ae=0,Ne=!1,$e=!1){return function(wt,Kt){let $=function $r(ee,Te){switch(ee){case ti.FullYear:return Te.getFullYear();case ti.Month:return Te.getMonth();case ti.Date:return Te.getDate();case ti.Hours:return Te.getHours();case ti.Minutes:return Te.getMinutes();case ti.Seconds:return Te.getSeconds();case ti.FractionalSeconds:return Te.getMilliseconds();case ti.Day:return Te.getDay();default:throw new Error(`Unknown DateType value "${ee}".`)}}(ee,wt);if((ae>0||$>-ae)&&($+=ae),ee===ti.Hours)0===$&&-12===ae&&($=12);else if(ee===ti.FractionalSeconds)return function pr(ee,Te){return Ki(ee,3).substring(0,Te)}($,Te);const Q=Vn(Kt,mn.MinusSign);return Ki($,Te,Q,Ne,$e)}}function fi(ee,Te,ae=Cn.Format,Ne=!1){return function($e,wt){return function ur(ee,Te,ae,Ne,$e,wt){switch(ae){case ln.Months:return pn(Te,$e,Ne)[ee.getMonth()];case ln.Days:return Gt(Te,$e,Ne)[ee.getDay()];case ln.DayPeriods:const Kt=ee.getHours(),$=ee.getMinutes();if(wt){const Se=function sr(ee){const Te=(0,f.cg1)(ee);return Si(Te),(Te[f.wAp.ExtraData][2]||[]).map(Ne=>"string"==typeof Ne?qi(Ne):[qi(Ne[0]),qi(Ne[1])])}(Te),qe=function Bi(ee,Te,ae){const Ne=(0,f.cg1)(ee);Si(Ne);const wt=Pi([Ne[f.wAp.ExtraData][0],Ne[f.wAp.ExtraData][1]],Te)||[];return Pi(wt,ae)||[]}(Te,$e,Ne),kt=Se.findIndex(Sn=>{if(Array.isArray(Sn)){const[mi,er]=Sn,Rr=Kt>=mi.hours&&$>=mi.minutes,Dr=Kt<er.hours||Kt===er.hours&&$<er.minutes;if(mi.hours<er.hours){if(Rr&&Dr)return!0}else if(Rr||Dr)return!0}else if(Sn.hours===Kt&&Sn.minutes===$)return!0;return!1});if(-1!==kt)return qe[kt]}return pt(Te,$e,Ne)[Kt<12?0:1];case ln.Eras:return function en(ee,Te){return Pi((0,f.cg1)(ee)[f.wAp.Eras],Te)}(Te,Ne)[ee.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ae}`)}}($e,wt,ee,Te,ae,Ne)}}function Ur(ee){return function(Te,ae,Ne){const $e=-1*Ne,wt=Vn(ae,mn.MinusSign),Kt=$e>0?Math.floor($e/60):Math.ceil($e/60);switch(ee){case ni.Short:return($e>=0?"+":"")+Ki(Kt,2,wt)+Ki(Math.abs($e%60),2,wt);case ni.ShortGMT:return"GMT"+($e>=0?"+":"")+Ki(Kt,1,wt);case ni.Long:return"GMT"+($e>=0?"+":"")+Ki(Kt,2,wt)+":"+Ki(Math.abs($e%60),2,wt);case ni.Extended:return 0===Ne?"Z":($e>=0?"+":"")+Ki(Kt,2,wt)+":"+Ki(Math.abs($e%60),2,wt);default:throw new Error(`Unknown zone width "${ee}"`)}}}function nt(ee){return cr(ee.getFullYear(),ee.getMonth(),ee.getDate()+(4-ee.getDay()))}function ft(ee,Te=!1){return function(ae,Ne){let $e;if(Te){const wt=new Date(ae.getFullYear(),ae.getMonth(),1).getDay()-1,Kt=ae.getDate();$e=1+Math.floor((Kt+wt)/7)}else{const wt=nt(ae),Kt=function Yt(ee){const Te=cr(ee,0,1).getDay();return cr(ee,0,1+(Te<=4?4:11)-Te)}(wt.getFullYear()),$=wt.getTime()-Kt.getTime();$e=1+Math.round($/6048e5)}return Ki($e,ee,Vn(Ne,mn.MinusSign))}}function hn(ee,Te=!1){return function(ae,Ne){return Ki(nt(ae).getFullYear(),ee,Vn(Ne,mn.MinusSign),Te)}}const tn={};function ke(ee,Te){ee=ee.replace(/:/g,"");const ae=Date.parse("Jan 01, 1970 00:00:00 "+ee)/6e4;return isNaN(ae)?Te:ae}function On(ee){return ee instanceof Date&&!isNaN(ee.valueOf())}const Wi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function I(ee){const Te=parseInt(ee);if(isNaN(Te))throw new Error("Invalid integer literal when parsing "+ee);return Te}function X(ee,Te){Te=encodeURIComponent(Te);for(const ae of ee.split(";")){const Ne=ae.indexOf("="),[$e,wt]=-1==Ne?[ae,""]:[ae.slice(0,Ne),ae.slice(Ne+1)];if($e.trim()===Te)return decodeURIComponent(wt)}return null}const le=/\s+/,ie=[];let me=(()=>{class ee{constructor(ae,Ne,$e,wt){this._iterableDiffers=ae,this._keyValueDiffers=Ne,this._ngEl=$e,this._renderer=wt,this.initialClasses=ie,this.stateMap=new Map}set klass(ae){this.initialClasses=null!=ae?ae.trim().split(le):ie}set ngClass(ae){this.rawClass="string"==typeof ae?ae.trim().split(le):ae}ngDoCheck(){for(const Ne of this.initialClasses)this._updateState(Ne,!0);const ae=this.rawClass;if(Array.isArray(ae)||ae instanceof Set)for(const Ne of ae)this._updateState(Ne,!0);else if(null!=ae)for(const Ne of Object.keys(ae))this._updateState(Ne,Boolean(ae[Ne]));this._applyStateDiff()}_updateState(ae,Ne){const $e=this.stateMap.get(ae);void 0!==$e?($e.enabled!==Ne&&($e.changed=!0,$e.enabled=Ne),$e.touched=!0):this.stateMap.set(ae,{enabled:Ne,changed:!0,touched:!0})}_applyStateDiff(){for(const ae of this.stateMap){const Ne=ae[0],$e=ae[1];$e.changed?(this._toggleClass(Ne,$e.enabled),$e.changed=!1):$e.touched||($e.enabled&&this._toggleClass(Ne,!1),this.stateMap.delete(Ne)),$e.touched=!1}}_toggleClass(ae,Ne){(ae=ae.trim()).length>0&&ae.split(le).forEach($e=>{Ne?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},ee.\u0275dir=f.lG2({type:ee,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),ee})();class Z{constructor(Te,ae,Ne,$e){this.$implicit=Te,this.ngForOf=ae,this.index=Ne,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ce=(()=>{class ee{set ngForOf(ae){this._ngForOf=ae,this._ngForOfDirty=!0}set ngForTrackBy(ae){this._trackByFn=ae}get ngForTrackBy(){return this._trackByFn}constructor(ae,Ne,$e){this._viewContainer=ae,this._template=Ne,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ae){ae&&(this._template=ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ae=this._ngForOf;!this._differ&&ae&&(this._differ=this._differs.find(ae).create(this.ngForTrackBy))}if(this._differ){const ae=this._differ.diff(this._ngForOf);ae&&this._applyChanges(ae)}}_applyChanges(ae){const Ne=this._viewContainer;ae.forEachOperation(($e,wt,Kt)=>{if(null==$e.previousIndex)Ne.createEmbeddedView(this._template,new Z($e.item,this._ngForOf,-1,-1),null===Kt?void 0:Kt);else if(null==Kt)Ne.remove(null===wt?void 0:wt);else if(null!==wt){const $=Ne.get(wt);Ne.move($,Kt),xe($,$e)}});for(let $e=0,wt=Ne.length;$e<wt;$e++){const $=Ne.get($e).context;$.index=$e,$.count=wt,$.ngForOf=this._ngForOf}ae.forEachIdentityChange($e=>{xe(Ne.get($e.currentIndex),$e)})}static ngTemplateContextGuard(ae,Ne){return!0}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},ee.\u0275dir=f.lG2({type:ee,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ee})();function xe(ee,Te){ee.context.$implicit=Te.item}let ze=(()=>{class ee{constructor(ae,Ne){this._viewContainer=ae,this._context=new Ke,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ne}set ngIf(ae){this._context.$implicit=this._context.ngIf=ae,this._updateView()}set ngIfThen(ae){st("ngIfThen",ae),this._thenTemplateRef=ae,this._thenViewRef=null,this._updateView()}set ngIfElse(ae){st("ngIfElse",ae),this._elseTemplateRef=ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ae,Ne){return!0}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.Y36(f.s_b),f.Y36(f.Rgc))},ee.\u0275dir=f.lG2({type:ee,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ee})();class Ke{constructor(){this.$implicit=null,this.ngIf=null}}function st(ee,Te){if(Te&&!Te.createEmbeddedView)throw new Error(`${ee} must be a TemplateRef, but received '${(0,f.AaK)(Te)}'.`)}let xi=(()=>{class ee{constructor(ae,Ne,$e){this._ngEl=ae,this._differs=Ne,this._renderer=$e,this._ngStyle=null,this._differ=null}set ngStyle(ae){this._ngStyle=ae,!this._differ&&ae&&(this._differ=this._differs.find(ae).create())}ngDoCheck(){if(this._differ){const ae=this._differ.diff(this._ngStyle);ae&&this._applyChanges(ae)}}_setStyle(ae,Ne){const[$e,wt]=ae.split("."),Kt=-1===$e.indexOf("-")?void 0:f.JOm.DashCase;null!=Ne?this._renderer.setStyle(this._ngEl.nativeElement,$e,wt?`${Ne}${wt}`:Ne,Kt):this._renderer.removeStyle(this._ngEl.nativeElement,$e,Kt)}_applyChanges(ae){ae.forEachRemovedItem(Ne=>this._setStyle(Ne.key,null)),ae.forEachAddedItem(Ne=>this._setStyle(Ne.key,Ne.currentValue)),ae.forEachChangedItem(Ne=>this._setStyle(Ne.key,Ne.currentValue))}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},ee.\u0275dir=f.lG2({type:ee,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),ee})(),ji=(()=>{class ee{constructor(ae){this._viewContainerRef=ae,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ae){if(ae.ngTemplateOutlet||ae.ngTemplateOutletInjector){const Ne=this._viewContainerRef;if(this._viewRef&&Ne.remove(Ne.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:$e,ngTemplateOutletContext:wt,ngTemplateOutletInjector:Kt}=this;this._viewRef=Ne.createEmbeddedView($e,wt,Kt?{injector:Kt}:void 0)}else this._viewRef=null}else this._viewRef&&ae.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.Y36(f.s_b))},ee.\u0275dir=f.lG2({type:ee,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),ee})();let so=(()=>{class ee{constructor(ae){this._locale=ae}transform(ae,Ne,$e){if(!function lr(ee){return!(null==ee||""===ee||ee!=ee)}(ae))return null;$e=$e||this._locale;try{return function s(ee,Te,ae){return function ye(ee,Te,ae,Ne,$e,wt,Kt=!1){let $="",Q=!1;if(isFinite(ee)){let Se=function x(ee){let Ne,$e,wt,Kt,$,Te=Math.abs(ee)+"",ae=0;for(($e=Te.indexOf("."))>-1&&(Te=Te.replace(".","")),(wt=Te.search(/e/i))>0?($e<0&&($e=wt),$e+=+Te.slice(wt+1),Te=Te.substring(0,wt)):$e<0&&($e=Te.length),wt=0;"0"===Te.charAt(wt);wt++);if(wt===($=Te.length))Ne=[0],$e=1;else{for($--;"0"===Te.charAt($);)$--;for($e-=wt,Ne=[],Kt=0;wt<=$;wt++,Kt++)Ne[Kt]=Number(Te.charAt(wt))}return $e>22&&(Ne=Ne.splice(0,21),ae=$e-1,$e=1),{digits:Ne,exponent:ae,integerLen:$e}}(ee);Kt&&(Se=function y(ee){if(0===ee.digits[0])return ee;const Te=ee.digits.length-ee.integerLen;return ee.exponent?ee.exponent+=2:(0===Te?ee.digits.push(0,0):1===Te&&ee.digits.push(0),ee.integerLen+=2),ee}(Se));let qe=Te.minInt,kt=Te.minFrac,Sn=Te.maxFrac;if(wt){const Ro=wt.match(Wi);if(null===Ro)throw new Error(`${wt} is not a valid digit info`);const Bo=Ro[1],Nr=Ro[3],h=Ro[5];null!=Bo&&(qe=I(Bo)),null!=Nr&&(kt=I(Nr)),null!=h?Sn=I(h):null!=Nr&&kt>Sn&&(Sn=kt)}!function w(ee,Te,ae){if(Te>ae)throw new Error(`The minimum number of digits after fraction (${Te}) is higher than the maximum (${ae}).`);let Ne=ee.digits,$e=Ne.length-ee.integerLen;const wt=Math.min(Math.max(Te,$e),ae);let Kt=wt+ee.integerLen,$=Ne[Kt];if(Kt>0){Ne.splice(Math.max(ee.integerLen,Kt));for(let kt=Kt;kt<Ne.length;kt++)Ne[kt]=0}else{$e=Math.max(0,$e),ee.integerLen=1,Ne.length=Math.max(1,Kt=wt+1),Ne[0]=0;for(let kt=1;kt<Kt;kt++)Ne[kt]=0}if($>=5)if(Kt-1<0){for(let kt=0;kt>Kt;kt--)Ne.unshift(0),ee.integerLen++;Ne.unshift(1),ee.integerLen++}else Ne[Kt-1]++;for(;$e<Math.max(0,wt);$e++)Ne.push(0);let Q=0!==wt;const Se=Te+ee.integerLen,qe=Ne.reduceRight(function(kt,Sn,mi,er){return er[mi]=(Sn+=kt)<10?Sn:Sn-10,Q&&(0===er[mi]&&mi>=Se?er.pop():Q=!1),Sn>=10?1:0},0);qe&&(Ne.unshift(qe),ee.integerLen++)}(Se,kt,Sn);let mi=Se.digits,er=Se.integerLen;const Rr=Se.exponent;let Dr=[];for(Q=mi.every(Ro=>!Ro);er<qe;er++)mi.unshift(0);for(;er<0;er++)mi.unshift(0);er>0?Dr=mi.splice(er,mi.length):(Dr=mi,mi=[0]);const Ds=[];for(mi.length>=Te.lgSize&&Ds.unshift(mi.splice(-Te.lgSize,mi.length).join(""));mi.length>Te.gSize;)Ds.unshift(mi.splice(-Te.gSize,mi.length).join(""));mi.length&&Ds.unshift(mi.join("")),$=Ds.join(Vn(ae,Ne)),Dr.length&&($+=Vn(ae,$e)+Dr.join("")),Rr&&($+=Vn(ae,mn.Exponential)+"+"+Rr)}else $=Vn(ae,mn.Infinity);return $=ee<0&&!Q?Te.negPre+$+Te.negSuf:Te.posPre+$+Te.posSuf,$}(ee,function p(ee,Te="-"){const ae={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Ne=ee.split(";"),$e=Ne[0],wt=Ne[1],Kt=-1!==$e.indexOf(".")?$e.split("."):[$e.substring(0,$e.lastIndexOf("0")+1),$e.substring($e.lastIndexOf("0")+1)],$=Kt[0],Q=Kt[1]||"";ae.posPre=$.substring(0,$.indexOf("#"));for(let qe=0;qe<Q.length;qe++){const kt=Q.charAt(qe);"0"===kt?ae.minFrac=ae.maxFrac=qe+1:"#"===kt?ae.maxFrac=qe+1:ae.posSuf+=kt}const Se=$.split(",");if(ae.gSize=Se[1]?Se[1].length:0,ae.lgSize=Se[2]||Se[1]?(Se[2]||Se[1]).length:0,wt){const qe=$e.length-ae.posPre.length-ae.posSuf.length,kt=wt.indexOf("#");ae.negPre=wt.substring(0,kt).replace(/'/g,""),ae.negSuf=wt.slice(kt+qe).replace(/'/g,"")}else ae.negPre=Te+ae.posPre,ae.negSuf=ae.posSuf;return ae}(function Rn(ee,Te){return(0,f.cg1)(ee)[f.wAp.NumberFormats][Te]}(Te,Nt.Percent),Vn(Te,mn.MinusSign)),Te,mn.Group,mn.Decimal,ae,!0).replace(new RegExp("%","g"),Vn(Te,mn.PercentSign))}(function bs(ee){if("string"==typeof ee&&!isNaN(Number(ee)-parseFloat(ee)))return Number(ee);if("number"!=typeof ee)throw new Error(`${ee} is not a number`);return ee}(ae),$e,Ne)}catch(wt){throw function $i(ee,Te){return new f.vHH(2100,!1)}()}}}return ee.\u0275fac=function(ae){return new(ae||ee)(f.Y36(f.soG,16))},ee.\u0275pipe=f.Yjl({name:"percent",type:ee,pure:!0,standalone:!0}),ee})();let Be=(()=>{class ee{}return ee.\u0275fac=function(ae){return new(ae||ee)},ee.\u0275mod=f.oAB({type:ee}),ee.\u0275inj=f.cJS({}),ee})();const Ce="browser";function Pt(ee){return ee===Ce}let hi=(()=>{class ee{}return ee.\u0275prov=(0,f.Yz7)({token:ee,providedIn:"root",factory:()=>new Yr((0,f.LFG)(Qe),window)}),ee})();class Yr{constructor(Te,ae){this.document=Te,this.window=ae,this.offset=()=>[0,0]}setOffset(Te){this.offset=Array.isArray(Te)?()=>Te:Te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Te){this.supportsScrolling()&&this.window.scrollTo(Te[0],Te[1])}scrollToAnchor(Te){if(!this.supportsScrolling())return;const ae=function Bs(ee,Te){const ae=ee.getElementById(Te)||ee.getElementsByName(Te)[0];if(ae)return ae;if("function"==typeof ee.createTreeWalker&&ee.body&&(ee.body.createShadowRoot||ee.body.attachShadow)){const Ne=ee.createTreeWalker(ee.body,NodeFilter.SHOW_ELEMENT);let $e=Ne.currentNode;for(;$e;){const wt=$e.shadowRoot;if(wt){const Kt=wt.getElementById(Te)||wt.querySelector(`[name="${Te}"]`);if(Kt)return Kt}$e=Ne.nextNode()}}return null}(this.document,Te);ae&&(this.scrollToElement(ae),ae.focus())}setHistoryScrollRestoration(Te){if(this.supportScrollRestoration()){const ae=this.window.history;ae&&ae.scrollRestoration&&(ae.scrollRestoration=Te)}}scrollToElement(Te){const ae=Te.getBoundingClientRect(),Ne=ae.left+this.window.pageXOffset,$e=ae.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(Ne-wt[0],$e-wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Te=Hr(this.window.history)||Hr(Object.getPrototypeOf(this.window.history));return!(!Te||!Te.writable&&!Te.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Hr(ee){return Object.getOwnPropertyDescriptor(ee,"scrollRestoration")}class oo{}},529:(Hn,gt,ue)=>{"use strict";ue.d(gt,{JF:()=>Ur,TP:()=>en,WM:()=>bt,Zn:()=>In,eN:()=>Lt});var f=ue(6895),v=ue(4650),He=ue(9646),Xe=ue(9751),l=ue(4351),Qe=ue(9300),je=ue(4004);class tt{}class vt{}class bt{constructor(nt){this.normalizedNames=new Map,this.lazyUpdate=null,nt?this.lazyInit="string"==typeof nt?()=>{this.headers=new Map,nt.split("\n").forEach(ft=>{const hn=ft.indexOf(":");if(hn>0){const tn=ft.slice(0,hn),cn=tn.toLowerCase(),ke=ft.slice(hn+1).trim();this.maybeSetNormalizedName(tn,cn),this.headers.has(cn)?this.headers.get(cn).push(ke):this.headers.set(cn,[ke])}})}:()=>{this.headers=new Map,Object.keys(nt).forEach(ft=>{let hn=nt[ft];const tn=ft.toLowerCase();"string"==typeof hn&&(hn=[hn]),hn.length>0&&(this.headers.set(tn,hn),this.maybeSetNormalizedName(ft,tn))})}:this.headers=new Map}has(nt){return this.init(),this.headers.has(nt.toLowerCase())}get(nt){this.init();const ft=this.headers.get(nt.toLowerCase());return ft&&ft.length>0?ft[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(nt){return this.init(),this.headers.get(nt.toLowerCase())||null}append(nt,ft){return this.clone({name:nt,value:ft,op:"a"})}set(nt,ft){return this.clone({name:nt,value:ft,op:"s"})}delete(nt,ft){return this.clone({name:nt,value:ft,op:"d"})}maybeSetNormalizedName(nt,ft){this.normalizedNames.has(ft)||this.normalizedNames.set(ft,nt)}init(){this.lazyInit&&(this.lazyInit instanceof bt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(nt=>this.applyUpdate(nt)),this.lazyUpdate=null))}copyFrom(nt){nt.init(),Array.from(nt.headers.keys()).forEach(ft=>{this.headers.set(ft,nt.headers.get(ft)),this.normalizedNames.set(ft,nt.normalizedNames.get(ft))})}clone(nt){const ft=new bt;return ft.lazyInit=this.lazyInit&&this.lazyInit instanceof bt?this.lazyInit:this,ft.lazyUpdate=(this.lazyUpdate||[]).concat([nt]),ft}applyUpdate(nt){const ft=nt.name.toLowerCase();switch(nt.op){case"a":case"s":let hn=nt.value;if("string"==typeof hn&&(hn=[hn]),0===hn.length)return;this.maybeSetNormalizedName(nt.name,ft);const tn=("a"===nt.op?this.headers.get(ft):void 0)||[];tn.push(...hn),this.headers.set(ft,tn);break;case"d":const cn=nt.value;if(cn){let ke=this.headers.get(ft);if(!ke)return;ke=ke.filter(vi=>-1===cn.indexOf(vi)),0===ke.length?(this.headers.delete(ft),this.normalizedNames.delete(ft)):this.headers.set(ft,ke)}else this.headers.delete(ft),this.normalizedNames.delete(ft)}}forEach(nt){this.init(),Array.from(this.normalizedNames.keys()).forEach(ft=>nt(this.normalizedNames.get(ft),this.headers.get(ft)))}}class Et{encodeKey(nt){return on(nt)}encodeValue(nt){return on(nt)}decodeKey(nt){return decodeURIComponent(nt)}decodeValue(nt){return decodeURIComponent(nt)}}const ct=/%(\d[a-f0-9])/gi,Ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function on(Yt){return encodeURIComponent(Yt).replace(ct,(nt,ft)=>Ft[ft]??nt)}function At(Yt){return`${Yt}`}class Ye{constructor(nt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=nt.encoder||new Et,nt.fromString){if(nt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jt(Yt,nt){const ft=new Map;return Yt.length>0&&Yt.replace(/^\?/,"").split("&").forEach(tn=>{const cn=tn.indexOf("="),[ke,vi]=-1==cn?[nt.decodeKey(tn),""]:[nt.decodeKey(tn.slice(0,cn)),nt.decodeValue(tn.slice(cn+1))],Gn=ft.get(ke)||[];Gn.push(vi),ft.set(ke,Gn)}),ft}(nt.fromString,this.encoder)}else nt.fromObject?(this.map=new Map,Object.keys(nt.fromObject).forEach(ft=>{const hn=nt.fromObject[ft],tn=Array.isArray(hn)?hn.map(At):[At(hn)];this.map.set(ft,tn)})):this.map=null}has(nt){return this.init(),this.map.has(nt)}get(nt){this.init();const ft=this.map.get(nt);return ft?ft[0]:null}getAll(nt){return this.init(),this.map.get(nt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(nt,ft){return this.clone({param:nt,value:ft,op:"a"})}appendAll(nt){const ft=[];return Object.keys(nt).forEach(hn=>{const tn=nt[hn];Array.isArray(tn)?tn.forEach(cn=>{ft.push({param:hn,value:cn,op:"a"})}):ft.push({param:hn,value:tn,op:"a"})}),this.clone(ft)}set(nt,ft){return this.clone({param:nt,value:ft,op:"s"})}delete(nt,ft){return this.clone({param:nt,value:ft,op:"d"})}toString(){return this.init(),this.keys().map(nt=>{const ft=this.encoder.encodeKey(nt);return this.map.get(nt).map(hn=>ft+"="+this.encoder.encodeValue(hn)).join("&")}).filter(nt=>""!==nt).join("&")}clone(nt){const ft=new Ye({encoder:this.encoder});return ft.cloneFrom=this.cloneFrom||this,ft.updates=(this.updates||[]).concat(nt),ft}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(nt=>this.map.set(nt,this.cloneFrom.map.get(nt))),this.updates.forEach(nt=>{switch(nt.op){case"a":case"s":const ft=("a"===nt.op?this.map.get(nt.param):void 0)||[];ft.push(At(nt.value)),this.map.set(nt.param,ft);break;case"d":if(void 0===nt.value){this.map.delete(nt.param);break}{let hn=this.map.get(nt.param)||[];const tn=hn.indexOf(At(nt.value));-1!==tn&&hn.splice(tn,1),hn.length>0?this.map.set(nt.param,hn):this.map.delete(nt.param)}}}),this.cloneFrom=this.updates=null)}}class un{constructor(){this.map=new Map}set(nt,ft){return this.map.set(nt,ft),this}get(nt){return this.map.has(nt)||this.map.set(nt,nt.defaultValue()),this.map.get(nt)}delete(nt){return this.map.delete(nt),this}has(nt){return this.map.has(nt)}keys(){return this.map.keys()}}function jt(Yt){return typeof ArrayBuffer<"u"&&Yt instanceof ArrayBuffer}function fn(Yt){return typeof Blob<"u"&&Yt instanceof Blob}function Fn(Yt){return typeof FormData<"u"&&Yt instanceof FormData}class Nt{constructor(nt,ft,hn,tn){let cn;if(this.url=ft,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=nt.toUpperCase(),function et(Yt){switch(Yt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||tn?(this.body=void 0!==hn?hn:null,cn=tn):cn=hn,cn&&(this.reportProgress=!!cn.reportProgress,this.withCredentials=!!cn.withCredentials,cn.responseType&&(this.responseType=cn.responseType),cn.headers&&(this.headers=cn.headers),cn.context&&(this.context=cn.context),cn.params&&(this.params=cn.params)),this.headers||(this.headers=new bt),this.context||(this.context=new un),this.params){const ke=this.params.toString();if(0===ke.length)this.urlWithParams=ft;else{const vi=ft.indexOf("?");this.urlWithParams=ft+(-1===vi?"?":vi<ft.length-1?"&":"")+ke}}else this.params=new Ye,this.urlWithParams=ft}serializeBody(){return null===this.body?null:jt(this.body)||fn(this.body)||Fn(this.body)||function Qt(Yt){return typeof URLSearchParams<"u"&&Yt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fn(this.body)?null:fn(this.body)?this.body.type||null:jt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(nt={}){const ft=nt.method||this.method,hn=nt.url||this.url,tn=nt.responseType||this.responseType,cn=void 0!==nt.body?nt.body:this.body,ke=void 0!==nt.withCredentials?nt.withCredentials:this.withCredentials,vi=void 0!==nt.reportProgress?nt.reportProgress:this.reportProgress;let Gn=nt.headers||this.headers,dr=nt.params||this.params;const Gi=nt.context??this.context;return void 0!==nt.setHeaders&&(Gn=Object.keys(nt.setHeaders).reduce((On,Wi)=>On.set(Wi,nt.setHeaders[Wi]),Gn)),nt.setParams&&(dr=Object.keys(nt.setParams).reduce((On,Wi)=>On.set(Wi,nt.setParams[Wi]),dr)),new Nt(ft,hn,cn,{params:dr,headers:Gn,context:Gi,reportProgress:vi,responseType:tn,withCredentials:ke})}}var vn=(()=>((vn=vn||{})[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn))();class Cn{constructor(nt,ft=200,hn="OK"){this.headers=nt.headers||new bt,this.status=void 0!==nt.status?nt.status:ft,this.statusText=nt.statusText||hn,this.url=nt.url||null,this.ok=this.status>=200&&this.status<300}}class Bn extends Cn{constructor(nt={}){super(nt),this.type=vn.ResponseHeader}clone(nt={}){return new Bn({headers:nt.headers||this.headers,status:void 0!==nt.status?nt.status:this.status,statusText:nt.statusText||this.statusText,url:nt.url||this.url||void 0})}}class In extends Cn{constructor(nt={}){super(nt),this.type=vn.Response,this.body=void 0!==nt.body?nt.body:null}clone(nt={}){return new In({body:void 0!==nt.body?nt.body:this.body,headers:nt.headers||this.headers,status:void 0!==nt.status?nt.status:this.status,statusText:nt.statusText||this.statusText,url:nt.url||this.url||void 0})}}class mn extends Cn{constructor(nt){super(nt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${nt.url||"(unknown url)"}`:`Http failure response for ${nt.url||"(unknown url)"}: ${nt.status} ${nt.statusText}`,this.error=nt.error||null}}function mt(Yt,nt){return{body:nt,headers:Yt.headers,context:Yt.context,observe:Yt.observe,params:Yt.params,reportProgress:Yt.reportProgress,responseType:Yt.responseType,withCredentials:Yt.withCredentials}}let Lt=(()=>{class Yt{constructor(ft){this.handler=ft}request(ft,hn,tn={}){let cn;if(ft instanceof Nt)cn=ft;else{let Gn,dr;Gn=tn.headers instanceof bt?tn.headers:new bt(tn.headers),tn.params&&(dr=tn.params instanceof Ye?tn.params:new Ye({fromObject:tn.params})),cn=new Nt(ft,hn,void 0!==tn.body?tn.body:null,{headers:Gn,context:tn.context,params:dr,reportProgress:tn.reportProgress,responseType:tn.responseType||"json",withCredentials:tn.withCredentials})}const ke=(0,He.of)(cn).pipe((0,l.b)(Gn=>this.handler.handle(Gn)));if(ft instanceof Nt||"events"===tn.observe)return ke;const vi=ke.pipe((0,Qe.h)(Gn=>Gn instanceof In));switch(tn.observe||"body"){case"body":switch(cn.responseType){case"arraybuffer":return vi.pipe((0,je.U)(Gn=>{if(null!==Gn.body&&!(Gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Gn.body}));case"blob":return vi.pipe((0,je.U)(Gn=>{if(null!==Gn.body&&!(Gn.body instanceof Blob))throw new Error("Response is not a Blob.");return Gn.body}));case"text":return vi.pipe((0,je.U)(Gn=>{if(null!==Gn.body&&"string"!=typeof Gn.body)throw new Error("Response is not a string.");return Gn.body}));default:return vi.pipe((0,je.U)(Gn=>Gn.body))}case"response":return vi;default:throw new Error(`Unreachable: unhandled observe type ${tn.observe}}`)}}delete(ft,hn={}){return this.request("DELETE",ft,hn)}get(ft,hn={}){return this.request("GET",ft,hn)}head(ft,hn={}){return this.request("HEAD",ft,hn)}jsonp(ft,hn){return this.request("JSONP",ft,{params:(new Ye).append(hn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ft,hn={}){return this.request("OPTIONS",ft,hn)}patch(ft,hn,tn={}){return this.request("PATCH",ft,mt(tn,hn))}post(ft,hn,tn={}){return this.request("POST",ft,mt(tn,hn))}put(ft,hn,tn={}){return this.request("PUT",ft,mt(tn,hn))}}return Yt.\u0275fac=function(ft){return new(ft||Yt)(v.LFG(tt))},Yt.\u0275prov=v.Yz7({token:Yt,factory:Yt.\u0275fac}),Yt})();function pt(Yt,nt){return nt(Yt)}function Gt(Yt,nt){return(ft,hn)=>nt.intercept(ft,{handle:tn=>Yt(tn,hn)})}const en=new v.OlP("HTTP_INTERCEPTORS"),rn=new v.OlP("HTTP_INTERCEPTOR_FNS");function Dt(){let Yt=null;return(nt,ft)=>(null===Yt&&(Yt=((0,v.f3M)(en,{optional:!0})??[]).reduceRight(Gt,pt)),Yt(nt,ft))}let $n=(()=>{class Yt extends tt{constructor(ft,hn){super(),this.backend=ft,this.injector=hn,this.chain=null}handle(ft){if(null===this.chain){const hn=Array.from(new Set(this.injector.get(rn)));this.chain=hn.reduceRight((tn,cn)=>function pn(Yt,nt,ft){return(hn,tn)=>ft.runInContext(()=>nt(hn,cn=>Yt(cn,tn)))}(tn,cn,this.injector),pt)}return this.chain(ft,hn=>this.backend.handle(hn))}}return Yt.\u0275fac=function(ft){return new(ft||Yt)(v.LFG(vt),v.LFG(v.lqb))},Yt.\u0275prov=v.Yz7({token:Yt,factory:Yt.\u0275fac}),Yt})();const Bi=/^\)\]\}',?\n/;let Pi=(()=>{class Yt{constructor(ft){this.xhrFactory=ft}handle(ft){if("JSONP"===ft.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xe.y(hn=>{const tn=this.xhrFactory.build();if(tn.open(ft.method,ft.urlWithParams),ft.withCredentials&&(tn.withCredentials=!0),ft.headers.forEach((ot,ne)=>tn.setRequestHeader(ot,ne.join(","))),ft.headers.has("Accept")||tn.setRequestHeader("Accept","application/json, text/plain, */*"),!ft.headers.has("Content-Type")){const ot=ft.detectContentTypeHeader();null!==ot&&tn.setRequestHeader("Content-Type",ot)}if(ft.responseType){const ot=ft.responseType.toLowerCase();tn.responseType="json"!==ot?ot:"text"}const cn=ft.serializeBody();let ke=null;const vi=()=>{if(null!==ke)return ke;const ot=tn.statusText||"OK",ne=new bt(tn.getAllResponseHeaders()),de=function ki(Yt){return"responseURL"in Yt&&Yt.responseURL?Yt.responseURL:/^X-Request-URL:/m.test(Yt.getAllResponseHeaders())?Yt.getResponseHeader("X-Request-URL"):null}(tn)||ft.url;return ke=new Bn({headers:ne,status:tn.status,statusText:ot,url:de}),ke},Gn=()=>{let{headers:ot,status:ne,statusText:de,url:Ie}=vi(),Ge=null;204!==ne&&(Ge=typeof tn.response>"u"?tn.responseText:tn.response),0===ne&&(ne=Ge?200:0);let lt=ne>=200&&ne<300;if("json"===ft.responseType&&"string"==typeof Ge){const Rt=Ge;Ge=Ge.replace(Bi,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(an){Ge=Rt,lt&&(lt=!1,Ge={error:an,text:Ge})}}lt?(hn.next(new In({body:Ge,headers:ot,status:ne,statusText:de,url:Ie||void 0})),hn.complete()):hn.error(new mn({error:Ge,headers:ot,status:ne,statusText:de,url:Ie||void 0}))},dr=ot=>{const{url:ne}=vi(),de=new mn({error:ot,status:tn.status||0,statusText:tn.statusText||"Unknown Error",url:ne||void 0});hn.error(de)};let Gi=!1;const On=ot=>{Gi||(hn.next(vi()),Gi=!0);let ne={type:vn.DownloadProgress,loaded:ot.loaded};ot.lengthComputable&&(ne.total=ot.total),"text"===ft.responseType&&tn.responseText&&(ne.partialText=tn.responseText),hn.next(ne)},Wi=ot=>{let ne={type:vn.UploadProgress,loaded:ot.loaded};ot.lengthComputable&&(ne.total=ot.total),hn.next(ne)};return tn.addEventListener("load",Gn),tn.addEventListener("error",dr),tn.addEventListener("timeout",dr),tn.addEventListener("abort",dr),ft.reportProgress&&(tn.addEventListener("progress",On),null!==cn&&tn.upload&&tn.upload.addEventListener("progress",Wi)),tn.send(cn),hn.next({type:vn.Sent}),()=>{tn.removeEventListener("error",dr),tn.removeEventListener("abort",dr),tn.removeEventListener("load",Gn),tn.removeEventListener("timeout",dr),ft.reportProgress&&(tn.removeEventListener("progress",On),null!==cn&&tn.upload&&tn.upload.removeEventListener("progress",Wi)),tn.readyState!==tn.DONE&&tn.abort()}})}}return Yt.\u0275fac=function(ft){return new(ft||Yt)(v.LFG(f.JF))},Yt.\u0275prov=v.Yz7({token:Yt,factory:Yt.\u0275fac}),Yt})();const qi=new v.OlP("XSRF_ENABLED"),Un="XSRF-TOKEN",Dn=new v.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Un}),Rs="X-XSRF-TOKEN",Oi=new v.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Rs});class Hi{}let xr=(()=>{class Yt{constructor(ft,hn,tn){this.doc=ft,this.platform=hn,this.cookieName=tn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ft=this.doc.cookie||"";return ft!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(ft,this.cookieName),this.lastCookieString=ft),this.lastToken}}return Yt.\u0275fac=function(ft){return new(ft||Yt)(v.LFG(f.K0),v.LFG(v.Lbi),v.LFG(Dn))},Yt.\u0275prov=v.Yz7({token:Yt,factory:Yt.\u0275fac}),Yt})();function ni(Yt,nt){const ft=Yt.url.toLowerCase();if(!(0,v.f3M)(qi)||"GET"===Yt.method||"HEAD"===Yt.method||ft.startsWith("http://")||ft.startsWith("https://"))return nt(Yt);const hn=(0,v.f3M)(Hi).getToken(),tn=(0,v.f3M)(Oi);return null!=hn&&!Yt.headers.has(tn)&&(Yt=Yt.clone({headers:Yt.headers.set(tn,hn)})),nt(Yt)}var ln=(()=>((ln=ln||{})[ln.Interceptors=0]="Interceptors",ln[ln.LegacyInterceptors=1]="LegacyInterceptors",ln[ln.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ln[ln.NoXsrfProtection=3]="NoXsrfProtection",ln[ln.JsonpSupport=4]="JsonpSupport",ln[ln.RequestsMadeViaParent=5]="RequestsMadeViaParent",ln))();function es(Yt,nt){return{\u0275kind:Yt,\u0275providers:nt}}function cr(...Yt){const nt=[Lt,Pi,$n,{provide:tt,useExisting:$n},{provide:vt,useExisting:Pi},{provide:rn,useValue:ni,multi:!0},{provide:qi,useValue:!0},{provide:Hi,useClass:xr}];for(const ft of Yt)nt.push(...ft.\u0275providers);return(0,v.MR2)(nt)}const ii=new v.OlP("LEGACY_INTERCEPTOR_FN");function pr({cookieName:Yt,headerName:nt}){const ft=[];return void 0!==Yt&&ft.push({provide:Dn,useValue:Yt}),void 0!==nt&&ft.push({provide:Oi,useValue:nt}),es(ln.CustomXsrfConfiguration,ft)}let Ur=(()=>{class Yt{}return Yt.\u0275fac=function(ft){return new(ft||Yt)},Yt.\u0275mod=v.oAB({type:Yt}),Yt.\u0275inj=v.cJS({providers:[cr(es(ln.LegacyInterceptors,[{provide:ii,useFactory:Dt},{provide:rn,useExisting:ii,multi:!0}]),pr({cookieName:Un,headerName:Rs}))]}),Yt})()},4650:(Hn,gt,ue)=>{"use strict";ue.d(gt,{$8M:()=>ga,$WT:()=>z,$Z:()=>q0,AFp:()=>Vh,ALo:()=>Yg,AaK:()=>tt,AsE:()=>pc,BQk:()=>mg,CHM:()=>Xo,CRH:()=>vw,CZH:()=>sm,CqO:()=>c_,D6c:()=>Ww,EJc:()=>J_,EpF:()=>Iy,F$t:()=>p_,F4k:()=>Zf,FYo:()=>Vu,FiY:()=>Dc,G48:()=>Hh,Gf:()=>mw,GfV:()=>Bc,Gpc:()=>xt,Gre:()=>Sg,Hsn:()=>ky,IIB:()=>HE,Ikx:()=>ps,JOm:()=>xl,Jf7:()=>kf,KtG:()=>Ko,LFG:()=>gi,LMc:()=>uT,LSH:()=>Tf,Lbi:()=>GE,Lck:()=>AE,MAs:()=>Ay,MGl:()=>vg,MMx:()=>L_,MR2:()=>E,MT6:()=>Zy,NdJ:()=>_g,OlP:()=>ts,Oqu:()=>Xf,P3R:()=>Ov,PXZ:()=>KE,Q6J:()=>zf,QGY:()=>l_,Qsj:()=>lc,QtT:()=>Ug,R0b:()=>bc,RDi:()=>bd,Rgc:()=>rp,SBq:()=>Vc,SDv:()=>sb,Sil:()=>Fb,Suo:()=>_w,TTD:()=>Ai,TgZ:()=>pg,Tol:()=>Ly,Udp:()=>b_,VKq:()=>pu,W1O:()=>bb,WLB:()=>Zg,XFs:()=>Un,Xpm:()=>ye,Xts:()=>Yp,Y36:()=>Rf,YKP:()=>sw,YNc:()=>hx,Yjl:()=>I,Yz7:()=>Vn,Z0I:()=>bi,ZZ4:()=>Gh,_Bn:()=>rw,_UZ:()=>o_,_Vd:()=>Ul,_c5:()=>Zd,_uU:()=>By,aQg:()=>Aa,c2e:()=>Dw,cJS:()=>ui,cg1:()=>kg,dDg:()=>gu,dqk:()=>ni,eFA:()=>qb,ekj:()=>wg,eoX:()=>nv,f3M:()=>Yt,g9A:()=>K_,h0i:()=>ep,hGG:()=>gp,hYB:()=>Py,hij:()=>Cg,iGM:()=>vb,ifc:()=>On,ip1:()=>Lb,jDz:()=>lw,kEZ:()=>Gg,kL8:()=>uu,kYT:()=>y,lG2:()=>w,lcZ:()=>np,lqb:()=>ir,lri:()=>zb,n5z:()=>Wc,oAB:()=>p,oJD:()=>Gp,oxw:()=>h_,pQV:()=>R_,qLn:()=>mh,qOj:()=>py,qZA:()=>Ta,rWj:()=>hp,r_U:()=>im,s9C:()=>g_,sBO:()=>Jb,s_b:()=>Ku,soG:()=>up,tBr:()=>Ps,tb:()=>Iw,tp0:()=>Kc,uIk:()=>wy,vHH:()=>At,vpe:()=>jc,wAp:()=>Li,xi3:()=>pb,xp6:()=>N0,ynx:()=>Sh,z2F:()=>um,zSh:()=>Wn,zW0:()=>yy,zs3:()=>vh});var f=ue(7579),v=ue(727),He=ue(9751),Xe=ue(6451),l=ue(3099);function Qe(o){for(let a in o)if(o[a]===Qe)return a;throw Error("Could not find renamed property on target object.")}function je(o,a){for(const d in a)a.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=a[d])}function tt(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(tt).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function vt(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const bt=Qe({__forward_ref__:Qe});function xt(o){return o.__forward_ref__=xt,o.toString=function(){return tt(this())},o}function Et(o){return Jt(o)?o():o}function Jt(o){return"function"==typeof o&&o.hasOwnProperty(bt)&&o.__forward_ref__===xt}function ct(o){return o&&!!o.\u0275providers}const on="https://g.co/ng/security#xss";class At extends Error{constructor(a,d){super(function Ye(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,d)),this.code=a}}function Ut(o){return"string"==typeof o?o:null==o?"":String(o)}function Fn(o,a){throw new At(-201,!1)}function Dt(o,a,d,b){throw new Error(`ASSERTION ERROR: ${o}`+(null==b?"":` [Expected=> ${d} ${b} ${a} <=Actual]`))}function Vn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ui(o){return{providers:o.providers||[],imports:o.imports||[]}}function Di(o){return li(o,Bi)||li(o,Pi)}function bi(o){return null!==Di(o)}function li(o,a){return o.hasOwnProperty(a)?o[a]:null}function sr(o){return o&&(o.hasOwnProperty(ki)||o.hasOwnProperty(qi))?o[ki]:null}const Bi=Qe({\u0275prov:Qe}),ki=Qe({\u0275inj:Qe}),Pi=Qe({ngInjectableDef:Qe}),qi=Qe({ngInjectorDef:Qe});var Un=(()=>((Un=Un||{})[Un.Default=0]="Default",Un[Un.Host=1]="Host",Un[Un.Self=2]="Self",Un[Un.SkipSelf=4]="SkipSelf",Un[Un.Optional=8]="Optional",Un))();let Dn;function Oi(o){const a=Dn;return Dn=o,a}function Hi(o,a,d){const b=Di(o);return b&&"root"==b.providedIn?void 0===b.value?b.value=b.factory():b.value:d&Un.Optional?null:void 0!==a?a:void Fn(tt(o))}const ni=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cr={},Qi="__NG_DI_FLAG__",ii="ngTempTokenPath",pr=/\n/gm,$r="__source";let fi;function ur(o){const a=fi;return fi=o,a}function Ur(o,a=Un.Default){if(void 0===fi)throw new At(-203,!1);return null===fi?Hi(o,void 0,a):fi.get(o,a&Un.Optional?null:void 0,a)}function gi(o,a=Un.Default){return(function Rs(){return Dn}()||Ur)(Et(o),a)}function Yt(o,a=Un.Default){return gi(o,nt(a))}function nt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ft(o){const a=[];for(let d=0;d<o.length;d++){const b=Et(o[d]);if(Array.isArray(b)){if(0===b.length)throw new At(900,!1);let S,k=Un.Default;for(let U=0;U<b.length;U++){const J=b[U],se=tn(J);"number"==typeof se?-1===se?S=J.token:k|=se:S=J}a.push(gi(S,k))}else a.push(gi(b))}return a}function hn(o,a){return o[Qi]=a,o.prototype[Qi]=a,o}function tn(o){return o[Qi]}function vi(o){return{toString:o}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),On=(()=>{return(o=On||(On={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",On;var o})();const Wi={},ot=[],ne=Qe({\u0275cmp:Qe}),de=Qe({\u0275dir:Qe}),Ie=Qe({\u0275pipe:Qe}),Ge=Qe({\u0275mod:Qe}),lt=Qe({\u0275fac:Qe}),Rt=Qe({__NG_ELEMENT_ID__:Qe});let an=0;function ye(o){return vi(()=>{const d=!0===o.standalone,b={},S={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:b,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||ot,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||On.Emulated,id:"c"+an++,styles:o.styles||ot,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},k=o.dependencies,U=o.features;return S.inputs=x(o.inputs,b),S.outputs=x(o.outputs),U&&U.forEach(J=>J(S)),S.directiveDefs=k?()=>("function"==typeof k?k():k).map(s).filter(u):null,S.pipeDefs=k?()=>("function"==typeof k?k():k).map(F).filter(u):null,S})}function s(o){return P(o)||N(o)}function u(o){return null!==o}function p(o){return vi(()=>({type:o.type,bootstrap:o.bootstrap||ot,declarations:o.declarations||ot,imports:o.imports||ot,exports:o.exports||ot,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function y(o,a){return vi(()=>{const d=X(o,!0);d.declarations=a.declarations||ot,d.imports=a.imports||ot,d.exports=a.exports||ot})}function x(o,a){if(null==o)return Wi;const d={};for(const b in o)if(o.hasOwnProperty(b)){let S=o[b],k=S;Array.isArray(S)&&(k=S[1],S=S[0]),d[S]=b,a&&(a[S]=k)}return d}const w=ye;function I(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function P(o){return o[ne]||null}function N(o){return o[de]||null}function F(o){return o[Ie]||null}function z(o){const a=P(o)||N(o)||F(o);return null!==a&&a.standalone}function X(o,a){const d=o[Ge]||null;if(!d&&!0===a)throw new Error(`Type ${tt(o)} does not have '\u0275mod' property.`);return d}function ai(o){return Array.isArray(o)&&"object"==typeof o[1]}function gr(o){return Array.isArray(o)&&!0===o[1]}function ar(o){return 0!=(4&o.flags)}function gs(o){return o.componentOffset>-1}function cs(o){return 1==(1&o.flags)}function Or(o){return null!==o.template}function Lo(o){return 0!=(256&o[2])}function wn(o,a){return o.hasOwnProperty(lt)?o[lt]:null}class yi{constructor(a,d,b){this.previousValue=a,this.currentValue=d,this.firstChange=b}isFirstChange(){return this.firstChange}}function Ai(){return hi}function hi(o){return o.type.prototype.ngOnChanges&&(o.setInput=Hr),Yr}function Yr(){const o=xs(this),a=o?.current;if(a){const d=o.previous;if(d===Wi)o.previous=a;else for(let b in a)d[b]=a[b];o.current=null,this.ngOnChanges(a)}}function Hr(o,a,d,b){const S=this.declaredInputs[d],k=xs(o)||function oo(o,a){return o[Bs]=a}(o,{previous:Wi,current:null}),U=k.current||(k.current={}),J=k.previous,se=J[S];U[S]=new yi(se&&se.currentValue,a,J===Wi),o[b]=a}Ai.ngInherit=!0;const Bs="__ngSimpleChanges__";function xs(o){return o[Bs]||null}function Xr(o){for(;Array.isArray(o);)o=o[0];return o}function qo(o,a){return Xr(a[o])}function Tr(o,a){return Xr(a[o.index])}function bo(o,a){return o.data[a]}function ko(o,a){return o[a]}function vs(o,a){const d=a[o];return ai(d)?d:d[0]}function lo(o){return 64==(64&o[2])}function Kr(o,a){return null==a?null:o[a]}function co(o){o[18]=0}function xo(o,a){o[5]+=a;let d=o,b=o[3];for(;null!==b&&(1===a&&1===d[5]||-1===a&&0===d[5]);)b[5]+=a,d=b,b=b[3]}const Ii={lFrame:Ba(null),bindingsEnabled:!0};function Vt(){return Ii.bindingsEnabled}function qt(){return Ii.lFrame.lView}function Ei(){return Ii.lFrame.tView}function Xo(o){return Ii.lFrame.contextLView=o,o[8]}function Ko(o){return Ii.lFrame.contextLView=null,o}function zr(){let o=wo();for(;null!==o&&64===o.type;)o=o.parent;return o}function wo(){return Ii.lFrame.currentTNode}function pa(){const o=Ii.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Is(o,a){const d=Ii.lFrame;d.currentTNode=o,d.isParent=a}function fl(){return Ii.lFrame.isParent}function Eo(){Ii.lFrame.isParent=!1}function us(){const o=Ii.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ji(){return Ii.lFrame.bindingIndex}function uo(){return Ii.lFrame.bindingIndex++}function Es(o){const a=Ii.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,d}function xn(o){Ii.lFrame.inI18n=o}function qs(o,a){const d=Ii.lFrame;d.bindingIndex=d.bindingRootIndex=o,Oo(a)}function Oo(o){Ii.lFrame.currentDirectiveIndex=o}function Fa(){return Ii.lFrame.currentQueryIndex}function Mo(o){Ii.lFrame.currentQueryIndex=o}function Ka(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Jo(o,a,d){if(d&Un.SkipSelf){let S=a,k=o;for(;!(S=S.parent,null!==S||d&Un.Host||(S=Ka(k),null===S||(k=k[15],10&S.type))););if(null===S)return!1;a=S,o=k}const b=Ii.lFrame=Va();return b.currentTNode=a,b.lView=o,!0}function Qo(o){const a=Va(),d=o[1];Ii.lFrame=a,a.currentTNode=d.firstChild,a.lView=o,a.tView=d,a.contextLView=o,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function Va(){const o=Ii.lFrame,a=null===o?null:o.child;return null===a?Ba(o):a}function Ba(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ua(){const o=Ii.lFrame;return Ii.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Zr=Ua;function Ir(){const o=Ua();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Mr(){return Ii.lFrame.selectedIndex}function Ts(o){Ii.lFrame.selectedIndex=o}function Gr(){const o=Ii.lFrame;return bo(o.tView,o.selectedIndex)}function zs(o,a){for(let d=a.directiveStart,b=a.directiveEnd;d<b;d++){const k=o.data[d].type.prototype,{ngAfterContentInit:U,ngAfterContentChecked:J,ngAfterViewInit:se,ngAfterViewChecked:we,ngOnDestroy:Fe}=k;U&&(o.contentHooks||(o.contentHooks=[])).push(-d,U),J&&((o.contentHooks||(o.contentHooks=[])).push(d,J),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(d,J)),se&&(o.viewHooks||(o.viewHooks=[])).push(-d,se),we&&((o.viewHooks||(o.viewHooks=[])).push(d,we),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(d,we)),null!=Fe&&(o.destroyHooks||(o.destroyHooks=[])).push(d,Fe)}}function Qa(o,a,d){ae(o,a,3,d)}function ee(o,a,d,b){(3&o[2])===d&&ae(o,a,d,b)}function Te(o,a){let d=o[2];(3&d)===a&&(d&=2047,d+=1,o[2]=d)}function ae(o,a,d,b){const k=b??-1,U=a.length-1;let J=0;for(let se=void 0!==b?65535&o[18]:0;se<U;se++)if("number"==typeof a[se+1]){if(J=a[se],null!=b&&J>=b)break}else a[se]<0&&(o[18]+=65536),(J<k||-1==k)&&(Ne(o,d,a,se),o[18]=(4294901760&o[18])+se+2),se++}function Ne(o,a,d,b){const S=d[b]<0,k=d[b+1],J=o[S?-d[b]:d[b]];if(S){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{k.call(J)}finally{}}}else try{k.call(J)}finally{}}class wt{constructor(a,d,b){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=b}}function er(o,a,d){let b=0;for(;b<d.length;){const S=d[b];if("number"==typeof S){if(0!==S)break;b++;const k=d[b++],U=d[b++],J=d[b++];o.setAttribute(a,U,J,k)}else{const k=S,U=d[++b];Dr(k)?o.setProperty(a,k,U):o.setAttribute(a,k,U),b++}}return b}function Rr(o){return 3===o||4===o||6===o}function Dr(o){return 64===o.charCodeAt(0)}function Ds(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let d=-1;for(let b=0;b<a.length;b++){const S=a[b];"number"==typeof S?d=S:0===d||Ro(o,d,S,null,-1===d||2===d?a[++b]:null)}}return o}function Ro(o,a,d,b,S){let k=0,U=o.length;if(-1===a)U=-1;else for(;k<o.length;){const J=o[k++];if("number"==typeof J){if(J===a){U=-1;break}if(J>a){U=k-1;break}}}for(;k<o.length;){const J=o[k];if("number"==typeof J)break;if(J===d){if(null===b)return void(null!==S&&(o[k+1]=S));if(b===o[k+1])return void(o[k+2]=S)}k++,null!==b&&k++,null!==S&&k++}-1!==U&&(o.splice(U,0,a),k=U+1),o.splice(k++,0,d),null!==b&&o.splice(k++,0,b),null!==S&&o.splice(k++,0,S)}function Bo(o){return-1!==o}function Nr(o){return 32767&o}function T(o,a){let d=function h(o){return o>>16}(o),b=a;for(;d>0;)b=b[15],d--;return b}let R=!0;function K(o){const a=R;return R=o,a}let Ct=0;const Ot={};function Xn(o,a){const d=Xi(o,a);if(-1!==d)return d;const b=a[1];b.firstCreatePass&&(o.injectorIndex=a.length,wi(b.data,o),wi(a,null),wi(b.blueprint,null));const S=Ws(o,a),k=o.injectorIndex;if(Bo(S)){const U=Nr(S),J=T(S,a),se=J[1].data;for(let we=0;we<8;we++)a[k+we]=J[U+we]|se[U+we]}return a[k+8]=S,k}function wi(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Xi(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Ws(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,b=null,S=a;for(;null!==S;){if(b=Ya(S),null===b)return-1;if(d++,S=S[15],-1!==b.injectorIndex)return b.injectorIndex|d<<16}return-1}function as(o,a,d){!function _n(o,a,d){let b;"string"==typeof d?b=d.charCodeAt(0)||0:d.hasOwnProperty(Rt)&&(b=d[Rt]),null==b&&(b=d[Rt]=Ct++);const S=255&b;a.data[o+(S>>5)]|=1<<S}(o,a,d)}function jr(o,a,d){if(d&Un.Optional||void 0!==o)return o;Fn()}function Ho(o,a,d,b){if(d&Un.Optional&&void 0===b&&(b=null),!(d&(Un.Self|Un.Host))){const S=o[9],k=Oi(void 0);try{return S?S.get(a,b,d&Un.Optional):Hi(a,b,d&Un.Optional)}finally{Oi(k)}}return jr(b,0,d)}function gl(o,a,d,b=Un.Default,S){if(null!==o){if(1024&a[2]){const U=function Zo(o,a,d,b,S){let k=o,U=a;for(;null!==k&&null!==U&&1024&U[2]&&!(256&U[2]);){const J=qc(k,U,d,b|Un.Self,Ot);if(J!==Ot)return J;let se=k.parent;if(!se){const we=U[21];if(we){const Fe=we.get(d,Ot,b);if(Fe!==Ot)return Fe}se=Ya(U),U=U[15]}k=se}return S}(o,a,d,b,Ot);if(U!==Ot)return U}const k=qc(o,a,d,b,Ot);if(k!==Ot)return k}return Ho(a,d,b,S)}function qc(o,a,d,b,S){const k=function nd(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Rt)?o[Rt]:void 0;return"number"==typeof a?a>=0?255&a:ja:a}(d);if("function"==typeof k){if(!Jo(a,o,b))return b&Un.Host?jr(S,0,b):Ho(a,d,b,S);try{const U=k(b);if(null!=U||b&Un.Optional)return U;Fn()}finally{Zr()}}else if("number"==typeof k){let U=null,J=Xi(o,a),se=-1,we=b&Un.Host?a[16][6]:null;for((-1===J||b&Un.SkipSelf)&&(se=-1===J?Ws(o,a):a[J+8],-1!==se&&Ga(b,!1)?(U=a[1],J=Nr(se),a=T(se,a)):J=-1);-1!==J;){const Fe=a[1];if(ds(k,J,Fe.data)){const Je=td(J,a,d,U,b,we);if(Je!==Ot)return Je}se=a[J+8],-1!==se&&Ga(b,a[1].data[J+8]===we)&&ds(k,J,a)?(U=Fe,J=Nr(se),a=T(se,a)):J=-1}}return S}function td(o,a,d,b,S,k){const U=a[1],J=U.data[o+8],Fe=zo(J,U,d,null==b?gs(J)&&R:b!=U&&0!=(3&J.type),S&Un.Host&&k===J);return null!==Fe?el(a,U,Fe,J):Ot}function zo(o,a,d,b,S){const k=o.providerIndexes,U=a.data,J=1048575&k,se=o.directiveStart,Fe=k>>20,_t=S?J+Fe:o.directiveEnd;for(let Mt=b?J:J+Fe;Mt<_t;Mt++){const Xt=U[Mt];if(Mt<se&&d===Xt||Mt>=se&&Xt.type===d)return Mt}if(S){const Mt=U[se];if(Mt&&Or(Mt)&&Mt.type===d)return se}return null}function el(o,a,d,b){let S=o[d];const k=a.data;if(function Kt(o){return o instanceof wt}(S)){const U=S;U.resolving&&function et(o,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new At(-200,`Circular dependency in DI detected for ${o}${d}`)}(function un(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ut(o)}(k[d]));const J=K(U.canSeeViewProviders);U.resolving=!0;const se=U.injectImpl?Oi(U.injectImpl):null;Jo(o,b,Un.Default);try{S=o[d]=U.factory(void 0,k,o,b),a.firstCreatePass&&d>=b.directiveStart&&function Vo(o,a,d){const{ngOnChanges:b,ngOnInit:S,ngDoCheck:k}=a.type.prototype;if(b){const U=hi(a);(d.preOrderHooks||(d.preOrderHooks=[])).push(o,U),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,U)}S&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-o,S),k&&((d.preOrderHooks||(d.preOrderHooks=[])).push(o,k),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(o,k))}(d,k[d],a)}finally{null!==se&&Oi(se),K(J),U.resolving=!1,Zr()}}return S}function ds(o,a,d){return!!(d[a+(o>>5)]&1<<o)}function Ga(o,a){return!(o&Un.Self||o&Un.Host&&a)}class tl{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,b){return gl(this._tNode,this._lView,a,nt(b),d)}}function ja(){return new tl(zr(),qt())}function Wc(o){return vi(()=>{const a=o.prototype.constructor,d=a[lt]||To(a),b=Object.prototype;let S=Object.getPrototypeOf(o.prototype).constructor;for(;S&&S!==b;){const k=S[lt]||To(S);if(k&&k!==d)return k;S=Object.getPrototypeOf(S)}return k=>new k})}function To(o){return Jt(o)?()=>{const a=To(Et(o));return a&&a()}:wn(o)}function Ya(o){const a=o[1],d=a.type;return 2===d?a.declTNode:1===d?o[6]:null}function ga(o){return function Uo(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const d=o.attrs;if(d){const b=d.length;let S=0;for(;S<b;){const k=d[S];if(Rr(k))break;if(0===k)S+=2;else if("number"==typeof k)for(S++;S<b&&"string"==typeof d[S];)S++;else{if(k===a)return d[S+1];S+=2}}}return null}(zr(),o)}const wc="__parameters__",Pl="__prop__metadata__";function Ec(o){return function(...d){if(o){const b=o(...d);for(const S in b)this[S]=b[S]}}}function ma(o,a,d){return vi(()=>{const b=Ec(a);function S(...k){if(this instanceof S)return b.apply(this,k),this;const U=new S(...k);return J.annotation=U,J;function J(se,we,Fe){const Je=se.hasOwnProperty(wc)?se[wc]:Object.defineProperty(se,wc,{value:[]})[wc];for(;Je.length<=Fe;)Je.push(null);return(Je[Fe]=Je[Fe]||[]).push(U),se}}return d&&(S.prototype=Object.create(d.prototype)),S.prototype.ngMetadataName=o,S.annotationCls=S,S})}function nl(o,a,d,b){return vi(()=>{const S=Ec(a);function k(...U){if(this instanceof k)return S.apply(this,U),this;const J=new k(...U);return function se(we,Fe){const Je=we.constructor,_t=Je.hasOwnProperty(Pl)?Je[Pl]:Object.defineProperty(Je,Pl,{value:{}})[Pl];_t[Fe]=_t.hasOwnProperty(Fe)&&_t[Fe]||[],_t[Fe].unshift(J),b&&b(we,Fe,...U)}}return d&&(k.prototype=Object.create(d.prototype)),k.prototype.ngMetadataName=o,k.annotationCls=k,k})}class ts{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Vn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _a(o,a){o.forEach(d=>Array.isArray(d)?_a(d,a):a(d))}function bu(o,a,d){a>=o.length?o.push(d):o.splice(a,0,d)}function G(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function q(o,a){const d=[];for(let b=0;b<o;b++)d.push(a);return d}function Le(o,a,d){let b=nn(o,a);return b>=0?o[1|b]=d:(b=~b,function ve(o,a,d,b){let S=o.length;if(S==a)o.push(d,b);else if(1===S)o.push(b,o[0]),o[0]=d;else{for(S--,o.push(o[S-1],o[S]);S>a;)o[S]=o[S-2],S--;o[a]=d,o[a+1]=b}}(o,b,a,d)),b}function yt(o,a){const d=nn(o,a);if(d>=0)return o[1|d]}function nn(o,a){return function yn(o,a,d){let b=0,S=o.length>>d;for(;S!==b;){const k=b+(S-b>>1),U=o[k<<d];if(a===U)return k<<d;U>a?S=k:b=k+1}return~(S<<d)}(o,a,1)}const Ps=hn(ma("Inject",o=>({token:o})),-1),Dc=hn(ma("Optional"),8),Kc=hn(ma("SkipSelf"),4);var xl=(()=>((xl=xl||{})[xl.Important=1]="Important",xl[xl.DashCase=2]="DashCase",xl))();const ta=/^>|^->|<!--|-->|--!>|<!-$/g,Su=/(<|>)/;const hs=new Map;let Au=0;const Ql="__ngContext__";function po(o,a){ai(a)?(o[Ql]=a[20],function Qc(o){hs.set(o[20],o)}(a)):o[Ql]=a}let cf;function gd(o,a){return cf(o,a)}function il(o){const a=o[3];return gr(a)?a[3]:a}function md(o){return ih(o[13])}function nh(o){return ih(o[4])}function ih(o){for(;null!==o&&!gr(o);)o=o[4];return o}function ku(o,a,d,b,S){if(null!=b){let k,U=!1;gr(b)?k=b:ai(b)&&(U=!0,b=b[0]);const J=Xr(b);0===o&&null!==d?null==S?Np(a,d,J):ic(a,d,J,S||null,!0):1===o&&null!==d?ic(a,d,J,S||null,!0):2===o?sh(a,J,U):3===o&&a.destroyNode(J),null!=k&&function mf(o,a,d,b,S){const k=d[7];k!==Xr(d)&&ku(a,o,b,k,S);for(let J=10;J<d.length;J++){const se=d[J];rl(se[1],se,o,a,b,k)}}(a,o,k,d,S)}}function _d(o,a){return o.createText(a)}function Pp(o,a,d){o.setValue(a,d)}function uf(o,a){return o.createComment(function ba(o){return o.replace(ta,a=>a.replace(Su,"\u200b$1\u200b"))}(a))}function xa(o,a,d){return o.createElement(a,d)}function tc(o,a){const d=o[9],b=d.indexOf(a),S=a[3];512&a[2]&&(a[2]&=-513,xo(S,-1)),d.splice(b,1)}function nu(o,a){if(o.length<=10)return;const d=10+a,b=o[d];if(b){const S=b[17];null!==S&&S!==o&&tc(S,b),a>0&&(o[d-1][4]=b[4]);const k=G(o,10+a);!function Mc(o,a){rl(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(b[1],b);const U=k[19];null!==U&&U.detachView(k[1]),b[3]=null,b[4]=null,b[2]&=-65}return b}function nc(o,a){if(!(128&a[2])){const d=a[11];d.destroyNode&&rl(o,a,d,3,null,null),function df(o){let a=o[13];if(!a)return Nl(o[1],o);for(;a;){let d=null;if(ai(a))d=a[13];else{const b=a[10];b&&(d=b)}if(!d){for(;a&&!a[4]&&a!==o;)ai(a)&&Nl(a[1],a),a=a[3];null===a&&(a=o),ai(a)&&Nl(a[1],a),d=a&&a[4]}a=d}}(a)}}function Nl(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function ff(o,a){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let b=0;b<d.length;b+=2){const S=a[d[b]];if(!(S instanceof wt)){const k=d[b+1];if(Array.isArray(k))for(let U=0;U<k.length;U+=2){const J=S[k[U]],se=k[U+1];try{se.call(J)}finally{}}else try{k.call(S)}finally{}}}}(o,a),function Rp(o,a){const d=o.cleanup,b=a[7];let S=-1;if(null!==d)for(let k=0;k<d.length-1;k+=2)if("string"==typeof d[k]){const U=d[k+3];U>=0?b[S=U]():b[S=-U].unsubscribe(),k+=2}else{const U=b[S=d[k+1]];d[k].call(U)}if(null!==b){for(let k=S+1;k<b.length;k++)(0,b[k])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const d=a[17];if(null!==d&&gr(a[3])){d!==a[3]&&tc(d,a);const b=a[19];null!==b&&b.detachView(o)}!function fd(o){hs.delete(o[20])}(a)}}function Ll(o,a,d){return pf(o,a.parent,d)}function pf(o,a,d){let b=a;for(;null!==b&&40&b.type;)b=(a=b).parent;if(null===b)return d[0];{const{componentOffset:S}=b;if(S>-1){const{encapsulation:k}=o.data[b.directiveStart+S];if(k===On.None||k===On.Emulated)return null}return Tr(b,d)}}function ic(o,a,d,b,S){o.insertBefore(a,d,b,S)}function Np(o,a,d){o.appendChild(a,d)}function Lp(o,a,d,b,S){null!==b?ic(o,a,d,b,S):Np(o,a,d)}function Rc(o,a){return o.parentNode(a)}function Vp(o,a,d){return Up(o,a,d)}function Bp(o,a,d){return 40&o.type?Tr(o,d):null}let iu,oi,ia,Mu,Up=Bp;function Fl(o,a){Up=o,iu=a}function ru(o,a,d,b){const S=Ll(o,b,a),k=a[11],J=Vp(b.parent||a[6],b,a);if(null!=S)if(Array.isArray(d))for(let se=0;se<d.length;se++)Lp(k,S,d[se],J,!1);else Lp(k,S,d,J,!1);void 0!==iu&&iu(k,b,a,d,S)}function Pu(o,a){if(null!==a){const d=a.type;if(3&d)return Tr(a,o);if(4&d)return Ou(-1,o[a.index]);if(8&d){const b=a.child;if(null!==b)return Pu(o,b);{const S=o[a.index];return gr(S)?Ou(-1,S):Xr(S)}}if(32&d)return gd(a,o)()||Xr(o[a.index]);{const b=gf(o,a);return null!==b?Array.isArray(b)?b[0]:Pu(il(o[16]),b):Pu(o,a.next)}}return null}function gf(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Ou(o,a){const d=10+o+1;if(d<a.length){const b=a[d],S=b[1].firstChild;if(null!==S)return Pu(b,S)}return a[7]}function sh(o,a,d){const b=Rc(o,a);b&&function Fp(o,a,d,b){o.removeChild(a,d,b)}(o,b,a,d)}function rc(o,a,d,b,S,k,U){for(;null!=d;){const J=b[d.index],se=d.type;if(U&&0===a&&(J&&po(Xr(J),b),d.flags|=2),32!=(32&d.flags))if(8&se)rc(o,a,d.child,b,S,k,!1),ku(a,o,S,J,k);else if(32&se){const we=gd(d,b);let Fe;for(;Fe=we();)ku(a,o,S,Fe,k);ku(a,o,S,J,k)}else 16&se?vd(o,a,b,d,S,k):ku(a,o,S,J,k);d=U?d.projectionNext:d.next}}function rl(o,a,d,b,S,k){rc(d,b,o.firstChild,a,S,k,!1)}function vd(o,a,d,b,S,k){const U=d[16],se=U[6].projection[b.projection];if(Array.isArray(se))for(let we=0;we<se.length;we++)ku(a,o,S,se[we],k);else rc(o,a,se,U[3],S,k,!0)}function Gs(o,a,d){""===d?o.removeAttribute(a,"class"):o.setAttribute(a,"class",d)}function Lc(o,a,d){const{mergedAttrs:b,classes:S,styles:k}=d;null!==b&&er(o,a,b),null!==S&&Gs(o,a,S),null!==k&&function _f(o,a,d){o.setAttribute(a,"style",d)}(o,a,k)}function dn(o){return function oh(){if(void 0===oi&&(oi=null,ni.trustedTypes))try{oi=ni.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return oi}()?.createHTML(o)||o}function bd(o){ia=o}function fs(){return void 0!==ia?ia:typeof document<"u"?document:void 0}function Ru(){if(void 0===Mu&&(Mu=null,ni.trustedTypes))try{Mu=ni.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Mu}function su(o){return Ru()?.createHTML(o)||o}function yf(o){return Ru()?.createScriptURL(o)||o}class bf{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${on})`}}function H(o){return o instanceof bf?o.changingThisBreaksApplicationSecurity:o}function M(o,a){const d=function _(o){return o instanceof bf&&o.getTypeName()||null}(o);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${on})`)}return d===a}function Ri(o){const a=new tr(o);return function qr(){try{return!!(new window.DOMParser).parseFromString(dn(""),"text/html")}catch{return!1}}()?new Pr(a):a}class Pr{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(dn(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class tr{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const b=this.inertDocument.createElement("body");d.appendChild(b)}}getInertBodyElement(a){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=dn(a),d;const b=this.inertDocument.createElement("body");return b.innerHTML=dn(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(b),b}stripCustomNsAttrs(a){const d=a.attributes;for(let S=d.length-1;0<S;S--){const U=d.item(S).name;("xmlns:ns1"===U||0===U.indexOf("ns1:"))&&a.removeAttribute(U)}let b=a.firstChild;for(;b;)b.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(b),b=b.nextSibling}}const ra=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function sl(o){return(o=String(o)).match(ra)?o:"unsafe:"+o}function Fc(o){const a={};for(const d of o.split(","))a[d]=!0;return a}function lh(...o){const a={};for(const d of o)for(const b in d)d.hasOwnProperty(b)&&(a[b]=!0);return a}const Hp=Fc("area,br,col,hr,img,wbr"),ch=Fc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Im=Fc("rp,rt"),zp=lh(Hp,lh(ch,Fc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lh(Im,Fc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lh(Im,ch)),Zp=Fc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),km=lh(Zp,Fc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pm=Fc("script,style,template");class Iv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,b=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?b=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,b&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let S=this.checkClobberedElement(d,d.nextSibling);if(S){d=S;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!zp.hasOwnProperty(d))return this.sanitizedSomething=!0,!Pm.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const b=a.attributes;for(let S=0;S<b.length;S++){const k=b.item(S),U=k.name,J=U.toLowerCase();if(!km.hasOwnProperty(J)){this.sanitizedSomething=!0;continue}let se=k.value;Zp[J]&&(se=sl(se)),this.buf.push(" ",U,'="',uh(se),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();zp.hasOwnProperty(d)&&!Hp.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(uh(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const Dv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kv=/([^\#-~ |!])/g;function uh(o){return o.replace(/&/g,"&amp;").replace(Dv,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(kv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dh;function Mm(o){return"content"in o&&function Rm(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Co=(()=>((Co=Co||{})[Co.NONE=0]="NONE",Co[Co.HTML=1]="HTML",Co[Co.STYLE=2]="STYLE",Co[Co.SCRIPT=3]="SCRIPT",Co[Co.URL=4]="URL",Co[Co.RESOURCE_URL=5]="RESOURCE_URL",Co))();function Gp(o){const a=wd();return a?su(a.sanitize(Co.HTML,o)||""):M(o,"HTML")?su(H(o)):function Om(o,a){let d=null;try{dh=dh||Ri(o);let b=a?String(a):"";d=dh.getInertBodyElement(b);let S=5,k=b;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,b=k,k=d.innerHTML,d=dh.getInertBodyElement(b)}while(b!==k);return dn((new Iv).sanitizeChildren(Mm(d)||d))}finally{if(d){const b=Mm(d)||d;for(;b.firstChild;)b.removeChild(b.firstChild)}}}(fs(),Ut(o))}function Tf(o){const a=wd();return a?a.sanitize(Co.URL,o)||"":M(o,"URL")?H(o):sl(Ut(o))}function Pv(o){const a=wd();if(a)return yf(a.sanitize(Co.RESOURCE_URL,o)||"");if(M(o,"ResourceURL"))return yf(H(o));throw new At(904,!1)}function Ov(o,a,d){return function Nm(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Pv:Tf}(a,d)(o)}function wd(){const o=qt();return o&&o[12]}const Yp=new ts("ENVIRONMENT_INITIALIZER"),Mv=new ts("INJECTOR",-1),Rv=new ts("INJECTOR_DEF_TYPES");class qp{get(a,d=cr){if(d===cr){const b=new Error(`NullInjectorError: No provider for ${tt(a)}!`);throw b.name="NullInjectorError",b}return d}}function E(o){return{\u0275providers:o}}function O(...o){return{\u0275providers:g(0,o),\u0275fromNgModule:!0}}function g(o,...a){const d=[],b=new Set;let S;return _a(a,k=>{const U=k;Y(U,d,[],b)&&(S||(S=[]),S.push(U))}),void 0!==S&&A(S,d),d}function A(o,a){for(let d=0;d<o.length;d++){const{providers:S}=o[d];Ze(S,k=>{a.push(k)})}}function Y(o,a,d,b){if(!(o=Et(o)))return!1;let S=null,k=sr(o);const U=!k&&P(o);if(k||U){if(U&&!U.standalone)return!1;S=o}else{const se=o.ngModule;if(k=sr(se),!k)return!1;S=se}const J=b.has(S);if(U){if(J)return!1;if(b.add(S),U.dependencies){const se="function"==typeof U.dependencies?U.dependencies():U.dependencies;for(const we of se)Y(we,a,d,b)}}else{if(!k)return!1;{if(null!=k.imports&&!J){let we;b.add(S);try{_a(k.imports,Fe=>{Y(Fe,a,d,b)&&(we||(we=[]),we.push(Fe))})}finally{}void 0!==we&&A(we,a)}if(!J){const we=wn(S)||(()=>new S);a.push({provide:S,useFactory:we,deps:ot},{provide:Rv,useValue:S,multi:!0},{provide:Yp,useValue:()=>gi(S),multi:!0})}const se=k.providers;null==se||J||Ze(se,Fe=>{a.push(Fe)})}}return S!==o&&void 0!==o.providers}function Ze(o,a){for(let d of o)ct(d)&&(d=d.\u0275providers),Array.isArray(d)?Ze(d,a):a(d)}const at=Qe({provide:String,useValue:Qe});function ht(o){return null!==o&&"object"==typeof o&&at in o}function qn(o){return"function"==typeof o}const Wn=new ts("Set Injector scope."),_r={},Ni={};let nr;function Sr(){return void 0===nr&&(nr=new qp),nr}class ir{}class Os extends ir{get destroyed(){return this._destroyed}constructor(a,d,b,S){super(),this.parent=d,this.source=b,this.scopes=S,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ka(a,U=>this.processProvider(U)),this.records.set(Mv,Wr(void 0,this)),S.has("environment")&&this.records.set(ir,Wr(void 0,this));const k=this.records.get(Wn);null!=k&&"string"==typeof k.value&&this.scopes.add(k.value),this.injectorDefTypes=new Set(this.get(Rv.multi,ot,Un.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const d=ur(this),b=Oi(void 0);try{return a()}finally{ur(d),Oi(b)}}get(a,d=cr,b=Un.Default){this.assertNotDestroyed(),b=nt(b);const S=ur(this),k=Oi(void 0);try{if(!(b&Un.SkipSelf)){let J=this.records.get(a);if(void 0===J){const se=function No(o){return"function"==typeof o||"object"==typeof o&&o instanceof ts}(a)&&Di(a);J=se&&this.injectableDefInScope(se)?Wr(br(a),_r):null,this.records.set(a,J)}if(null!=J)return this.hydrate(a,J)}return(b&Un.Self?Sr():this.parent).get(a,d=b&Un.Optional&&d===cr?null:d)}catch(U){if("NullInjectorError"===U.name){if((U[ii]=U[ii]||[]).unshift(tt(a)),S)throw U;return function cn(o,a,d,b){const S=o[ii];throw a[$r]&&S.unshift(a[$r]),o.message=function ke(o,a,d,b=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let S=tt(a);if(Array.isArray(a))S=a.map(tt).join(" -> ");else if("object"==typeof a){let k=[];for(let U in a)if(a.hasOwnProperty(U)){let J=a[U];k.push(U+":"+("string"==typeof J?JSON.stringify(J):tt(J)))}S=`{${k.join(", ")}}`}return`${d}${b?"("+b+")":""}[${S}]: ${o.replace(pr,"\n  ")}`}("\n"+o.message,S,d,b),o.ngTokenPath=S,o[ii]=null,o}(U,a,"R3InjectorError",this.source)}throw U}finally{Oi(k),ur(S)}}resolveInjectorInitializers(){const a=ur(this),d=Oi(void 0);try{const b=this.get(Yp.multi,ot,Un.Self);for(const S of b)S()}finally{ur(a),Oi(d)}}toString(){const a=[],d=this.records;for(const b of d.keys())a.push(tt(b));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new At(205,!1)}processProvider(a){let d=qn(a=Et(a))?a:Et(a&&a.provide);const b=function is(o){return ht(o)?Wr(void 0,o.useValue):Wr(Ms(o),_r)}(a);if(qn(a)||!0!==a.multi)this.records.get(d);else{let S=this.records.get(d);S||(S=Wr(void 0,_r,!0),S.factory=()=>ft(S.multi),this.records.set(d,S)),d=a,S.multi.push(a)}this.records.set(d,b)}hydrate(a,d){return d.value===_r&&(d.value=Ni,d.value=d.factory()),"object"==typeof d.value&&d.value&&function go(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=Et(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function br(o){const a=Di(o),d=null!==a?a.factory:wn(o);if(null!==d)return d;if(o instanceof ts)throw new At(204,!1);if(o instanceof Function)return function Fr(o){const a=o.length;if(a>0)throw q(a,"?"),new At(204,!1);const d=function gn(o){const a=o&&(o[Bi]||o[Pi]);if(a){const d=function Si(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),a}return null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new At(204,!1)}function Ms(o,a,d){let b;if(qn(o)){const S=Et(o);return wn(S)||br(S)}if(ht(o))b=()=>Et(o.useValue);else if(function Zt(o){return!(!o||!o.useFactory)}(o))b=()=>o.useFactory(...ft(o.deps||[]));else if(function It(o){return!(!o||!o.useExisting)}(o))b=()=>gi(Et(o.useExisting));else{const S=Et(o&&(o.useClass||o.provide));if(!function jo(o){return!!o.deps}(o))return wn(S)||br(S);b=()=>new S(...ft(o.deps))}return b}function Wr(o,a,d=!1){return{factory:o,value:a,multi:d?[]:void 0}}function ka(o,a){for(const d of o)Array.isArray(d)?ka(d,a):d&&ct(d)?ka(d.\u0275providers,a):a(d)}class wa{}class oc{}class hh{resolveComponentFactory(a){throw function Fu(o){const a=Error(`No component factory found for ${tt(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ul=(()=>{class o{}return o.NULL=new hh,o})();function fh(){return ac(zr(),qt())}function ac(o,a){return new Vc(Tr(o,a))}let Vc=(()=>{class o{constructor(d){this.nativeElement=d}}return o.__NG_ELEMENT_ID__=fh,o})();function Af(o){return o instanceof Vc?o.nativeElement:o}class Vu{}let lc=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function ph(){const o=qt(),d=vs(zr().index,o);return(ai(d)?d:o)[11]}(),o})(),If=(()=>{class o{}return o.\u0275prov=Vn({token:o,providedIn:"root",factory:()=>null}),o})();class Bc{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Wp=new Bc("15.1.3"),Ed={};function Df(o){return o.ngOriginalError}class mh{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&Df(a);for(;d&&Df(d);)d=Df(d);return d||null}}function kf(o){return o.ownerDocument.defaultView}function cc(o){return o instanceof Function?o():o}function k0(o,a,d){let b=o.length;for(;;){const S=o.indexOf(a,d);if(-1===S)return S;if(0===S||o.charCodeAt(S-1)<=32){const k=a.length;if(S+k===b||o.charCodeAt(S+k)<=32)return S}d=S+1}}const Vm="ng-template";function Uv(o,a,d){let b=0;for(;b<o.length;){let S=o[b++];if(d&&"class"===S){if(S=o[b],-1!==k0(S.toLowerCase(),a,0))return!0}else if(1===S){for(;b<o.length&&"string"==typeof(S=o[b++]);)if(S.toLowerCase()===a)return!0;return!1}}return!1}function P0(o){return 4===o.type&&o.value!==Vm}function Hv(o,a,d){return a===(4!==o.type||d?o.value:Vm)}function S1(o,a,d){let b=4;const S=o.attrs||[],k=function YC(o){for(let a=0;a<o.length;a++)if(Rr(o[a]))return a;return o.length}(S);let U=!1;for(let J=0;J<a.length;J++){const se=a[J];if("number"!=typeof se){if(!U)if(4&b){if(b=2|1&b,""!==se&&!Hv(o,se,d)||""===se&&1===a.length){if(uc(b))return!1;U=!0}}else{const we=8&b?se:a[++J];if(8&b&&null!==o.attrs){if(!Uv(o.attrs,we,d)){if(uc(b))return!1;U=!0}continue}const Je=A1(8&b?"class":se,S,P0(o),d);if(-1===Je){if(uc(b))return!1;U=!0;continue}if(""!==we){let _t;_t=Je>k?"":S[Je+1].toLowerCase();const Mt=8&b?_t:null;if(Mt&&-1!==k0(Mt,we,0)||2&b&&we!==_t){if(uc(b))return!1;U=!0}}}}else{if(!U&&!uc(b)&&!uc(se))return!1;if(U&&uc(se))continue;U=!1,b=se|1&b}}return uc(b)||U}function uc(o){return 0==(1&o)}function A1(o,a,d,b){if(null===a)return-1;let S=0;if(b||!d){let k=!1;for(;S<a.length;){const U=a[S];if(U===o)return S;if(3===U||6===U)k=!0;else{if(1===U||2===U){let J=a[++S];for(;"string"==typeof J;)J=a[++S];continue}if(4===U)break;if(0===U){S+=4;continue}}S+=k?1:2}return-1}return function zv(o,a){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const b=o[d];if("number"==typeof b)return-1;if(b===a)return d;d++}return-1}(a,o)}function Bm(o,a,d=!1){for(let b=0;b<a.length;b++)if(S1(o,a[b],d))return!0;return!1}function O0(o,a){e:for(let d=0;d<a.length;d++){const b=a[d];if(o.length===b.length){for(let S=0;S<o.length;S++)if(o[S]!==b[S])continue e;return!0}}return!1}function Jp(o,a){return o?":not("+a.trim()+")":a}function M0(o){let a=o[0],d=1,b=2,S="",k=!1;for(;d<o.length;){let U=o[d];if("string"==typeof U)if(2&b){const J=o[++d];S+="["+U+(J.length>0?'="'+J+'"':"")+"]"}else 8&b?S+="."+U:4&b&&(S+=" "+U);else""!==S&&!uc(U)&&(a+=Jp(k,S),S=""),b=U,k=k||!uc(b);d++}return""!==S&&(a+=Jp(k,S)),a}const vr={};function N0(o){L0(Ei(),qt(),Mr()+o,!1)}function L0(o,a,d,b){if(!b)if(3==(3&a[2])){const k=o.preOrderCheckHooks;null!==k&&Qa(a,k,d)}else{const k=o.preOrderHooks;null!==k&&ee(a,k,0,d)}Ts(d)}function Um(o,a=null,d=null,b){const S=U0(o,a,d,b);return S.resolveInjectorInitializers(),S}function U0(o,a=null,d=null,b,S=new Set){const k=[d||ot,O(o)];return b=b||("object"==typeof o?void 0:tt(o)),new Os(k,a||Sr(),b||null,S)}let vh=(()=>{class o{static create(d,b){if(Array.isArray(d))return Um({name:""},b,d,"");{const S=d.name??"";return Um({name:S},d.parent,d.providers,S)}}}return o.THROW_IF_NOT_FOUND=cr,o.NULL=new qp,o.\u0275prov=Vn({token:o,providedIn:"any",factory:()=>gi(Mv)}),o.__NG_ELEMENT_ID__=-1,o})();function Rf(o,a=Un.Default){const d=qt();return null===d?gi(o,a):gl(zr(),d,Et(o),a)}function q0(){throw new Error("invalid")}function Gm(o,a){const d=o.contentQueries;if(null!==d)for(let b=0;b<d.length;b+=2){const k=d[b+1];if(-1!==k){const U=o.data[k];Mo(d[b]),U.contentQueries(2,a[k],k)}}}function jm(o,a,d,b,S,k,U,J,se,we,Fe){const Je=a.blueprint.slice();return Je[0]=S,Je[2]=76|b,(null!==Fe||o&&1024&o[2])&&(Je[2]|=1024),co(Je),Je[3]=Je[15]=o,Je[8]=d,Je[10]=U||o&&o[10],Je[11]=J||o&&o[11],Je[12]=se||o&&o[12]||null,Je[9]=we||o&&o[9]||null,Je[6]=k,Je[20]=function kp(){return Au++}(),Je[21]=Fe,Je[16]=2==a.type?o[16]:Je,Je}function Td(o,a,d,b,S){let k=o.data[a];if(null===k)k=Xv(o,a,d,b,S),function os(){return Ii.lFrame.inI18n}()&&(k.flags|=32);else if(64&k.type){k.type=d,k.value=b,k.attrs=S;const U=pa();k.injectorIndex=null===U?-1:U.injectorIndex}return Is(k,!0),k}function Xv(o,a,d,b,S){const k=wo(),U=fl(),se=o.data[a]=function z1(o,a,d,b,S,k){return{type:d,index:b,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:S,attrs:k,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,U?k:k&&k.parent,d,a,b,S);return null===o.firstChild&&(o.firstChild=se),null!==k&&(U?null==k.child&&null!==se.parent&&(k.child=se):null===k.next&&(k.next=se)),se}function Oa(o,a,d,b){if(0===d)return-1;const S=a.length;for(let k=0;k<d;k++)a.push(b),o.blueprint.push(b),o.data.push(null);return S}function bh(o,a,d){Qo(a);try{const b=o.viewQuery;null!==b&&ly(1,b,d);const S=o.template;null!==S&&X0(o,a,S,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Gm(o,a),o.staticViewQueries&&ly(2,o.viewQuery,d);const k=o.components;null!==k&&function $0(o,a){for(let d=0;d<a.length;d++)Sd(o,a[d])}(a,k)}catch(b){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),b}finally{a[2]&=-5,Ir()}}function Qp(o,a,d,b){const S=a[2];if(128!=(128&S)){Qo(a);try{co(a),function yr(o){return Ii.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&X0(o,a,d,2,b);const U=3==(3&S);if(U){const we=o.preOrderCheckHooks;null!==we&&Qa(a,we,null)}else{const we=o.preOrderHooks;null!==we&&ee(a,we,0,null),Te(a,0)}if(function qa(o){for(let a=md(o);null!==a;a=nh(a)){if(!a[2])continue;const d=a[9];for(let b=0;b<d.length;b++){const S=d[b];512&S[2]||xo(S[3],1),S[2]|=512}}}(a),function W1(o){for(let a=md(o);null!==a;a=nh(a))for(let d=10;d<a.length;d++){const b=a[d],S=b[1];lo(b)&&Qp(S,b,S.template,b[8])}}(a),null!==o.contentQueries&&Gm(o,a),U){const we=o.contentCheckHooks;null!==we&&Qa(a,we)}else{const we=o.contentHooks;null!==we&&ee(a,we,1),Te(a,1)}!function W0(o,a){const d=o.hostBindingOpCodes;if(null!==d)try{for(let b=0;b<d.length;b++){const S=d[b];if(S<0)Ts(~S);else{const k=S,U=d[++b],J=d[++b];qs(U,k),J(2,a[k])}}}finally{Ts(-1)}}(o,a);const J=o.components;null!==J&&function $v(o,a){for(let d=0;d<a.length;d++)$m(o,a[d])}(a,J);const se=o.viewQuery;if(null!==se&&ly(2,se,b),U){const we=o.viewCheckHooks;null!==we&&Qa(a,we)}else{const we=o.viewHooks;null!==we&&ee(a,we,2),Te(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,xo(a[3],-1))}finally{Ir()}}}function X0(o,a,d,b,S){const k=Mr(),U=2&b;try{Ts(-1),U&&a.length>22&&L0(o,a,22,!1),d(b,S)}finally{Ts(k)}}function eg(o,a,d){if(ar(a)){const S=a.directiveEnd;for(let k=a.directiveStart;k<S;k++){const U=o.data[k];U.contentQueries&&U.contentQueries(1,d[k],k)}}}function tg(o,a,d){Vt()&&(function G1(o,a,d,b){const S=d.directiveStart,k=d.directiveEnd;gs(d)&&function Wm(o,a,d){const b=Tr(a,o),S=Jv(d),k=o[10],U=ng(o,jm(o,S,null,d.onPush?32:16,b,a,k,k.createRenderer(b,d),null,null,null));o[a.index]=U}(a,d,o.data[S+d.componentOffset]),o.firstCreatePass||Xn(d,a),po(b,a);const U=d.initialInputs;for(let J=S;J<k;J++){const se=o.data[J],we=el(a,o,J,d);po(we,a),null!==U&&ay(0,J-S,we,se,0,U),Or(se)&&(vs(d.index,a)[8]=el(a,o,J,d))}}(o,a,d,Tr(d,a)),64==(64&d.flags)&&tx(o,a,d))}function Kv(o,a,d=Tr){const b=a.localNames;if(null!==b){let S=a.index+1;for(let k=0;k<b.length;k+=2){const U=b[k+1],J=-1===U?d(a,o):o[U];o[S++]=J}}}function Jv(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Qv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Qv(o,a,d,b,S,k,U,J,se,we){const Fe=22+b,Je=Fe+S,_t=function Cd(o,a){const d=[];for(let b=0;b<a;b++)d.push(b<o?null:vr);return d}(Fe,Je),Mt="function"==typeof we?we():we;return _t[1]={type:o,blueprint:_t,template:d,queries:null,viewQuery:J,declTNode:a,data:_t.slice().fill(null,Fe),bindingStartIndex:Fe,expandoStartIndex:Je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof k?k():k,pipeRegistry:"function"==typeof U?U():U,firstChild:null,schemas:se,consts:Mt,incompleteFirstPass:!1}}function J0(o,a,d,b){const S=sg(a);null===d?S.push(b):(S.push(d),o.firstCreatePass&&Hc(o).push(b,S.length-1))}function Q0(o,a,d,b){for(let S in o)if(o.hasOwnProperty(S)){d=null===d?{}:d;const k=o[S];null===b?ey(d,a,S,k):b.hasOwnProperty(S)&&ey(d,a,b[S],k)}return d}function ey(o,a,d,b){o.hasOwnProperty(d)?o[d].push(a,b):o[d]=[a,b]}function ol(o,a,d,b,S,k,U,J){const se=Tr(a,d);let Fe,we=a.inputs;!J&&null!=we&&(Fe=we[b])?(cy(o,d,Fe,b,S),gs(a)&&ex(d,a.index)):3&a.type&&(b=function ty(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(b),S=null!=U?U(S,a.value||"",b):S,k.setProperty(se,b,S))}function ex(o,a){const d=vs(a,o);16&d[2]||(d[2]|=32)}function qm(o,a,d,b){let S=!1;if(Vt()){const k=null===b?null:{"":-1},U=function Y1(o,a){const d=o.directiveRegistry;let b=null,S=null;if(d)for(let k=0;k<d.length;k++){const U=d[k];if(Bm(a,U.selectors,!1))if(b||(b=[]),Or(U))if(null!==U.findHostDirectiveDefs){const J=[];S=S||new Map,U.findHostDirectiveDefs(U,J,S),b.unshift(...J,U),ry(o,a,J.length)}else b.unshift(U),ry(o,a,0);else S=S||new Map,U.findHostDirectiveDefs?.(U,b,S),b.push(U)}return null===b?null:[b,S]}(o,d);let J,se;null===U?J=se=null:[J,se]=U,null!==J&&(S=!0,ny(o,a,d,J,k,se)),k&&function Uc(o,a,d){if(a){const b=o.localNames=[];for(let S=0;S<a.length;S+=2){const k=d[a[S+1]];if(null==k)throw new At(-301,!1);b.push(a[S],k)}}}(d,b,k)}return d.mergedAttrs=Ds(d.mergedAttrs,d.attrs),S}function ny(o,a,d,b,S,k){for(let we=0;we<b.length;we++)as(Xn(d,a),o,b[we].type);!function sy(o,a,d){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+d,o.providerIndexes=a}(d,o.data.length,b.length);for(let we=0;we<b.length;we++){const Fe=b[we];Fe.providersResolver&&Fe.providersResolver(Fe)}let U=!1,J=!1,se=Oa(o,a,b.length,null);for(let we=0;we<b.length;we++){const Fe=b[we];d.mergedAttrs=Ds(d.mergedAttrs,Fe.hostAttrs),hr(o,d,a,se,Fe),ri(se,Fe,S),null!==Fe.contentQueries&&(d.flags|=4),(null!==Fe.hostBindings||null!==Fe.hostAttrs||0!==Fe.hostVars)&&(d.flags|=64);const Je=Fe.type.prototype;!U&&(Je.ngOnChanges||Je.ngOnInit||Je.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(d.index),U=!0),!J&&(Je.ngOnChanges||Je.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(d.index),J=!0),se++}!function El(o,a,d){const S=a.directiveEnd,k=o.data,U=a.attrs,J=[];let se=null,we=null;for(let Fe=a.directiveStart;Fe<S;Fe++){const Je=k[Fe],_t=d?d.get(Je):null,Xt=_t?_t.outputs:null;se=Q0(Je.inputs,Fe,se,_t?_t.inputs:null),we=Q0(Je.outputs,Fe,we,Xt);const Ln=null===se||null===U||P0(a)?null:q1(se,Fe,U);J.push(Ln)}null!==se&&(se.hasOwnProperty("class")&&(a.flags|=8),se.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=J,a.inputs=se,a.outputs=we}(o,d,k)}function tx(o,a,d){const b=d.directiveStart,S=d.directiveEnd,k=d.index,U=function ho(){return Ii.lFrame.currentDirectiveIndex}();try{Ts(k);for(let J=b;J<S;J++){const se=o.data[J],we=a[J];Oo(J),(null!==se.hostBindings||0!==se.hostVars||null!==se.hostAttrs)&&j1(se,we)}}finally{Ts(-1),Oo(U)}}function j1(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function ry(o,a,d){a.componentOffset=d,(o.components||(o.components=[])).push(a.index)}function ri(o,a,d){if(d){if(a.exportAs)for(let b=0;b<a.exportAs.length;b++)d[a.exportAs[b]]=o;Or(a)&&(d[""]=o)}}function hr(o,a,d,b,S){o.data[b]=S;const k=S.factory||(S.factory=wn(S.type)),U=new wt(k,Or(S),Rf);o.blueprint[b]=U,d[b]=U,function Z1(o,a,d,b,S){const k=S.hostBindings;if(k){let U=o.hostBindingOpCodes;null===U&&(U=o.hostBindingOpCodes=[]);const J=~a.index;(function iy(o){let a=o.length;for(;a>0;){const d=o[--a];if("number"==typeof d&&d<0)return d}return 0})(U)!=J&&U.push(J),U.push(d,b,k)}}(o,a,b,Oa(o,d,S.hostVars,vr),S)}function oy(o,a,d,b,S,k,U){if(null==k)o.removeAttribute(a,S,d);else{const J=null==U?Ut(k):U(k,b||"",S);o.setAttribute(a,S,J,d)}}function ay(o,a,d,b,S,k){const U=k[a];if(null!==U){const J=b.setInput;for(let se=0;se<U.length;){const we=U[se++],Fe=U[se++],Je=U[se++];null!==J?b.setInput(d,Je,we,Fe):d[Fe]=Je}}}function q1(o,a,d){let b=null,S=0;for(;S<d.length;){const k=d[S];if(0!==k)if(5!==k){if("number"==typeof k)break;if(o.hasOwnProperty(k)){null===b&&(b=[]);const U=o[k];for(let J=0;J<U.length;J+=2)if(U[J]===a){b.push(k,U[J+1],d[S+1]);break}}S+=2}else S+=2;else S+=4}return b}function nx(o,a,d,b){return[o,!0,!1,a,null,0,b,d,null,null]}function $m(o,a){const d=vs(a,o);if(lo(d)){const b=d[1];48&d[2]?Qp(b,d,b.template,d[8]):d[5]>0&&Yo(d)}}function Yo(o){for(let b=md(o);null!==b;b=nh(b))for(let S=10;S<b.length;S++){const k=b[S];if(lo(k))if(512&k[2]){const U=k[1];Qp(U,k,U.template,k[8])}else k[5]>0&&Yo(k)}const d=o[1].components;if(null!==d)for(let b=0;b<d.length;b++){const S=vs(d[b],o);lo(S)&&S[5]>0&&Yo(S)}}function Sd(o,a){const d=vs(a,o),b=d[1];(function $1(o,a){for(let d=a.length;d<o.blueprint.length;d++)a.push(o.blueprint[d])})(b,d),bh(b,d,d[8])}function ng(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function ig(o){for(;o;){o[2]|=32;const a=il(o);if(Lo(o)&&!a)return o;o=a}return null}function rg(o,a,d,b=!0){const S=a[10];S.begin&&S.begin();try{Qp(o,a,o.template,d)}catch(U){throw b&&ix(a,U),U}finally{S.end&&S.end()}}function ly(o,a,d){Mo(0),a(o,d)}function sg(o){return o[7]||(o[7]=[])}function Hc(o){return o.cleanup||(o.cleanup=[])}function ix(o,a){const d=o[9],b=d?d.get(mh,null):null;b&&b.handleError(a)}function cy(o,a,d,b,S){for(let k=0;k<d.length;){const U=d[k++],J=d[k++],se=a[U],we=o.data[U];null!==we.setInput?we.setInput(se,S,b,J):se[J]=S}}function Cl(o,a,d){const b=qo(a,o);Pp(o[11],b,d)}function og(o,a,d){let b=d?o.styles:null,S=d?o.classes:null,k=0;if(null!==a)for(let U=0;U<a.length;U++){const J=a[U];"number"==typeof J?k=J:1==k?S=vt(S,J):2==k&&(b=vt(b,J+": "+a[++U]+";"))}d?o.styles=b:o.stylesWithoutHost=b,d?o.classes=S:o.classesWithoutHost=S}function Nf(o,a,d,b,S=!1){for(;null!==d;){const k=a[d.index];if(null!==k&&b.push(Xr(k)),gr(k))for(let J=10;J<k.length;J++){const se=k[J],we=se[1].firstChild;null!==we&&Nf(se[1],se,we,b)}const U=d.type;if(8&U)Nf(o,a,d.child,b);else if(32&U){const J=gd(d,a);let se;for(;se=J();)b.push(se)}else if(16&U){const J=gf(a,d);if(Array.isArray(J))b.push(...J);else{const se=il(a[16]);Nf(se[1],se,J,b,!0)}}d=S?d.projectionNext:d.next}return b}class Lf{get rootNodes(){const a=this._lView,d=a[1];return Nf(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(gr(a)){const d=a[8],b=d?d.indexOf(this):-1;b>-1&&(nu(a,b),G(d,b))}this._attachedToViewContainer=!1}nc(this._lView[1],this._lView)}onDestroy(a){J0(this._lView[1],this._lView,null,a)}markForCheck(){ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new At(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rh(o,a){rl(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new At(902,!1);this._appRef=a}}class X1 extends Lf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;rg(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class uy extends Ul{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=P(a);return new xh(d,this.ngModule)}}function Jm(o){const a=[];for(let d in o)o.hasOwnProperty(d)&&a.push({propName:o[d],templateName:d});return a}class hy{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,b){b=nt(b);const S=this.injector.get(a,Ed,b);return S!==Ed||d===Ed?S:this.parentInjector.get(a,d,b)}}class xh extends oc{get inputs(){return Jm(this.componentDef.inputs)}get outputs(){return Jm(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function R0(o){return o.map(M0).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,b,S){let k=(S=S||this.ngModule)instanceof ir?S:S?.injector;k&&null!==this.componentDef.getStandaloneInjector&&(k=this.componentDef.getStandaloneInjector(k)||k);const U=k?new hy(a,k):a,J=U.get(Vu,null);if(null===J)throw new At(407,!1);const se=U.get(If,null),we=J.createRenderer(null,this.componentDef),Fe=this.componentDef.selectors[0][0]||"div",Je=b?function K0(o,a,d){return o.selectRootElement(a,d===On.ShadowDom)}(we,b,this.componentDef.encapsulation):xa(we,Fe,function dy(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(Fe)),_t=this.componentDef.onPush?288:272,Mt=Qv(0,null,null,1,0,null,null,null,null,null),Xt=jm(null,Mt,null,_t,null,null,J,we,se,U,null);let Ln,ei;Qo(Xt);try{const _i=this.componentDef;let Zi,En=null;_i.findHostDirectiveDefs?(Zi=[],En=new Map,_i.findHostDirectiveDefs(_i,Zi,En),Zi.push(_i)):Zi=[_i];const fr=function J1(o,a){const d=o[1];return o[22]=a,Td(d,22,2,"#host",null)}(Xt,Je),Vs=function ag(o,a,d,b,S,k,U,J){const se=S[1];!function Q1(o,a,d,b){for(const S of o)a.mergedAttrs=Ds(a.mergedAttrs,S.hostAttrs);null!==a.mergedAttrs&&(og(a,a.mergedAttrs,!0),null!==d&&Lc(b,d,a))}(b,o,a,U);const we=k.createRenderer(a,d),Fe=jm(S,Jv(d),null,d.onPush?32:16,S[o.index],o,k,we,J||null,null,null);return se.firstCreatePass&&ry(se,o,b.length-1),ng(S,Fe),S[o.index]=Fe}(fr,Je,_i,Zi,Xt,J,we);ei=bo(Mt,22),Je&&function eE(o,a,d,b){if(b)er(o,d,["ng-version",Wp.full]);else{const{attrs:S,classes:k}=function D1(o){const a=[],d=[];let b=1,S=2;for(;b<o.length;){let k=o[b];if("string"==typeof k)2===S?""!==k&&a.push(k,o[++b]):8===S&&d.push(k);else{if(!uc(S))break;S=k}b++}return{attrs:a,classes:d}}(a.selectors[0]);S&&er(o,d,S),k&&k.length>0&&Gs(o,d,k.join(" "))}}(we,_i,Je,b),void 0!==d&&function tE(o,a,d){const b=o.projection=[];for(let S=0;S<a.length;S++){const k=d[S];b.push(null!=k?Array.from(k):null)}}(ei,this.ngContentSelectors,d),Ln=function lg(o,a,d,b,S,k){const U=zr(),J=S[1],se=Tr(U,S);ny(J,S,U,d,null,b);for(let Fe=0;Fe<d.length;Fe++)po(el(S,J,U.directiveStart+Fe,U),S);tx(J,S,U),se&&po(se,S);const we=el(S,J,U.directiveStart+U.componentOffset,U);if(o[8]=S[8]=we,null!==k)for(const Fe of k)Fe(we,a);return eg(J,U,o),we}(Vs,_i,Zi,En,Xt,[Qm]),bh(Mt,Xt,null)}finally{Ir()}return new fy(this.componentType,Ln,ac(ei,Xt),Xt,ei)}}class fy extends wa{constructor(a,d,b,S,k){super(),this.location=b,this._rootLView=S,this._tNode=k,this.instance=d,this.hostView=this.changeDetectorRef=new X1(S),this.componentType=a}setInput(a,d){const b=this._tNode.inputs;let S;if(null!==b&&(S=b[a])){const k=this._rootLView;cy(k[1],k,S,a,d),ex(k,this._tNode.index)}}get injector(){return new tl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Qm(){const o=zr();zs(qt()[1],o)}function py(o){let a=function e_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const b=[o];for(;a;){let S;if(Or(o))S=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new At(903,!1);S=a.\u0275dir}if(S){if(d){b.push(S);const U=o;U.inputs=t_(o.inputs),U.declaredInputs=t_(o.declaredInputs),U.outputs=t_(o.outputs);const J=S.hostBindings;J&&gy(o,J);const se=S.viewQuery,we=S.contentQueries;if(se&&sx(o,se),we&&n_(o,we),je(o.inputs,S.inputs),je(o.declaredInputs,S.declaredInputs),je(o.outputs,S.outputs),Or(S)&&S.data.animation){const Fe=o.data;Fe.animation=(Fe.animation||[]).concat(S.data.animation)}}const k=S.features;if(k)for(let U=0;U<k.length;U++){const J=k[U];J&&J.ngInherit&&J(o),J===py&&(d=!1)}}a=Object.getPrototypeOf(a)}!function rx(o){let a=0,d=null;for(let b=o.length-1;b>=0;b--){const S=o[b];S.hostVars=a+=S.hostVars,S.hostAttrs=Ds(S.hostAttrs,d=Ds(d,S.hostAttrs))}}(b)}function t_(o){return o===Wi?{}:o===ot?[]:o}function sx(o,a){const d=o.viewQuery;o.viewQuery=d?(b,S)=>{a(b,S),d(b,S)}:a}function n_(o,a){const d=o.contentQueries;o.contentQueries=d?(b,S,k)=>{a(b,S,k),d(b,S,k)}:a}function gy(o,a){const d=o.hostBindings;o.hostBindings=d?(b,S)=>{a(b,S),d(b,S)}:a}function yy(o){return a=>{a.findHostDirectiveDefs=by,a.hostDirectives=(Array.isArray(o)?o:o()).map(d=>"function"==typeof d?{directive:Et(d),inputs:Wi,outputs:Wi}:{directive:Et(d.directive),inputs:ox(d.inputs),outputs:ox(d.outputs)})}}function by(o,a,d){if(null!==o.hostDirectives)for(const b of o.hostDirectives){const S=N(b.directive);ax(S.declaredInputs,b.inputs),by(S,a,d),d.set(S,b),a.push(S)}}function ox(o){if(void 0===o||0===o.length)return Wi;const a={};for(let d=0;d<o.length;d+=2)a[o[d]]=o[d+1];return a}function ax(o,a){for(const d in a)a.hasOwnProperty(d)&&(o[a[d]]=o[d])}let cg=null;function wh(){if(!cg){const o=ni.Symbol;if(o&&o.iterator)cg=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<a.length;++d){const b=a[d];"entries"!==b&&"size"!==b&&Map.prototype[b]===Map.prototype.entries&&(cg=b)}}}return cg}function Ff(o){return!!sa(o)&&(Array.isArray(o)||!(o instanceof Map)&&wh()in o)}function sa(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function dc(o,a,d){return o[a]=d}function Wa(o,a,d){return!Object.is(o[a],d)&&(o[a]=d,!0)}function Eh(o,a,d,b){const S=Wa(o,a,d);return Wa(o,a+1,b)||S}function wy(o,a,d,b){const S=qt();return Wa(S,uo(),a)&&(Ei(),function Tl(o,a,d,b,S,k){const U=Tr(o,a);oy(a[11],U,k,o.value,d,b,S)}(Gr(),S,o,a,d,b)),wy}function ou(o,a,d,b){return Wa(o,uo(),d)?a+Ut(d)+b:vr}function au(o,a,d,b,S,k){const J=Eh(o,Ji(),d,S);return Es(2),J?a+Ut(d)+b+Ut(S)+k:vr}function hx(o,a,d,b,S,k,U,J){const se=qt(),we=Ei(),Fe=o+22,Je=we.firstCreatePass?function iE(o,a,d,b,S,k,U,J,se){const we=a.consts,Fe=Td(a,o,4,U||null,Kr(we,J));qm(a,d,Fe,Kr(we,se)),zs(a,Fe);const Je=Fe.tViews=Qv(2,Fe,b,S,k,a.directiveRegistry,a.pipeRegistry,null,a.schemas,we);return null!==a.queries&&(a.queries.template(a,Fe),Je.queries=a.queries.embeddedTView(Fe)),Fe}(Fe,we,se,a,d,b,S,k,U):we.data[Fe];Is(Je,!1);const _t=se[11].createComment("");ru(we,se,_t,Je),po(_t,se),ng(se,se[Fe]=nx(_t,se,_t,Je)),cs(Je)&&tg(we,se,Je),null!=U&&Kv(se,Je,J)}function Ay(o){return ko(function pl(){return Ii.lFrame.contextLView}(),22+o)}function zf(o,a,d){const b=qt();return Wa(b,uo(),a)&&ol(Ei(),Gr(),b,o,a,b[11],d,!1),zf}function s_(o,a,d,b,S){const U=S?"class":"style";cy(o,d,a.inputs[U],U,b)}function pg(o,a,d,b){const S=qt(),k=Ei(),U=22+o,J=S[11],se=S[U]=xa(J,a,function Za(){return Ii.lFrame.currentNamespace}()),we=k.firstCreatePass?function fg(o,a,d,b,S,k,U){const J=a.consts,we=Td(a,o,2,S,Kr(J,k));return qm(a,d,we,Kr(J,U)),null!==we.attrs&&og(we,we.attrs,!1),null!==we.mergedAttrs&&og(we,we.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,we),we}(U,k,S,0,a,d,b):k.data[U];return Is(we,!0),Lc(J,se,we),32!=(32&we.flags)&&ru(k,S,se,we),0===function pe(){return Ii.lFrame.elementDepthCount}()&&po(se,S),function re(){Ii.lFrame.elementDepthCount++}(),cs(we)&&(tg(k,S,we),eg(k,we,S)),null!==b&&Kv(S,we),pg}function Ta(){let o=zr();fl()?Eo():(o=o.parent,Is(o,!1));const a=o;!function Re(){Ii.lFrame.elementDepthCount--}();const d=Ei();return d.firstCreatePass&&(zs(d,o),ar(o)&&d.queries.elementEnd(o)),null!=a.classesWithoutHost&&function qe(o){return 0!=(8&o.flags)}(a)&&s_(d,a,qt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function kt(o){return 0!=(16&o.flags)}(a)&&s_(d,a,qt(),a.stylesWithoutHost,!1),Ta}function o_(o,a,d,b){return pg(o,a,d,b),Ta(),o_}function Sh(o,a,d){const b=qt(),S=Ei(),k=o+22,U=S.firstCreatePass?function gg(o,a,d,b,S){const k=a.consts,U=Kr(k,b),J=Td(a,o,8,"ng-container",U);return null!==U&&og(J,U,!0),qm(a,d,J,Kr(k,S)),null!==a.queries&&a.queries.elementStart(a,J),J}(k,S,b,a,d):S.data[k];Is(U,!0);const J=b[k]=b[11].createComment("");return ru(S,b,J,U),po(J,b),cs(U)&&(tg(S,b,U),eg(S,U,b)),null!=d&&Kv(b,U),Sh}function mg(){let o=zr();const a=Ei();return fl()?Eo():(o=o.parent,Is(o,!1)),a.firstCreatePass&&(zs(a,o),ar(o)&&a.queries.elementEnd(o)),mg}function Iy(){return qt()}function l_(o){return!!o&&"function"==typeof o.then}function Zf(o){return!!o&&"function"==typeof o.subscribe}const c_=Zf;function _g(o,a,d,b){const S=qt(),k=Ei(),U=zr();return function Gf(o,a,d,b,S,k,U){const J=cs(b),we=o.firstCreatePass&&Hc(o),Fe=a[8],Je=sg(a);let _t=!0;if(3&b.type||U){const Ln=Tr(b,a),ei=U?U(Ln):Ln,_i=Je.length,Zi=U?fr=>U(Xr(fr[b.index])):b.index;let En=null;if(!U&&J&&(En=function d_(o,a,d,b){const S=o.cleanup;if(null!=S)for(let k=0;k<S.length-1;k+=2){const U=S[k];if(U===d&&S[k+1]===b){const J=a[7],se=S[k+2];return J.length>se?J[se]:null}"string"==typeof U&&(k+=2)}return null}(o,a,S,b.index)),null!==En)(En.__ngLastListenerFn__||En).__ngNextListenerFn__=k,En.__ngLastListenerFn__=k,_t=!1;else{k=fx(b,a,Fe,k,!1);const fr=d.listen(ei,S,k);Je.push(k,fr),we&&we.push(S,Zi,_i,_i+1)}}else k=fx(b,a,Fe,k,!1);const Mt=b.outputs;let Xt;if(_t&&null!==Mt&&(Xt=Mt[S])){const Ln=Xt.length;if(Ln)for(let ei=0;ei<Ln;ei+=2){const Vs=a[Xt[ei]][Xt[ei+1]].subscribe(k),ro=Je.length;Je.push(k,Vs),we&&we.push(S,b.index,ro,-(ro+1))}}}(k,S,S[11],U,o,a,b),_g}function Dy(o,a,d,b){try{return!1!==d(b)}catch(S){return ix(o,S),!1}}function fx(o,a,d,b,S){return function k(U){if(U===Function)return b;ig(o.componentOffset>-1?vs(o.index,a):a);let se=Dy(a,0,b,U),we=k.__ngNextListenerFn__;for(;we;)se=Dy(a,0,we,U)&&se,we=we.__ngNextListenerFn__;return S&&!1===se&&(U.preventDefault(),U.returnValue=!1),se}}function h_(o=1){return function Ha(o){return(Ii.lFrame.contextLView=function ql(o,a){for(;o>0;)a=a[15],o--;return a}(o,Ii.lFrame.contextLView))[8]}(o)}function f_(o,a){let d=null;const b=function I1(o){const a=o.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(o);for(let S=0;S<a.length;S++){const k=a[S];if("*"!==k){if(null===b?Bm(o,k,!0):O0(b,k))return S}else d=S}return d}function p_(o){const a=qt()[16][6];if(!a.projection){const b=a.projection=q(o?o.length:1,null),S=b.slice();let k=a.child;for(;null!==k;){const U=o?f_(k,o):0;null!==U&&(S[U]?S[U].projectionNext=k:b[U]=k,S[U]=k),k=k.next}}}function ky(o,a=0,d){const b=qt(),S=Ei(),k=Td(S,22+o,16,null,d||null);null===k.projection&&(k.projection=a),Eo(),32!=(32&k.flags)&&function Nc(o,a,d){vd(a[11],0,a,d,Ll(o,d,a),Vp(d.parent||a[6],d,a))}(S,b,k)}function g_(o,a,d){return vg(o,"",a,"",d),g_}function vg(o,a,d,b,S){const k=qt(),U=ou(k,a,d,b);return U!==vr&&ol(Ei(),Gr(),k,o,U,k[11],S,!1),vg}function Py(o,a,d,b,S,k,U){const J=qt(),se=au(J,a,d,b,S,k);return se!==vr&&ol(Ei(),Gr(),J,o,se,J[11],U,!1),Py}function __(o,a){return o<<17|a<<2}function Zu(o){return o>>17&32767}function Gu(o){return 2|o}function ll(o){return(131068&o)>>2}function qf(o,a){return-131069&o|a<<2}function y_(o){return 1|o}function mx(o,a,d,b,S){const k=o[d+1],U=null===a;let J=b?Zu(k):ll(k),se=!1;for(;0!==J&&(!1===se||U);){const Fe=o[J+1];_x(o[J],a)&&(se=!0,o[J+1]=b?y_(Fe):Gu(Fe)),J=b?Zu(Fe):ll(Fe)}se&&(o[d+1]=b?Gu(k):y_(k))}function _x(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&nn(o,a)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vx(o){return o.substring(oa.key,oa.keyEnd)}function Wf(o,a){const d=oa.textEnd;return d===a?-1:(a=oa.keyEnd=function $f(o,a,d){for(;a<d&&o.charCodeAt(a)>32;)a++;return a}(o,oa.key=a,d),Ah(o,a,d))}function Ah(o,a,d){for(;a<d&&o.charCodeAt(a)<=32;)a++;return a}function b_(o,a,d){return zc(o,a,d,!1),b_}function wg(o,a){return zc(o,a,null,!0),wg}function Ly(o){Zc(Le,lu,o,!0)}function lu(o,a){for(let d=function oE(o){return function Ny(o){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=o.length}(o),Wf(o,Ah(o,0,oa.textEnd))}(a);d>=0;d=Wf(a,d))Le(o,vx(a),!0)}function zc(o,a,d,b){const S=qt(),k=Ei(),U=Es(2);k.firstUpdatePass&&Eg(k,o,U,b),a!==vr&&Wa(S,U,a)&&Sx(k,k.data[Mr()],S,S[11],o,S[U+1]=function Ix(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=tt(H(o)))),o}(a,d),b,U)}function Zc(o,a,d,b){const S=Ei(),k=Es(2);S.firstUpdatePass&&Eg(S,null,k,b);const U=qt();if(d!==vr&&Wa(U,k,d)){const J=S.data[Mr()];if(Vy(J,b)&&!Ex(S,k)){let se=b?J.classesWithoutHost:J.stylesWithoutHost;null!==se&&(d=vt(se,d||"")),s_(S,J,U,d,b)}else!function Cx(o,a,d,b,S,k,U,J){S===vr&&(S=ot);let se=0,we=0,Fe=0<S.length?S[0]:null,Je=0<k.length?k[0]:null;for(;null!==Fe||null!==Je;){const _t=se<S.length?S[se+1]:void 0,Mt=we<k.length?k[we+1]:void 0;let Ln,Xt=null;Fe===Je?(se+=2,we+=2,_t!==Mt&&(Xt=Je,Ln=Mt)):null===Je||null!==Fe&&Fe<Je?(se+=2,Xt=Fe):(we+=2,Xt=Je,Ln=Mt),null!==Xt&&Sx(o,a,d,b,Xt,Ln,U,J),Fe=se<S.length?S[se]:null,Je=we<k.length?k[we]:null}}(S,J,U,U[11],U[k+1],U[k+1]=function cE(o,a,d){if(null==d||""===d)return ot;const b=[],S=H(d);if(Array.isArray(S))for(let k=0;k<S.length;k++)o(b,S[k],!0);else if("object"==typeof S)for(const k in S)S.hasOwnProperty(k)&&o(b,k,S[k]);else"string"==typeof S&&a(b,S);return b}(o,a,d),b,k)}}function Ex(o,a){return a>=o.expandoStartIndex}function Eg(o,a,d,b){const S=o.data;if(null===S[d+1]){const k=S[Mr()],U=Ex(o,d);Vy(k,b)&&null===a&&!U&&(a=!1),a=function Tg(o,a,d,b){const S=function Hs(o){const a=Ii.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let k=b?a.residualClasses:a.residualStyles;if(null===S)0===(b?a.classBindings:a.styleBindings)&&(d=ju(d=Ih(null,o,a,d,b),a.attrs,b),k=null);else{const U=a.directiveStylingLast;if(-1===U||o[U]!==S)if(d=Ih(S,o,a,d,b),null===k){let se=function x_(o,a,d){const b=d?a.classBindings:a.styleBindings;if(0!==ll(b))return o[Zu(b)]}(o,a,b);void 0!==se&&Array.isArray(se)&&(se=Ih(null,o,a,se[1],b),se=ju(se,a.attrs,b),function Fy(o,a,d,b){o[Zu(d?a.classBindings:a.styleBindings)]=b}(o,a,b,se))}else k=function Tx(o,a,d){let b;const S=a.directiveEnd;for(let k=1+a.directiveStylingLast;k<S;k++)b=ju(b,o[k].hostAttrs,d);return ju(b,a.attrs,d)}(o,a,b)}return void 0!==k&&(b?a.residualClasses=k:a.residualStyles=k),d}(S,k,a,b),function bg(o,a,d,b,S,k){let U=k?a.classBindings:a.styleBindings,J=Zu(U),se=ll(U);o[b]=d;let Fe,we=!1;if(Array.isArray(d)?(Fe=d[1],(null===Fe||nn(d,Fe)>0)&&(we=!0)):Fe=d,S)if(0!==se){const _t=Zu(o[J+1]);o[b+1]=__(_t,J),0!==_t&&(o[_t+1]=qf(o[_t+1],b)),o[J+1]=function rE(o,a){return 131071&o|a<<17}(o[J+1],b)}else o[b+1]=__(J,0),0!==J&&(o[J+1]=qf(o[J+1],b)),J=b;else o[b+1]=__(se,0),0===J?J=b:o[se+1]=qf(o[se+1],b),se=b;we&&(o[b+1]=Gu(o[b+1])),mx(o,Fe,b,!0),mx(o,Fe,b,!1),function xg(o,a,d,b,S){const k=S?o.residualClasses:o.residualStyles;null!=k&&"string"==typeof a&&nn(k,a)>=0&&(d[b+1]=y_(d[b+1]))}(a,Fe,o,b,k),U=__(J,se),k?a.classBindings=U:a.styleBindings=U}(S,k,a,d,U,b)}}function Ih(o,a,d,b,S){let k=null;const U=d.directiveEnd;let J=d.directiveStylingLast;for(-1===J?J=d.directiveStart:J++;J<U&&(k=a[J],b=ju(b,k.hostAttrs,S),k!==o);)J++;return null!==o&&(d.directiveStylingLast=J),b}function ju(o,a,d){const b=d?1:2;let S=-1;if(null!==a)for(let k=0;k<a.length;k++){const U=a[k];"number"==typeof U?S=U:S===b&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Le(o,U,!!d||a[++k]))}return void 0===o?null:o}function Sx(o,a,d,b,S,k,U,J){if(!(3&a.type))return;const se=o.data,we=se[J+1],Fe=function v_(o){return 1==(1&o)}(we)?Ax(se,a,d,S,ll(we),U):void 0;w_(Fe)||(w_(k)||function gx(o){return 2==(2&o)}(we)&&(k=Ax(se,null,d,S,J,U)),function yd(o,a,d,b,S){if(a)S?o.addClass(d,b):o.removeClass(d,b);else{let k=-1===b.indexOf("-")?void 0:xl.DashCase;null==S?o.removeStyle(d,b,k):("string"==typeof S&&S.endsWith("!important")&&(S=S.slice(0,-10),k|=xl.Important),o.setStyle(d,b,S,k))}}(b,U,qo(Mr(),d),S,k))}function Ax(o,a,d,b,S,k){const U=null===a;let J;for(;S>0;){const se=o[S],we=Array.isArray(se),Fe=we?se[1]:se,Je=null===Fe;let _t=d[S+1];_t===vr&&(_t=Je?ot:void 0);let Mt=Je?yt(_t,b):Fe===b?_t:void 0;if(we&&!w_(Mt)&&(Mt=yt(se,b)),w_(Mt)&&(J=Mt,U))return J;const Xt=o[S+1];S=U?Zu(Xt):ll(Xt)}if(null!==a){let se=k?a.residualClasses:a.residualStyles;null!=se&&(J=yt(se,b))}return J}function w_(o){return void 0!==o}function Vy(o,a){return 0!=(o.flags&(a?8:16))}function By(o,a=""){const d=qt(),b=Ei(),S=o+22,k=b.firstCreatePass?Td(b,S,1,a,null):b.data[S],U=d[S]=_d(d[11],a);ru(b,d,U,k),Is(k,!1)}function Xf(o){return Cg("",o,""),Xf}function Cg(o,a,d){const b=qt(),S=ou(b,o,a,d);return S!==vr&&Cl(b,Mr(),S),Cg}function pc(o,a,d,b,S){const k=qt(),U=au(k,o,a,d,b,S);return U!==vr&&Cl(k,Mr(),U),pc}function Sg(o,a,d){Zc(Le,lu,ou(qt(),o,a,d),!0)}function Zy(o,a,d,b,S){Zc(Le,lu,au(qt(),o,a,d,b,S),!0)}function ps(o,a,d){const b=qt();return Wa(b,uo(),a)&&ol(Ei(),Gr(),b,o,a,b[11],d,!0),ps}const Yu=void 0;var Hx=["en",[["a","p"],["AM","PM"],Yu],[["AM","PM"],Yu,Yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yu,"{1} 'at' {0}",Yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cu(o){const d=Math.floor(Math.abs(o)),b=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===b?1:5}];let Od={};function kg(o){const a=function I_(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=Hl(a);if(d)return d;const b=a.split("-")[0];if(d=Hl(b),d)return d;if("en"===b)return Hx;throw new At(701,!1)}function uu(o){return kg(o)[Li.PluralCase]}function Hl(o){return o in Od||(Od[o]=ni.ng&&ni.ng.common&&ni.ng.common.locales&&ni.ng.common.locales[o]),Od[o]}var Li=(()=>((Li=Li||{})[Li.LocaleId=0]="LocaleId",Li[Li.DayPeriodsFormat=1]="DayPeriodsFormat",Li[Li.DayPeriodsStandalone=2]="DayPeriodsStandalone",Li[Li.DaysFormat=3]="DaysFormat",Li[Li.DaysStandalone=4]="DaysStandalone",Li[Li.MonthsFormat=5]="MonthsFormat",Li[Li.MonthsStandalone=6]="MonthsStandalone",Li[Li.Eras=7]="Eras",Li[Li.FirstDayOfWeek=8]="FirstDayOfWeek",Li[Li.WeekendRange=9]="WeekendRange",Li[Li.DateFormat=10]="DateFormat",Li[Li.TimeFormat=11]="TimeFormat",Li[Li.DateTimeFormat=12]="DateTimeFormat",Li[Li.NumberSymbols=13]="NumberSymbols",Li[Li.NumberFormats=14]="NumberFormats",Li[Li.CurrencyCode=15]="CurrencyCode",Li[Li.CurrencySymbol=16]="CurrencySymbol",Li[Li.CurrencyName=17]="CurrencyName",Li[Li.Currencies=18]="Currencies",Li[Li.Directionality=19]="Directionality",Li[Li.PluralCase=20]="PluralCase",Li[Li.ExtraData=21]="ExtraData",Li))();const Pg=["zero","one","two","few","many"],Ph="en-US",k_={marker:"element"},P_={marker:"ICU"};var to=(()=>((to=to||{})[to.SHIFT=2]="SHIFT",to[to.APPEND_EAGERLY=1]="APPEND_EAGERLY",to[to.COMMENT=2]="COMMENT",to))();let zx=Ph;function $y(o){(function rn(o,a){null==o&&Dt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(zx=o.toLowerCase().replace(/_/g,"-"))}function Og(o,a,d){const b=a.insertBeforeIndex,S=Array.isArray(b)?b[0]:b;return null===S?Bp(o,0,d):Xr(d[S])}function Zx(o,a,d,b,S){const k=a.insertBeforeIndex;if(Array.isArray(k)){let U=b,J=null;if(3&a.type||(J=U,U=S),null!==U&&-1===a.componentOffset)for(let se=1;se<k.length;se++)ic(o,U,d[k[se]],J,!1)}}function Gx(o,a){if(o.push(a),o.length>1)for(let d=o.length-2;d>=0;d--){const b=o[d];Oh(b)||jx(b,a)&&null===Ca(b)&&Qf(b,a.index)}}function Oh(o){return!(64&o.type)}function jx(o,a){return Oh(a)||o.index>a.index}function Ca(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Qf(o,a){const d=o.insertBeforeIndex;Array.isArray(d)?d[0]=a:(Fl(Og,Zx),o.insertBeforeIndex=a)}function mc(o,a){const d=o.data[a];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function kn(o,a,d){const b=Xv(o,d,64,null,null);return Gx(a,b),b}function no(o,a){const d=a[o.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function zl(o){return o>>>17}function O_(o){return(131070&o)>>>1}let Mg=0,Kn=0;function Ky(o,a,d,b){const S=d[11];let U,k=null;for(let J=0;J<a.length;J++){const se=a[J];if("string"==typeof se){const we=a[++J];null===d[we]&&(d[we]=_d(S,se))}else if("number"==typeof se)switch(1&se){case 0:const we=zl(se);let Fe,Je;if(null===k&&(k=we,U=Rc(S,b)),we===k?(Fe=b,Je=U):(Fe=null,Je=Xr(d[we])),null!==Je){const Ln=O_(se);ic(S,Je,d[Ln],Fe,!1);const _i=mc(o,Ln);if(null!==_i&&"object"==typeof _i){const Zi=no(_i,d);null!==Zi&&Ky(o,_i.create[Zi],d,d[_i.anchorIdx])}}break;case 1:const Mt=a[++J],Xt=a[++J];oy(S,qo(se>>>1,d),null,null,Mt,Xt,null)}else switch(se){case P_:const we=a[++J],Fe=a[++J];null===d[Fe]&&po(d[Fe]=uf(S,we),d);break;case k_:const Je=a[++J],_t=a[++J];null===d[_t]&&po(d[_t]=xa(S,Je,null),d)}}}function Yx(o,a,d,b,S){for(let k=0;k<d.length;k++){const U=d[k],J=d[++k];if(U&S){let se="";for(let we=k+1;we<=k+J;we++){const Fe=d[we];if("string"==typeof Fe)se+=Fe;else if("number"==typeof Fe)if(Fe<0)se+=Ut(a[b-Fe]);else{const Je=Fe>>>2;switch(3&Fe){case 1:const _t=d[++we],Mt=d[++we],Xt=o.data[Je];"string"==typeof Xt?oy(a[11],a[Je],null,Xt,_t,se,Mt):ol(o,Xt,a,_t,se,a[11],Mt,!1);break;case 0:const Ln=a[Je];null!==Ln&&Pp(a[11],Ln,se);break;case 2:pE(o,mc(o,Je),a,se);break;case 3:qx(o,mc(o,Je),b,a)}}}}else{const se=d[k+1];if(se>0&&3==(3&se)){const Fe=mc(o,se>>>2);a[Fe.currentCaseLViewIndex]<0&&qx(o,Fe,b,a)}}k+=J}}function qx(o,a,d,b){let S=b[a.currentCaseLViewIndex];if(null!==S){let k=Mg;S<0&&(S=b[a.currentCaseLViewIndex]=~S,k=-1),Yx(o,b,a.update[S],d,k)}}function pE(o,a,d,b){const S=function gE(o,a){let d=o.cases.indexOf(a);if(-1===d)switch(o.type){case 1:{const b=function D_(o,a){const d=uu(a)(parseInt(o,10)),b=Pg[d];return void 0!==b?b:"other"}(a,function hE(){return zx}());d=o.cases.indexOf(b),-1===d&&"other"!==b&&(d=o.cases.indexOf("other"));break}case 0:d=o.cases.indexOf("other")}return-1===d?null:d}(a,b);if(no(a,d)!==S&&(Wx(o,a,d),d[a.currentCaseLViewIndex]=null===S?null:~S,null!==S)){const U=d[a.anchorIdx];U&&Ky(o,a.create[S],d,U)}}function Wx(o,a,d){let b=no(a,d);if(null!==b){const S=a.remove[b];for(let k=0;k<S.length;k++){const U=S[k];if(U>0){const J=qo(U,d);null!==J&&sh(d[11],J)}else Wx(o,mc(o,~U),d)}}}function $x(){const o=[];let d,b,a=-1;function k(J,se){a=0;const we=no(J,se);b=null!==we?J.remove[we]:ot}function U(){if(a<b.length){const J=b[a++];return J>0?d[J]:(o.push(a,b),k(d[1].data[~J],d),U())}return 0===o.length?null:(b=o.pop(),a=o.pop(),U())}return function S(J,se){for(d=se;o.length;)o.pop();return k(J.value,se),U}}const qu=/\ufffd(\d+):?\d*\ufffd/gi,io=/\ufffd(\d+)\ufffd/,Ci=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Jr=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,_E=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,So=/\uE500/g;function Md(o,a,d,b,S,k,U){const J=Oa(o,b,1,null);let se=J<<to.SHIFT,we=pa();a===we&&(we=null),null===we&&(se|=to.APPEND_EAGERLY),U&&(se|=to.COMMENT,function Tm(o){void 0===cf&&(cf=o())}($x)),S.push(se,null===k?"":k);const Fe=Xv(o,J,U?32:1,null===k?"":k,null);Gx(d,Fe);const Je=Fe.index;return Is(Fe,!1),null!==we&&a!==we&&function fE(o,a){let d=o.insertBeforeIndex;null===d?(Fl(Og,Zx),d=o.insertBeforeIndex=[null,a]):(function Bn(o,a,d){o!=a&&Dt(d,o,a,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(a))}(we,Je),Fe}function vE(o,a,d,b,S,k,U){const J=U.match(qu),se=Md(o,a,d,k,b,J?null:U,!1);J&&Rg(S,U,se.index,null,0,null)}function Rg(o,a,d,b,S,k){const U=o.length,J=U+1;o.push(null,null);const se=U+2,we=a.split(qu);let Fe=0;for(let Je=0;Je<we.length;Je++){const _t=we[Je];if(1&Je){const Mt=S+parseInt(_t,10);o.push(-1-Mt),Fe|=eb(Mt)}else""!==_t&&o.push(_t)}return o.push(d<<2|(b?1:0)),b&&o.push(b,k),o[U]=Fe,o[J]=o.length-se,Fe}function eb(o){return 1<<Math.min(o,31)}function Al(o){let a,k,d="",b=0,S=!1;for(;null!==(a=Jr.exec(o));)S?a[0]===`\ufffd/*${k}\ufffd`&&(b=a.index,S=!1):(d+=o.substring(b,a.index+a[0].length),k=a[1],S=!0);return d+=o.slice(b),d}function nb(o,a,d,b,S,k){let U=0;const J={type:S.type,currentCaseLViewIndex:Oa(o,a,1,null),anchorIdx:k,cases:[],create:[],remove:[],update:[]};(function yE(o,a,d){o.push(eb(a.mainBinding),2,-1-a.mainBinding,d<<2|2)})(d,S,k),function Xy(o,a,d){const b=o.data[a];null===b?o.data[a]=d:b.value=d}(o,k,J);const se=S.values;for(let we=0;we<se.length;we++){const Fe=se[we],Je=[];for(let _t=0;_t<Fe.length;_t++){const Mt=Fe[_t];if("string"!=typeof Mt){const Xt=Je.push(Mt)-1;Fe[_t]=`\x3c!--\ufffd${Xt}\ufffd--\x3e`}}U=ib(o,J,a,d,b,S.cases[we],Fe.join(""),Je)|U}U&&function Fg(o,a,d){o.push(a,1,d<<2|3)}(d,U,k)}function Jx(o){const a=[],d=[];let b=1,S=0;const k=du(o=o.replace(Ci,function(U,J,se){return b="select"===se?0:1,S=parseInt(J.slice(1),10),""}));for(let U=0;U<k.length;){let J=k[U++].trim();1===b&&(J=J.replace(/\s*(?:=)?(\w+)\s*/,"$1")),J.length&&a.push(J);const se=du(k[U++]);a.length>d.length&&d.push(se)}return{type:b,mainBinding:S,cases:a,values:d}}function du(o){if(!o)return[];let a=0;const d=[],b=[],S=/[{}]/g;let k;for(S.lastIndex=0;k=S.exec(o);){const J=k.index;if("}"==k[0]){if(d.pop(),0==d.length){const se=o.substring(a,J);Ci.test(se)?b.push(Jx(se)):b.push(se),a=J+1}}else{if(0==d.length){const se=o.substring(a,J);b.push(se),a=J+1}d.push("{")}}const U=o.substring(a);return b.push(U),b}function ib(o,a,d,b,S,k,U,J){const se=[],we=[],Fe=[];a.cases.push(k),a.create.push(se),a.remove.push(we),a.update.push(Fe);const _t=Ri(fs()).getInertBodyElement(U),Mt=Mm(_t)||_t;return Mt?Bt(o,a,d,b,se,we,Fe,Mt,S,J,0):0}function Bt(o,a,d,b,S,k,U,J,se,we,Fe){let Je=0,_t=J.firstChild;for(;_t;){const Mt=Oa(o,d,1,null);switch(_t.nodeType){case Node.ELEMENT_NODE:const Xt=_t,Ln=Xt.tagName.toLowerCase();if(zp.hasOwnProperty(Ln)){hu(S,k_,Ln,se,Mt),o.data[Mt]=Ln;const En=Xt.attributes;for(let fr=0;fr<En.length;fr++){const Vs=En.item(fr),ro=Vs.name.toLowerCase();Vs.value.match(qu)?km.hasOwnProperty(ro)&&Rg(U,Vs.value,Mt,Vs.name,0,Zp[ro]?sl:null):bE(S,Mt,Vs)}Je=Bt(o,a,d,b,S,k,U,_t,Mt,we,Fe+1)|Je,Lg(k,Mt,Fe)}break;case Node.TEXT_NODE:const ei=_t.textContent||"",_i=ei.match(qu);hu(S,null,_i?"":ei,se,Mt),Lg(k,Mt,Fe),_i&&(Je=Rg(U,ei,Mt,null,0,null)|Je);break;case Node.COMMENT_NODE:const Zi=io.exec(_t.textContent||"");if(Zi){const fr=we[parseInt(Zi[1],10)];hu(S,P_,"",se,Mt),nb(o,d,b,se,fr,Mt),Gc(k,Mt,Fe)}}_t=_t.nextSibling}return Je}function Lg(o,a,d){0===d&&o.push(a)}function Gc(o,a,d){0===d&&(o.push(~a),o.push(a))}function hu(o,a,d,b,S){null!==a&&o.push(a),o.push(d,S,function Ti(o,a,d){return o|a<<17|d<<1}(0,b,S))}function bE(o,a,d){o.push(a<<1|1,d.name,d.value)}function Ma(o,a,d=-1){const b=Ei(),S=qt(),k=22+o,U=Kr(b.consts,a),J=pa();b.firstCreatePass&&function Qy(o,a,d,b,S,k){const U=pa(),J=[],se=[],we=[[]];S=function tb(o,a){if(function Kx(o){return-1===o}(a))return Al(o);{const d=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,b=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return Al(o.substring(d,b))}}(S,k);const Fe=function Jn(o){return o.replace(So," ")}(S).split(_E);for(let Je=0;Je<Fe.length;Je++){let _t=Fe[Je];if(1&Je){const Mt=47===_t.charCodeAt(0),Ln=(_t.charCodeAt(Mt?1:0),22+Number.parseInt(_t.substring(Mt?2:1)));if(Mt)we.shift(),Is(pa(),!1);else{const ei=kn(o,we[0],Ln);we.unshift([]),Is(ei,!0)}}else{const Mt=du(_t);for(let Xt=0;Xt<Mt.length;Xt++){let Ln=Mt[Xt];if(1&Xt){const ei=Ln;if("object"!=typeof ei)throw new Error(`Unable to parse ICU expression in "${S}" message.`);nb(o,d,se,a,ei,Md(o,U,we[0],d,J,"",!0).index)}else""!==Ln&&vE(o,U,we[0],J,se,d,Ln)}}}o.data[b]={create:J,update:se}}(b,null===J?0:J.index,S,k,U,d);const se=b.data[k],Fe=pf(b,J===S[6]?null:J,S);(function aa(o,a,d,b){const S=o[11];for(let k=0;k<a.length;k++){const U=a[k++],J=a[k],we=(U&to.APPEND_EAGERLY)===to.APPEND_EAGERLY,Fe=U>>>to.SHIFT;let Je=o[Fe];null===Je&&(Je=o[Fe]=(U&to.COMMENT)===to.COMMENT?S.createComment(J):_d(S,J)),we&&null!==d&&ic(S,d,Je,b,!1)}})(S,se.create,Fe,J&&8&J.type?S[J.index]:null),xn(!0)}function sb(o,a,d){Ma(o,a,d),function tw(){xn(!1)}()}function R_(o){return function Wt(o){o&&(Mg|=1<<Math.min(Kn,31)),Kn++}(Wa(qt(),uo(),o)),R_}function Ug(o){!function bn(o,a,d){if(Kn>0){const b=o.data[d];Yx(o,a,Array.isArray(b)?b:b.update,Ji()-Kn-1,Mg)}Mg=0,Kn=0}(Ei(),qt(),o+22)}function ob(o,a,d,b,S){if(o=Et(o),Array.isArray(o))for(let k=0;k<o.length;k++)ob(o[k],a,d,b,S);else{const k=Ei(),U=qt();let J=qn(o)?o:Et(o.provide),se=Ms(o);const we=zr(),Fe=1048575&we.providerIndexes,Je=we.directiveStart,_t=we.providerIndexes>>20;if(qn(o)||!o.multi){const Mt=new wt(se,S,Rf),Xt=lb(J,a,S?Fe:Fe+_t,Je);-1===Xt?(as(Xn(we,U),k,J),ab(k,o,a.length),a.push(J),we.directiveStart++,we.directiveEnd++,S&&(we.providerIndexes+=1048576),d.push(Mt),U.push(Mt)):(d[Xt]=Mt,U[Xt]=Mt)}else{const Mt=lb(J,a,Fe+_t,Je),Xt=lb(J,a,Fe,Fe+_t),ei=Xt>=0&&d[Xt];if(S&&!ei||!S&&!(Mt>=0&&d[Mt])){as(Xn(we,U),k,J);const _i=function SE(o,a,d,b,S){const k=new wt(o,d,Rf);return k.multi=[],k.index=a,k.componentProviders=0,iw(k,S,b&&!d),k}(S?CE:TE,d.length,S,b,se);!S&&ei&&(d[Xt].providerFactory=_i),ab(k,o,a.length,0),a.push(J),we.directiveStart++,we.directiveEnd++,S&&(we.providerIndexes+=1048576),d.push(_i),U.push(_i)}else ab(k,o,Mt>-1?Mt:Xt,iw(d[S?Xt:Mt],se,!S&&b));!S&&b&&ei&&d[Xt].componentProviders++}}}function ab(o,a,d,b){const S=qn(a),k=function Nn(o){return!!o.useClass}(a);if(S||k){const se=(k?Et(a.useClass):a).prototype.ngOnDestroy;if(se){const we=o.destroyHooks||(o.destroyHooks=[]);if(!S&&a.multi){const Fe=we.indexOf(d);-1===Fe?we.push(d,[b,se]):we[Fe+1].push(b,se)}else we.push(d,se)}}}function iw(o,a,d){return d&&o.componentProviders++,o.multi.push(a)-1}function lb(o,a,d,b){for(let S=d;S<b;S++)if(a[S]===o)return S;return-1}function TE(o,a,d,b){return cb(this.multi,[])}function CE(o,a,d,b){const S=this.multi;let k;if(this.providerFactory){const U=this.providerFactory.componentProviders,J=el(d,d[1],this.providerFactory.index,b);k=J.slice(0,U),cb(S,k);for(let se=U;se<J.length;se++)k.push(J[se])}else k=[],cb(S,k);return k}function cb(o,a){for(let d=0;d<o.length;d++)a.push((0,o[d])());return a}function rw(o,a=[]){return d=>{d.providersResolver=(b,S)=>function EE(o,a,d){const b=Ei();if(b.firstCreatePass){const S=Or(o);ob(d,b.data,b.blueprint,S,!0),ob(a,b.data,b.blueprint,S,!1)}}(b,S?S(o):o,a)}}class ep{}class sw{}function AE(o,a){return new ow(o,a??null)}class ow extends ep{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uy(this);const b=X(a);this._bootstrapComponents=cc(b.bootstrap),this._r3Injector=U0(a,d,[{provide:ep,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],tt(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class N_ extends sw{constructor(a){super(),this.moduleType=a}create(a){return new ow(this.moduleType,a)}}class IE extends ep{constructor(a,d,b){super(),this.componentFactoryResolver=new uy(this),this.instance=null;const S=new Os([...a,{provide:ep,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],d||Sr(),b,new Set(["environment"]));this.injector=S,S.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function L_(o,a,d=null){return new IE(o,a,d).injector}let aw=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const b=g(0,d.type),S=b.length>0?L_([b],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,S)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Vn({token:o,providedIn:"environment",factory:()=>new o(gi(ir))}),o})();function lw(o){o.getStandaloneInjector=a=>a.get(aw).getOrCreateStandaloneInjector(o)}function pu(o,a,d,b){return tp(qt(),us(),o,a,d,b)}function Zg(o,a,d,b,S){return Xu(qt(),us(),o,a,d,b,S)}function Gg(o,a,d,b,S,k){return function fb(o,a,d,b,S,k,U,J){const se=a+d;return function dg(o,a,d,b,S){const k=Eh(o,a,d,b);return Wa(o,a+2,S)||k}(o,se,S,k,U)?dc(o,se+3,J?b.call(J,S,k,U):b(S,k,U)):Il(o,se+3)}(qt(),us(),o,a,d,b,S,k)}function Il(o,a){const d=o[a];return d===vr?void 0:d}function tp(o,a,d,b,S,k){const U=a+d;return Wa(o,U,S)?dc(o,U+1,k?b.call(k,S):b(S)):Il(o,U+1)}function Xu(o,a,d,b,S,k,U){const J=a+d;return Eh(o,J,S,k)?dc(o,J+2,U?b.call(U,S,k):b(S,k)):Il(o,J+2)}function Yg(o,a){const d=Ei();let b;const S=o+22;d.firstCreatePass?(b=function Rh(o,a){if(a)for(let d=a.length-1;d>=0;d--){const b=a[d];if(o===b.name)return b}}(a,d.pipeRegistry),d.data[S]=b,b.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(S,b.onDestroy)):b=d.data[S];const k=b.factory||(b.factory=wn(b.type)),U=Oi(Rf);try{const J=K(!1),se=k();return K(J),function Ch(o,a,d,b){d>=o.data.length&&(o.data[d]=null,o.blueprint[d]=null),a[d]=b}(d,qt(),S,se),se}finally{Oi(U)}}function np(o,a,d){const b=o+22,S=qt(),k=ko(S,b);return ip(S,b)?tp(S,us(),a,k.transform,d,k):k.transform(d)}function pb(o,a,d,b){const S=o+22,k=qt(),U=ko(k,S);return ip(k,S)?Xu(k,us(),a,U.transform,d,b,U):U.transform(d,b)}function ip(o,a){return o[1].data[a].pure}function gb(o){return a=>{setTimeout(o,void 0,a)}}const jc=class OE extends f.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,b){let S=a,k=d||(()=>null),U=b;if(a&&"object"==typeof a){const se=a;S=se.next?.bind(se),k=se.error?.bind(se),U=se.complete?.bind(se)}this.__isAsync&&(k=gb(k),S&&(S=gb(S)),U&&(U=gb(U)));const J=super.subscribe({next:S,error:k,complete:U});return a instanceof v.w0&&a.add(J),J}};function hw(){return this._results[wh()]()}class ca{get changes(){return this._changes||(this._changes=new jc)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=wh(),b=ca.prototype;b[d]||(b[d]=hw)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const b=this;b.dirty=!1;const S=function ea(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function sd(o,a,d){if(o.length!==a.length)return!1;for(let b=0;b<o.length;b++){let S=o[b],k=a[b];if(d&&(S=d(S),k=d(k)),k!==S)return!1}return!0}(b._results,S,d))&&(b._results=S,b.length=S.length,b.last=S[this.length-1],b.first=S[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rp=(()=>{class o{}return o.__NG_ELEMENT_ID__=fw,o})();const Ks=rp,Bd=class extends Ks{constructor(a,d,b){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=b}createEmbeddedView(a,d){const b=this._declarationTContainer.tViews,S=jm(this._declarationLView,b,a,16,null,b.declTNode,null,null,null,null,d||null);S[17]=this._declarationLView[this._declarationTContainer.index];const U=this._declarationLView[19];return null!==U&&(S[19]=U.createEmbeddedView(b)),bh(b,S,a),new Lf(S)}};function fw(){return Wg(zr(),qt())}function Wg(o,a){return 4&o.type?new Bd(a,o,ac(o,a)):null}let Ku=(()=>{class o{}return o.__NG_ELEMENT_ID__=ME,o})();function ME(){return H_(zr(),qt())}const pw=Ku,Vr=class extends pw{constructor(a,d,b){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=b}get element(){return ac(this._hostTNode,this._hostLView)}get injector(){return new tl(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ws(this._hostTNode,this._hostLView);if(Bo(a)){const d=T(a,this._hostLView),b=Nr(a);return new tl(d[1].data[b+8],d)}return new tl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=ys(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,d,b){let S,k;"number"==typeof b?S=b:null!=b&&(S=b.index,k=b.injector);const U=a.createEmbeddedView(d||{},k);return this.insert(U,S),U}createComponent(a,d,b,S,k){const U=a&&!function Xl(o){return"function"==typeof o}(a);let J;if(U)J=d;else{const Je=d||{};J=Je.index,b=Je.injector,S=Je.projectableNodes,k=Je.environmentInjector||Je.ngModuleRef}const se=U?a:new xh(P(a)),we=b||this.parentInjector;if(!k&&null==se.ngModule){const _t=(U?we:this.parentInjector).get(ir,null);_t&&(k=_t)}const Fe=se.create(we,S,void 0,k);return this.insert(Fe.hostView,J),Fe}insert(a,d){const b=a._lView,S=b[1];if(function Wo(o){return gr(o[3])}(b)){const Fe=this.indexOf(a);if(-1!==Fe)this.detach(Fe);else{const Je=b[3],_t=new Vr(Je,Je[6],Je[3]);_t.detach(_t.indexOf(a))}}const k=this._adjustIndex(d),U=this._lContainer;!function Mp(o,a,d,b){const S=10+b,k=d.length;b>0&&(d[S-1][4]=a),b<k-10?(a[4]=d[S],bu(d,10+b,a)):(d.push(a),a[4]=null),a[3]=d;const U=a[17];null!==U&&d!==U&&function hf(o,a){const d=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===d?o[9]=[a]:d.push(a)}(U,a);const J=a[19];null!==J&&J.insertView(o),a[2]|=64}(S,b,U,k);const J=Ou(k,U),se=b[11],we=Rc(se,U[7]);return null!==we&&function Op(o,a,d,b,S,k){b[0]=S,b[6]=a,rl(o,b,d,1,S,k)}(S,U[6],se,b,we,J),a.attachToViewContainerRef(),bu(Ud(U),k,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=ys(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),b=nu(this._lContainer,d);b&&(G(Ud(this._lContainer),d),nc(b[1],b))}detach(a){const d=this._adjustIndex(a,-1),b=nu(this._lContainer,d);return b&&null!=G(Ud(this._lContainer),d)?new Lf(b):null}_adjustIndex(a,d=0){return a??this.length+d}};function ys(o){return o[8]}function Ud(o){return o[8]||(o[8]=[])}function H_(o,a){let d;const b=a[o.index];if(gr(b))d=b;else{let S;if(8&o.type)S=Xr(b);else{const k=a[11];S=k.createComment("");const U=Tr(o,a);ic(k,Rc(k,U),S,function Am(o,a){return o.nextSibling(a)}(k,U),!1)}a[o.index]=d=nx(b,a,S,o),ng(a,d)}return new Vr(d,o,a)}class $g{constructor(a){this.queryList=a,this.matches=null}clone(){return new $g(this.queryList)}setDirty(){this.queryList.setDirty()}}class z_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const b=null!==a.contentQueries?a.contentQueries[0]:d.length,S=[];for(let k=0;k<b;k++){const U=d.getByIndex(k);S.push(this.queries[U.indexInDeclarationView].clone())}return new z_(S)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==Xg(a,d).matches&&this.queries[d].setDirty()}}class Z_{constructor(a,d,b=null){this.predicate=a,this.flags=d,this.read=b}}class G_{constructor(a=[]){this.queries=a}elementStart(a,d){for(let b=0;b<this.queries.length;b++)this.queries[b].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let b=0;b<this.length;b++){const S=null!==d?d.length:0,k=this.getByIndex(b).embeddedTView(a,S);k&&(k.indexInDeclarationView=b,null!==d?d.push(k):d=[k])}return null!==d?new G_(d):null}template(a,d){for(let b=0;b<this.queries.length;b++)this.queries[b].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class j_{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new j_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let b=a.parent;for(;null!==b&&8&b.type&&b.index!==d;)b=b.parent;return d===(null!==b?b.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const b=this.metadata.predicate;if(Array.isArray(b))for(let S=0;S<b.length;S++){const k=b[S];this.matchTNodeWithReadOption(a,d,gw(d,k)),this.matchTNodeWithReadOption(a,d,zo(d,a,k,!1,!1))}else b===rp?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,zo(d,a,b,!1,!1))}matchTNodeWithReadOption(a,d,b){if(null!==b){const S=this.metadata.read;if(null!==S)if(S===Vc||S===Ku||S===rp&&4&d.type)this.addMatch(d.index,-2);else{const k=zo(d,a,S,!1,!1);null!==k&&this.addMatch(d.index,k)}else this.addMatch(d.index,b)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function gw(o,a){const d=o.localNames;if(null!==d)for(let b=0;b<d.length;b+=2)if(d[b]===a)return d[b+1];return null}function NE(o,a,d,b){return-1===d?function RE(o,a){return 11&o.type?ac(o,a):4&o.type?Wg(o,a):null}(a,o):-2===d?function LE(o,a,d){return d===Vc?ac(a,o):d===rp?Wg(a,o):d===Ku?H_(a,o):void 0}(o,a,b):el(o,o[1],d,a)}function mb(o,a,d,b){const S=a[19].queries[b];if(null===S.matches){const k=o.data,U=d.matches,J=[];for(let se=0;se<U.length;se+=2){const we=U[se];J.push(we<0?null:NE(a,k[we],U[se+1],d.metadata.read))}S.matches=J}return S.matches}function _b(o,a,d,b){const S=o.queries.getByIndex(d),k=S.matches;if(null!==k){const U=mb(o,a,S,d);for(let J=0;J<k.length;J+=2){const se=k[J];if(se>0)b.push(U[J/2]);else{const we=k[J+1],Fe=a[-se];for(let Je=10;Je<Fe.length;Je++){const _t=Fe[Je];_t[17]===_t[3]&&_b(_t[1],_t,we,b)}if(null!==Fe[9]){const Je=Fe[9];for(let _t=0;_t<Je.length;_t++){const Mt=Je[_t];_b(Mt[1],Mt,we,b)}}}}}return b}function vb(o){const a=qt(),d=Ei(),b=Fa();Mo(b+1);const S=Xg(d,b);if(o.dirty&&function Po(o){return 4==(4&o[2])}(a)===(2==(2&S.metadata.flags))){if(null===S.matches)o.reset([]);else{const k=S.crossesNgTemplate?_b(d,a,b,[]):mb(d,a,S,b);o.reset(k,Af),o.notifyOnChanges()}return!0}return!1}function mw(o,a,d){const b=Ei();b.firstCreatePass&&(sp(b,new Z_(o,a,d),-1),2==(2&a)&&(b.staticViewQueries=!0)),Hd(b,qt(),a)}function _w(o,a,d,b){const S=Ei();if(S.firstCreatePass){const k=zr();sp(S,new Z_(a,d,b),k.index),function Y_(o,a){const d=o.contentQueries||(o.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,a)}(S,o),2==(2&d)&&(S.staticContentQueries=!0)}Hd(S,qt(),d)}function vw(){return function yb(o,a){return o[19].queries[a].queryList}(qt(),Fa())}function Hd(o,a,d){const b=new ca(4==(4&d));J0(o,a,b,b.destroy),null===a[19]&&(a[19]=new z_),a[19].queries.push(new $g(b))}function sp(o,a,d){null===o.queries&&(o.queries=new G_),o.queries.track(new j_(a,d))}function Xg(o,a){return o.queries.getByIndex(a)}function bb(o,a){return Wg(o,a)}const HE=nl("Input",o=>({bindingPropertyName:o})),im=nl("Output",o=>({bindingPropertyName:o}));function vc(...o){}const Lb=new ts("Application Initializer");let sm=(()=>{class o{constructor(d){this.appInits=d,this.resolve=vc,this.reject=vc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,S)=>{this.resolve=b,this.reject=S})}runInitializers(){if(this.initialized)return;const d=[],b=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let S=0;S<this.appInits.length;S++){const k=this.appInits[S]();if(l_(k))d.push(k);else if(c_(k)){const U=new Promise((J,se)=>{k.subscribe({complete:J,error:se})});d.push(U)}}Promise.all(d).then(()=>{b()}).catch(S=>{this.reject(S)}),0===d.length&&b(),this.initialized=!0}}return o.\u0275fac=function(d){return new(d||o)(gi(Lb,8))},o.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Vh=new ts("AppId",{providedIn:"root",factory:function X_(){return`${om()}${om()}${om()}`}});function om(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const K_=new ts("Platform Initializer"),GE=new ts("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iw=new ts("appBootstrapListener");let Dw=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const up=new ts("LocaleId",{providedIn:"root",factory:()=>Yt(up,Un.Optional|Un.SkipSelf)||function kw(){return typeof $localize<"u"&&$localize.locale||Ph}()}),J_=new ts("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Pw{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let Fb=(()=>{class o{compileModuleSync(d){return new N_(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const b=this.compileModuleSync(d),k=cc(X(d).declarations).reduce((U,J)=>{const se=P(J);return se&&U.push(new xh(se)),U},[]);return new Pw(b,k)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const WE=(()=>Promise.resolve(0))();function ev(o){typeof Zone>"u"?WE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class bc{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:b=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jc(!1),this.onMicrotaskEmpty=new jc(!1),this.onStable=new jc(!1),this.onError=new jc(!1),typeof Zone>"u")throw new At(908,!1);Zone.assertZonePatched();const S=this;S._nesting=0,S._outer=S._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!b&&d,S.shouldCoalesceRunChangeDetection=b,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function Ow(){let o=ni.requestAnimationFrame,a=ni.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d);const b=a[Zone.__symbol__("OriginalDelegate")];b&&(a=b)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function dp(o){const a=()=>{!function Ub(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(ni,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,tv(o),o.isCheckStableRunning=!0,Bb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),tv(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,b,S,k,U,J)=>{try{return Mw(o),d.invokeTask(S,k,U,J)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===k.type||o.shouldCoalesceRunChangeDetection)&&a(),Io(o)}},onInvoke:(d,b,S,k,U,J,se)=>{try{return Mw(o),d.invoke(S,k,U,J,se)}finally{o.shouldCoalesceRunChangeDetection&&a(),Io(o)}},onHasTask:(d,b,S,k)=>{d.hasTask(S,k),b===S&&("microTask"==k.change?(o._hasPendingMicrotasks=k.microTask,tv(o),Bb(o)):"macroTask"==k.change&&(o.hasPendingMacrotasks=k.macroTask))},onHandleError:(d,b,S,k)=>(d.handleError(S,k),o.runOutsideAngular(()=>o.onError.emit(k)),!1)})}(S)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bc.isInAngularZone())throw new At(909,!1)}static assertNotInAngularZone(){if(bc.isInAngularZone())throw new At(909,!1)}run(a,d,b){return this._inner.run(a,d,b)}runTask(a,d,b,S){const k=this._inner,U=k.scheduleEventTask("NgZoneEvent: "+S,a,$E,vc,vc);try{return k.runTask(U,d,b)}finally{k.cancelTask(U)}}runGuarded(a,d,b){return this._inner.runGuarded(a,d,b)}runOutsideAngular(a){return this._outer.run(a)}}const $E={};function Bb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function tv(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Mw(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Io(o){o._nesting--,Bb(o)}class Hb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jc,this.onMicrotaskEmpty=new jc,this.onStable=new jc,this.onError=new jc}run(a,d,b){return a.apply(d,b)}runGuarded(a,d,b){return a.apply(d,b)}runOutsideAngular(a){return a()}runTask(a,d,b,S){return a.apply(d,b)}}const zb=new ts(""),hp=new ts("");let Bh,gu=(()=>{class o{constructor(d,b,S){this._ngZone=d,this.registry=b,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bh||(function Rw(o){Bh=o}(S),S.addToWindow(b)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bc.assertNotInAngularZone(),ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ev(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(d)||(clearTimeout(b.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,b,S){let k=-1;b&&b>0&&(k=setTimeout(()=>{this._callbacks=this._callbacks.filter(U=>U.timeoutId!==k),d(this._didWork,this.getPendingTasks())},b)),this._callbacks.push({doneCb:d,timeoutId:k,updateCb:S})}whenStable(d,b,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,b,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,b,S){return[]}}return o.\u0275fac=function(d){return new(d||o)(gi(bc),gi(nv),gi(hp))},o.\u0275prov=Vn({token:o,factory:o.\u0275fac}),o})(),nv=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,b){this._applications.set(d,b)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,b=!0){return Bh?.findTestabilityInTree(this,d,b)??null}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ju=null;const Zb=new ts("AllowMultipleToken"),iv=new ts("PlatformDestroyListeners");class KE{constructor(a,d){this.name=a,this.token=d}}function qb(o,a,d=[]){const b=`Platform: ${a}`,S=new ts(b);return(k=[])=>{let U=mu();if(!U||U.injector.get(Zb,!1)){const J=[...d,...k,{provide:S,useValue:!0}];o?o(J):function Nw(o){if(Ju&&!Ju.get(Zb,!1))throw new At(400,!1);Ju=o;const a=o.get(Uh);(function Yb(o){const a=o.get(K_,null);a&&a.forEach(d=>d())})(o)}(function Lw(o=[],a){return vh.create({name:a,providers:[{provide:Wn,useValue:"platform"},{provide:iv,useValue:new Set([()=>Ju=null])},...o]})}(J,b))}return function JE(o){const a=mu();if(!a)throw new At(401,!1);return a}()}}function mu(){return Ju?.get(Uh)??null}let Uh=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,b){const S=function Fw(o,a){let d;return d="noop"===o?new Hb:("zone.js"===o?void 0:o)||new bc(a),d}(b?.ngZone,function Wb(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(b)),k=[{provide:bc,useValue:S}];return S.run(()=>{const U=vh.create({providers:k,parent:this.injector,name:d.moduleType.name}),J=d.create(U),se=J.injector.get(mh,null);if(!se)throw new At(402,!1);return S.runOutsideAngular(()=>{const we=S.onError.subscribe({next:Fe=>{se.handleError(Fe)}});J.onDestroy(()=>{sv(this._modules,J),we.unsubscribe()})}),function $b(o,a,d){try{const b=d();return l_(b)?b.catch(S=>{throw a.runOutsideAngular(()=>o.handleError(S)),S}):b}catch(b){throw a.runOutsideAngular(()=>o.handleError(b)),b}}(se,S,()=>{const we=J.injector.get(sm);return we.runInitializers(),we.donePromise.then(()=>($y(J.injector.get(up,Ph)||Ph),this._moduleDoBootstrap(J),J))})})}bootstrapModule(d,b=[]){const S=_u({},b);return function XE(o,a,d){const b=new N_(d);return Promise.resolve(b)}(0,0,d).then(k=>this.bootstrapModuleFactory(k,S))}_moduleDoBootstrap(d){const b=d.injector.get(um);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(S=>b.bootstrap(S));else{if(!d.instance.ngDoBootstrap)throw new At(-403,!1);d.instance.ngDoBootstrap(b)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new At(404,!1);this._modules.slice().forEach(b=>b.destroy()),this._destroyListeners.forEach(b=>b());const d=this._injector.get(iv,null);d&&(d.forEach(b=>b()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(d){return new(d||o)(gi(vh))},o.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function _u(o,a){return Array.isArray(a)?a.reduce(_u,o):{...o,...a}}let um=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,b,S){this._zone=d,this._injector=b,this._exceptionHandler=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const k=new He.y(J=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{J.next(this._stable),J.complete()})}),U=new He.y(J=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{bc.assertNotInAngularZone(),ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,J.next(!0))})})});const we=this._zone.onUnstable.subscribe(()=>{bc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{J.next(!1)}))});return()=>{se.unsubscribe(),we.unsubscribe()}});this.isStable=(0,Xe.T)(k,U.pipe((0,l.B)()))}bootstrap(d,b){const S=d instanceof oc;if(!this._injector.get(sm).done)throw!S&&z(d),new At(405,false);let U;U=S?d:this._injector.get(Ul).resolveComponentFactory(d),this.componentTypes.push(U.componentType);const J=function Gb(o){return o.isBoundToModule}(U)?void 0:this._injector.get(ep),we=U.create(vh.NULL,[],b||U.selector,J),Fe=we.location.nativeElement,Je=we.injector.get(zb,null);return Je?.registerApplication(Fe),we.onDestroy(()=>{this.detachView(we.hostView),sv(this.components,we),Je?.unregisterApplication(Fe)}),this._loadComponent(we),we}tick(){if(this._runningTick)throw new At(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const b=d;this._views.push(b),b.attachToAppRef(this)}detachView(d){const b=d;sv(this._views,b),b.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const b=this._injector.get(Iw,[]);b.push(...this._bootstrapListeners),b.forEach(S=>S(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>sv(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new At(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(d){return new(d||o)(gi(bc),gi(ir),gi(mh))},o.\u0275prov=Vn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function sv(o,a){const d=o.indexOf(a);d>-1&&o.splice(d,1)}function Hh(){}let Jb=(()=>{class o{}return o.__NG_ELEMENT_ID__=Qb,o})();function Qb(o){return function Vw(o,a,d){if(gs(o)&&!d){const b=vs(o.index,a);return new Lf(b,b)}return 47&o.type?new Lf(a[16],a):null}(zr(),qt(),16==(16&o))}class cv{constructor(){}supports(a){return Ff(a)}create(a){return new Gw(a)}}const n0=(o,a)=>a;class Gw{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||n0}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,b=this._removalsHead,S=0,k=null;for(;d||b;){const U=!b||d&&d.currentIndex<fm(b,S,k)?d:b,J=fm(U,S,k),se=U.currentIndex;if(U===b)S--,b=b._nextRemoved;else if(d=d._next,null==U.previousIndex)S++;else{k||(k=[]);const we=J-S,Fe=se-S;if(we!=Fe){for(let _t=0;_t<we;_t++){const Mt=_t<k.length?k[_t]:k[_t]=0,Xt=Mt+_t;Fe<=Xt&&Xt<we&&(k[_t]=Mt+1)}k[U.previousIndex]=Fe-we}}J!==se&&a(U,J,se)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!Ff(a))throw new At(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let S,k,U,d=this._itHead,b=!1;if(Array.isArray(a)){this.length=a.length;for(let J=0;J<this.length;J++)k=a[J],U=this._trackByFn(J,k),null!==d&&Object.is(d.trackById,U)?(b&&(d=this._verifyReinsertion(d,k,U,J)),Object.is(d.item,k)||this._addIdentityChange(d,k)):(d=this._mismatch(d,k,U,J),b=!0),d=d._next}else S=0,function Ea(o,a){if(Array.isArray(o))for(let d=0;d<o.length;d++)a(o[d]);else{const d=o[wh()]();let b;for(;!(b=d.next()).done;)a(b.value)}}(a,J=>{U=this._trackByFn(S,J),null!==d&&Object.is(d.trackById,U)?(b&&(d=this._verifyReinsertion(d,J,U,S)),Object.is(d.item,J)||this._addIdentityChange(d,J)):(d=this._mismatch(d,J,U,S),b=!0),d=d._next,S++}),this.length=S;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,b,S){let k;return null===a?k=this._itTail:(k=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(b,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,k,S)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(b,S))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,k,S)):a=this._addAfter(new uv(d,b),k,S),a}_verifyReinsertion(a,d,b,S){let k=null===this._unlinkedRecords?null:this._unlinkedRecords.get(b,null);return null!==k?a=this._reinsertAfter(k,a._prev,S):a.currentIndex!=S&&(a.currentIndex=S,this._addToMoves(a,S)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,b){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const S=a._prevRemoved,k=a._nextRemoved;return null===S?this._removalsHead=k:S._nextRemoved=k,null===k?this._removalsTail=S:k._prevRemoved=S,this._insertAfter(a,d,b),this._addToMoves(a,b),a}_moveAfter(a,d,b){return this._unlink(a),this._insertAfter(a,d,b),this._addToMoves(a,b),a}_addAfter(a,d,b){return this._insertAfter(a,d,b),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,b){const S=null===d?this._itHead:d._next;return a._next=S,a._prev=d,null===S?this._itTail=a:S._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new dv),this._linkedRecords.put(a),a.currentIndex=b,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,b=a._next;return null===d?this._itHead=b:d._next=b,null===b?this._itTail=d:b._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dv),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class uv{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let b;for(b=this._head;null!==b;b=b._nextDup)if((null===d||d<=b.currentIndex)&&Object.is(b.trackById,a))return b;return null}remove(a){const d=a._prevDup,b=a._nextDup;return null===d?this._head=b:d._nextDup=b,null===b?this._tail=d:b._prevDup=d,null===this._head}}class dv{constructor(){this.map=new Map}put(a){const d=a.trackById;let b=this.map.get(d);b||(b=new rT,this.map.set(d,b)),b.add(a)}get(a,d){const S=this.map.get(a);return S?S.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fm(o,a,d){const b=o.previousIndex;if(null===b)return b;let S=0;return d&&b<d.length&&(S=d[b]),b+a+S}class jw{constructor(){}supports(a){return a instanceof Map||sa(a)}create(){return new Yw}}class Yw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||sa(a)))throw new At(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(b,S)=>{if(d&&d.key===S)this._maybeAddToChanges(d,b),this._appendAfter=d,d=d._next;else{const k=this._getOrCreateRecordForKey(S,b);d=this._insertBeforeOrAppend(d,k)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let b=d;null!==b;b=b._nextRemoved)b===this._mapHead&&(this._mapHead=null),this._records.delete(b.key),b._nextRemoved=b._next,b.previousValue=b.currentValue,b.currentValue=null,b._prev=null,b._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const b=a._prev;return d._next=a,d._prev=b,a._prev=d,b&&(b._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const S=this._records.get(a);this._maybeAddToChanges(S,d);const k=S._prev,U=S._next;return k&&(k._next=U),U&&(U._prev=k),S._next=null,S._prev=null,S}const b=new pm(a);return this._records.set(a,b),b.currentValue=d,this._addToAdditions(b),b}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(b=>d(a[b],b))}}class pm{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gm(){return new Gh([new cv])}let Gh=(()=>{class o{constructor(d){this.factories=d}static create(d,b){if(null!=b){const S=b.factories.slice();d=d.concat(S)}return new o(d)}static extend(d){return{provide:o,useFactory:b=>o.create(d,b||gm()),deps:[[o,new Kc,new Dc]]}}find(d){const b=this.factories.find(S=>S.supports(d));if(null!=b)return b;throw new At(901,!1)}}return o.\u0275prov=Vn({token:o,providedIn:"root",factory:gm}),o})();function r0(){return new Aa([new jw])}let Aa=(()=>{class o{constructor(d){this.factories=d}static create(d,b){if(b){const S=b.factories.slice();d=d.concat(S)}return new o(d)}static extend(d){return{provide:o,useFactory:b=>o.create(d,b||r0()),deps:[[o,new Kc,new Dc]]}}find(d){const b=this.factories.find(S=>S.supports(d));if(b)return b;throw new At(901,!1)}}return o.\u0275prov=Vn({token:o,providedIn:"root",factory:r0}),o})();const Zd=qb(null,"core",[]);let gp=(()=>{class o{constructor(d){}}return o.\u0275fac=function(d){return new(d||o)(gi(um))},o.\u0275mod=p({type:o}),o.\u0275inj=ui({}),o})();function Ww(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function uT(o,a){const d=P(o),b=a.elementInjector||Sr();return new xh(d).create(b,a.projectableNodes,a.hostElement,a.environmentInjector)}},4006:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Cf:()=>Ye,EJ:()=>lr,F:()=>Z,Fj:()=>ct,JJ:()=>Pi,JL:()=>qi,JU:()=>tt,Kr:()=>Ue,On:()=>ji,QS:()=>co,UX:()=>$o,Wl:()=>bt,YN:()=>bs,_Y:()=>pi,kI:()=>et,sg:()=>Or,u:()=>_s,u5:()=>Ii,wV:()=>wr});var f=ue(4650),v=ue(6895),He=ue(2076),Xe=ue(4128),l=ue(4004);let Qe=(()=>{class ge{constructor(re,Re){this._renderer=re,this._elementRef=Re,this.onChange=Vt=>{},this.onTouched=()=>{}}setProperty(re,Re){this._renderer.setProperty(this._elementRef.nativeElement,re,Re)}registerOnTouched(re){this.onTouched=re}registerOnChange(re){this.onChange=re}setDisabledState(re){this.setProperty("disabled",re)}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(f.Qsj),f.Y36(f.SBq))},ge.\u0275dir=f.lG2({type:ge}),ge})(),je=(()=>{class ge extends Qe{}return ge.\u0275fac=function(){let pe;return function(Re){return(pe||(pe=f.n5z(ge)))(Re||ge)}}(),ge.\u0275dir=f.lG2({type:ge,features:[f.qOj]}),ge})();const tt=new f.OlP("NgValueAccessor"),vt={provide:tt,useExisting:(0,f.Gpc)(()=>bt),multi:!0};let bt=(()=>{class ge extends je{writeValue(re){this.setProperty("checked",re)}}return ge.\u0275fac=function(){let pe;return function(Re){return(pe||(pe=f.n5z(ge)))(Re||ge)}}(),ge.\u0275dir=f.lG2({type:ge,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(re,Re){1&re&&f.NdJ("change",function(Zn){return Re.onChange(Zn.target.checked)})("blur",function(){return Re.onTouched()})},features:[f._Bn([vt]),f.qOj]}),ge})();const xt={provide:tt,useExisting:(0,f.Gpc)(()=>ct),multi:!0},Jt=new f.OlP("CompositionEventMode");let ct=(()=>{class ge extends Qe{constructor(re,Re,Vt){super(re,Re),this._compositionMode=Vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Et(){const ge=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(ge.toLowerCase())}())}writeValue(re){this.setProperty("value",re??"")}_handleInput(re){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(re)}_compositionStart(){this._composing=!0}_compositionEnd(re){this._composing=!1,this._compositionMode&&this.onChange(re)}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Jt,8))},ge.\u0275dir=f.lG2({type:ge,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(re,Re){1&re&&f.NdJ("input",function(Zn){return Re._handleInput(Zn.target.value)})("blur",function(){return Re.onTouched()})("compositionstart",function(){return Re._compositionStart()})("compositionend",function(Zn){return Re._compositionEnd(Zn.target.value)})},features:[f._Bn([xt]),f.qOj]}),ge})();function on(ge){return null==ge||("string"==typeof ge||Array.isArray(ge))&&0===ge.length}function At(ge){return null!=ge&&"number"==typeof ge.length}const Ye=new f.OlP("NgValidators"),Ut=new f.OlP("NgAsyncValidators"),un=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class et{static min(pe){return function jt(ge){return pe=>{if(on(pe.value)||on(ge))return null;const re=parseFloat(pe.value);return!isNaN(re)&&re<ge?{min:{min:ge,actual:pe.value}}:null}}(pe)}static max(pe){return function fn(ge){return pe=>{if(on(pe.value)||on(ge))return null;const re=parseFloat(pe.value);return!isNaN(re)&&re>ge?{max:{max:ge,actual:pe.value}}:null}}(pe)}static required(pe){return function Fn(ge){return on(ge.value)?{required:!0}:null}(pe)}static requiredTrue(pe){return function Qt(ge){return!0===ge.value?null:{required:!0}}(pe)}static email(pe){return function Nt(ge){return on(ge.value)||un.test(ge.value)?null:{email:!0}}(pe)}static minLength(pe){return function vn(ge){return pe=>on(pe.value)||!At(pe.value)?null:pe.value.length<ge?{minlength:{requiredLength:ge,actualLength:pe.value.length}}:null}(pe)}static maxLength(pe){return function Cn(ge){return pe=>At(pe.value)&&pe.value.length>ge?{maxlength:{requiredLength:ge,actualLength:pe.value.length}}:null}(pe)}static pattern(pe){return function Bn(ge){if(!ge)return In;let pe,re;return"string"==typeof ge?(re="","^"!==ge.charAt(0)&&(re+="^"),re+=ge,"$"!==ge.charAt(ge.length-1)&&(re+="$"),pe=new RegExp(re)):(re=ge.toString(),pe=ge),Re=>{if(on(Re.value))return null;const Vt=Re.value;return pe.test(Vt)?null:{pattern:{requiredPattern:re,actualValue:Vt}}}}(pe)}static nullValidator(pe){return null}static compose(pe){return en(pe)}static composeAsync(pe){return Dt(pe)}}function In(ge){return null}function mn(ge){return null!=ge}function mt(ge){return(0,f.QGY)(ge)?(0,He.D)(ge):ge}function Lt(ge){let pe={};return ge.forEach(re=>{pe=null!=re?{...pe,...re}:pe}),0===Object.keys(pe).length?null:pe}function pt(ge,pe){return pe.map(re=>re(ge))}function pn(ge){return ge.map(pe=>function Gt(ge){return!ge.validate}(pe)?pe:re=>pe.validate(re))}function en(ge){if(!ge)return null;const pe=ge.filter(mn);return 0==pe.length?null:function(re){return Lt(pt(re,pe))}}function rn(ge){return null!=ge?en(pn(ge)):null}function Dt(ge){if(!ge)return null;const pe=ge.filter(mn);return 0==pe.length?null:function(re){const Re=pt(re,pe).map(mt);return(0,Xe.D)(Re).pipe((0,l.U)(Lt))}}function $n(ge){return null!=ge?Dt(pn(ge)):null}function Tn(ge,pe){return null===ge?[pe]:Array.isArray(ge)?[...ge,pe]:[ge,pe]}function Pn(ge){return ge._rawValidators}function Vn(ge){return ge._rawAsyncValidators}function Rn(ge){return ge?Array.isArray(ge)?ge:[ge]:[]}function ui(ge,pe){return Array.isArray(ge)?ge.includes(pe):ge===pe}function Di(ge,pe){const re=Rn(pe);return Rn(ge).forEach(Vt=>{ui(re,Vt)||re.push(Vt)}),re}function bi(ge,pe){return Rn(pe).filter(re=>!ui(ge,re))}class li{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(pe){this._rawValidators=pe||[],this._composedValidatorFn=rn(this._rawValidators)}_setAsyncValidators(pe){this._rawAsyncValidators=pe||[],this._composedAsyncValidatorFn=$n(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(pe){this._onDestroyCallbacks.push(pe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(pe=>pe()),this._onDestroyCallbacks=[]}reset(pe){this.control&&this.control.reset(pe)}hasError(pe,re){return!!this.control&&this.control.hasError(pe,re)}getError(pe,re){return this.control?this.control.getError(pe,re):null}}class gn extends li{get formDirective(){return null}get path(){return null}}class Si extends li{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sr{constructor(pe){this._cd=pe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pi=(()=>{class ge extends sr{constructor(re){super(re)}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(Si,2))},ge.\u0275dir=f.lG2({type:ge,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(re,Re){2&re&&f.ekj("ng-untouched",Re.isUntouched)("ng-touched",Re.isTouched)("ng-pristine",Re.isPristine)("ng-dirty",Re.isDirty)("ng-valid",Re.isValid)("ng-invalid",Re.isInvalid)("ng-pending",Re.isPending)},features:[f.qOj]}),ge})(),qi=(()=>{class ge extends sr{constructor(re){super(re)}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(gn,10))},ge.\u0275dir=f.lG2({type:ge,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(re,Re){2&re&&f.ekj("ng-untouched",Re.isUntouched)("ng-touched",Re.isTouched)("ng-pristine",Re.isPristine)("ng-dirty",Re.isDirty)("ng-valid",Re.isValid)("ng-invalid",Re.isInvalid)("ng-pending",Re.isPending)("ng-submitted",Re.isSubmitted)},features:[f.qOj]}),ge})();const ur="VALID",Ur="INVALID",gi="PENDING",or="DISABLED";function Yt(ge){return(tn(ge)?ge.validators:ge)||null}function ft(ge,pe){return(tn(pe)?pe.asyncValidators:ge)||null}function tn(ge){return null!=ge&&!Array.isArray(ge)&&"object"==typeof ge}function cn(ge,pe,re){const Re=ge.controls;if(!(pe?Object.keys(Re):Re).length)throw new f.vHH(1e3,"");if(!Re[re])throw new f.vHH(1001,"")}function ke(ge,pe,re){ge._forEachChild((Re,Vt)=>{if(void 0===re[Vt])throw new f.vHH(1002,"")})}class vi{constructor(pe,re){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(pe),this._assignAsyncValidators(re)}get validator(){return this._composedValidatorFn}set validator(pe){this._rawValidators=this._composedValidatorFn=pe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(pe){this._rawAsyncValidators=this._composedAsyncValidatorFn=pe}get parent(){return this._parent}get valid(){return this.status===ur}get invalid(){return this.status===Ur}get pending(){return this.status==gi}get disabled(){return this.status===or}get enabled(){return this.status!==or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(pe){this._assignValidators(pe)}setAsyncValidators(pe){this._assignAsyncValidators(pe)}addValidators(pe){this.setValidators(Di(pe,this._rawValidators))}addAsyncValidators(pe){this.setAsyncValidators(Di(pe,this._rawAsyncValidators))}removeValidators(pe){this.setValidators(bi(pe,this._rawValidators))}removeAsyncValidators(pe){this.setAsyncValidators(bi(pe,this._rawAsyncValidators))}hasValidator(pe){return ui(this._rawValidators,pe)}hasAsyncValidator(pe){return ui(this._rawAsyncValidators,pe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(pe={}){this.touched=!0,this._parent&&!pe.onlySelf&&this._parent.markAsTouched(pe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(pe=>pe.markAllAsTouched())}markAsUntouched(pe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(re=>{re.markAsUntouched({onlySelf:!0})}),this._parent&&!pe.onlySelf&&this._parent._updateTouched(pe)}markAsDirty(pe={}){this.pristine=!1,this._parent&&!pe.onlySelf&&this._parent.markAsDirty(pe)}markAsPristine(pe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(re=>{re.markAsPristine({onlySelf:!0})}),this._parent&&!pe.onlySelf&&this._parent._updatePristine(pe)}markAsPending(pe={}){this.status=gi,!1!==pe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!pe.onlySelf&&this._parent.markAsPending(pe)}disable(pe={}){const re=this._parentMarkedDirty(pe.onlySelf);this.status=or,this.errors=null,this._forEachChild(Re=>{Re.disable({...pe,onlySelf:!0})}),this._updateValue(),!1!==pe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...pe,skipPristineCheck:re}),this._onDisabledChange.forEach(Re=>Re(!0))}enable(pe={}){const re=this._parentMarkedDirty(pe.onlySelf);this.status=ur,this._forEachChild(Re=>{Re.enable({...pe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:pe.emitEvent}),this._updateAncestors({...pe,skipPristineCheck:re}),this._onDisabledChange.forEach(Re=>Re(!1))}_updateAncestors(pe){this._parent&&!pe.onlySelf&&(this._parent.updateValueAndValidity(pe),pe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(pe){this._parent=pe}getRawValue(){return this.value}updateValueAndValidity(pe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ur||this.status===gi)&&this._runAsyncValidator(pe.emitEvent)),!1!==pe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!pe.onlySelf&&this._parent.updateValueAndValidity(pe)}_updateTreeValidity(pe={emitEvent:!0}){this._forEachChild(re=>re._updateTreeValidity(pe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:pe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?or:ur}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(pe){if(this.asyncValidator){this.status=gi,this._hasOwnPendingAsyncValidator=!0;const re=mt(this.asyncValidator(this));this._asyncValidationSubscription=re.subscribe(Re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Re,{emitEvent:pe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(pe,re={}){this.errors=pe,this._updateControlsErrors(!1!==re.emitEvent)}get(pe){let re=pe;return null==re||(Array.isArray(re)||(re=re.split(".")),0===re.length)?null:re.reduce((Re,Vt)=>Re&&Re._find(Vt),this)}getError(pe,re){const Re=re?this.get(re):this;return Re&&Re.errors?Re.errors[pe]:null}hasError(pe,re){return!!this.getError(pe,re)}get root(){let pe=this;for(;pe._parent;)pe=pe._parent;return pe}_updateControlsErrors(pe){this.status=this._calculateStatus(),pe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(pe)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?or:this.errors?Ur:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gi)?gi:this._anyControlsHaveStatus(Ur)?Ur:ur}_anyControlsHaveStatus(pe){return this._anyControls(re=>re.status===pe)}_anyControlsDirty(){return this._anyControls(pe=>pe.dirty)}_anyControlsTouched(){return this._anyControls(pe=>pe.touched)}_updatePristine(pe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!pe.onlySelf&&this._parent._updatePristine(pe)}_updateTouched(pe={}){this.touched=this._anyControlsTouched(),this._parent&&!pe.onlySelf&&this._parent._updateTouched(pe)}_registerOnCollectionChange(pe){this._onCollectionChange=pe}_setUpdateStrategy(pe){tn(pe)&&null!=pe.updateOn&&(this._updateOn=pe.updateOn)}_parentMarkedDirty(pe){return!pe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(pe){return null}_assignValidators(pe){this._rawValidators=Array.isArray(pe)?pe.slice():pe,this._composedValidatorFn=function nt(ge){return Array.isArray(ge)?rn(ge):ge||null}(this._rawValidators)}_assignAsyncValidators(pe){this._rawAsyncValidators=Array.isArray(pe)?pe.slice():pe,this._composedAsyncValidatorFn=function hn(ge){return Array.isArray(ge)?$n(ge):ge||null}(this._rawAsyncValidators)}}class Gn extends vi{constructor(pe,re,Re){super(Yt(re),ft(Re,re)),this.controls=pe,this._initObservables(),this._setUpdateStrategy(re),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(pe,re){return this.controls[pe]?this.controls[pe]:(this.controls[pe]=re,re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange),re)}addControl(pe,re,Re={}){this.registerControl(pe,re),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}removeControl(pe,re={}){this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),delete this.controls[pe],this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}setControl(pe,re,Re={}){this.controls[pe]&&this.controls[pe]._registerOnCollectionChange(()=>{}),delete this.controls[pe],re&&this.registerControl(pe,re),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}contains(pe){return this.controls.hasOwnProperty(pe)&&this.controls[pe].enabled}setValue(pe,re={}){ke(this,0,pe),Object.keys(pe).forEach(Re=>{cn(this,!0,Re),this.controls[Re].setValue(pe[Re],{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re)}patchValue(pe,re={}){null!=pe&&(Object.keys(pe).forEach(Re=>{const Vt=this.controls[Re];Vt&&Vt.patchValue(pe[Re],{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re))}reset(pe={},re={}){this._forEachChild((Re,Vt)=>{Re.reset(pe[Vt],{onlySelf:!0,emitEvent:re.emitEvent})}),this._updatePristine(re),this._updateTouched(re),this.updateValueAndValidity(re)}getRawValue(){return this._reduceChildren({},(pe,re,Re)=>(pe[Re]=re.getRawValue(),pe))}_syncPendingControls(){let pe=this._reduceChildren(!1,(re,Re)=>!!Re._syncPendingControls()||re);return pe&&this.updateValueAndValidity({onlySelf:!0}),pe}_forEachChild(pe){Object.keys(this.controls).forEach(re=>{const Re=this.controls[re];Re&&pe(Re,re)})}_setUpControls(){this._forEachChild(pe=>{pe.setParent(this),pe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(pe){for(const[re,Re]of Object.entries(this.controls))if(this.contains(re)&&pe(Re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(re,Re,Vt)=>((Re.enabled||this.disabled)&&(re[Vt]=Re.value),re))}_reduceChildren(pe,re){let Re=pe;return this._forEachChild((Vt,Zn)=>{Re=re(Re,Vt,Zn)}),Re}_allControlsDisabled(){for(const pe of Object.keys(this.controls))if(this.controls[pe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(pe){return this.controls.hasOwnProperty(pe)?this.controls[pe]:null}}class On extends Gn{}const ot=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ne}),ne="always";function de(ge,pe){return[...pe.path,ge]}function Ie(ge,pe,re=ne){an(ge,pe),pe.valueAccessor.writeValue(ge.value),(ge.disabled||"always"===re)&&pe.valueAccessor.setDisabledState?.(ge.disabled),function r(ge,pe){pe.valueAccessor.registerOnChange(re=>{ge._pendingValue=re,ge._pendingChange=!0,ge._pendingDirty=!0,"change"===ge.updateOn&&u(ge,pe)})}(ge,pe),function p(ge,pe){const re=(Re,Vt)=>{pe.valueAccessor.writeValue(Re),Vt&&pe.viewToModelUpdate(Re)};ge.registerOnChange(re),pe._registerOnDestroy(()=>{ge._unregisterOnChange(re)})}(ge,pe),function s(ge,pe){pe.valueAccessor.registerOnTouched(()=>{ge._pendingTouched=!0,"blur"===ge.updateOn&&ge._pendingChange&&u(ge,pe),"submit"!==ge.updateOn&&ge.markAsTouched()})}(ge,pe),function Rt(ge,pe){if(pe.valueAccessor.setDisabledState){const re=Re=>{pe.valueAccessor.setDisabledState(Re)};ge.registerOnDisabledChange(re),pe._registerOnDestroy(()=>{ge._unregisterOnDisabledChange(re)})}}(ge,pe)}function Ge(ge,pe,re=!0){const Re=()=>{};pe.valueAccessor&&(pe.valueAccessor.registerOnChange(Re),pe.valueAccessor.registerOnTouched(Re)),ye(ge,pe),ge&&(pe._invokeOnDestroyCallbacks(),ge._registerOnCollectionChange(()=>{}))}function lt(ge,pe){ge.forEach(re=>{re.registerOnValidatorChange&&re.registerOnValidatorChange(pe)})}function an(ge,pe){const re=Pn(ge);null!==pe.validator?ge.setValidators(Tn(re,pe.validator)):"function"==typeof re&&ge.setValidators([re]);const Re=Vn(ge);null!==pe.asyncValidator?ge.setAsyncValidators(Tn(Re,pe.asyncValidator)):"function"==typeof Re&&ge.setAsyncValidators([Re]);const Vt=()=>ge.updateValueAndValidity();lt(pe._rawValidators,Vt),lt(pe._rawAsyncValidators,Vt)}function ye(ge,pe){let re=!1;if(null!==ge){if(null!==pe.validator){const Vt=Pn(ge);if(Array.isArray(Vt)&&Vt.length>0){const Zn=Vt.filter(Ar=>Ar!==pe.validator);Zn.length!==Vt.length&&(re=!0,ge.setValidators(Zn))}}if(null!==pe.asyncValidator){const Vt=Vn(ge);if(Array.isArray(Vt)&&Vt.length>0){const Zn=Vt.filter(Ar=>Ar!==pe.asyncValidator);Zn.length!==Vt.length&&(re=!0,ge.setAsyncValidators(Zn))}}}const Re=()=>{};return lt(pe._rawValidators,Re),lt(pe._rawAsyncValidators,Re),re}function u(ge,pe){ge._pendingDirty&&ge.markAsDirty(),ge.setValue(ge._pendingValue,{emitModelToViewChange:!1}),pe.viewToModelUpdate(ge._pendingValue),ge._pendingChange=!1}function y(ge,pe){an(ge,pe)}function z(ge,pe){if(!ge.hasOwnProperty("model"))return!1;const re=ge.model;return!!re.isFirstChange()||!Object.is(pe,re.currentValue)}function le(ge,pe){ge._syncPendingControls(),pe.forEach(re=>{const Re=re.control;"submit"===Re.updateOn&&Re._pendingChange&&(re.viewToModelUpdate(Re._pendingValue),Re._pendingChange=!1)})}function ie(ge,pe){if(!pe)return null;let re,Re,Vt;return Array.isArray(pe),pe.forEach(Zn=>{Zn.constructor===ct?re=Zn:function X(ge){return Object.getPrototypeOf(ge.constructor)===je}(Zn)?Re=Zn:Vt=Zn}),Vt||Re||re||null}const Ve={provide:gn,useExisting:(0,f.Gpc)(()=>Z)},D=(()=>Promise.resolve())();let Z=(()=>{class ge extends gn{constructor(re,Re,Vt){super(),this.callSetDisabledState=Vt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new Gn({},rn(re),$n(Re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(re){D.then(()=>{const Re=this._findContainer(re.path);re.control=Re.registerControl(re.name,re.control),Ie(re.control,re,this.callSetDisabledState),re.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(re)})}getControl(re){return this.form.get(re.path)}removeControl(re){D.then(()=>{const Re=this._findContainer(re.path);Re&&Re.removeControl(re.name),this._directives.delete(re)})}addFormGroup(re){D.then(()=>{const Re=this._findContainer(re.path),Vt=new Gn({});y(Vt,re),Re.registerControl(re.name,Vt),Vt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(re){D.then(()=>{const Re=this._findContainer(re.path);Re&&Re.removeControl(re.name)})}getFormGroup(re){return this.form.get(re.path)}updateModel(re,Re){D.then(()=>{this.form.get(re.path).setValue(Re)})}setValue(re){this.control.setValue(re)}onSubmit(re){return this.submitted=!0,le(this.form,this._directives),this.ngSubmit.emit(re),"dialog"===re?.target?.method}onReset(){this.resetForm()}resetForm(re){this.form.reset(re),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(re){return re.pop(),re.length?this.form.get(re):this.form}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(Ye,10),f.Y36(Ut,10),f.Y36(ot,8))},ge.\u0275dir=f.lG2({type:ge,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(re,Re){1&re&&f.NdJ("submit",function(Zn){return Re.onSubmit(Zn)})("reset",function(){return Re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ve]),f.qOj]}),ge})();function ce(ge,pe){const re=ge.indexOf(pe);re>-1&&ge.splice(re,1)}function xe(ge){return"object"==typeof ge&&null!==ge&&2===Object.keys(ge).length&&"value"in ge&&"disabled"in ge}const Pe=class extends vi{constructor(pe=null,re,Re){super(Yt(re),ft(Re,re)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(pe),this._setUpdateStrategy(re),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tn(re)&&(re.nonNullable||re.initialValueIsDefault)&&(this.defaultValue=xe(pe)?pe.value:pe)}setValue(pe,re={}){this.value=this._pendingValue=pe,this._onChange.length&&!1!==re.emitModelToViewChange&&this._onChange.forEach(Re=>Re(this.value,!1!==re.emitViewToModelChange)),this.updateValueAndValidity(re)}patchValue(pe,re={}){this.setValue(pe,re)}reset(pe=this.defaultValue,re={}){this._applyFormState(pe),this.markAsPristine(re),this.markAsUntouched(re),this.setValue(this.value,re),this._pendingChange=!1}_updateValue(){}_anyControls(pe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(pe){this._onChange.push(pe)}_unregisterOnChange(pe){ce(this._onChange,pe)}registerOnDisabledChange(pe){this._onDisabledChange.push(pe)}_unregisterOnDisabledChange(pe){ce(this._onDisabledChange,pe)}_forEachChild(pe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(pe){xe(pe)?(this.value=this._pendingValue=pe.value,pe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=pe}},di={provide:Si,useExisting:(0,f.Gpc)(()=>ji)},xi=(()=>Promise.resolve())();let ji=(()=>{class ge extends Si{constructor(re,Re,Vt,Zn,Ar,qt){super(),this._changeDetectorRef=Ar,this.callSetDisabledState=qt,this.control=new Pe,this._registered=!1,this.update=new f.vpe,this._parent=re,this._setValidators(Re),this._setAsyncValidators(Vt),this.valueAccessor=ie(0,Zn)}ngOnChanges(re){if(this._checkForErrors(),!this._registered||"name"in re){if(this._registered&&(this._checkName(),this.formDirective)){const Re=re.name.previousValue;this.formDirective.removeControl({name:Re,path:this._getPath(Re)})}this._setUpControl()}"isDisabled"in re&&this._updateDisabled(re),z(re,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(re){this.viewModel=re,this.update.emit(re)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ie(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(re){xi.then(()=>{this.control.setValue(re,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(re){const Re=re.isDisabled.currentValue,Vt=0!==Re&&(0,f.D6c)(Re);xi.then(()=>{Vt&&!this.control.disabled?this.control.disable():!Vt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(re){return this._parent?de(re,this._parent):[re]}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(gn,9),f.Y36(Ye,10),f.Y36(Ut,10),f.Y36(tt,10),f.Y36(f.sBO,8),f.Y36(ot,8))},ge.\u0275dir=f.lG2({type:ge,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([di]),f.qOj,f.TTD]}),ge})(),pi=(()=>{class ge{}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275dir=f.lG2({type:ge,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ge})();const $i={provide:tt,useExisting:(0,f.Gpc)(()=>wr),multi:!0};let wr=(()=>{class ge extends je{writeValue(re){this.setProperty("value",re??"")}registerOnChange(re){this.onChange=Re=>{re(""==Re?null:parseFloat(Re))}}}return ge.\u0275fac=function(){let pe;return function(Re){return(pe||(pe=f.n5z(ge)))(Re||ge)}}(),ge.\u0275dir=f.lG2({type:ge,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(re,Re){1&re&&f.NdJ("input",function(Zn){return Re.onChange(Zn.target.value)})("blur",function(){return Re.onTouched()})},features:[f._Bn([$i]),f.qOj]}),ge})(),ss=(()=>{class ge{}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({}),ge})();const gr=new f.OlP("NgModelWithFormControlWarning"),cs={provide:gn,useExisting:(0,f.Gpc)(()=>Or)};let Or=(()=>{class ge extends gn{constructor(re,Re,Vt){super(),this.callSetDisabledState=Vt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(re),this._setAsyncValidators(Re)}ngOnChanges(re){this._checkFormPresent(),re.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ye(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(re){const Re=this.form.get(re.path);return Ie(Re,re,this.callSetDisabledState),Re.updateValueAndValidity({emitEvent:!1}),this.directives.push(re),Re}getControl(re){return this.form.get(re.path)}removeControl(re){Ge(re.control||null,re,!1),function me(ge,pe){const re=ge.indexOf(pe);re>-1&&ge.splice(re,1)}(this.directives,re)}addFormGroup(re){this._setUpFormContainer(re)}removeFormGroup(re){this._cleanUpFormContainer(re)}getFormGroup(re){return this.form.get(re.path)}addFormArray(re){this._setUpFormContainer(re)}removeFormArray(re){this._cleanUpFormContainer(re)}getFormArray(re){return this.form.get(re.path)}updateModel(re,Re){this.form.get(re.path).setValue(Re)}onSubmit(re){return this.submitted=!0,le(this.form,this.directives),this.ngSubmit.emit(re),"dialog"===re?.target?.method}onReset(){this.resetForm()}resetForm(re){this.form.reset(re),this.submitted=!1}_updateDomValue(){this.directives.forEach(re=>{const Re=re.control,Vt=this.form.get(re.path);Re!==Vt&&(Ge(Re||null,re),(ge=>ge instanceof Pe)(Vt)&&(Ie(Vt,re,this.callSetDisabledState),re.control=Vt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(re){const Re=this.form.get(re.path);y(Re,re),Re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(re){if(this.form){const Re=this.form.get(re.path);Re&&function x(ge,pe){return ye(ge,pe)}(Re,re)&&Re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){an(this.form,this),this._oldForm&&ye(this._oldForm,this)}_checkFormPresent(){}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(Ye,10),f.Y36(Ut,10),f.Y36(ot,8))},ge.\u0275dir=f.lG2({type:ge,selectors:[["","formGroup",""]],hostBindings:function(re,Re){1&re&&f.NdJ("submit",function(Zn){return Re.onSubmit(Zn)})("reset",function(){return Re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([cs]),f.qOj,f.TTD]}),ge})();const Fs={provide:Si,useExisting:(0,f.Gpc)(()=>_s)};let _s=(()=>{class ge extends Si{set isDisabled(re){}constructor(re,Re,Vt,Zn,Ar){super(),this._ngModelWarningConfig=Ar,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=re,this._setValidators(Re),this._setAsyncValidators(Vt),this.valueAccessor=ie(0,Zn)}ngOnChanges(re){this._added||this._setUpControl(),z(re,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(re){this.viewModel=re,this.update.emit(re)}get path(){return de(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return ge._ngModelWarningSentOnce=!1,ge.\u0275fac=function(re){return new(re||ge)(f.Y36(gn,13),f.Y36(Ye,10),f.Y36(Ut,10),f.Y36(tt,10),f.Y36(gr,8))},ge.\u0275dir=f.lG2({type:ge,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Fs]),f.qOj,f.TTD]}),ge})();const yo={provide:tt,useExisting:(0,f.Gpc)(()=>lr),multi:!0};function so(ge,pe){return null==ge?`${pe}`:(pe&&"object"==typeof pe&&(pe="Object"),`${ge}: ${pe}`.slice(0,50))}let lr=(()=>{class ge extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(re){this._compareWith=re}writeValue(re){this.value=re;const Vt=so(this._getOptionId(re),re);this.setProperty("value",Vt)}registerOnChange(re){this.onChange=Re=>{this.value=this._getOptionValue(Re),re(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(re){for(const Re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Re),re))return Re;return null}_getOptionValue(re){const Re=function Ys(ge){return ge.split(":")[0]}(re);return this._optionMap.has(Re)?this._optionMap.get(Re):re}}return ge.\u0275fac=function(){let pe;return function(Re){return(pe||(pe=f.n5z(ge)))(Re||ge)}}(),ge.\u0275dir=f.lG2({type:ge,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(re,Re){1&re&&f.NdJ("change",function(Zn){return Re.onChange(Zn.target.value)})("blur",function(){return Re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([yo]),f.qOj]}),ge})(),bs=(()=>{class ge{constructor(re,Re,Vt){this._element=re,this._renderer=Re,this._select=Vt,this._select&&(this.id=this._select._registerOption())}set ngValue(re){null!=this._select&&(this._select._optionMap.set(this.id,re),this._setElementValue(so(this.id,re)),this._select.writeValue(this._select.value))}set value(re){this._setElementValue(re),this._select&&this._select.writeValue(this._select.value)}_setElementValue(re){this._renderer.setProperty(this._element.nativeElement,"value",re)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(lr,9))},ge.\u0275dir=f.lG2({type:ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ge})();const Fo={provide:tt,useExisting:(0,f.Gpc)(()=>fe),multi:!0};function Fi(ge,pe){return null==ge?`${pe}`:("string"==typeof pe&&(pe=`'${pe}'`),pe&&"object"==typeof pe&&(pe="Object"),`${ge}: ${pe}`.slice(0,50))}let fe=(()=>{class ge extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(re){this._compareWith=re}writeValue(re){let Re;if(this.value=re,Array.isArray(re)){const Vt=re.map(Zn=>this._getOptionId(Zn));Re=(Zn,Ar)=>{Zn._setSelected(Vt.indexOf(Ar.toString())>-1)}}else Re=(Vt,Zn)=>{Vt._setSelected(!1)};this._optionMap.forEach(Re)}registerOnChange(re){this.onChange=Re=>{const Vt=[],Zn=Re.selectedOptions;if(void 0!==Zn){const Ar=Zn;for(let qt=0;qt<Ar.length;qt++){const Xo=this._getOptionValue(Ar[qt].value);Vt.push(Xo)}}else{const Ar=Re.options;for(let qt=0;qt<Ar.length;qt++){const Ei=Ar[qt];if(Ei.selected){const Xo=this._getOptionValue(Ei.value);Vt.push(Xo)}}}this.value=Vt,re(Vt)}}_registerOption(re){const Re=(this._idCounter++).toString();return this._optionMap.set(Re,re),Re}_getOptionId(re){for(const Re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Re)._value,re))return Re;return null}_getOptionValue(re){const Re=function Be(ge){return ge.split(":")[0]}(re);return this._optionMap.has(Re)?this._optionMap.get(Re)._value:re}}return ge.\u0275fac=function(){let pe;return function(Re){return(pe||(pe=f.n5z(ge)))(Re||ge)}}(),ge.\u0275dir=f.lG2({type:ge,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(re,Re){1&re&&f.NdJ("change",function(Zn){return Re.onChange(Zn.target)})("blur",function(){return Re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Fo]),f.qOj]}),ge})(),Ue=(()=>{class ge{constructor(re,Re,Vt){this._element=re,this._renderer=Re,this._select=Vt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(re){null!=this._select&&(this._value=re,this._setElementValue(Fi(this.id,re)),this._select.writeValue(this._select.value))}set value(re){this._select?(this._value=re,this._setElementValue(Fi(this.id,re)),this._select.writeValue(this._select.value)):this._setElementValue(re)}_setElementValue(re){this._renderer.setProperty(this._element.nativeElement,"value",re)}_setSelected(re){this._renderer.setProperty(this._element.nativeElement,"selected",re)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ge.\u0275fac=function(re){return new(re||ge)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(fe,9))},ge.\u0275dir=f.lG2({type:ge,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ge})(),bo=(()=>{class ge{}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({imports:[ss]}),ge})();class ko extends vi{constructor(pe,re,Re){super(Yt(re),ft(Re,re)),this.controls=pe,this._initObservables(),this._setUpdateStrategy(re),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(pe){return this.controls[this._adjustIndex(pe)]}push(pe,re={}){this.controls.push(pe),this._registerControl(pe),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}insert(pe,re,Re={}){this.controls.splice(pe,0,re),this._registerControl(re),this.updateValueAndValidity({emitEvent:Re.emitEvent})}removeAt(pe,re={}){let Re=this._adjustIndex(pe);Re<0&&(Re=0),this.controls[Re]&&this.controls[Re]._registerOnCollectionChange(()=>{}),this.controls.splice(Re,1),this.updateValueAndValidity({emitEvent:re.emitEvent})}setControl(pe,re,Re={}){let Vt=this._adjustIndex(pe);Vt<0&&(Vt=0),this.controls[Vt]&&this.controls[Vt]._registerOnCollectionChange(()=>{}),this.controls.splice(Vt,1),re&&(this.controls.splice(Vt,0,re),this._registerControl(re)),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(pe,re={}){ke(this,0,pe),pe.forEach((Re,Vt)=>{cn(this,!1,Vt),this.at(Vt).setValue(Re,{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re)}patchValue(pe,re={}){null!=pe&&(pe.forEach((Re,Vt)=>{this.at(Vt)&&this.at(Vt).patchValue(Re,{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re))}reset(pe=[],re={}){this._forEachChild((Re,Vt)=>{Re.reset(pe[Vt],{onlySelf:!0,emitEvent:re.emitEvent})}),this._updatePristine(re),this._updateTouched(re),this.updateValueAndValidity(re)}getRawValue(){return this.controls.map(pe=>pe.getRawValue())}clear(pe={}){this.controls.length<1||(this._forEachChild(re=>re._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:pe.emitEvent}))}_adjustIndex(pe){return pe<0?pe+this.length:pe}_syncPendingControls(){let pe=this.controls.reduce((re,Re)=>!!Re._syncPendingControls()||re,!1);return pe&&this.updateValueAndValidity({onlySelf:!0}),pe}_forEachChild(pe){this.controls.forEach((re,Re)=>{pe(re,Re)})}_updateValue(){this.value=this.controls.filter(pe=>pe.enabled||this.disabled).map(pe=>pe.value)}_anyControls(pe){return this.controls.some(re=>re.enabled&&pe(re))}_setUpControls(){this._forEachChild(pe=>this._registerControl(pe))}_allControlsDisabled(){for(const pe of this.controls)if(pe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(pe){pe.setParent(this),pe._registerOnCollectionChange(this._onCollectionChange)}_find(pe){return this.at(pe)??null}}function lo(ge){return!!ge&&(void 0!==ge.asyncValidators||void 0!==ge.validators||void 0!==ge.updateOn)}let Wo=(()=>{class ge{constructor(){this.useNonNullable=!1}get nonNullable(){const re=new ge;return re.useNonNullable=!0,re}group(re,Re=null){const Vt=this._reduceControls(re);let Zn={};return lo(Re)?Zn=Re:null!==Re&&(Zn.validators=Re.validator,Zn.asyncValidators=Re.asyncValidator),new Gn(Vt,Zn)}record(re,Re=null){const Vt=this._reduceControls(re);return new On(Vt,Re)}control(re,Re,Vt){let Zn={};return this.useNonNullable?(lo(Re)?Zn=Re:(Zn.validators=Re,Zn.asyncValidators=Vt),new Pe(re,{...Zn,nonNullable:!0})):new Pe(re,Re,Vt)}array(re,Re,Vt){const Zn=re.map(Ar=>this._createControl(Ar));return new ko(Zn,Re,Vt)}_reduceControls(re){const Re={};return Object.keys(re).forEach(Vt=>{Re[Vt]=this._createControl(re[Vt])}),Re}_createControl(re){return re instanceof Pe||re instanceof vi?re:Array.isArray(re)?this.control(re[0],re.length>1?re[1]:null,re.length>2?re[2]:null):this.control(re)}}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),co=(()=>{class ge extends Wo{group(re,Re=null){return super.group(re,Re)}control(re,Re,Vt){return super.control(re,Re,Vt)}array(re,Re,Vt){return super.array(re,Re,Vt)}}return ge.\u0275fac=function(){let pe;return function(Re){return(pe||(pe=f.n5z(ge)))(Re||ge)}}(),ge.\u0275prov=f.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Ii=(()=>{class ge{static withConfig(re){return{ngModule:ge,providers:[{provide:ot,useValue:re.callSetDisabledState??ne}]}}}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({imports:[bo]}),ge})(),$o=(()=>{class ge{static withConfig(re){return{ngModule:ge,providers:[{provide:gr,useValue:re.warnOnNgModelWithFormControl??"always"},{provide:ot,useValue:re.callSetDisabledState??ne}]}}}return ge.\u0275fac=function(re){return new(re||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({imports:[bo]}),ge})()},1481:(Hn,gt,ue)=>{"use strict";ue.d(gt,{Dx:()=>Hi,b2:()=>qi,q6:()=>sr});var f=ue(6895),v=ue(4650);class He extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xe extends He{static makeCurrent(){(0,f.HT)(new Xe)}onAndCancel(ne,de,Ie){return ne.addEventListener(de,Ie,!1),()=>{ne.removeEventListener(de,Ie,!1)}}dispatchEvent(ne,de){ne.dispatchEvent(de)}remove(ne){ne.parentNode&&ne.parentNode.removeChild(ne)}createElement(ne,de){return(de=de||this.getDefaultDocument()).createElement(ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ne){return ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(ne){return ne instanceof DocumentFragment}getGlobalEventTarget(ne,de){return"window"===de?window:"document"===de?ne:"body"===de?ne.body:null}getBaseHref(ne){const de=function Qe(){return l=l||document.querySelector("base"),l?l.getAttribute("href"):null}();return null==de?null:function tt(ot){je=je||document.createElement("a"),je.setAttribute("href",ot);const ne=je.pathname;return"/"===ne.charAt(0)?ne:`/${ne}`}(de)}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}getCookie(ne){return(0,f.Mx)(document.cookie,ne)}}let je,l=null;const vt=new v.OlP("TRANSITION_ID"),xt=[{provide:v.ip1,useFactory:function bt(ot,ne,de){return()=>{de.get(v.CZH).donePromise.then(()=>{const Ie=(0,f.q)(),Ge=ne.querySelectorAll(`style[ng-transition="${ot}"]`);for(let lt=0;lt<Ge.length;lt++)Ie.remove(Ge[lt])})}},deps:[vt,f.K0,v.zs3],multi:!0}];let Jt=(()=>{class ot{build(){return new XMLHttpRequest}}return ot.\u0275fac=function(de){return new(de||ot)},ot.\u0275prov=v.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const ct=new v.OlP("EventManagerPlugins");let Ft=(()=>{class ot{constructor(de,Ie){this._zone=Ie,this._eventNameToPlugin=new Map,de.forEach(Ge=>Ge.manager=this),this._plugins=de.slice().reverse()}addEventListener(de,Ie,Ge){return this._findPluginFor(Ie).addEventListener(de,Ie,Ge)}addGlobalEventListener(de,Ie,Ge){return this._findPluginFor(Ie).addGlobalEventListener(de,Ie,Ge)}getZone(){return this._zone}_findPluginFor(de){const Ie=this._eventNameToPlugin.get(de);if(Ie)return Ie;const Ge=this._plugins;for(let lt=0;lt<Ge.length;lt++){const Rt=Ge[lt];if(Rt.supports(de))return this._eventNameToPlugin.set(de,Rt),Rt}throw new Error(`No event manager plugin found for event ${de}`)}}return ot.\u0275fac=function(de){return new(de||ot)(v.LFG(ct),v.LFG(v.R0b))},ot.\u0275prov=v.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class on{constructor(ne){this._doc=ne}addGlobalEventListener(ne,de,Ie){const Ge=(0,f.q)().getGlobalEventTarget(this._doc,ne);if(!Ge)throw new Error(`Unsupported event target ${Ge} for event ${de}`);return this.addEventListener(Ge,de,Ie)}}let At=(()=>{class ot{constructor(){this._stylesSet=new Set}addStyles(de){const Ie=new Set;de.forEach(Ge=>{this._stylesSet.has(Ge)||(this._stylesSet.add(Ge),Ie.add(Ge))}),this.onStylesAdded(Ie)}onStylesAdded(de){}getAllStyles(){return Array.from(this._stylesSet)}}return ot.\u0275fac=function(de){return new(de||ot)},ot.\u0275prov=v.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Ye=(()=>{class ot extends At{constructor(de){super(),this._doc=de,this._hostNodes=new Map,this._hostNodes.set(de.head,[])}_addStylesToHost(de,Ie,Ge){de.forEach(lt=>{const Rt=this._doc.createElement("style");Rt.textContent=lt,Ge.push(Ie.appendChild(Rt))})}addHost(de){const Ie=[];this._addStylesToHost(this._stylesSet,de,Ie),this._hostNodes.set(de,Ie)}removeHost(de){const Ie=this._hostNodes.get(de);Ie&&Ie.forEach(Ut),this._hostNodes.delete(de)}onStylesAdded(de){this._hostNodes.forEach((Ie,Ge)=>{this._addStylesToHost(de,Ge,Ie)})}ngOnDestroy(){this._hostNodes.forEach(de=>de.forEach(Ut))}}return ot.\u0275fac=function(de){return new(de||ot)(v.LFG(f.K0))},ot.\u0275prov=v.Yz7({token:ot,factory:ot.\u0275fac}),ot})();function Ut(ot){(0,f.q)().remove(ot)}const un={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},et=/%COMP%/g;function Cn(ot,ne){return ne.flat(100).map(de=>de.replace(et,ot))}function Bn(ot){return ne=>{if("__ngUnwrap__"===ne)return ot;!1===ot(ne)&&(ne.preventDefault(),ne.returnValue=!1)}}let In=(()=>{class ot{constructor(de,Ie,Ge){this.eventManager=de,this.sharedStylesHost=Ie,this.appId=Ge,this.rendererByCompId=new Map,this.defaultRenderer=new mn(de)}createRenderer(de,Ie){if(!de||!Ie)return this.defaultRenderer;switch(Ie.encapsulation){case v.ifc.Emulated:{let Ge=this.rendererByCompId.get(Ie.id);return Ge||(Ge=new Gt(this.eventManager,this.sharedStylesHost,Ie,this.appId),this.rendererByCompId.set(Ie.id,Ge)),Ge.applyToHost(de),Ge}case v.ifc.ShadowDom:return new pn(this.eventManager,this.sharedStylesHost,de,Ie);default:if(!this.rendererByCompId.has(Ie.id)){const Ge=Cn(Ie.id,Ie.styles);this.sharedStylesHost.addStyles(Ge),this.rendererByCompId.set(Ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ot.\u0275fac=function(de){return new(de||ot)(v.LFG(Ft),v.LFG(Ye),v.LFG(v.AFp))},ot.\u0275prov=v.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class mn{constructor(ne){this.eventManager=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ne,de){return de?document.createElementNS(un[de]||de,ne):document.createElement(ne)}createComment(ne){return document.createComment(ne)}createText(ne){return document.createTextNode(ne)}appendChild(ne,de){(pt(ne)?ne.content:ne).appendChild(de)}insertBefore(ne,de,Ie){ne&&(pt(ne)?ne.content:ne).insertBefore(de,Ie)}removeChild(ne,de){ne&&ne.removeChild(de)}selectRootElement(ne,de){let Ie="string"==typeof ne?document.querySelector(ne):ne;if(!Ie)throw new Error(`The selector "${ne}" did not match any elements`);return de||(Ie.textContent=""),Ie}parentNode(ne){return ne.parentNode}nextSibling(ne){return ne.nextSibling}setAttribute(ne,de,Ie,Ge){if(Ge){de=Ge+":"+de;const lt=un[Ge];lt?ne.setAttributeNS(lt,de,Ie):ne.setAttribute(de,Ie)}else ne.setAttribute(de,Ie)}removeAttribute(ne,de,Ie){if(Ie){const Ge=un[Ie];Ge?ne.removeAttributeNS(Ge,de):ne.removeAttribute(`${Ie}:${de}`)}else ne.removeAttribute(de)}addClass(ne,de){ne.classList.add(de)}removeClass(ne,de){ne.classList.remove(de)}setStyle(ne,de,Ie,Ge){Ge&(v.JOm.DashCase|v.JOm.Important)?ne.style.setProperty(de,Ie,Ge&v.JOm.Important?"important":""):ne.style[de]=Ie}removeStyle(ne,de,Ie){Ie&v.JOm.DashCase?ne.style.removeProperty(de):ne.style[de]=""}setProperty(ne,de,Ie){ne[de]=Ie}setValue(ne,de){ne.nodeValue=de}listen(ne,de,Ie){return"string"==typeof ne?this.eventManager.addGlobalEventListener(ne,de,Bn(Ie)):this.eventManager.addEventListener(ne,de,Bn(Ie))}}function pt(ot){return"TEMPLATE"===ot.tagName&&void 0!==ot.content}class Gt extends mn{constructor(ne,de,Ie,Ge){super(ne),this.component=Ie;const lt=Cn(Ge+"-"+Ie.id,Ie.styles);de.addStyles(lt),this.contentAttr=function Nt(ot){return"_ngcontent-%COMP%".replace(et,ot)}(Ge+"-"+Ie.id),this.hostAttr=function vn(ot){return"_nghost-%COMP%".replace(et,ot)}(Ge+"-"+Ie.id)}applyToHost(ne){super.setAttribute(ne,this.hostAttr,"")}createElement(ne,de){const Ie=super.createElement(ne,de);return super.setAttribute(Ie,this.contentAttr,""),Ie}}class pn extends mn{constructor(ne,de,Ie,Ge){super(ne),this.sharedStylesHost=de,this.hostEl=Ie,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const lt=Cn(Ge.id,Ge.styles);for(let Rt=0;Rt<lt.length;Rt++){const an=document.createElement("style");an.textContent=lt[Rt],this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(ne){return ne===this.hostEl?this.shadowRoot:ne}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ne,de){return super.appendChild(this.nodeOrShadowRoot(ne),de)}insertBefore(ne,de,Ie){return super.insertBefore(this.nodeOrShadowRoot(ne),de,Ie)}removeChild(ne,de){return super.removeChild(this.nodeOrShadowRoot(ne),de)}parentNode(ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ne)))}}let en=(()=>{class ot extends on{constructor(de){super(de)}supports(de){return!0}addEventListener(de,Ie,Ge){return de.addEventListener(Ie,Ge,!1),()=>this.removeEventListener(de,Ie,Ge)}removeEventListener(de,Ie,Ge){return de.removeEventListener(Ie,Ge)}}return ot.\u0275fac=function(de){return new(de||ot)(v.LFG(f.K0))},ot.\u0275prov=v.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const rn=["alt","control","meta","shift"],Dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$n={alt:ot=>ot.altKey,control:ot=>ot.ctrlKey,meta:ot=>ot.metaKey,shift:ot=>ot.shiftKey};let Tn=(()=>{class ot extends on{constructor(de){super(de)}supports(de){return null!=ot.parseEventName(de)}addEventListener(de,Ie,Ge){const lt=ot.parseEventName(Ie),Rt=ot.eventCallback(lt.fullKey,Ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(de,lt.domEventName,Rt))}static parseEventName(de){const Ie=de.toLowerCase().split("."),Ge=Ie.shift();if(0===Ie.length||"keydown"!==Ge&&"keyup"!==Ge)return null;const lt=ot._normalizeKey(Ie.pop());let Rt="",an=Ie.indexOf("code");if(an>-1&&(Ie.splice(an,1),Rt="code."),rn.forEach(r=>{const s=Ie.indexOf(r);s>-1&&(Ie.splice(s,1),Rt+=r+".")}),Rt+=lt,0!=Ie.length||0===lt.length)return null;const ye={};return ye.domEventName=Ge,ye.fullKey=Rt,ye}static matchEventFullKeyCode(de,Ie){let Ge=Dt[de.key]||de.key,lt="";return Ie.indexOf("code.")>-1&&(Ge=de.code,lt="code."),!(null==Ge||!Ge)&&(Ge=Ge.toLowerCase()," "===Ge?Ge="space":"."===Ge&&(Ge="dot"),rn.forEach(Rt=>{Rt!==Ge&&(0,$n[Rt])(de)&&(lt+=Rt+".")}),lt+=Ge,lt===Ie)}static eventCallback(de,Ie,Ge){return lt=>{ot.matchEventFullKeyCode(lt,de)&&Ge.runGuarded(()=>Ie(lt))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return ot.\u0275fac=function(de){return new(de||ot)(v.LFG(f.K0))},ot.\u0275prov=v.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const sr=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:f.bD},{provide:v.g9A,useValue:function bi(){Xe.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function gn(){return(0,v.RDi)(document),document},deps:[]}]),Bi=new v.OlP(""),ki=[{provide:v.rWj,useClass:class Et{addToWindow(ne){v.dqk.getAngularTestability=(Ie,Ge=!0)=>{const lt=ne.findTestabilityInTree(Ie,Ge);if(null==lt)throw new Error("Could not find testability for element.");return lt},v.dqk.getAllAngularTestabilities=()=>ne.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>ne.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(Ie=>{const Ge=v.dqk.getAllAngularTestabilities();let lt=Ge.length,Rt=!1;const an=function(ye){Rt=Rt||ye,lt--,0==lt&&Ie(Rt)};Ge.forEach(function(ye){ye.whenStable(an)})})}findTestabilityInTree(ne,de,Ie){return null==de?null:ne.getTestability(de)??(Ie?(0,f.q)().isShadowRoot(de)?this.findTestabilityInTree(ne,de.host,!0):this.findTestabilityInTree(ne,de.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Pi=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function li(){return new v.qLn},deps:[]},{provide:ct,useClass:en,multi:!0,deps:[f.K0,v.R0b,v.Lbi]},{provide:ct,useClass:Tn,multi:!0,deps:[f.K0]},{provide:In,useClass:In,deps:[Ft,Ye,v.AFp]},{provide:v.FYo,useExisting:In},{provide:At,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[f.K0]},{provide:Ft,useClass:Ft,deps:[ct,v.R0b]},{provide:f.JF,useClass:Jt,deps:[]},[]];let qi=(()=>{class ot{constructor(de){}static withServerTransition(de){return{ngModule:ot,providers:[{provide:v.AFp,useValue:de.appId},{provide:vt,useExisting:v.AFp},xt]}}}return ot.\u0275fac=function(de){return new(de||ot)(v.LFG(Bi,12))},ot.\u0275mod=v.oAB({type:ot}),ot.\u0275inj=v.cJS({providers:[...Pi,...ki],imports:[f.ez,v.hGG]}),ot})(),Hi=(()=>{class ot{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return ot.\u0275fac=function(de){return new(de||ot)(v.LFG(f.K0))},ot.\u0275prov=v.Yz7({token:ot,factory:function(de){let Ie=null;return Ie=de?new de:function Oi(){return new Hi((0,v.LFG)(f.K0))}(),Ie},providedIn:"root"}),ot})();typeof window<"u"&&window},2605:(Hn,gt,ue)=>{"use strict";ue.d(gt,{gz:()=>ms,m2:()=>Ke,F0:()=>jr,rH:()=>gl,Od:()=>qc,Bz:()=>Xh,lC:()=>hi});var f=ue(4650),v=ue(2076),He=ue(9646),Xe=ue(1135);const Qe=(0,ue(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"});var je=ue(9841),tt=ue(7272),vt=ue(9770),bt=ue(9635),xt=ue(2843),Et=ue(9751),Jt=ue(515),ct=ue(727),Ft=ue(4482),on=ue(5403);function At(){return(0,Ft.e)((G,q)=>{let V=null;G._refCount++;const te=(0,on.x)(q,void 0,void 0,void 0,()=>{if(!G||G._refCount<=0||0<--G._refCount)return void(V=null);const ve=G._connection,Oe=V;V=null,ve&&(!Oe||ve===Oe)&&ve.unsubscribe(),q.unsubscribe()});G.subscribe(te),te.closed||(V=G.connect())})}class Ye extends Et.y{constructor(q,V){super(),this.source=q,this.subjectFactory=V,this._subject=null,this._refCount=0,this._connection=null,(0,Ft.A)(q)&&(this.lift=q.lift)}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:q}=this;this._subject=this._connection=null,q?.unsubscribe()}connect(){let q=this._connection;if(!q){q=this._connection=new ct.w0;const V=this.getSubject();q.add(this.source.subscribe((0,on.x)(V,void 0,()=>{this._teardown(),V.complete()},te=>{this._teardown(),V.error(te)},()=>this._teardown()))),q.closed&&(this._connection=null,q=ct.w0.EMPTY)}return q}refCount(){return At()(this)}}var Ut=ue(7579),un=ue(6895),et=ue(4004),jt=ue(3900),fn=ue(5698),Fn=ue(8675),Qt=ue(9300),Nt=ue(5577);function vn(G){return(0,Ft.e)((q,V)=>{let te=!1;q.subscribe((0,on.x)(V,ve=>{te=!0,V.next(ve)},()=>{te||V.next(G),V.complete()}))})}function Cn(G=Bn){return(0,Ft.e)((q,V)=>{let te=!1;q.subscribe((0,on.x)(V,ve=>{te=!0,V.next(ve)},()=>te?V.complete():V.error(G())))})}function Bn(){return new Qe}var In=ue(4671);function mn(G,q){const V=arguments.length>=2;return te=>te.pipe(G?(0,Qt.h)((ve,Oe)=>G(ve,Oe,te)):In.y,(0,fn.q)(1),V?vn(q):Cn(()=>new Qe))}var mt=ue(4351),Lt=ue(8505),pt=ue(262);function Gt(G,q,V,te,ve){return(Oe,Le)=>{let yt=V,nn=q,si=0;Oe.subscribe((0,on.x)(Le,yn=>{const Lr=si++;nn=yt?G(nn,yn,Lr):(yt=!0,yn),te&&Le.next(nn)},ve&&(()=>{yt&&Le.next(nn),Le.complete()})))}}function pn(G,q){return(0,Ft.e)(Gt(G,q,arguments.length>=2,!0))}function en(G){return G<=0?()=>Jt.E:(0,Ft.e)((q,V)=>{let te=[];q.subscribe((0,on.x)(V,ve=>{te.push(ve),G<te.length&&te.shift()},()=>{for(const ve of te)V.next(ve);V.complete()},void 0,()=>{te=null}))})}function rn(G,q){const V=arguments.length>=2;return te=>te.pipe(G?(0,Qt.h)((ve,Oe)=>G(ve,Oe,te)):In.y,en(1),V?vn(q):Cn(()=>new Qe))}var $n=ue(9718);function Tn(G){return(0,Ft.e)((q,V)=>{try{q.subscribe(V)}finally{V.add(G)}})}var Pn=ue(8189),Vn=ue(1481);const Rn="primary",ui=Symbol("RouteTitle");class Di{constructor(q){this.params=q||{}}has(q){return Object.prototype.hasOwnProperty.call(this.params,q)}get(q){if(this.has(q)){const V=this.params[q];return Array.isArray(V)?V[0]:V}return null}getAll(q){if(this.has(q)){const V=this.params[q];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function bi(G){return new Di(G)}function li(G,q,V){const te=V.path.split("/");if(te.length>G.length||"full"===V.pathMatch&&(q.hasChildren()||te.length<G.length))return null;const ve={};for(let Oe=0;Oe<te.length;Oe++){const Le=te[Oe],yt=G[Oe];if(Le.startsWith(":"))ve[Le.substring(1)]=yt;else if(Le!==yt.path)return null}return{consumed:G.slice(0,te.length),posParams:ve}}function Si(G,q){const V=G?Object.keys(G):void 0,te=q?Object.keys(q):void 0;if(!V||!te||V.length!=te.length)return!1;let ve;for(let Oe=0;Oe<V.length;Oe++)if(ve=V[Oe],!sr(G[ve],q[ve]))return!1;return!0}function sr(G,q){if(Array.isArray(G)&&Array.isArray(q)){if(G.length!==q.length)return!1;const V=[...G].sort(),te=[...q].sort();return V.every((ve,Oe)=>te[Oe]===ve)}return G===q}function Bi(G){return Array.prototype.concat.apply([],G)}function ki(G){return G.length>0?G[G.length-1]:null}function qi(G,q){for(const V in G)G.hasOwnProperty(V)&&q(G[V],V)}function Un(G){return(0,f.CqO)(G)?G:(0,f.QGY)(G)?(0,v.D)(Promise.resolve(G)):(0,He.of)(G)}const Dn=!1,Rs={exact:function ni(G,q,V){if(!Mi(G.segments,q.segments)||!cr(G.segments,q.segments,V)||G.numberOfChildren!==q.numberOfChildren)return!1;for(const te in q.children)if(!G.children[te]||!ni(G.children[te],q.children[te],V))return!1;return!0},subset:ln},Oi={exact:function xr(G,q){return Si(G,q)},subset:function ti(G,q){return Object.keys(q).length<=Object.keys(G).length&&Object.keys(q).every(V=>sr(G[V],q[V]))},ignored:()=>!0};function Hi(G,q,V){return Rs[V.paths](G.root,q.root,V.matrixParams)&&Oi[V.queryParams](G.queryParams,q.queryParams)&&!("exact"===V.fragment&&G.fragment!==q.fragment)}function ln(G,q,V){return es(G,q,q.segments,V)}function es(G,q,V,te){if(G.segments.length>V.length){const ve=G.segments.slice(0,V.length);return!(!Mi(ve,V)||q.hasChildren()||!cr(ve,V,te))}if(G.segments.length===V.length){if(!Mi(G.segments,V)||!cr(G.segments,V,te))return!1;for(const ve in q.children)if(!G.children[ve]||!ln(G.children[ve],q.children[ve],te))return!1;return!0}{const ve=V.slice(0,G.segments.length),Oe=V.slice(G.segments.length);return!!(Mi(G.segments,ve)&&cr(G.segments,ve,te)&&G.children[Rn])&&es(G.children[Rn],q,Oe,te)}}function cr(G,q,V){return q.every((te,ve)=>Oi[V](G[ve].parameters,te.parameters))}class Qi{constructor(q=new ii([],{}),V={},te=null){this.root=q,this.queryParams=V,this.fragment=te}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bi(this.queryParams)),this._queryParamMap}toString(){return Ur.serialize(this)}}class ii{constructor(q,V){this.segments=q,this.children=V,this.parent=null,qi(V,(te,ve)=>te.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gi(this)}}class Ki{constructor(q,V){this.path=q,this.parameters=V}get parameterMap(){return this._parameterMap||(this._parameterMap=bi(this.parameters)),this._parameterMap}toString(){return ke(this)}}function Mi(G,q){return G.length===q.length&&G.every((V,te)=>V.path===q[te].path)}let fi=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:function(){return new ur},providedIn:"root"}),G})();class ur{parse(q){const V=new de(q);return new Qi(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(q){const V=`/${or(q.root,!0)}`,te=function Gn(G){const q=Object.keys(G).map(V=>{const te=G[V];return Array.isArray(te)?te.map(ve=>`${nt(V)}=${nt(ve)}`).join("&"):`${nt(V)}=${nt(te)}`}).filter(V=>!!V);return q.length?`?${q.join("&")}`:""}(q.queryParams);return`${V}${te}${"string"==typeof q.fragment?`#${function ft(G){return encodeURI(G)}(q.fragment)}`:""}`}}const Ur=new ur;function gi(G){return G.segments.map(q=>ke(q)).join("/")}function or(G,q){if(!G.hasChildren())return gi(G);if(q){const V=G.children[Rn]?or(G.children[Rn],!1):"",te=[];return qi(G.children,(ve,Oe)=>{Oe!==Rn&&te.push(`${Oe}:${or(ve,!1)}`)}),te.length>0?`${V}(${te.join("//")})`:V}{const V=function $r(G,q){let V=[];return qi(G.children,(te,ve)=>{ve===Rn&&(V=V.concat(q(te,ve)))}),qi(G.children,(te,ve)=>{ve!==Rn&&(V=V.concat(q(te,ve)))}),V}(G,(te,ve)=>ve===Rn?[or(G.children[Rn],!1)]:[`${ve}:${or(te,!1)}`]);return 1===Object.keys(G.children).length&&null!=G.children[Rn]?`${gi(G)}/${V[0]}`:`${gi(G)}/(${V.join("//")})`}}function Yt(G){return encodeURIComponent(G).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nt(G){return Yt(G).replace(/%3B/gi,";")}function hn(G){return Yt(G).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tn(G){return decodeURIComponent(G)}function cn(G){return tn(G.replace(/\+/g,"%20"))}function ke(G){return`${hn(G.path)}${function vi(G){return Object.keys(G).map(q=>`;${hn(q)}=${hn(G[q])}`).join("")}(G.parameters)}`}const dr=/^[^\/()?;=#]+/;function Gi(G){const q=G.match(dr);return q?q[0]:""}const On=/^[^=?&#]+/,ot=/^[^&#]+/;class de{constructor(q){this.url=q,this.remaining=q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ii([],{}):new ii([],this.parseChildren())}parseQueryParams(){const q={};if(this.consumeOptional("?"))do{this.parseQueryParam(q)}while(this.consumeOptional("&"));return q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const q=[];for(this.peekStartsWith("(")||q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),q.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let te={};return this.peekStartsWith("(")&&(te=this.parseParens(!1)),(q.length>0||Object.keys(V).length>0)&&(te[Rn]=new ii(q,V)),te}parseSegment(){const q=Gi(this.remaining);if(""===q&&this.peekStartsWith(";"))throw new f.vHH(4009,Dn);return this.capture(q),new Ki(tn(q),this.parseMatrixParams())}parseMatrixParams(){const q={};for(;this.consumeOptional(";");)this.parseParam(q);return q}parseParam(q){const V=Gi(this.remaining);if(!V)return;this.capture(V);let te="";if(this.consumeOptional("=")){const ve=Gi(this.remaining);ve&&(te=ve,this.capture(te))}q[tn(V)]=tn(te)}parseQueryParam(q){const V=function Wi(G){const q=G.match(On);return q?q[0]:""}(this.remaining);if(!V)return;this.capture(V);let te="";if(this.consumeOptional("=")){const Le=function ne(G){const q=G.match(ot);return q?q[0]:""}(this.remaining);Le&&(te=Le,this.capture(te))}const ve=cn(V),Oe=cn(te);if(q.hasOwnProperty(ve)){let Le=q[ve];Array.isArray(Le)||(Le=[Le],q[ve]=Le),Le.push(Oe)}else q[ve]=Oe}parseParens(q){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const te=Gi(this.remaining),ve=this.remaining[te.length];if("/"!==ve&&")"!==ve&&";"!==ve)throw new f.vHH(4010,Dn);let Oe;te.indexOf(":")>-1?(Oe=te.slice(0,te.indexOf(":")),this.capture(Oe),this.capture(":")):q&&(Oe=Rn);const Le=this.parseChildren();V[Oe]=1===Object.keys(Le).length?Le[Rn]:new ii([],Le),this.consumeOptional("//")}return V}peekStartsWith(q){return this.remaining.startsWith(q)}consumeOptional(q){return!!this.peekStartsWith(q)&&(this.remaining=this.remaining.substring(q.length),!0)}capture(q){if(!this.consumeOptional(q))throw new f.vHH(4011,Dn)}}function Ie(G){return G.segments.length>0?new ii([],{[Rn]:G}):G}function Ge(G){const q={};for(const te of Object.keys(G.children)){const Oe=Ge(G.children[te]);(Oe.segments.length>0||Oe.hasChildren())&&(q[te]=Oe)}return function lt(G){if(1===G.numberOfChildren&&G.children[Rn]){const q=G.children[Rn];return new ii(G.segments.concat(q.segments),q.children)}return G}(new ii(G.segments,q))}function Rt(G){return G instanceof Qi}function u(G,q,V,te,ve){if(0===V.length)return x(q.root,q.root,q.root,te,ve);const Oe=function P(G){if("string"==typeof G[0]&&1===G.length&&"/"===G[0])return new I(!0,0,G);let q=0,V=!1;const te=G.reduce((ve,Oe,Le)=>{if("object"==typeof Oe&&null!=Oe){if(Oe.outlets){const yt={};return qi(Oe.outlets,(nn,si)=>{yt[si]="string"==typeof nn?nn.split("/"):nn}),[...ve,{outlets:yt}]}if(Oe.segmentPath)return[...ve,Oe.segmentPath]}return"string"!=typeof Oe?[...ve,Oe]:0===Le?(Oe.split("/").forEach((yt,nn)=>{0==nn&&"."===yt||(0==nn&&""===yt?V=!0:".."===yt?q++:""!=yt&&ve.push(yt))}),ve):[...ve,Oe]},[]);return new I(V,q,te)}(V);return Oe.toRoot()?x(q.root,q.root,new ii([],{}),te,ve):function Le(nn){const si=function z(G,q,V,te){if(G.isAbsolute)return new N(q.root,!0,0);if(-1===te)return new N(V,V===q.root,0);return function X(G,q,V){let te=G,ve=q,Oe=V;for(;Oe>ve;){if(Oe-=ve,te=te.parent,!te)throw new f.vHH(4005,!1);ve=te.segments.length}return new N(te,!1,ve-Oe)}(V,te+(p(G.commands[0])?0:1),G.numberOfDoubleDots)}(Oe,q,G.snapshot?._urlSegment,nn),yn=si.processChildren?me(si.segmentGroup,si.index,Oe.commands):ie(si.segmentGroup,si.index,Oe.commands);return x(q.root,si.segmentGroup,yn,te,ve)}(G.snapshot?._lastPathIndex)}function p(G){return"object"==typeof G&&null!=G&&!G.outlets&&!G.segmentPath}function y(G){return"object"==typeof G&&null!=G&&G.outlets}function x(G,q,V,te,ve){let Le,Oe={};te&&qi(te,(nn,si)=>{Oe[si]=Array.isArray(nn)?nn.map(yn=>`${yn}`):`${nn}`}),Le=G===q?V:w(G,q,V);const yt=Ie(Ge(Le));return new Qi(yt,Oe,ve)}function w(G,q,V){const te={};return qi(G.children,(ve,Oe)=>{te[Oe]=ve===q?V:w(ve,q,V)}),new ii(G.segments,te)}class I{constructor(q,V,te){if(this.isAbsolute=q,this.numberOfDoubleDots=V,this.commands=te,q&&te.length>0&&p(te[0]))throw new f.vHH(4003,!1);const ve=te.find(y);if(ve&&ve!==ki(te))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class N{constructor(q,V,te){this.segmentGroup=q,this.processChildren=V,this.index=te}}function ie(G,q,V){if(G||(G=new ii([],{})),0===G.segments.length&&G.hasChildren())return me(G,q,V);const te=function Ae(G,q,V){let te=0,ve=q;const Oe={match:!1,pathIndex:0,commandIndex:0};for(;ve<G.segments.length;){if(te>=V.length)return Oe;const Le=G.segments[ve],yt=V[te];if(y(yt))break;const nn=`${yt}`,si=te<V.length-1?V[te+1]:null;if(ve>0&&void 0===nn)break;if(nn&&si&&"object"==typeof si&&void 0===si.outlets){if(!ce(nn,si,Le))return Oe;te+=2}else{if(!ce(nn,{},Le))return Oe;te++}ve++}return{match:!0,pathIndex:ve,commandIndex:te}}(G,q,V),ve=V.slice(te.commandIndex);if(te.match&&te.pathIndex<G.segments.length){const Oe=new ii(G.segments.slice(0,te.pathIndex),{});return Oe.children[Rn]=new ii(G.segments.slice(te.pathIndex),G.children),me(Oe,0,ve)}return te.match&&0===ve.length?new ii(G.segments,{}):te.match&&!G.hasChildren()?Ve(G,q,V):te.match?me(G,0,ve):Ve(G,q,V)}function me(G,q,V){if(0===V.length)return new ii(G.segments,{});{const te=function le(G){return y(G[0])?G[0].outlets:{[Rn]:G}}(V),ve={};return!te[Rn]&&G.children[Rn]&&1===G.numberOfChildren&&0===G.children[Rn].segments.length?me(G.children[Rn],q,V):(qi(te,(Oe,Le)=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(ve[Le]=ie(G.children[Le],q,Oe))}),qi(G.children,(Oe,Le)=>{void 0===te[Le]&&(ve[Le]=Oe)}),new ii(G.segments,ve))}}function Ve(G,q,V){const te=G.segments.slice(0,q);let ve=0;for(;ve<V.length;){const Oe=V[ve];if(y(Oe)){const nn=D(Oe.outlets);return new ii(te,nn)}if(0===ve&&p(V[0])){te.push(new Ki(G.segments[q].path,Z(V[0]))),ve++;continue}const Le=y(Oe)?Oe.outlets[Rn]:`${Oe}`,yt=ve<V.length-1?V[ve+1]:null;Le&&yt&&p(yt)?(te.push(new Ki(Le,Z(yt))),ve+=2):(te.push(new Ki(Le,{})),ve++)}return new ii(te,{})}function D(G){const q={};return qi(G,(V,te)=>{"string"==typeof V&&(V=[V]),null!==V&&(q[te]=Ve(new ii([],{}),0,V))}),q}function Z(G){const q={};return qi(G,(V,te)=>q[te]=`${V}`),q}function ce(G,q,V){return G==V.path&&Si(q,V.parameters)}const xe="imperative";class Pe{constructor(q,V){this.id=q,this.url=V}}class ze extends Pe{constructor(q,V,te="imperative",ve=null){super(q,V),this.type=0,this.navigationTrigger=te,this.restoredState=ve}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ke extends Pe{constructor(q,V,te){super(q,V),this.urlAfterRedirects=te,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class st extends Pe{constructor(q,V,te,ve){super(q,V),this.reason=te,this.code=ve,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tt extends Pe{constructor(q,V,te,ve){super(q,V),this.reason=te,this.code=ve,this.type=16}}class $t extends Pe{constructor(q,V,te,ve){super(q,V),this.error=te,this.target=ve,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zt extends Pe{constructor(q,V,te,ve){super(q,V),this.urlAfterRedirects=te,this.state=ve,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends Pe{constructor(q,V,te,ve){super(q,V),this.urlAfterRedirects=te,this.state=ve,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Pe{constructor(q,V,te,ve,Oe){super(q,V),this.urlAfterRedirects=te,this.state=ve,this.shouldActivate=Oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qn extends Pe{constructor(q,V,te,ve){super(q,V),this.urlAfterRedirects=te,this.state=ve,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends Pe{constructor(q,V,te,ve){super(q,V),this.urlAfterRedirects=te,this.state=ve,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xi{constructor(q){this.route=q,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ji{constructor(q){this.route=q,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pi{constructor(q){this.snapshot=q,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(q){this.snapshot=q,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wr{constructor(q){this.snapshot=q,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(q){this.snapshot=q,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(q,V,te){this.routerEvent=q,this.position=V,this.anchor=te,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let zi=(()=>{class G{createUrlTree(V,te,ve,Oe,Le,yt){return u(V||te.root,ve,Oe,Le,yt)}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac}),G})(),ai=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:function(q){return zi.\u0275fac(q)},providedIn:"root"}),G})();class gr{constructor(q){this._root=q}get root(){return this._root.value}parent(q){const V=this.pathFromRoot(q);return V.length>1?V[V.length-2]:null}children(q){const V=ar(q,this._root);return V?V.children.map(te=>te.value):[]}firstChild(q){const V=ar(q,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(q){const V=gs(q,this._root);return V.length<2?[]:V[V.length-2].children.map(ve=>ve.value).filter(ve=>ve!==q)}pathFromRoot(q){return gs(q,this._root).map(V=>V.value)}}function ar(G,q){if(G===q.value)return q;for(const V of q.children){const te=ar(G,V);if(te)return te}return null}function gs(G,q){if(G===q.value)return[q];for(const V of q.children){const te=gs(G,V);if(te.length)return te.unshift(q),te}return[]}class cs{constructor(q,V){this.value=q,this.children=V}toString(){return`TreeNode(${this.value})`}}function Or(G){const q={};return G&&G.children.forEach(V=>q[V.value.outlet]=V),q}class Lo extends gr{constructor(q,V){super(q),this.snapshot=V,so(this,q)}toString(){return this.snapshot.toString()}}function Ns(G,q){const V=function Ls(G,q){const Le=new _s([],{},{},"",{},Rn,q,null,G.root,-1,{});return new yo("",new cs(Le,[]))}(G,q),te=new Xe.X([new Ki("",{})]),ve=new Xe.X({}),Oe=new Xe.X({}),Le=new Xe.X({}),yt=new Xe.X(""),nn=new ms(te,ve,Le,yt,Oe,Rn,q,V.root);return nn.snapshot=V.root,new Lo(new cs(nn,[]),V)}class ms{constructor(q,V,te,ve,Oe,Le,yt,nn){this.url=q,this.params=V,this.queryParams=te,this.fragment=ve,this.data=Oe,this.outlet=Le,this.component=yt,this.title=this.data?.pipe((0,et.U)(si=>si[ui]))??(0,He.of)(void 0),this._futureSnapshot=nn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(q=>bi(q)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(q=>bi(q)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Er(G,q="emptyOnly"){const V=G.pathFromRoot;let te=0;if("always"!==q)for(te=V.length-1;te>=1;){const ve=V[te],Oe=V[te-1];if(ve.routeConfig&&""===ve.routeConfig.path)te--;else{if(Oe.component)break;te--}}return function Fs(G){return G.reduce((q,V)=>({params:{...q.params,...V.params},data:{...q.data,...V.data},resolve:{...V.data,...q.resolve,...V.routeConfig?.data,...V._resolvedData}}),{params:{},data:{},resolve:{}})}(V.slice(te))}class _s{get title(){return this.data?.[ui]}constructor(q,V,te,ve,Oe,Le,yt,nn,si,yn,Lr){this.url=q,this.params=V,this.queryParams=te,this.fragment=ve,this.data=Oe,this.outlet=Le,this.component=yt,this.routeConfig=nn,this._urlSegment=si,this._lastPathIndex=yn,this._resolve=Lr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(te=>te.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yo extends gr{constructor(q,V){super(V),this.url=q,so(this,V)}toString(){return Ys(this._root)}}function so(G,q){q.value._routerState=G,q.children.forEach(V=>so(G,V))}function Ys(G){const q=G.children.length>0?` { ${G.children.map(Ys).join(", ")} } `:"";return`${G.value}${q}`}function lr(G){if(G.snapshot){const q=G.snapshot,V=G._futureSnapshot;G.snapshot=V,Si(q.queryParams,V.queryParams)||G.queryParams.next(V.queryParams),q.fragment!==V.fragment&&G.fragment.next(V.fragment),Si(q.params,V.params)||G.params.next(V.params),function gn(G,q){if(G.length!==q.length)return!1;for(let V=0;V<G.length;++V)if(!Si(G[V],q[V]))return!1;return!0}(q.url,V.url)||G.url.next(V.url),Si(q.data,V.data)||G.data.next(V.data)}else G.snapshot=G._futureSnapshot,G.data.next(G._futureSnapshot.data)}function bs(G,q){const V=Si(G.params,q.params)&&function pr(G,q){return Mi(G,q)&&G.every((V,te)=>Si(V.parameters,q[te].parameters))}(G.url,q.url);return V&&!(!G.parent!=!q.parent)&&(!G.parent||bs(G.parent,q.parent))}function Fi(G,q,V){if(V&&G.shouldReuseRoute(q.value,V.value.snapshot)){const te=V.value;te._futureSnapshot=q.value;const ve=function Be(G,q,V){return q.children.map(te=>{for(const ve of V.children)if(G.shouldReuseRoute(te.value,ve.value.snapshot))return Fi(G,te,ve);return Fi(G,te)})}(G,q,V);return new cs(te,ve)}{if(G.shouldAttach(q.value)){const Oe=G.retrieve(q.value);if(null!==Oe){const Le=Oe.route;return Le.value._futureSnapshot=q.value,Le.children=q.children.map(yt=>Fi(G,yt)),Le}}const te=function Ce(G){return new ms(new Xe.X(G.url),new Xe.X(G.params),new Xe.X(G.queryParams),new Xe.X(G.fragment),new Xe.X(G.data),G.outlet,G.component,G)}(q.value),ve=q.children.map(Oe=>Fi(G,Oe));return new cs(te,ve)}}const fe="ngNavigationCancelingError";function Ue(G,q){const{redirectTo:V,navigationBehaviorOptions:te}=Rt(q)?{redirectTo:q,navigationBehaviorOptions:void 0}:q,ve=ut(!1,0,q);return ve.url=V,ve.navigationBehaviorOptions=te,ve}function ut(G,q,V){const te=new Error("NavigationCancelingError: "+(G||""));return te[fe]=!0,te.cancellationCode=q,V&&(te.url=V),te}function Pt(G){return sn(G)&&Rt(G.url)}function sn(G){return G&&G[fe]}class wn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new yi,this.attachRef=null}}let yi=(()=>{class G{constructor(){this.contexts=new Map}onChildOutletCreated(V,te){const ve=this.getOrCreateContext(V);ve.outlet=te,this.contexts.set(V,ve)}onChildOutletDestroyed(V){const te=this.getContext(V);te&&(te.outlet=null,te.attachRef=null)}onOutletDeactivated(){const V=this.contexts;return this.contexts=new Map,V}onOutletReAttached(V){this.contexts=V}getOrCreateContext(V){let te=this.getContext(V);return te||(te=new wn,this.contexts.set(V,te)),te}getContext(V){return this.contexts.get(V)||null}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();const Ai=!1;let hi=(()=>{class G{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rn,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(yi),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(V){if(V.name){const{firstChange:te,previousValue:ve}=V.name;if(te)return;this.isTrackedInParentContexts(ve)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ve)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(V){return this.parentContexts.getContext(V)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const V=this.parentContexts.getContext(this.name);V?.route&&(V.attachRef?this.attach(V.attachRef,V.route):this.activateWith(V.route,V.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Ai);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Ai);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Ai);this.location.detach();const V=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(V.instance),V}attach(V,te){this.activated=V,this._activatedRoute=te,this.location.insert(V.hostView),this.attachEvents.emit(V.instance)}deactivate(){if(this.activated){const V=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(V)}}activateWith(V,te){if(this.isActivated)throw new f.vHH(4013,Ai);this._activatedRoute=V;const ve=this.location,Le=V.snapshot.component,yt=this.parentContexts.getOrCreateContext(this.name).children,nn=new Yr(V,yt,ve.injector);if(te&&function Hr(G){return!!G.resolveComponentFactory}(te)){const si=te.resolveComponentFactory(Le);this.activated=ve.createComponent(si,ve.length,nn)}else this.activated=ve.createComponent(Le,{index:ve.length,injector:nn,environmentInjector:te??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275dir=f.lG2({type:G,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),G})();class Yr{constructor(q,V,te){this.route=q,this.childContexts=V,this.parent=te}get(q,V){return q===ms?this.route:q===yi?this.childContexts:this.parent.get(q,V)}}let Bs=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275cmp=f.Xpm({type:G,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(V,te){1&V&&f._UZ(0,"router-outlet")},dependencies:[hi],encapsulation:2}),G})();function xs(G,q){return G.providers&&!G._injector&&(G._injector=(0,f.MMx)(G.providers,q,`Route: ${G.path}`)),G._injector??q}function qo(G){const q=G.children&&G.children.map(qo),V=q?{...G,children:q}:{...G};return!V.component&&!V.loadComponent&&(q||V.loadChildren)&&V.outlet&&V.outlet!==Rn&&(V.component=Bs),V}function Tr(G){return G.outlet||Rn}function Ia(G,q){const V=G.filter(te=>Tr(te)===q);return V.push(...G.filter(te=>Tr(te)!==q)),V}function bo(G){if(!G)return null;if(G.routeConfig?._injector)return G.routeConfig._injector;for(let q=G.parent;q;q=q.parent){const V=q.routeConfig;if(V?._loadedInjector)return V._loadedInjector;if(V?._injector)return V._injector}return null}class vs{constructor(q,V,te,ve){this.routeReuseStrategy=q,this.futureState=V,this.currState=te,this.forwardEvent=ve}activate(q){const V=this.futureState._root,te=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,te,q),lr(this.futureState.root),this.activateChildRoutes(V,te,q)}deactivateChildRoutes(q,V,te){const ve=Or(V);q.children.forEach(Oe=>{const Le=Oe.value.outlet;this.deactivateRoutes(Oe,ve[Le],te),delete ve[Le]}),qi(ve,(Oe,Le)=>{this.deactivateRouteAndItsChildren(Oe,te)})}deactivateRoutes(q,V,te){const ve=q.value,Oe=V?V.value:null;if(ve===Oe)if(ve.component){const Le=te.getContext(ve.outlet);Le&&this.deactivateChildRoutes(q,V,Le.children)}else this.deactivateChildRoutes(q,V,te);else Oe&&this.deactivateRouteAndItsChildren(V,te)}deactivateRouteAndItsChildren(q,V){q.value.component&&this.routeReuseStrategy.shouldDetach(q.value.snapshot)?this.detachAndStoreRouteSubtree(q,V):this.deactivateRouteAndOutlet(q,V)}detachAndStoreRouteSubtree(q,V){const te=V.getContext(q.value.outlet),ve=te&&q.value.component?te.children:V,Oe=Or(q);for(const Le of Object.keys(Oe))this.deactivateRouteAndItsChildren(Oe[Le],ve);if(te&&te.outlet){const Le=te.outlet.detach(),yt=te.children.onOutletDeactivated();this.routeReuseStrategy.store(q.value.snapshot,{componentRef:Le,route:q,contexts:yt})}}deactivateRouteAndOutlet(q,V){const te=V.getContext(q.value.outlet),ve=te&&q.value.component?te.children:V,Oe=Or(q);for(const Le of Object.keys(Oe))this.deactivateRouteAndItsChildren(Oe[Le],ve);te&&te.outlet&&(te.outlet.deactivate(),te.children.onOutletDeactivated(),te.attachRef=null,te.resolver=null,te.route=null)}activateChildRoutes(q,V,te){const ve=Or(V);q.children.forEach(Oe=>{this.activateRoutes(Oe,ve[Oe.value.outlet],te),this.forwardEvent(new Ss(Oe.value.snapshot))}),q.children.length&&this.forwardEvent(new $i(q.value.snapshot))}activateRoutes(q,V,te){const ve=q.value,Oe=V?V.value:null;if(lr(ve),ve===Oe)if(ve.component){const Le=te.getOrCreateContext(ve.outlet);this.activateChildRoutes(q,V,Le.children)}else this.activateChildRoutes(q,V,te);else if(ve.component){const Le=te.getOrCreateContext(ve.outlet);if(this.routeReuseStrategy.shouldAttach(ve.snapshot)){const yt=this.routeReuseStrategy.retrieve(ve.snapshot);this.routeReuseStrategy.store(ve.snapshot,null),Le.children.onOutletReAttached(yt.contexts),Le.attachRef=yt.componentRef,Le.route=yt.route.value,Le.outlet&&Le.outlet.attach(yt.componentRef,yt.route.value),lr(yt.route.value),this.activateChildRoutes(q,null,Le.children)}else{const yt=bo(ve.snapshot),nn=yt?.get(f._Vd)??null;Le.attachRef=null,Le.route=ve,Le.resolver=nn,Le.injector=yt,Le.outlet&&Le.outlet.activateWith(ve,Le.injector),this.activateChildRoutes(q,null,Le.children)}}else this.activateChildRoutes(q,null,te)}}class Po{constructor(q){this.path=q,this.route=this.path[this.path.length-1]}}class lo{constructor(q,V){this.component=q,this.route=V}}function Wo(G,q,V){const te=G._root;return xo(te,q?q._root:null,V,[te.value])}function co(G,q){const V=Symbol(),te=q.get(G,V);return te===V?"function"!=typeof G||(0,f.Z0I)(G)?q.get(G):G:te}function xo(G,q,V,te,ve={canDeactivateChecks:[],canActivateChecks:[]}){const Oe=Or(q);return G.children.forEach(Le=>{(function Ii(G,q,V,te,ve={canDeactivateChecks:[],canActivateChecks:[]}){const Oe=G.value,Le=q?q.value:null,yt=V?V.getContext(G.value.outlet):null;if(Le&&Oe.routeConfig===Le.routeConfig){const nn=function $o(G,q,V){if("function"==typeof V)return V(G,q);switch(V){case"pathParamsChange":return!Mi(G.url,q.url);case"pathParamsOrQueryParamsChange":return!Mi(G.url,q.url)||!Si(G.queryParams,q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bs(G,q)||!Si(G.queryParams,q.queryParams);default:return!bs(G,q)}}(Le,Oe,Oe.routeConfig.runGuardsAndResolvers);nn?ve.canActivateChecks.push(new Po(te)):(Oe.data=Le.data,Oe._resolvedData=Le._resolvedData),xo(G,q,Oe.component?yt?yt.children:null:V,te,ve),nn&&yt&&yt.outlet&&yt.outlet.isActivated&&ve.canDeactivateChecks.push(new lo(yt.outlet.component,Le))}else Le&&ge(q,yt,ve),ve.canActivateChecks.push(new Po(te)),xo(G,null,Oe.component?yt?yt.children:null:V,te,ve)})(Le,Oe[Le.value.outlet],V,te.concat([Le.value]),ve),delete Oe[Le.value.outlet]}),qi(Oe,(Le,yt)=>ge(Le,V.getContext(yt),ve)),ve}function ge(G,q,V){const te=Or(G),ve=G.value;qi(te,(Oe,Le)=>{ge(Oe,ve.component?q?q.children.getContext(Le):null:q,V)}),V.canDeactivateChecks.push(new lo(ve.component&&q&&q.outlet&&q.outlet.isActivated?q.outlet.component:null,ve))}function pe(G){return"function"==typeof G}function Ko(G){return G instanceof Qe||"EmptyError"===G?.name}const zr=Symbol("INITIAL_VALUE");function wo(){return(0,jt.w)(G=>(0,je.a)(G.map(q=>q.pipe((0,fn.q)(1),(0,Fn.O)(zr)))).pipe((0,et.U)(q=>{for(const V of q)if(!0!==V){if(V===zr)return zr;if(!1===V||V instanceof Qi)return V}return!0}),(0,Qt.h)(q=>q!==zr),(0,fn.q)(1)))}function yr(G){return(0,bt.z)((0,Lt.b)(q=>{if(Rt(q))throw Ue(0,q)}),(0,et.U)(q=>!0===q))}const Es={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function os(G,q,V,te,ve){const Oe=xn(G,q,V);return Oe.matched?function uo(G,q,V,te){const ve=q.canMatch;if(!ve||0===ve.length)return(0,He.of)(!0);const Oe=ve.map(Le=>{const yt=co(Le,G);return Un(function qt(G){return G&&pe(G.canMatch)}(yt)?yt.canMatch(q,V):G.runInContext(()=>yt(q,V)))});return(0,He.of)(Oe).pipe(wo(),yr())}(te=xs(q,te),q,V).pipe((0,et.U)(Le=>!0===Le?Oe:{...Es})):(0,He.of)(Oe)}function xn(G,q,V){if(""===q.path)return"full"===q.pathMatch&&(G.hasChildren()||V.length>0)?{...Es}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const ve=(q.matcher||li)(V,G,q);if(!ve)return{...Es};const Oe={};qi(ve.posParams,(yt,nn)=>{Oe[nn]=yt.path});const Le=ve.consumed.length>0?{...Oe,...ve.consumed[ve.consumed.length-1].parameters}:Oe;return{matched:!0,consumedSegments:ve.consumed,remainingSegments:V.slice(ve.consumed.length),parameters:Le,positionalParamSegments:ve.posParams??{}}}function qs(G,q,V,te){if(V.length>0&&function Hs(G,q,V){return V.some(te=>Mo(G,q,te)&&Tr(te)!==Rn)}(G,V,te)){const Oe=new ii(q,function Oo(G,q,V,te){const ve={};ve[Rn]=te,te._sourceSegment=G,te._segmentIndexShift=q.length;for(const Oe of V)if(""===Oe.path&&Tr(Oe)!==Rn){const Le=new ii([],{});Le._sourceSegment=G,Le._segmentIndexShift=q.length,ve[Tr(Oe)]=Le}return ve}(G,q,te,new ii(V,G.children)));return Oe._sourceSegment=G,Oe._segmentIndexShift=q.length,{segmentGroup:Oe,slicedSegments:[]}}if(0===V.length&&function Fa(G,q,V){return V.some(te=>Mo(G,q,te))}(G,V,te)){const Oe=new ii(G.segments,function ho(G,q,V,te,ve){const Oe={};for(const Le of te)if(Mo(G,V,Le)&&!ve[Tr(Le)]){const yt=new ii([],{});yt._sourceSegment=G,yt._segmentIndexShift=q.length,Oe[Tr(Le)]=yt}return{...ve,...Oe}}(G,q,V,te,G.children));return Oe._sourceSegment=G,Oe._segmentIndexShift=q.length,{segmentGroup:Oe,slicedSegments:V}}const ve=new ii(G.segments,G.children);return ve._sourceSegment=G,ve._segmentIndexShift=q.length,{segmentGroup:ve,slicedSegments:V}}function Mo(G,q,V){return(!(G.hasChildren()||q.length>0)||"full"!==V.pathMatch)&&""===V.path}function Ka(G,q,V,te){return!!(Tr(G)===te||te!==Rn&&Mo(q,V,G))&&("**"===G.path||xn(q,G,V).matched)}function Jo(G,q,V){return 0===q.length&&!G.children[V]}const Qo=!1;class Va{constructor(q){this.segmentGroup=q||null}}class Ba{constructor(q){this.urlTree=q}}function Ua(G){return(0,xt._)(new Va(G))}function Zr(G){return(0,xt._)(new Ba(G))}class Mr{constructor(q,V,te,ve,Oe){this.injector=q,this.configLoader=V,this.urlSerializer=te,this.urlTree=ve,this.config=Oe,this.allowRedirects=!0}apply(){const q=qs(this.urlTree.root,[],[],this.config).segmentGroup,V=new ii(q.segments,q.children);return this.expandSegmentGroup(this.injector,this.config,V,Rn).pipe((0,et.U)(Oe=>this.createUrlTree(Ge(Oe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,pt.K)(Oe=>{if(Oe instanceof Ba)return this.allowRedirects=!1,this.match(Oe.urlTree);throw Oe instanceof Va?this.noMatchError(Oe):Oe}))}match(q){return this.expandSegmentGroup(this.injector,this.config,q.root,Rn).pipe((0,et.U)(ve=>this.createUrlTree(Ge(ve),q.queryParams,q.fragment))).pipe((0,pt.K)(ve=>{throw ve instanceof Va?this.noMatchError(ve):ve}))}noMatchError(q){return new f.vHH(4002,Qo)}createUrlTree(q,V,te){const ve=Ie(q);return new Qi(ve,V,te)}expandSegmentGroup(q,V,te,ve){return 0===te.segments.length&&te.hasChildren()?this.expandChildren(q,V,te).pipe((0,et.U)(Oe=>new ii([],Oe))):this.expandSegment(q,te,V,te.segments,ve,!0)}expandChildren(q,V,te){const ve=[];for(const Oe of Object.keys(te.children))"primary"===Oe?ve.unshift(Oe):ve.push(Oe);return(0,v.D)(ve).pipe((0,mt.b)(Oe=>{const Le=te.children[Oe],yt=Ia(V,Oe);return this.expandSegmentGroup(q,yt,Le,Oe).pipe((0,et.U)(nn=>({segment:nn,outlet:Oe})))}),pn((Oe,Le)=>(Oe[Le.outlet]=Le.segment,Oe),{}),rn())}expandSegment(q,V,te,ve,Oe,Le){return(0,v.D)(te).pipe((0,mt.b)(yt=>this.expandSegmentAgainstRoute(q,V,te,yt,ve,Oe,Le).pipe((0,pt.K)(si=>{if(si instanceof Va)return(0,He.of)(null);throw si}))),mn(yt=>!!yt),(0,pt.K)((yt,nn)=>{if(Ko(yt))return Jo(V,ve,Oe)?(0,He.of)(new ii([],{})):Ua(V);throw yt}))}expandSegmentAgainstRoute(q,V,te,ve,Oe,Le,yt){return Ka(ve,V,Oe,Le)?void 0===ve.redirectTo?this.matchSegmentAgainstRoute(q,V,ve,Oe,Le):yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(q,V,te,ve,Oe,Le):Ua(V):Ua(V)}expandSegmentAgainstRouteUsingRedirect(q,V,te,ve,Oe,Le){return"**"===ve.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(q,te,ve,Le):this.expandRegularSegmentAgainstRouteUsingRedirect(q,V,te,ve,Oe,Le)}expandWildCardWithParamsAgainstRouteUsingRedirect(q,V,te,ve){const Oe=this.applyRedirectCommands([],te.redirectTo,{});return te.redirectTo.startsWith("/")?Zr(Oe):this.lineralizeSegments(te,Oe).pipe((0,Nt.z)(Le=>{const yt=new ii(Le,{});return this.expandSegment(q,yt,V,Le,ve,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(q,V,te,ve,Oe,Le){const{matched:yt,consumedSegments:nn,remainingSegments:si,positionalParamSegments:yn}=xn(V,ve,Oe);if(!yt)return Ua(V);const Lr=this.applyRedirectCommands(nn,ve.redirectTo,yn);return ve.redirectTo.startsWith("/")?Zr(Lr):this.lineralizeSegments(ve,Lr).pipe((0,Nt.z)(ks=>this.expandSegment(q,V,te,ks.concat(si),Le,!1)))}matchSegmentAgainstRoute(q,V,te,ve,Oe){return"**"===te.path?(q=xs(te,q),te.loadChildren?(te._loadedRoutes?(0,He.of)({routes:te._loadedRoutes,injector:te._loadedInjector}):this.configLoader.loadChildren(q,te)).pipe((0,et.U)(yt=>(te._loadedRoutes=yt.routes,te._loadedInjector=yt.injector,new ii(ve,{})))):(0,He.of)(new ii(ve,{}))):os(V,te,ve,q).pipe((0,jt.w)(({matched:Le,consumedSegments:yt,remainingSegments:nn})=>Le?this.getChildConfig(q=te._injector??q,te,ve).pipe((0,Nt.z)(yn=>{const Lr=yn.injector??q,ks=yn.routes,{segmentGroup:ml,slicedSegments:va}=qs(V,yt,nn,ks),ya=new ii(ml.segments,ml.children);if(0===va.length&&ya.hasChildren())return this.expandChildren(Lr,ks,ya).pipe((0,et.U)(Ps=>new ii(yt,Ps)));if(0===ks.length&&0===va.length)return(0,He.of)(new ii(yt,{}));const Zs=Tr(te)===Oe;return this.expandSegment(Lr,ya,ks,va,Zs?Rn:Oe,!0).pipe((0,et.U)(_l=>new ii(yt.concat(_l.segments),_l.children)))})):Ua(V)))}getChildConfig(q,V,te){return V.children?(0,He.of)({routes:V.children,injector:q}):V.loadChildren?void 0!==V._loadedRoutes?(0,He.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function Ji(G,q,V,te){const ve=q.canLoad;if(void 0===ve||0===ve.length)return(0,He.of)(!0);const Oe=ve.map(Le=>{const yt=co(Le,G);return Un(function Re(G){return G&&pe(G.canLoad)}(yt)?yt.canLoad(q,V):G.runInContext(()=>yt(q,V)))});return(0,He.of)(Oe).pipe(wo(),yr())}(q,V,te).pipe((0,Nt.z)(ve=>ve?this.configLoader.loadChildren(q,V).pipe((0,Lt.b)(Oe=>{V._loadedRoutes=Oe.routes,V._loadedInjector=Oe.injector})):function Ha(G){return(0,xt._)(ut(Qo,3))}())):(0,He.of)({routes:[],injector:q})}lineralizeSegments(q,V){let te=[],ve=V.root;for(;;){if(te=te.concat(ve.segments),0===ve.numberOfChildren)return(0,He.of)(te);if(ve.numberOfChildren>1||!ve.children[Rn])return(0,xt._)(new f.vHH(4e3,Qo));ve=ve.children[Rn]}}applyRedirectCommands(q,V,te){return this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),q,te)}applyRedirectCreateUrlTree(q,V,te,ve){const Oe=this.createSegmentGroup(q,V.root,te,ve);return new Qi(Oe,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(q,V){const te={};return qi(q,(ve,Oe)=>{if("string"==typeof ve&&ve.startsWith(":")){const yt=ve.substring(1);te[Oe]=V[yt]}else te[Oe]=ve}),te}createSegmentGroup(q,V,te,ve){const Oe=this.createSegments(q,V.segments,te,ve);let Le={};return qi(V.children,(yt,nn)=>{Le[nn]=this.createSegmentGroup(q,yt,te,ve)}),new ii(Oe,Le)}createSegments(q,V,te,ve){return V.map(Oe=>Oe.path.startsWith(":")?this.findPosParam(q,Oe,ve):this.findOrReturn(Oe,te))}findPosParam(q,V,te){const ve=te[V.path.substring(1)];if(!ve)throw new f.vHH(4001,Qo);return ve}findOrReturn(q,V){let te=0;for(const ve of V){if(ve.path===q.path)return V.splice(te),ve;te++}return q}}class Ja{}class xc{constructor(q,V,te,ve,Oe,Le,yt){this.injector=q,this.rootComponentType=V,this.config=te,this.urlTree=ve,this.url=Oe,this.paramsInheritanceStrategy=Le,this.urlSerializer=yt}recognize(){const q=qs(this.urlTree.root,[],[],this.config.filter(V=>void 0===V.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,q,Rn).pipe((0,et.U)(V=>{if(null===V)return null;const te=new _s([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),ve=new cs(te,V),Oe=new yo(this.url,ve);return this.inheritParamsAndData(Oe._root),Oe}))}inheritParamsAndData(q){const V=q.value,te=Er(V,this.paramsInheritanceStrategy);V.params=Object.freeze(te.params),V.data=Object.freeze(te.data),q.children.forEach(ve=>this.inheritParamsAndData(ve))}processSegmentGroup(q,V,te,ve){return 0===te.segments.length&&te.hasChildren()?this.processChildren(q,V,te):this.processSegment(q,V,te,te.segments,ve)}processChildren(q,V,te){return(0,v.D)(Object.keys(te.children)).pipe((0,mt.b)(ve=>{const Oe=te.children[ve],Le=Ia(V,ve);return this.processSegmentGroup(q,Le,Oe,ve)}),pn((ve,Oe)=>ve&&Oe?(ve.push(...Oe),ve):null),function Dt(G,q=!1){return(0,Ft.e)((V,te)=>{let ve=0;V.subscribe((0,on.x)(te,Oe=>{const Le=G(Oe,ve++);(Le||q)&&te.next(Oe),!Le&&te.complete()}))})}(ve=>null!==ve),vn(null),rn(),(0,et.U)(ve=>{if(null===ve)return null;const Oe=Qa(ve);return function Za(G){G.sort((q,V)=>q.value.outlet===Rn?-1:V.value.outlet===Rn?1:q.value.outlet.localeCompare(V.value.outlet))}(Oe),Oe}))}processSegment(q,V,te,ve,Oe){return(0,v.D)(V).pipe((0,mt.b)(Le=>this.processSegmentAgainstRoute(Le._injector??q,Le,te,ve,Oe)),mn(Le=>!!Le),(0,pt.K)(Le=>{if(Ko(Le))return Jo(te,ve,Oe)?(0,He.of)([]):(0,He.of)(null);throw Le}))}processSegmentAgainstRoute(q,V,te,ve,Oe){if(V.redirectTo||!Ka(V,te,ve,Oe))return(0,He.of)(null);let Le;if("**"===V.path){const yt=ve.length>0?ki(ve).parameters:{},nn=ae(te)+ve.length,si=new _s(ve,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$e(V),Tr(V),V.component??V._loadedComponent??null,V,Te(te),nn,wt(V));Le=(0,He.of)({snapshot:si,consumedSegments:[],remainingSegments:[]})}else Le=os(te,V,ve,q).pipe((0,et.U)(({matched:yt,consumedSegments:nn,remainingSegments:si,parameters:yn})=>{if(!yt)return null;const Lr=ae(te)+nn.length;return{snapshot:new _s(nn,yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$e(V),Tr(V),V.component??V._loadedComponent??null,V,Te(te),Lr,wt(V)),consumedSegments:nn,remainingSegments:si}}));return Le.pipe((0,jt.w)(yt=>{if(null===yt)return(0,He.of)(null);const{snapshot:nn,consumedSegments:si,remainingSegments:yn}=yt;q=V._injector??q;const Lr=V._loadedInjector??q,ks=function Vo(G){return G.children?G.children:G.loadChildren?G._loadedRoutes:[]}(V),{segmentGroup:ml,slicedSegments:va}=qs(te,si,yn,ks.filter(Zs=>void 0===Zs.redirectTo));if(0===va.length&&ml.hasChildren())return this.processChildren(Lr,ks,ml).pipe((0,et.U)(Zs=>null===Zs?null:[new cs(nn,Zs)]));if(0===ks.length&&0===va.length)return(0,He.of)([new cs(nn,[])]);const ya=Tr(V)===Oe;return this.processSegment(Lr,ks,ml,va,ya?Rn:Oe).pipe((0,et.U)(Zs=>null===Zs?null:[new cs(nn,Zs)]))}))}}function zs(G){const q=G.value.routeConfig;return q&&""===q.path&&void 0===q.redirectTo}function Qa(G){const q=[],V=new Set;for(const te of G){if(!zs(te)){q.push(te);continue}const ve=q.find(Oe=>te.value.routeConfig===Oe.value.routeConfig);void 0!==ve?(ve.children.push(...te.children),V.add(ve)):q.push(te)}for(const te of V){const ve=Qa(te.children);q.push(new cs(te.value,ve))}return q.filter(te=>!V.has(te))}function Te(G){let q=G;for(;q._sourceSegment;)q=q._sourceSegment;return q}function ae(G){let q=G,V=q._segmentIndexShift??0;for(;q._sourceSegment;)q=q._sourceSegment,V+=q._segmentIndexShift??0;return V-1}function $e(G){return G.data||{}}function wt(G){return G.resolve||{}}function Sn(G){return"string"==typeof G.title||null===G.title}function mi(G){return(0,jt.w)(q=>{const V=G(q);return V?(0,v.D)(V).pipe((0,et.U)(()=>q)):(0,He.of)(q)})}const Dr=new f.OlP("ROUTES");let Ds=(()=>{class G{constructor(V,te){this.injector=V,this.compiler=te,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(V){if(this.componentLoaders.get(V))return this.componentLoaders.get(V);if(V._loadedComponent)return(0,He.of)(V._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(V);const te=Un(V.loadComponent()).pipe((0,et.U)(Bo),(0,Lt.b)(Oe=>{this.onLoadEndListener&&this.onLoadEndListener(V),V._loadedComponent=Oe}),Tn(()=>{this.componentLoaders.delete(V)})),ve=new Ye(te,()=>new Ut.x).pipe(At());return this.componentLoaders.set(V,ve),ve}loadChildren(V,te){if(this.childrenLoaders.get(te))return this.childrenLoaders.get(te);if(te._loadedRoutes)return(0,He.of)({routes:te._loadedRoutes,injector:te._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(te);const Oe=this.loadModuleFactoryOrRoutes(te.loadChildren).pipe((0,et.U)(yt=>{this.onLoadEndListener&&this.onLoadEndListener(te);let nn,si,yn=!1;Array.isArray(yt)?si=yt:(nn=yt.create(V).injector,si=Bi(nn.get(Dr,[],f.XFs.Self|f.XFs.Optional)));return{routes:si.map(qo),injector:nn}}),Tn(()=>{this.childrenLoaders.delete(te)})),Le=new Ye(Oe,()=>new Ut.x).pipe(At());return this.childrenLoaders.set(te,Le),Le}loadModuleFactoryOrRoutes(V){return Un(V()).pipe((0,et.U)(Bo),(0,Nt.z)(ve=>ve instanceof f.YKP||Array.isArray(ve)?(0,He.of)(ve):(0,v.D)(this.compiler.compileModuleAsync(ve))))}}return G.\u0275fac=function(V){return new(V||G)(f.LFG(f.zs3),f.LFG(f.Sil))},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();function Bo(G){return function Ro(G){return G&&"object"==typeof G&&"default"in G}(G)?G.default:G}let h=(()=>{class G{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ut.x,this.configLoader=(0,f.f3M)(Ds),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(fi),this.rootContexts=(0,f.f3M)(yi),this.navigationId=0,this.afterPreactivation=()=>(0,He.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ve=>this.events.next(new ji(ve)),this.configLoader.onLoadStartListener=ve=>this.events.next(new xi(ve))}complete(){this.transitions?.complete()}handleNavigationRequest(V){const te=++this.navigationId;this.transitions?.next({...this.transitions.value,...V,id:te})}setupNavigations(V){return this.transitions=new Xe.X({id:0,targetPageId:0,currentUrlTree:V.currentUrlTree,currentRawUrl:V.currentUrlTree,extractedUrl:V.urlHandlingStrategy.extract(V.currentUrlTree),urlAfterRedirects:V.urlHandlingStrategy.extract(V.currentUrlTree),rawUrl:V.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xe,restoredState:null,currentSnapshot:V.routerState.snapshot,targetSnapshot:null,currentRouterState:V.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qt.h)(te=>0!==te.id),(0,et.U)(te=>({...te,extractedUrl:V.urlHandlingStrategy.extract(te.rawUrl)})),(0,jt.w)(te=>{let ve=!1,Oe=!1;return(0,He.of)(te).pipe((0,Lt.b)(Le=>{this.currentNavigation={id:Le.id,initialUrl:Le.rawUrl,extractedUrl:Le.extractedUrl,trigger:Le.source,extras:Le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,jt.w)(Le=>{const yt=V.browserUrlTree.toString(),nn=!V.navigated||Le.extractedUrl.toString()!==yt||yt!==V.currentUrlTree.toString();if(!nn&&"reload"!==(Le.extras.onSameUrlNavigation??V.onSameUrlNavigation)){const yn="";return this.events.next(new Tt(Le.id,V.serializeUrl(te.rawUrl),yn,0)),V.rawUrlTree=Le.rawUrl,Le.resolve(null),Jt.E}if(V.urlHandlingStrategy.shouldProcessUrl(Le.rawUrl))return T(Le.source)&&(V.browserUrlTree=Le.extractedUrl),(0,He.of)(Le).pipe((0,jt.w)(yn=>{const Lr=this.transitions?.getValue();return this.events.next(new ze(yn.id,this.urlSerializer.serialize(yn.extractedUrl),yn.source,yn.restoredState)),Lr!==this.transitions?.getValue()?Jt.E:Promise.resolve(yn)}),function Ts(G,q,V,te){return(0,jt.w)(ve=>function ql(G,q,V,te,ve){return new Mr(G,q,V,te,ve).apply()}(G,q,V,ve.extractedUrl,te).pipe((0,et.U)(Oe=>({...ve,urlAfterRedirects:Oe}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,V.config),(0,Lt.b)(yn=>{this.currentNavigation={...this.currentNavigation,finalUrl:yn.urlAfterRedirects},te.urlAfterRedirects=yn.urlAfterRedirects}),function Kt(G,q,V,te,ve){return(0,Nt.z)(Oe=>function za(G,q,V,te,ve,Oe,Le="emptyOnly"){return new xc(G,q,V,te,ve,Le,Oe).recognize().pipe((0,jt.w)(yt=>null===yt?function Wl(G){return new Et.y(q=>q.error(G))}(new Ja):(0,He.of)(yt)))}(G,q,V,Oe.urlAfterRedirects,te.serialize(Oe.urlAfterRedirects),te,ve).pipe((0,et.U)(Le=>({...Oe,targetSnapshot:Le}))))}(this.environmentInjector,this.rootComponentType,V.config,this.urlSerializer,V.paramsInheritanceStrategy),(0,Lt.b)(yn=>{if(te.targetSnapshot=yn.targetSnapshot,"eager"===V.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const ks=V.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);V.setBrowserUrl(ks,yn)}V.browserUrlTree=yn.urlAfterRedirects}const Lr=new zt(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(Lr)}));if(nn&&V.urlHandlingStrategy.shouldProcessUrl(V.rawUrlTree)){const{id:yn,extractedUrl:Lr,source:ks,restoredState:ml,extras:va}=Le,ya=new ze(yn,this.urlSerializer.serialize(Lr),ks,ml);this.events.next(ya);const Zs=Ns(Lr,this.rootComponentType).snapshot;return te={...Le,targetSnapshot:Zs,urlAfterRedirects:Lr,extras:{...va,skipLocationChange:!1,replaceUrl:!1}},(0,He.of)(te)}{const yn="";return this.events.next(new Tt(Le.id,V.serializeUrl(te.extractedUrl),yn,1)),V.rawUrlTree=Le.rawUrl,Le.resolve(null),Jt.E}}),(0,Lt.b)(Le=>{const yt=new Ht(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(Le.urlAfterRedirects),Le.targetSnapshot);this.events.next(yt)}),(0,et.U)(Le=>te={...Le,guards:Wo(Le.targetSnapshot,Le.currentSnapshot,this.rootContexts)}),function pa(G,q){return(0,Nt.z)(V=>{const{targetSnapshot:te,currentSnapshot:ve,guards:{canActivateChecks:Oe,canDeactivateChecks:Le}}=V;return 0===Le.length&&0===Oe.length?(0,He.of)({...V,guardsResult:!0}):function Is(G,q,V,te){return(0,v.D)(G).pipe((0,Nt.z)(ve=>function us(G,q,V,te,ve){const Oe=q&&q.routeConfig?q.routeConfig.canDeactivate:null;if(!Oe||0===Oe.length)return(0,He.of)(!0);const Le=Oe.map(yt=>{const nn=bo(q)??ve,si=co(yt,nn);return Un(function Ar(G){return G&&pe(G.canDeactivate)}(si)?si.canDeactivate(G,q,V,te):nn.runInContext(()=>si(G,q,V,te))).pipe(mn())});return(0,He.of)(Le).pipe(wo())}(ve.component,ve.route,V,q,te)),mn(ve=>!0!==ve,!0))}(Le,te,ve,G).pipe((0,Nt.z)(yt=>yt&&function re(G){return"boolean"==typeof G}(yt)?function fl(G,q,V,te){return(0,v.D)(q).pipe((0,mt.b)(ve=>(0,tt.z)(function pl(G,q){return null!==G&&q&&q(new pi(G)),(0,He.of)(!0)}(ve.route.parent,te),function Eo(G,q){return null!==G&&q&&q(new wr(G)),(0,He.of)(!0)}(ve.route,te),function Da(G,q,V){const te=q[q.length-1],Oe=q.slice(0,q.length-1).reverse().map(Le=>function Kr(G){const q=G.routeConfig?G.routeConfig.canActivateChild:null;return q&&0!==q.length?{node:G,guards:q}:null}(Le)).filter(Le=>null!==Le).map(Le=>(0,vt.P)(()=>{const yt=Le.guards.map(nn=>{const si=bo(Le.node)??V,yn=co(nn,si);return Un(function Zn(G){return G&&pe(G.canActivateChild)}(yn)?yn.canActivateChild(te,G):si.runInContext(()=>yn(te,G))).pipe(mn())});return(0,He.of)(yt).pipe(wo())}));return(0,He.of)(Oe).pipe(wo())}(G,ve.path,V),function La(G,q,V){const te=q.routeConfig?q.routeConfig.canActivate:null;if(!te||0===te.length)return(0,He.of)(!0);const ve=te.map(Oe=>(0,vt.P)(()=>{const Le=bo(q)??V,yt=co(Oe,Le);return Un(function Vt(G){return G&&pe(G.canActivate)}(yt)?yt.canActivate(q,G):Le.runInContext(()=>yt(q,G))).pipe(mn())}));return(0,He.of)(ve).pipe(wo())}(G,ve.route,V))),mn(ve=>!0!==ve,!0))}(te,Oe,G,q):(0,He.of)(yt)),(0,et.U)(yt=>({...V,guardsResult:yt})))})}(this.environmentInjector,Le=>this.events.next(Le)),(0,Lt.b)(Le=>{if(te.guardsResult=Le.guardsResult,Rt(Le.guardsResult))throw Ue(0,Le.guardsResult);const yt=new zn(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(Le.urlAfterRedirects),Le.targetSnapshot,!!Le.guardsResult);this.events.next(yt)}),(0,Qt.h)(Le=>!!Le.guardsResult||(V.restoreHistory(Le),this.cancelNavigationTransition(Le,"",3),!1)),mi(Le=>{if(Le.guards.canActivateChecks.length)return(0,He.of)(Le).pipe((0,Lt.b)(yt=>{const nn=new Qn(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(nn)}),(0,jt.w)(yt=>{let nn=!1;return(0,He.of)(yt).pipe(function $(G,q){return(0,Nt.z)(V=>{const{targetSnapshot:te,guards:{canActivateChecks:ve}}=V;if(!ve.length)return(0,He.of)(V);let Oe=0;return(0,v.D)(ve).pipe((0,mt.b)(Le=>function Q(G,q,V,te){const ve=G.routeConfig,Oe=G._resolve;return void 0!==ve?.title&&!Sn(ve)&&(Oe[ui]=ve.title),function Se(G,q,V,te){const ve=function qe(G){return[...Object.keys(G),...Object.getOwnPropertySymbols(G)]}(G);if(0===ve.length)return(0,He.of)({});const Oe={};return(0,v.D)(ve).pipe((0,Nt.z)(Le=>function kt(G,q,V,te){const ve=bo(q)??te,Oe=co(G,ve);return Un(Oe.resolve?Oe.resolve(q,V):ve.runInContext(()=>Oe(q,V)))}(G[Le],q,V,te).pipe(mn(),(0,Lt.b)(yt=>{Oe[Le]=yt}))),en(1),(0,$n.h)(Oe),(0,pt.K)(Le=>Ko(Le)?Jt.E:(0,xt._)(Le)))}(Oe,G,q,te).pipe((0,et.U)(Le=>(G._resolvedData=Le,G.data=Er(G,V).resolve,ve&&Sn(ve)&&(G.data[ui]=ve.title),null)))}(Le.route,te,G,q)),(0,Lt.b)(()=>Oe++),en(1),(0,Nt.z)(Le=>Oe===ve.length?(0,He.of)(V):Jt.E))})}(V.paramsInheritanceStrategy,this.environmentInjector),(0,Lt.b)({next:()=>nn=!0,complete:()=>{nn||(V.restoreHistory(yt),this.cancelNavigationTransition(yt,"",2))}}))}),(0,Lt.b)(yt=>{const nn=new di(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(nn)}))}),mi(Le=>{const yt=nn=>{const si=[];nn.routeConfig?.loadComponent&&!nn.routeConfig._loadedComponent&&si.push(this.configLoader.loadComponent(nn.routeConfig).pipe((0,Lt.b)(yn=>{nn.component=yn}),(0,et.U)(()=>{})));for(const yn of nn.children)si.push(...yt(yn));return si};return(0,je.a)(yt(Le.targetSnapshot.root)).pipe(vn(),(0,fn.q)(1))}),mi(()=>this.afterPreactivation()),(0,et.U)(Le=>{const yt=function Fo(G,q,V){const te=Fi(G,q._root,V?V._root:void 0);return new Lo(te,q)}(V.routeReuseStrategy,Le.targetSnapshot,Le.currentRouterState);return te={...Le,targetRouterState:yt}}),(0,Lt.b)(Le=>{V.currentUrlTree=Le.urlAfterRedirects,V.rawUrlTree=V.urlHandlingStrategy.merge(Le.urlAfterRedirects,Le.rawUrl),V.routerState=Le.targetRouterState,"deferred"===V.urlUpdateStrategy&&(Le.extras.skipLocationChange||V.setBrowserUrl(V.rawUrlTree,Le),V.browserUrlTree=Le.urlAfterRedirects)}),((G,q,V)=>(0,et.U)(te=>(new vs(q,te.targetRouterState,te.currentRouterState,V).activate(G),te)))(this.rootContexts,V.routeReuseStrategy,Le=>this.events.next(Le)),(0,Lt.b)({next:Le=>{ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,V.navigated=!0,this.events.next(new Ke(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(V.currentUrlTree))),V.titleStrategy?.updateTitle(Le.targetRouterState.snapshot),Le.resolve(!0)},complete:()=>{ve=!0}}),Tn(()=>{ve||Oe||this.cancelNavigationTransition(te,"",1),this.currentNavigation?.id===te.id&&(this.currentNavigation=null)}),(0,pt.K)(Le=>{if(Oe=!0,sn(Le)){Pt(Le)||(V.navigated=!0,V.restoreHistory(te,!0));const yt=new st(te.id,this.urlSerializer.serialize(te.extractedUrl),Le.message,Le.cancellationCode);if(this.events.next(yt),Pt(Le)){const nn=V.urlHandlingStrategy.merge(Le.url,V.rawUrlTree),si={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===V.urlUpdateStrategy||T(te.source)};V.scheduleNavigation(nn,xe,null,si,{resolve:te.resolve,reject:te.reject,promise:te.promise})}else te.resolve(!1)}else{V.restoreHistory(te,!0);const yt=new $t(te.id,this.urlSerializer.serialize(te.extractedUrl),Le,te.targetSnapshot??void 0);this.events.next(yt);try{te.resolve(V.errorHandler(Le))}catch(nn){te.reject(nn)}}return Jt.E}))}))}cancelNavigationTransition(V,te,ve){const Oe=new st(V.id,this.urlSerializer.serialize(V.extractedUrl),te,ve);this.events.next(Oe),V.resolve(!1)}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();function T(G){return G!==xe}let R=(()=>{class G{buildTitle(V){let te,ve=V.root;for(;void 0!==ve;)te=this.getResolvedTitleForRoute(ve)??te,ve=ve.children.find(Oe=>Oe.outlet===Rn);return te}getResolvedTitleForRoute(V){return V.data[ui]}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:function(){return(0,f.f3M)(K)},providedIn:"root"}),G})(),K=(()=>{class G extends R{constructor(V){super(),this.title=V}updateTitle(V){const te=this.buildTitle(V);void 0!==te&&this.title.setTitle(te)}}return G.\u0275fac=function(V){return new(V||G)(f.LFG(Vn.Dx))},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),_e=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:function(){return(0,f.f3M)(it)},providedIn:"root"}),G})();class Me{shouldDetach(q){return!1}store(q,V){}shouldAttach(q){return!1}retrieve(q){return null}shouldReuseRoute(q,V){return q.routeConfig===V.routeConfig}}let it=(()=>{class G extends Me{}return G.\u0275fac=function(){let q;return function(te){return(q||(q=f.n5z(G)))(te||G)}}(),G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();const Ot=new f.OlP("",{providedIn:"root",factory:()=>({})});let _n=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:function(){return(0,f.f3M)(Xn)},providedIn:"root"}),G})(),Xn=(()=>{class G{shouldProcessUrl(V){return!0}extract(V){return V}merge(V,te){return V}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();function Xi(G){throw G}function Ws(G,q,V){return q.parse("/")}const as={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jr=(()=>{class G{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(Ot,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Xi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ws,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(_n),this.routeReuseStrategy=(0,f.f3M)(_e),this.urlCreationStrategy=(0,f.f3M)(ai),this.titleStrategy=(0,f.f3M)(R),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Bi((0,f.f3M)(Dr,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(h),this.urlSerializer=(0,f.f3M)(fi),this.location=(0,f.f3M)(un.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ns(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(V=>{this.lastSuccessfulId=V.id,this.currentPageId=V.targetPageId},V=>{this.console.warn(`Unhandled Navigation Error: ${V}`)})}resetRootComponentType(V){this.routerState.root.component=V,this.navigationTransitions.rootComponentType=V}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const V=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xe,V)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(V=>{const te="popstate"===V.type?"popstate":"hashchange";"popstate"===te&&setTimeout(()=>{this.navigateToSyncWithBrowser(V.url,te,V.state)},0)}))}navigateToSyncWithBrowser(V,te,ve){const Oe={replaceUrl:!0},Le=ve?.navigationId?ve:null;if(ve){const nn={...ve};delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(Oe.state=nn)}const yt=this.parseUrl(V);this.scheduleNavigation(yt,te,Le,Oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(V){this.config=V.map(qo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(V,te={}){const{relativeTo:ve,queryParams:Oe,fragment:Le,queryParamsHandling:yt,preserveFragment:nn}=te,si=nn?this.currentUrlTree.fragment:Le;let yn=null;switch(yt){case"merge":yn={...this.currentUrlTree.queryParams,...Oe};break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=Oe||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),this.urlCreationStrategy.createUrlTree(ve,this.routerState,this.currentUrlTree,V,yn,si??null)}navigateByUrl(V,te={skipLocationChange:!1}){const ve=Rt(V)?V:this.parseUrl(V),Oe=this.urlHandlingStrategy.merge(ve,this.rawUrlTree);return this.scheduleNavigation(Oe,xe,null,te)}navigate(V,te={skipLocationChange:!1}){return function Ho(G){for(let q=0;q<G.length;q++){if(null==G[q])throw new f.vHH(4008,!1)}}(V),this.navigateByUrl(this.createUrlTree(V,te),te)}serializeUrl(V){return this.urlSerializer.serialize(V)}parseUrl(V){let te;try{te=this.urlSerializer.parse(V)}catch(ve){te=this.malformedUriErrorHandler(ve,this.urlSerializer,V)}return te}isActive(V,te){let ve;if(ve=!0===te?{...as}:!1===te?{...Uo}:te,Rt(V))return Hi(this.currentUrlTree,V,ve);const Oe=this.parseUrl(V);return Hi(this.currentUrlTree,Oe,ve)}removeEmptyProps(V){return Object.keys(V).reduce((te,ve)=>{const Oe=V[ve];return null!=Oe&&(te[ve]=Oe),te},{})}scheduleNavigation(V,te,ve,Oe,Le){if(this.disposed)return Promise.resolve(!1);let yt,nn,si,yn;return Le?(yt=Le.resolve,nn=Le.reject,si=Le.promise):si=new Promise((Lr,ks)=>{yt=Lr,nn=ks}),yn="computed"===this.canceledNavigationResolution?ve&&ve.\u0275routerPageId?ve.\u0275routerPageId:Oe.replaceUrl||Oe.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:yn,source:te,restoredState:ve,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:V,extras:Oe,resolve:yt,reject:nn,promise:si,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),si.catch(Lr=>Promise.reject(Lr))}setBrowserUrl(V,te){const ve=this.urlSerializer.serialize(V),Oe={...te.extras.state,...this.generateNgRouterState(te.id,te.targetPageId)};this.location.isCurrentPathEqualTo(ve)||te.extras.replaceUrl?this.location.replaceState(ve,"",Oe):this.location.go(ve,"",Oe)}restoreHistory(V,te=!1){if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-V.targetPageId;"popstate"!==V.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===ve?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ve&&(this.resetState(V),this.browserUrlTree=V.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ve)}else"replace"===this.canceledNavigationResolution&&(te&&this.resetState(V),this.resetUrlToCurrentUrlTree())}resetState(V){this.routerState=V.currentRouterState,this.currentUrlTree=V.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,V.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(V,te){return"computed"===this.canceledNavigationResolution?{navigationId:V,\u0275routerPageId:te}:{navigationId:V}}}return G.\u0275fac=function(V){return new(V||G)},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),gl=(()=>{class G{constructor(V,te,ve,Oe,Le,yt){this.router=V,this.route=te,this.tabIndexAttribute=ve,this.renderer=Oe,this.el=Le,this.locationStrategy=yt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ut.x;const nn=Le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===nn||"area"===nn,this.isAnchorElement?this.subscription=V.events.subscribe(si=>{si instanceof Ke&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(V){this._preserveFragment=(0,f.D6c)(V)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(V){this._skipLocationChange=(0,f.D6c)(V)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(V){this._replaceUrl=(0,f.D6c)(V)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(V){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",V)}ngOnChanges(V){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(V){null!=V?(this.commands=Array.isArray(V)?V:[V],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(V,te,ve,Oe,Le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==V||te||ve||Oe||Le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const V=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",V)}applyAttributeValue(V,te){const ve=this.renderer,Oe=this.el.nativeElement;null!==te?ve.setAttribute(Oe,V,te):ve.removeAttribute(Oe,V)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return G.\u0275fac=function(V){return new(V||G)(f.Y36(jr),f.Y36(ms),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(un.S$))},G.\u0275dir=f.lG2({type:G,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(V,te){1&V&&f.NdJ("click",function(Oe){return te.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&V&&f.uIk("target",te.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),G})(),qc=(()=>{class G{get isActive(){return this._isActive}constructor(V,te,ve,Oe,Le){this.router=V,this.element=te,this.renderer=ve,this.cdr=Oe,this.link=Le,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=V.events.subscribe(yt=>{yt instanceof Ke&&this.update()})}ngAfterContentInit(){(0,He.of)(this.links.changes,(0,He.of)(null)).pipe((0,Pn.J)()).subscribe(V=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const V=[...this.links.toArray(),this.link].filter(te=>!!te).map(te=>te.onChanges);this.linkInputChangesSubscription=(0,v.D)(V).pipe((0,Pn.J)()).subscribe(te=>{this._isActive!==this.isLinkActive(this.router)(te)&&this.update()})}set routerLinkActive(V){const te=Array.isArray(V)?V:V.split(" ");this.classes=te.filter(ve=>!!ve)}ngOnChanges(V){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const V=this.hasActiveLinks();this._isActive!==V&&(this._isActive=V,this.cdr.markForCheck(),this.classes.forEach(te=>{V?this.renderer.addClass(this.element.nativeElement,te):this.renderer.removeClass(this.element.nativeElement,te)}),V&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(V))})}isLinkActive(V){const te=function td(G){return!!G.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ve=>!!ve.urlTree&&V.isActive(ve.urlTree,te)}hasActiveLinks(){const V=this.isLinkActive(this.router);return this.link&&V(this.link)||this.links.some(V)}}return G.\u0275fac=function(V){return new(V||G)(f.Y36(jr),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(gl,8))},G.\u0275dir=f.lG2({type:G,selectors:[["","routerLinkActive",""]],contentQueries:function(V,te,ve){if(1&V&&f.Suo(ve,gl,5),2&V){let Oe;f.iGM(Oe=f.CRH())&&(te.links=Oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.TTD]}),G})();class zo{}let ds=(()=>{class G{constructor(V,te,ve,Oe,Le){this.router=V,this.injector=ve,this.preloadingStrategy=Oe,this.loader=Le}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qt.h)(V=>V instanceof Ke),(0,mt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(V,te){const ve=[];for(const Oe of te){Oe.providers&&!Oe._injector&&(Oe._injector=(0,f.MMx)(Oe.providers,V,`Route: ${Oe.path}`));const Le=Oe._injector??V,yt=Oe._loadedInjector??Le;Oe.loadChildren&&!Oe._loadedRoutes&&void 0===Oe.canLoad||Oe.loadComponent&&!Oe._loadedComponent?ve.push(this.preloadConfig(Le,Oe)):(Oe.children||Oe._loadedRoutes)&&ve.push(this.processRoutes(yt,Oe.children??Oe._loadedRoutes))}return(0,v.D)(ve).pipe((0,Pn.J)())}preloadConfig(V,te){return this.preloadingStrategy.preload(te,()=>{let ve;ve=te.loadChildren&&void 0===te.canLoad?this.loader.loadChildren(V,te):(0,He.of)(null);const Oe=ve.pipe((0,Nt.z)(Le=>null===Le?(0,He.of)(void 0):(te._loadedRoutes=Le.routes,te._loadedInjector=Le.injector,this.processRoutes(Le.injector??V,Le.routes))));if(te.loadComponent&&!te._loadedComponent){const Le=this.loader.loadComponent(te);return(0,v.D)([Oe,Le]).pipe((0,Pn.J)())}return Oe})}}return G.\u0275fac=function(V){return new(V||G)(f.LFG(jr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(zo),f.LFG(Ds))},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();const Ga=new f.OlP("");let tl=(()=>{class G{constructor(V,te,ve,Oe,Le={}){this.urlSerializer=V,this.transitions=te,this.viewportScroller=ve,this.zone=Oe,this.options=Le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Le.scrollPositionRestoration=Le.scrollPositionRestoration||"disabled",Le.anchorScrolling=Le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(V=>{V instanceof ze?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=V.navigationTrigger,this.restoredId=V.restoredState?V.restoredState.navigationId:0):V instanceof Ke&&(this.lastId=V.id,this.scheduleScrollEvent(V,this.urlSerializer.parse(V.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(V=>{V instanceof As&&(V.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(V.position):V.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(V.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(V,te){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new As(V,"popstate"===this.lastSource?this.store[this.restoredId]:null,te))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return G.\u0275fac=function(V){f.$Z()},G.\u0275prov=f.Yz7({token:G,factory:G.\u0275fac}),G})();function Zo(G,q){return{\u0275kind:G,\u0275providers:q}}function Pl(){const G=(0,f.f3M)(f.zs3);return q=>{const V=G.get(f.z2F);if(q!==V.components[0])return;const te=G.get(jr),ve=G.get(id);1===G.get(Ec)&&te.initialNavigation(),G.get(ts,null,f.XFs.Optional)?.setUpPreloading(),G.get(Ga,null,f.XFs.Optional)?.init(),te.resetRootComponentType(V.componentTypes[0]),ve.closed||(ve.next(),ve.unsubscribe())}}const id=new f.OlP("",{factory:()=>new Ut.x}),Ec=new f.OlP("",{providedIn:"root",factory:()=>1});const ts=new f.OlP("");function mr(G){return Zo(0,[{provide:ts,useExisting:ds},{provide:zo,useExisting:G}])}const Cc=new f.OlP("ROUTER_FORROOT_GUARD"),rd=[un.Ye,{provide:fi,useClass:ur},jr,yi,{provide:ms,useFactory:function To(G){return G.routerState.root},deps:[jr]},Ds,[]];function Sc(){return new f.PXZ("Router",jr)}let Xh=(()=>{class G{constructor(V){}static forRoot(V,te){return{ngModule:G,providers:[rd,[],{provide:Dr,multi:!0,useValue:V},{provide:Cc,useFactory:Xl,deps:[[jr,new f.FiY,new f.tp0]]},{provide:Ot,useValue:te||{}},te?.useHash?{provide:un.S$,useClass:un.Do}:{provide:un.S$,useClass:un.b0},{provide:Ga,useFactory:()=>{const G=(0,f.f3M)(un.EM),q=(0,f.f3M)(f.R0b),V=(0,f.f3M)(Ot),te=(0,f.f3M)(h),ve=(0,f.f3M)(fi);return V.scrollOffset&&G.setOffset(V.scrollOffset),new tl(ve,te,G,q,V)}},te?.preloadingStrategy?mr(te.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Sc},te?.initialNavigation?sd(te):[],[{provide:ea,useFactory:Pl},{provide:f.tb,multi:!0,useExisting:ea}]]}}static forChild(V){return{ngModule:G,providers:[{provide:Dr,multi:!0,useValue:V}]}}}return G.\u0275fac=function(V){return new(V||G)(f.LFG(Cc,8))},G.\u0275mod=f.oAB({type:G}),G.\u0275inj=f.cJS({imports:[Bs]}),G})();function Xl(G){return"guarded"}function sd(G){return["disabled"===G.initialNavigation?Zo(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const q=(0,f.f3M)(jr);return()=>{q.setUpLocationChangeListener()}}},{provide:Ec,useValue:2}]).\u0275providers:[],"enabledBlocking"===G.initialNavigation?Zo(2,[{provide:Ec,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:q=>{const V=q.get(un.V_,Promise.resolve());return()=>V.then(()=>new Promise(ve=>{const Oe=q.get(jr),Le=q.get(id);(function te(ve){q.get(jr).events.pipe((0,Qt.h)(Le=>Le instanceof Ke||Le instanceof st||Le instanceof $t),(0,et.U)(Le=>Le instanceof Ke||Le instanceof st&&(0===Le.code||1===Le.code)&&null),(0,Qt.h)(Le=>null!==Le),(0,fn.q)(1)).subscribe(()=>{ve()})})(()=>{ve(!0)}),q.get(h).afterPreactivation=()=>(ve(!0),Le.closed?(0,He.of)(void 0):Le),Oe.initialNavigation()}))}}]).\u0275providers:[]]}const ea=new f.OlP("")},5958:(Hn,gt,ue)=>{"use strict";ue.d(gt,{xm:()=>ja,_A:()=>Wc,lQ:()=>ts,jt:()=>Nl,Vi:()=>tc,XC:()=>ff,iD:()=>nc,_h:()=>dh,FF:()=>iu,bz:()=>Fl,Pz:()=>rl,uN:()=>Ou,nv:()=>rc,Is:()=>sh,Vx:()=>mf,tO:()=>Nc,Oz:()=>oh,Dy:()=>Lc,jF:()=>su,_L:()=>kv,HK:()=>uh,ZS:()=>Cf});var f=ue(4650),v=ue(9751),He=ue(515),Xe=ue(9646),l=ue(7579),Qe=ue(4968),je=ue(5963),tt=ue(8421);const{isArray:vt}=Array;function bt(E){return 1===E.length&&vt(E[0])?E[0]:E}var xt=ue(5403);function Et(...E){return 1===(E=bt(E)).length?(0,tt.Xf)(E[0]):new v.y(function Jt(E){return O=>{let g=[];for(let A=0;g&&!O.closed&&A<E.length;A++)g.push((0,tt.Xf)(E[A]).subscribe((0,xt.x)(O,Y=>{if(g){for(let he=0;he<g.length;he++)he!==A&&g[he].unsubscribe();g=null}O.next(Y)})))}}(E))}ue(1135),ue(9841);var on=ue(5032);new v.y(on.Z);var Ut=ue(3269);function un(...E){const O=(0,Ut.jO)(E),g=bt(E);return g.length?new v.y(A=>{let Y=g.map(()=>[]),he=g.map(()=>!1);A.add(()=>{Y=he=null});for(let Ze=0;!A.closed&&Ze<g.length;Ze++)(0,tt.Xf)(g[Ze]).subscribe((0,xt.x)(A,at=>{if(Y[Ze].push(at),Y.every(ht=>ht.length)){const ht=Y.map(It=>It.shift());A.next(O?O(...ht):ht),Y.some((It,Zt)=>!It.length&&he[Zt])&&A.complete()}},()=>{he[Ze]=!0,!Y[Ze].length&&A.complete()}));return()=>{Y=he=null}}):He.E}var et=ue(6451),jt=ue(7272),Fn=ue(2722),Qt=ue(9300),Nt=ue(5698),vn=ue(4004),Cn=ue(8675),Bn=ue(1884),In=ue(3900),mn=ue(8505),mt=ue(4482),Lt=ue(4671);function pt(...E){const O=(0,Ut.jO)(E);return(0,mt.e)((g,A)=>{const Y=E.length,he=new Array(Y);let Ze=E.map(()=>!1),at=!1;for(let ht=0;ht<Y;ht++)(0,tt.Xf)(E[ht]).subscribe((0,xt.x)(A,It=>{he[ht]=It,!at&&!Ze[ht]&&(Ze[ht]=!0,(at=Ze.every(Lt.y))&&(Ze=null))},on.Z));g.subscribe((0,xt.x)(A,ht=>{if(at){const It=[ht,...he];A.next(O?O(...It):It)}}))})}var Gt=ue(1005),pn=ue(5577),rn=ue(3099),Dt=ue(6895),Tn=(ue(4006),{left:"right",right:"left",bottom:"top",top:"bottom"});function Pn(E){return E.replace(/left|right|bottom|top/g,function(O){return Tn[O]})}function Vn(E){return E.split("-")[0]}var Rn={start:"end",end:"start"};function ui(E){return E.replace(/start|end/g,function(O){return Rn[O]})}var Di="top",bi="bottom",li="right",gn="left",Si="auto",sr=[Di,bi,li,gn],Bi="start",ki="end",qi="viewport",Un="popper",Rs=sr.reduce(function(E,O){return E.concat([O+"-"+Bi,O+"-"+ki])},[]),Oi=[].concat(sr,[Si]).reduce(function(E,O){return E.concat([O,O+"-"+Bi,O+"-"+ki])},[]),Ki=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function pr(E){if(null==E)return window;if("[object Window]"!==E.toString()){var O=E.ownerDocument;return O&&O.defaultView||window}return E}function Mi(E){return E instanceof pr(E).Element||E instanceof Element}function $r(E){return E instanceof pr(E).HTMLElement||E instanceof HTMLElement}function fi(E){return!(typeof ShadowRoot>"u")&&(E instanceof pr(E).ShadowRoot||E instanceof ShadowRoot)}function ur(E){return((Mi(E)?E.ownerDocument:E.document)||window.document).documentElement}var Ur=Math.max,gi=Math.min,or=Math.round;function Yt(){var E=navigator.userAgentData;return null!=E&&E.brands&&Array.isArray(E.brands)?E.brands.map(function(O){return O.brand+"/"+O.version}).join(" "):navigator.userAgent}function nt(){return!/^((?!chrome|android).)*safari/i.test(Yt())}function ft(E,O,g){void 0===O&&(O=!1),void 0===g&&(g=!1);var A=E.getBoundingClientRect(),Y=1,he=1;O&&$r(E)&&(Y=E.offsetWidth>0&&or(A.width)/E.offsetWidth||1,he=E.offsetHeight>0&&or(A.height)/E.offsetHeight||1);var at=(Mi(E)?pr(E):window).visualViewport,ht=!nt()&&g,It=(A.left+(ht&&at?at.offsetLeft:0))/Y,Zt=(A.top+(ht&&at?at.offsetTop:0))/he,qn=A.width/Y,Nn=A.height/he;return{width:qn,height:Nn,top:Zt,right:It+qn,bottom:Zt+Nn,left:It,x:It,y:Zt}}function hn(E){var O=pr(E);return{scrollLeft:O.pageXOffset,scrollTop:O.pageYOffset}}function tn(E){return ft(ur(E)).left+hn(E).scrollLeft}function ke(E){return pr(E).getComputedStyle(E)}function Gn(E){return E?(E.nodeName||"").toLowerCase():null}function dr(E){return"html"===Gn(E)?E:E.assignedSlot||E.parentNode||(fi(E)?E.host:null)||ur(E)}function Gi(E){var O=ke(E);return/auto|scroll|overlay|hidden/.test(O.overflow+O.overflowY+O.overflowX)}function On(E){return["html","body","#document"].indexOf(Gn(E))>=0?E.ownerDocument.body:$r(E)&&Gi(E)?E:On(dr(E))}function Wi(E,O){var g;void 0===O&&(O=[]);var A=On(E),Y=A===(null==(g=E.ownerDocument)?void 0:g.body),he=pr(A),Ze=Y?[he].concat(he.visualViewport||[],Gi(A)?A:[]):A,at=O.concat(Ze);return Y?at:at.concat(Wi(dr(Ze)))}function ot(E){return["table","td","th"].indexOf(Gn(E))>=0}function ne(E){return $r(E)&&"fixed"!==ke(E).position?E.offsetParent:null}function Ie(E){for(var O=pr(E),g=ne(E);g&&ot(g)&&"static"===ke(g).position;)g=ne(g);return g&&("html"===Gn(g)||"body"===Gn(g)&&"static"===ke(g).position)?O:g||function de(E){var O=/firefox/i.test(Yt());if(/Trident/i.test(Yt())&&$r(E)&&"fixed"===ke(E).position)return null;var Y=dr(E);for(fi(Y)&&(Y=Y.host);$r(Y)&&["html","body"].indexOf(Gn(Y))<0;){var he=ke(Y);if("none"!==he.transform||"none"!==he.perspective||"paint"===he.contain||-1!==["transform","perspective"].indexOf(he.willChange)||O&&"filter"===he.willChange||O&&he.filter&&"none"!==he.filter)return Y;Y=Y.parentNode}return null}(E)||O}function Ge(E,O){var g=O.getRootNode&&O.getRootNode();if(E.contains(O))return!0;if(g&&fi(g)){var A=O;do{if(A&&E.isSameNode(A))return!0;A=A.parentNode||A.host}while(A)}return!1}function lt(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function an(E,O,g){return O===qi?lt(function cn(E,O){var g=pr(E),A=ur(E),Y=g.visualViewport,he=A.clientWidth,Ze=A.clientHeight,at=0,ht=0;if(Y){he=Y.width,Ze=Y.height;var It=nt();(It||!It&&"fixed"===O)&&(at=Y.offsetLeft,ht=Y.offsetTop)}return{width:he,height:Ze,x:at+tn(E),y:ht}}(E,g)):Mi(O)?function Rt(E,O){var g=ft(E,!1,"fixed"===O);return g.top=g.top+E.clientTop,g.left=g.left+E.clientLeft,g.bottom=g.top+E.clientHeight,g.right=g.left+E.clientWidth,g.width=E.clientWidth,g.height=E.clientHeight,g.x=g.left,g.y=g.top,g}(O,g):lt(function vi(E){var O,g=ur(E),A=hn(E),Y=null==(O=E.ownerDocument)?void 0:O.body,he=Ur(g.scrollWidth,g.clientWidth,Y?Y.scrollWidth:0,Y?Y.clientWidth:0),Ze=Ur(g.scrollHeight,g.clientHeight,Y?Y.scrollHeight:0,Y?Y.clientHeight:0),at=-A.scrollLeft+tn(E),ht=-A.scrollTop;return"rtl"===ke(Y||g).direction&&(at+=Ur(g.clientWidth,Y?Y.clientWidth:0)-he),{width:he,height:Ze,x:at,y:ht}}(ur(E)))}function s(E){return E.split("-")[1]}function u(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function p(E){var ht,O=E.reference,g=E.element,A=E.placement,Y=A?Vn(A):null,he=A?s(A):null,Ze=O.x+O.width/2-g.width/2,at=O.y+O.height/2-g.height/2;switch(Y){case Di:ht={x:Ze,y:O.y-g.height};break;case bi:ht={x:Ze,y:O.y+O.height};break;case li:ht={x:O.x+O.width,y:at};break;case gn:ht={x:O.x-g.width,y:at};break;default:ht={x:O.x,y:O.y}}var It=Y?u(Y):null;if(null!=It){var Zt="y"===It?"height":"width";switch(he){case Bi:ht[It]=ht[It]-(O[Zt]/2-g[Zt]/2);break;case ki:ht[It]=ht[It]+(O[Zt]/2-g[Zt]/2)}}return ht}function x(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function w(E,O){return O.reduce(function(g,A){return g[A]=E,g},{})}function I(E,O){void 0===O&&(O={});var A=O.placement,Y=void 0===A?E.placement:A,he=O.strategy,Ze=void 0===he?E.strategy:he,at=O.boundary,ht=void 0===at?"clippingParents":at,It=O.rootBoundary,Zt=void 0===It?qi:It,qn=O.elementContext,Nn=void 0===qn?Un:qn,Wn=O.altBoundary,_r=void 0!==Wn&&Wn,Ni=O.padding,nr=void 0===Ni?0:Ni,Sr=x("number"!=typeof nr?nr:w(nr,sr)),Os=E.rects.popper,br=E.elements[_r?Nn===Un?"reference":Un:Nn],Fr=function r(E,O,g,A){var Y="clippingParents"===O?function ye(E){var O=Wi(dr(E)),A=["absolute","fixed"].indexOf(ke(E).position)>=0&&$r(E)?Ie(E):E;return Mi(A)?O.filter(function(Y){return Mi(Y)&&Ge(Y,A)&&"body"!==Gn(Y)}):[]}(E):[].concat(O),he=[].concat(Y,[g]),at=he.reduce(function(ht,It){var Zt=an(E,It,A);return ht.top=Ur(Zt.top,ht.top),ht.right=gi(Zt.right,ht.right),ht.bottom=gi(Zt.bottom,ht.bottom),ht.left=Ur(Zt.left,ht.left),ht},an(E,he[0],A));return at.width=at.right-at.left,at.height=at.bottom-at.top,at.x=at.left,at.y=at.top,at}(Mi(br)?br:br.contextElement||ur(E.elements.popper),ht,Zt,Ze),is=ft(E.elements.reference),Ms=p({reference:is,element:Os,strategy:"absolute",placement:Y}),Wr=lt(Object.assign({},Os,Ms)),jo=Nn===Un?Wr:is,go={top:Fr.top-jo.top+Sr.top,bottom:jo.bottom-Fr.bottom+Sr.bottom,left:Fr.left-jo.left+Sr.left,right:jo.right-Fr.right+Sr.right},No=E.modifiersData.offset;if(Nn===Un&&No){var ka=No[Y];Object.keys(go).forEach(function(wa){var oc=[li,bi].indexOf(wa)>=0?1:-1,Fu=[Di,bi].indexOf(wa)>=0?"y":"x";go[wa]+=ka[Fu]*oc})}return go}const z={name:"flip",enabled:!0,phase:"main",fn:function F(E){var O=E.state,g=E.options,A=E.name;if(!O.modifiersData[A]._skip){for(var Y=g.mainAxis,he=void 0===Y||Y,Ze=g.altAxis,at=void 0===Ze||Ze,ht=g.fallbackPlacements,It=g.padding,Zt=g.boundary,qn=g.rootBoundary,Nn=g.altBoundary,Wn=g.flipVariations,_r=void 0===Wn||Wn,Ni=g.allowedAutoPlacements,nr=O.options.placement,Sr=Vn(nr),Os=ht||(Sr!==nr&&_r?function N(E){if(Vn(E)===Si)return[];var O=Pn(E);return[ui(E),O,ui(O)]}(nr):[Pn(nr)]),br=[nr].concat(Os).reduce(function(Vu,lc){return Vu.concat(Vn(lc)===Si?function P(E,O){void 0===O&&(O={});var Y=O.boundary,he=O.rootBoundary,Ze=O.padding,at=O.flipVariations,ht=O.allowedAutoPlacements,It=void 0===ht?Oi:ht,Zt=s(O.placement),qn=Zt?at?Rs:Rs.filter(function(_r){return s(_r)===Zt}):sr,Nn=qn.filter(function(_r){return It.indexOf(_r)>=0});0===Nn.length&&(Nn=qn);var Wn=Nn.reduce(function(_r,Ni){return _r[Ni]=I(E,{placement:Ni,boundary:Y,rootBoundary:he,padding:Ze})[Vn(Ni)],_r},{});return Object.keys(Wn).sort(function(_r,Ni){return Wn[_r]-Wn[Ni]})}(O,{placement:lc,boundary:Zt,rootBoundary:qn,padding:It,flipVariations:_r,allowedAutoPlacements:Ni}):lc)},[]),Fr=O.rects.reference,is=O.rects.popper,Ms=new Map,Wr=!0,jo=br[0],go=0;go<br.length;go++){var No=br[go],ka=Vn(No),wa=s(No)===Bi,oc=[Di,bi].indexOf(ka)>=0,Fu=oc?"width":"height",Pa=I(O,{placement:No,boundary:Zt,rootBoundary:qn,altBoundary:Nn,padding:It}),Bl=oc?wa?li:gn:wa?bi:Di;Fr[Fu]>is[Fu]&&(Bl=Pn(Bl));var hh=Pn(Bl),Ul=[];if(he&&Ul.push(Pa[ka]<=0),at&&Ul.push(Pa[Bl]<=0,Pa[hh]<=0),Ul.every(function(Vu){return Vu})){jo=No,Wr=!1;break}Ms.set(No,Ul)}if(Wr)for(var ac=function(lc){var ph=br.find(function(If){var Bc=Ms.get(If);if(Bc)return Bc.slice(0,lc).every(function(Wp){return Wp})});if(ph)return jo=ph,"break"},Vc=_r?3:1;Vc>0&&"break"!==ac(Vc);Vc--);O.placement!==jo&&(O.modifiersData[A]._skip=!0,O.placement=jo,O.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function le(E,O,g){return Ur(E,gi(O,g))}function me(E){var O=ft(E),g=E.offsetWidth,A=E.offsetHeight;return Math.abs(O.width-g)<=1&&(g=O.width),Math.abs(O.height-A)<=1&&(A=O.height),{x:E.offsetLeft,y:E.offsetTop,width:g,height:A}}const Ve={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ae(E){var O=E.state,g=E.options,A=E.name,Y=g.mainAxis,he=void 0===Y||Y,Ze=g.altAxis,at=void 0!==Ze&&Ze,Nn=g.tether,Wn=void 0===Nn||Nn,_r=g.tetherOffset,Ni=void 0===_r?0:_r,nr=I(O,{boundary:g.boundary,rootBoundary:g.rootBoundary,padding:g.padding,altBoundary:g.altBoundary}),Sr=Vn(O.placement),ir=s(O.placement),Os=!ir,br=u(Sr),Fr=function X(E){return"x"===E?"y":"x"}(br),is=O.modifiersData.popperOffsets,Ms=O.rects.reference,Wr=O.rects.popper,jo="function"==typeof Ni?Ni(Object.assign({},O.rects,{placement:O.placement})):Ni,go="number"==typeof jo?{mainAxis:jo,altAxis:jo}:Object.assign({mainAxis:0,altAxis:0},jo),No=O.modifiersData.offset?O.modifiersData.offset[O.placement]:null,ka={x:0,y:0};if(is){if(he){var wa,oc="y"===br?Di:gn,Fu="y"===br?bi:li,Pa="y"===br?"height":"width",Bl=is[br],hh=Bl+nr[oc],Ul=Bl-nr[Fu],fh=Wn?-Wr[Pa]/2:0,ac=ir===Bi?Ms[Pa]:Wr[Pa],Vc=ir===Bi?-Wr[Pa]:-Ms[Pa],Af=O.elements.arrow,Vu=Wn&&Af?me(Af):{width:0,height:0},lc=O.modifiersData["arrow#persistent"]?O.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ph=lc[oc],If=lc[Fu],Bc=le(0,Ms[Pa],Vu[Pa]),Wp=Os?Ms[Pa]/2-fh-Bc-ph-go.mainAxis:ac-Bc-ph-go.mainAxis,Ed=Os?-Ms[Pa]/2+fh+Bc+If+go.mainAxis:Vc+Bc+If+go.mainAxis,gh=O.elements.arrow&&Ie(O.elements.arrow),Df=null!=(wa=No?.[br])?wa:0,Lv=Bl+Ed-Df,Lm=le(Wn?gi(hh,Bl+Wp-Df-(gh?"y"===br?gh.clientTop||0:gh.clientLeft||0:0)):hh,Bl,Wn?Ur(Ul,Lv):Ul);is[br]=Lm,ka[br]=Lm-Bl}if(at){var Fm,Bu=is[Fr],Pf="y"===Fr?"height":"width",Uu=Bu+nr["x"===br?Di:gn],cc=Bu-nr["x"===br?bi:li],$p=-1!==[Di,gn].indexOf(Sr),Xp=null!=(Fm=No?.[Fr])?Fm:0,Vv=$p?Uu:Bu-Ms[Pf]-Wr[Pf]-Xp+go.altAxis,Bv=$p?Bu+Ms[Pf]+Wr[Pf]-Xp-go.altAxis:cc,Kp=Wn&&$p?function ie(E,O,g){var A=le(E,O,g);return A>g?g:A}(Vv,Bu,Bv):le(Wn?Vv:Uu,Bu,Wn?Bv:cc);is[Fr]=Kp,ka[Fr]=Kp-Bu}O.modifiersData[A]=ka}},requiresIfExists:["offset"]},xe={name:"arrow",enabled:!0,phase:"main",fn:function Z(E){var O,g=E.state,A=E.name,Y=E.options,he=g.elements.arrow,Ze=g.modifiersData.popperOffsets,at=Vn(g.placement),ht=u(at),Zt=[gn,li].indexOf(at)>=0?"height":"width";if(he&&Ze){var qn=function(O,g){return x("number"!=typeof(O="function"==typeof O?O(Object.assign({},g.rects,{placement:g.placement})):O)?O:w(O,sr))}(Y.padding,g),Nn=me(he),Wn="y"===ht?Di:gn,_r="y"===ht?bi:li,Ni=g.rects.reference[Zt]+g.rects.reference[ht]-Ze[ht]-g.rects.popper[Zt],nr=Ze[ht]-g.rects.reference[ht],Sr=Ie(he),ir=Sr?"y"===ht?Sr.clientHeight||0:Sr.clientWidth||0:0,is=ir/2-Nn[Zt]/2+(Ni/2-nr/2),Ms=le(qn[Wn],is,ir-Nn[Zt]-qn[_r]);g.modifiersData[A]=((O={})[ht]=Ms,O.centerOffset=Ms-is,O)}},effect:function ce(E){var O=E.state,A=E.options.element,Y=void 0===A?"[data-popper-arrow]":A;null!=Y&&("string"==typeof Y&&!(Y=O.elements.popper.querySelector(Y))||Ge(O.elements.popper,Y)&&(O.elements.arrow=Y))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function st(E,O,g){void 0===g&&(g=!1);var A=$r(O),Y=$r(O)&&function Ke(E){var O=E.getBoundingClientRect(),g=or(O.width)/E.offsetWidth||1,A=or(O.height)/E.offsetHeight||1;return 1!==g||1!==A}(O),he=ur(O),Ze=ft(E,Y,g),at={scrollLeft:0,scrollTop:0},ht={x:0,y:0};return(A||!A&&!g)&&(("body"!==Gn(O)||Gi(he))&&(at=function ze(E){return E!==pr(E)&&$r(E)?function Pe(E){return{scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}}(E):hn(E)}(O)),$r(O)?((ht=ft(O,!0)).x+=O.clientLeft,ht.y+=O.clientTop):he&&(ht.x=tn(he))),{x:Ze.left+at.scrollLeft-ht.x,y:Ze.top+at.scrollTop-ht.y,width:Ze.width,height:Ze.height}}function Tt(E){var O=new Map,g=new Set,A=[];function Y(he){g.add(he.name),[].concat(he.requires||[],he.requiresIfExists||[]).forEach(function(at){if(!g.has(at)){var ht=O.get(at);ht&&Y(ht)}}),A.push(he)}return E.forEach(function(he){O.set(he.name,he)}),E.forEach(function(he){g.has(he.name)||Y(he)}),A}function zt(E){var O;return function(){return O||(O=new Promise(function(g){Promise.resolve().then(function(){O=void 0,g(E())})})),O}}var zn={placement:"bottom",modifiers:[],strategy:"absolute"};function Qn(){for(var E=arguments.length,O=new Array(E),g=0;g<E;g++)O[g]=arguments[g];return!O.some(function(A){return!(A&&"function"==typeof A.getBoundingClientRect)})}function di(E){void 0===E&&(E={});var g=E.defaultModifiers,A=void 0===g?[]:g,Y=E.defaultOptions,he=void 0===Y?zn:Y;return function(at,ht,It){void 0===It&&(It=he);var Zt={placement:"bottom",orderedModifiers:[],options:Object.assign({},zn,he),modifiersData:{},elements:{reference:at,popper:ht},attributes:{},styles:{}},qn=[],Nn=!1,Wn={state:Zt,setOptions:function(Sr){var ir="function"==typeof Sr?Sr(Zt.options):Sr;Ni(),Zt.options=Object.assign({},he,Zt.options,ir),Zt.scrollParents={reference:Mi(at)?Wi(at):at.contextElement?Wi(at.contextElement):[],popper:Wi(ht)};var Os=function $t(E){var O=Tt(E);return Ki.reduce(function(g,A){return g.concat(O.filter(function(Y){return Y.phase===A}))},[])}(function Ht(E){var O=E.reduce(function(g,A){var Y=g[A.name];return g[A.name]=Y?Object.assign({},Y,A,{options:Object.assign({},Y.options,A.options),data:Object.assign({},Y.data,A.data)}):A,g},{});return Object.keys(O).map(function(g){return O[g]})}([].concat(A,Zt.options.modifiers)));return Zt.orderedModifiers=Os.filter(function(br){return br.enabled}),function _r(){Zt.orderedModifiers.forEach(function(nr){var ir=nr.options,br=nr.effect;if("function"==typeof br){var Fr=br({state:Zt,name:nr.name,instance:Wn,options:void 0===ir?{}:ir});qn.push(Fr||function(){})}})}(),Wn.update()},forceUpdate:function(){if(!Nn){var Sr=Zt.elements,ir=Sr.reference,Os=Sr.popper;if(Qn(ir,Os)){Zt.rects={reference:st(ir,Ie(Os),"fixed"===Zt.options.strategy),popper:me(Os)},Zt.reset=!1,Zt.placement=Zt.options.placement,Zt.orderedModifiers.forEach(function(go){return Zt.modifiersData[go.name]=Object.assign({},go.data)});for(var br=0;br<Zt.orderedModifiers.length;br++)if(!0!==Zt.reset){var Fr=Zt.orderedModifiers[br],is=Fr.fn,Ms=Fr.options;"function"==typeof is&&(Zt=is({state:Zt,options:void 0===Ms?{}:Ms,name:Fr.name,instance:Wn})||Zt)}else Zt.reset=!1,br=-1}}},update:zt(function(){return new Promise(function(nr){Wn.forceUpdate(),nr(Zt)})}),destroy:function(){Ni(),Nn=!0}};if(!Qn(at,ht))return Wn;function Ni(){qn.forEach(function(nr){return nr()}),qn=[]}return Wn.setOptions(It).then(function(nr){!Nn&&It.onFirstUpdate&&It.onFirstUpdate(nr)}),Wn}}var ji={passive:!0},As={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kr(E){var O,g=E.popper,A=E.popperRect,Y=E.placement,he=E.variation,Ze=E.offsets,at=E.position,ht=E.gpuAcceleration,It=E.adaptive,Zt=E.roundOffsets,qn=E.isFixed,Nn=Ze.x,Wn=void 0===Nn?0:Nn,_r=Ze.y,Ni=void 0===_r?0:_r,nr="function"==typeof Zt?Zt({x:Wn,y:Ni}):{x:Wn,y:Ni};Wn=nr.x,Ni=nr.y;var Sr=Ze.hasOwnProperty("x"),ir=Ze.hasOwnProperty("y"),Os=gn,br=Di,Fr=window;if(It){var is=Ie(g),Ms="clientHeight",Wr="clientWidth";is===pr(g)&&"static"!==ke(is=ur(g)).position&&"absolute"===at&&(Ms="scrollHeight",Wr="scrollWidth"),(Y===Di||(Y===gn||Y===li)&&he===ki)&&(br=bi,Ni-=(qn&&is===Fr&&Fr.visualViewport?Fr.visualViewport.height:is[Ms])-A.height,Ni*=ht?1:-1),Y!==gn&&(Y!==Di&&Y!==bi||he!==ki)||(Os=li,Wn-=(qn&&is===Fr&&Fr.visualViewport?Fr.visualViewport.width:is[Wr])-A.width,Wn*=ht?1:-1)}var wa,No=Object.assign({position:at},It&&As),ka=!0===Zt?function ss(E,O){var A=E.y,Y=O.devicePixelRatio||1;return{x:or(E.x*Y)/Y||0,y:or(A*Y)/Y||0}}({x:Wn,y:Ni},pr(g)):{x:Wn,y:Ni};return Wn=ka.x,Ni=ka.y,Object.assign({},No,ht?((wa={})[br]=ir?"0":"",wa[Os]=Sr?"0":"",wa.transform=(Fr.devicePixelRatio||1)<=1?"translate("+Wn+"px, "+Ni+"px)":"translate3d("+Wn+"px, "+Ni+"px, 0)",wa):((O={})[br]=ir?Ni+"px":"",O[Os]=Sr?Wn+"px":"",O.transform="",O))}var cs=di({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function pi(E){var O=E.state,g=E.instance,A=E.options,Y=A.scroll,he=void 0===Y||Y,Ze=A.resize,at=void 0===Ze||Ze,ht=pr(O.elements.popper),It=[].concat(O.scrollParents.reference,O.scrollParents.popper);return he&&It.forEach(function(Zt){Zt.addEventListener("scroll",g.update,ji)}),at&&ht.addEventListener("resize",g.update,ji),function(){he&&It.forEach(function(Zt){Zt.removeEventListener("scroll",g.update,ji)}),at&&ht.removeEventListener("resize",g.update,ji)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function wr(E){var O=E.state;O.modifiersData[E.name]=p({reference:O.rects.reference,element:O.rects.popper,strategy:"absolute",placement:O.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function zi(E){var O=E.state,g=E.options,A=g.gpuAcceleration,Y=void 0===A||A,he=g.adaptive,Ze=void 0===he||he,at=g.roundOffsets,ht=void 0===at||at,It={placement:Vn(O.placement),variation:s(O.placement),popper:O.elements.popper,popperRect:O.rects.popper,gpuAcceleration:Y,isFixed:"fixed"===O.options.strategy};null!=O.modifiersData.popperOffsets&&(O.styles.popper=Object.assign({},O.styles.popper,kr(Object.assign({},It,{offsets:O.modifiersData.popperOffsets,position:O.options.strategy,adaptive:Ze,roundOffsets:ht})))),null!=O.modifiersData.arrow&&(O.styles.arrow=Object.assign({},O.styles.arrow,kr(Object.assign({},It,{offsets:O.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ht})))),O.attributes.popper=Object.assign({},O.attributes.popper,{"data-popper-placement":O.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function ai(E){var O=E.state;Object.keys(O.elements).forEach(function(g){var A=O.styles[g]||{},Y=O.attributes[g]||{},he=O.elements[g];!$r(he)||!Gn(he)||(Object.assign(he.style,A),Object.keys(Y).forEach(function(Ze){var at=Y[Ze];!1===at?he.removeAttribute(Ze):he.setAttribute(Ze,!0===at?"":at)}))})},effect:function gr(E){var O=E.state,g={popper:{position:O.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(O.elements.popper.style,g.popper),O.styles=g,O.elements.arrow&&Object.assign(O.elements.arrow.style,g.arrow),function(){Object.keys(O.elements).forEach(function(A){var Y=O.elements[A],he=O.attributes[A]||{},at=Object.keys(O.styles.hasOwnProperty(A)?O.styles[A]:g[A]).reduce(function(ht,It){return ht[It]="",ht},{});!$r(Y)||!Gn(Y)||(Object.assign(Y.style,at),Object.keys(he).forEach(function(ht){Y.removeAttribute(ht)}))})}},requires:["computeStyles"]}]});const Ns={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Lo(E){var O=E.state,A=E.name,Y=E.options.offset,he=void 0===Y?[0,0]:Y,Ze=Oi.reduce(function(Zt,qn){return Zt[qn]=function Or(E,O,g){var A=Vn(E),Y=[gn,Di].indexOf(A)>=0?-1:1,he="function"==typeof g?g(Object.assign({},O,{placement:E})):g,Ze=he[0],at=he[1];return Ze=Ze||0,at=(at||0)*Y,[gn,li].indexOf(A)>=0?{x:at,y:Ze}:{x:Ze,y:at}}(qn,O.rects,he),Zt},{}),at=Ze[O.placement],It=at.y;null!=O.modifiersData.popperOffsets&&(O.modifiersData.popperOffsets.x+=at.x,O.modifiersData.popperOffsets.y+=It),O.modifiersData[A]=Ze}};function Ys(E,O){if(1&E){const g=f.EpF();f.TgZ(0,"button",1),f.NdJ("click",function(){f.CHM(g);const Y=f.oxw();return f.KtG(Y.close())}),f.qZA()}}const lr=["*"],lo=function(E){return{$implicit:E}},Wo=["dialog"],Kr=["ngbNavOutlet",""];function co(E,O){}function xo(E,O){if(1&E&&(f.TgZ(0,"div",2),f.YNc(1,co,0,0,"ng-template",3),f.qZA()),2&E){const g=f.oxw().$implicit,A=f.oxw();f.Q6J("item",g)("nav",A.nav)("role",A.paneRole),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==g.contentTpl?null:g.contentTpl.templateRef)||null)("ngTemplateOutletContext",f.VKq(5,lo,g.active||A.isPanelTransitioning(g)))}}function Ii(E,O){if(1&E&&f.YNc(0,xo,2,7,"div",1),2&E){const g=O.$implicit,A=f.oxw();f.Q6J("ngIf",g.isPanelInDom()||A.isPanelTransitioning(g))}}function $o(E,O){1&E&&(f.TgZ(0,"span",9),f.SDv(1,10),f.qZA())}function ge(E,O){1&E&&(f.TgZ(0,"span",9),f.SDv(1,11),f.qZA())}function pe(E,O){1&E&&(f.TgZ(0,"span",9),f.SDv(1,12),f.qZA())}function re(E,O){1&E&&(f.TgZ(0,"span",9),f.SDv(1,13),f.qZA())}function Re(E,O){1&E&&f._uU(0,"...")}function Vt(E,O){1&E&&f._uU(0),2&E&&f.Oqu(O.$implicit)}function Zn(E,O){}const Ar=function(E){return{disabled:!0,currentPage:E}};function qt(E,O){if(1&E&&(f.TgZ(0,"a",18),f.YNc(1,Zn,0,0,"ng-template",8),f.qZA()),2&E){const g=f.oxw(2).$implicit,A=f.oxw(),Y=f.MAs(9);f.xp6(1),f.Q6J("ngTemplateOutlet",(null==A.tplEllipsis?null:A.tplEllipsis.templateRef)||Y)("ngTemplateOutletContext",f.VKq(2,Ar,g))}}function Ei(E,O){}const Xo=function(E,O,g){return{disabled:E,$implicit:O,currentPage:g}};function Ko(E,O){if(1&E){const g=f.EpF();f.TgZ(0,"a",19),f.NdJ("click",function(Y){f.CHM(g);const he=f.oxw().$implicit;return f.oxw(2).selectPage(he),f.KtG(Y.preventDefault())}),f.YNc(1,Ei,0,0,"ng-template",8),f.qZA()}if(2&E){const g=f.oxw().$implicit,A=f.oxw(),Y=A.disabled,he=A.$implicit,Ze=f.oxw(),at=f.MAs(11);f.uIk("tabindex",Y?"-1":null)("aria-disabled",Y?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==Ze.tplNumber?null:Ze.tplNumber.templateRef)||at)("ngTemplateOutletContext",f.kEZ(4,Xo,Y,g,he))}}function zr(E,O){if(1&E&&(f.TgZ(0,"li",15),f.YNc(1,qt,2,4,"a",16),f.YNc(2,Ko,2,8,"a",17),f.qZA()),2&E){const g=O.$implicit,A=f.oxw(),Y=A.$implicit,he=A.disabled,Ze=f.oxw();f.ekj("active",g===Y)("disabled",Ze.isEllipsis(g)||he),f.uIk("aria-current",g===Y?"page":null),f.xp6(1),f.Q6J("ngIf",Ze.isEllipsis(g)),f.xp6(1),f.Q6J("ngIf",!Ze.isEllipsis(g))}}function wo(E,O){1&E&&f.YNc(0,zr,3,7,"li",14),2&E&&f.Q6J("ngForOf",O.pages)}function pa(E,O){}const Is=function(E,O){return{disabled:E,currentPage:O}};function fl(E,O){if(1&E){const g=f.EpF();f.TgZ(0,"li",15)(1,"a",20),f.NdJ("click",function(Y){return f.CHM(g),f.oxw().selectPage(1),f.KtG(Y.preventDefault())}),f.YNc(2,pa,0,0,"ng-template",8),f.qZA()()}if(2&E){const g=f.oxw(),A=f.MAs(1);f.ekj("disabled",g.previousDisabled()),f.xp6(1),f.uIk("tabindex",g.previousDisabled()?"-1":null)("aria-disabled",g.previousDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==g.tplFirst?null:g.tplFirst.templateRef)||A)("ngTemplateOutletContext",f.WLB(6,Is,g.previousDisabled(),g.page))}}function Eo(E,O){}const pl=function(E){return{disabled:E}};function La(E,O){if(1&E){const g=f.EpF();f.TgZ(0,"li",15)(1,"a",21),f.NdJ("click",function(Y){f.CHM(g);const he=f.oxw();return he.selectPage(he.page-1),f.KtG(Y.preventDefault())}),f.YNc(2,Eo,0,0,"ng-template",8),f.qZA()()}if(2&E){const g=f.oxw(),A=f.MAs(3);f.ekj("disabled",g.previousDisabled()),f.xp6(1),f.uIk("tabindex",g.previousDisabled()?"-1":null)("aria-disabled",g.previousDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==g.tplPrevious?null:g.tplPrevious.templateRef)||A)("ngTemplateOutletContext",f.VKq(6,pl,g.previousDisabled()))}}function Da(E,O){}function us(E,O){}function Ji(E,O){if(1&E){const g=f.EpF();f.TgZ(0,"li",15)(1,"a",22),f.NdJ("click",function(Y){f.CHM(g);const he=f.oxw();return he.selectPage(he.page+1),f.KtG(Y.preventDefault())}),f.YNc(2,us,0,0,"ng-template",8),f.qZA()()}if(2&E){const g=f.oxw(),A=f.MAs(5);f.ekj("disabled",g.nextDisabled()),f.xp6(1),f.uIk("tabindex",g.nextDisabled()?"-1":null)("aria-disabled",g.nextDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==g.tplNext?null:g.tplNext.templateRef)||A)("ngTemplateOutletContext",f.WLB(6,Is,g.nextDisabled(),g.page))}}function yr(E,O){}function uo(E,O){if(1&E){const g=f.EpF();f.TgZ(0,"li",15)(1,"a",23),f.NdJ("click",function(Y){f.CHM(g);const he=f.oxw();return he.selectPage(he.pageCount),f.KtG(Y.preventDefault())}),f.YNc(2,yr,0,0,"ng-template",8),f.qZA()()}if(2&E){const g=f.oxw(),A=f.MAs(7);f.ekj("disabled",g.nextDisabled()),f.xp6(1),f.uIk("tabindex",g.nextDisabled()?"-1":null)("aria-disabled",g.nextDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==g.tplLast?null:g.tplLast.templateRef)||A)("ngTemplateOutletContext",f.WLB(6,Is,g.nextDisabled(),g.page))}}const Es=function(E,O,g){return{$implicit:E,pages:O,disabled:g}};function Wl(E,O){if(1&E&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&E){const g=f.oxw().$implicit,A=f.oxw();f.Tol(A.highlightClass),f.xp6(1),f.Oqu(g)}}function za(E,O){if(1&E&&f._uU(0),2&E){const g=f.oxw().$implicit;f.Oqu(g)}}function xc(E,O){if(1&E&&(f.YNc(0,Wl,2,3,"span",1),f.YNc(1,za,1,1,"ng-template",null,2,f.W1O)),2&E){const g=O.odd,A=f.MAs(2);f.Q6J("ngIf",g)("ngIfElse",A)}}function Te(E){return null!=E?`${E}`:""}function Ne(E){return"string"==typeof E}function $e(E){return!isNaN(function ee(E){return parseInt(`${E}`,10)}(E))}function Kt(E){return null!=E}function Sn(E){return(E||document.body).getBoundingClientRect()}function er(E){return E.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Dr={animation:!0,transitionTimerDelayMs:5},Ds=()=>{},{transitionTimerDelayMs:Ro}=Dr,Bo=new Map,Nr=(E,O,g,A)=>{let Y=A.context||{};const he=Bo.get(O);if(he)switch(A.runningTransition){case"continue":return He.E;case"stop":E.run(()=>he.transition$.complete()),Y=Object.assign(he.context,Y),Bo.delete(O)}const Ze=g(O,A.animation,Y)||Ds;if(!A.animation||"none"===window.getComputedStyle(O).transitionProperty)return E.run(()=>Ze()),(0,Xe.of)(void 0).pipe(function mi(E){return O=>new v.y(g=>O.subscribe({next:Ze=>E.run(()=>g.next(Ze)),error:Ze=>E.run(()=>g.error(Ze)),complete:()=>E.run(()=>g.complete())}))}(E));const at=new l.x,ht=new l.x,It=at.pipe(function fn(...E){return O=>(0,jt.z)(O,(0,Xe.of)(...E))}(!0));Bo.set(O,{transition$:at,complete:()=>{ht.next(),ht.complete()},context:Y});const Zt=function Rr(E){const{transitionDelay:O,transitionDuration:g}=window.getComputedStyle(E);return 1e3*(parseFloat(O)+parseFloat(g))}(O);return E.runOutsideAngular(()=>{const qn=(0,Qe.R)(O,"transitionend").pipe((0,Fn.R)(It),(0,Qt.h)(({target:Wn})=>Wn===O));Et((0,je.H)(Zt+Ro).pipe((0,Fn.R)(It)),qn,ht).pipe((0,Fn.R)(It)).subscribe(()=>{Bo.delete(O),E.run(()=>{Ze(),at.next(),at.complete()})})}),at.asObservable()};let K=(()=>{class E{constructor(){this.animation=Dr.animation}}return E.\u0275fac=function(g){return new(g||E)},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ga=({classList:E})=>{E.remove("show")};let tl=(()=>{class E{constructor(g){this._ngbConfig=g,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(g){this._animation=g}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(K))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),ja=(()=>{class E{constructor(g,A,Y,he){this._renderer=A,this._element=Y,this._zone=he,this.closed=new f.vpe,this.dismissible=g.dismissible,this.type=g.type,this.animation=g.animation}close(){const g=Nr(this._zone,this._element.nativeElement,Ga,{animation:this.animation,runningTransition:"continue"});return g.subscribe(()=>this.closed.emit()),g}ngOnChanges(g){const A=g.type;A&&!A.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${A.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${A.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(tl),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(g,A){2&g&&f.ekj("fade",A.animation)("alert-dismissible",A.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[f.TTD,f.jDz],ngContentSelectors:lr,decls:2,vars:1,consts:function(){let O;return O=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",O,3,"click",4,"ngIf"],["type","button","aria-label",O,1,"btn-close",3,"click"]]},template:function(g,A){1&g&&(f.F$t(),f.Hsn(0),f.YNc(1,Ys,1,0,"button",0)),2&g&&(f.xp6(1),f.Q6J("ngIf",A.dismissible))},dependencies:[Dt.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),E})(),Wc=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({imports:[ja]}),E})(),ts=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({}),E})();var yn=(()=>{return(E=yn||(yn={}))[E.Tab=9]="Tab",E[E.Enter=13]="Enter",E[E.Escape=27]="Escape",E[E.Space=32]="Space",E[E.PageUp=33]="PageUp",E[E.PageDown=34]="PageDown",E[E.End=35]="End",E[E.Home=36]="Home",E[E.ArrowLeft=37]="ArrowLeft",E[E.ArrowUp=38]="ArrowUp",E[E.ArrowRight=39]="ArrowRight",E[E.ArrowDown=40]="ArrowDown",yn;var E})();const Ps=(E,O)=>!!O&&O.some(g=>g.contains(E)),Dc=(E,O)=>!O||null!=function kt(E,O){return!O||typeof E.closest>"u"?null:E.closest(O)}(E,O),Yd=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function od(E,O,g,A,Y,he,Ze,at){g&&E.runOutsideAngular((E=>Yd?()=>setTimeout(()=>E(),100):E)(()=>{const It=(0,Qe.R)(O,"keydown").pipe((0,Fn.R)(Y),(0,Qt.h)(Nn=>Nn.which===yn.Escape),(0,mn.b)(Nn=>Nn.preventDefault())),Zt=(0,Qe.R)(O,"mousedown").pipe((0,vn.U)(Nn=>{const Wn=Nn.target;return 2!==Nn.button&&!Ps(Wn,Ze)&&("inside"===g?Ps(Wn,he)&&Dc(Wn,at):"outside"===g?!Ps(Wn,he):Dc(Wn,at)||!Ps(Wn,he))}),(0,Fn.R)(Y)),qn=(0,Qe.R)(O,"mouseup").pipe(pt(Zt),(0,Qt.h)(([Nn,Wn])=>Wn),(0,Gt.g)(0),(0,Fn.R)(Y));Et([It.pipe((0,vn.U)(Nn=>0)),qn.pipe((0,vn.U)(Nn=>1))]).subscribe(Nn=>E.run(()=>A(Nn)))}))}const Kh=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kc(E){const O=Array.from(E.querySelectorAll(Kh)).filter(g=>-1!==g.tabIndex);return[O[0],O[O.length-1]]}let Cp=(()=>{class E{constructor(g){this._element=g.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(Dt.K0))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Jh=/\s+/,Jc=/  +/gi,xu={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},cd=/^left/,C0=/^right/,qd=/^start/,Ol=/^end/;function vl({placement:E,baseClass:O},g){let A=Array.isArray(E)?E:E.split(Jh),he=A.findIndex(It=>"auto"===It);he>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(It){null==A.find(Zt=>-1!==Zt.search("^"+It))&&A.splice(he++,1,It)});const Ze=A.map(It=>function ld(E,O){const[g,A]=xu[E];return O&&A||g}(It,g.isRTL()));return{placement:Ze.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!O,phase:"write",fn({state:It}){const Zt=new RegExp(O+"(-[a-z]+)*","gi"),qn=It.elements.popper,Nn=It.placement;let Wn=qn.className;Wn=Wn.replace(Zt,""),Wn+=` ${function wu(E,O){let[g,A]=O.split("-");const Y=g.replace(cd,"start").replace(C0,"end");let he=[Y];if(A){let Ze=A;("left"===g||"right"===g)&&(Ze=Ze.replace(qd,"top").replace(Ol,"bottom")),he.push(`${Y}-${Ze}`)}return E&&(he=he.map(Ze=>`${E}-${Ze}`)),he.join(" ")}(O,Nn)}`,Wn=Wn.trim().replace(Jc," "),qn.className=Wn}},z,Ve,xe,{enabled:!0,name:"flip",options:{fallbackPlacements:Ze}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Qh(E){return E}function Wd(){const E=(0,f.f3M)(Cp);let O=null;return{createPopper(g){if(!O){let Y=(g.updatePopperOptions||Qh)(vl(g,E));O=cs(g.hostElement,g.targetElement,Y)}},update(){O&&O.update()},setOptions(g){if(O){let Y=(g.updatePopperOptions||Qh)(vl(g,E));O.setOptions(Y)}},destroy(){O&&(O.destroy(),O=null)}}}new Date(1882,10,12),new Date(2174,10,25);let df=(()=>{class E{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=g=>g}}return E.\u0275fac=function(g){return new(g||E)},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),hf=(()=>{class E{constructor(g,A){this.elementRef=g,this._renderer=A,this._disabled=!1}set disabled(g){this._disabled=""===g||!0===g,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.SBq),f.Y36(f.Qsj))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(g,A){2&g&&(f.Ikx("tabIndex",A.disabled?-1:0),f.ekj("disabled",A.disabled))},inputs:{disabled:"disabled"},standalone:!0}),E})(),tc=(()=>{class E{constructor(g,A){this.dropdown=g,this.placement="bottom",this.isOpen=!1,this.nativeElement=A.nativeElement}}return E.\u0275fac=function(g){return new(g||E)(f.Y36((0,f.Gpc)(()=>Nl)),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(g,A,Y){if(1&g&&f.Suo(Y,hf,4),2&g){let he;f.iGM(he=f.CRH())&&(A.menuItems=he)}},hostVars:4,hostBindings:function(g,A){1&g&&f.NdJ("keydown.ArrowUp",function(he){return A.dropdown.onKeyDown(he)})("keydown.ArrowDown",function(he){return A.dropdown.onKeyDown(he)})("keydown.Home",function(he){return A.dropdown.onKeyDown(he)})("keydown.End",function(he){return A.dropdown.onKeyDown(he)})("keydown.Enter",function(he){return A.dropdown.onKeyDown(he)})("keydown.Space",function(he){return A.dropdown.onKeyDown(he)})("keydown.Tab",function(he){return A.dropdown.onKeyDown(he)})("keydown.Shift.Tab",function(he){return A.dropdown.onKeyDown(he)}),2&g&&f.ekj("dropdown-menu",!0)("show",A.dropdown.isOpen())},standalone:!0}),E})(),nu=(()=>{class E{constructor(g,A){this.dropdown=g,this.nativeElement=A.nativeElement}}return E.\u0275fac=function(g){return new(g||E)(f.Y36((0,f.Gpc)(()=>Nl)),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(g,A){2&g&&f.uIk("aria-expanded",A.dropdown.isOpen())},standalone:!0}),E})(),nc=(()=>{class E extends nu{constructor(g,A){super(g,A)}}return E.\u0275fac=function(g){return new(g||E)(f.Y36((0,f.Gpc)(()=>Nl)),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(g,A){1&g&&f.NdJ("click",function(){return A.dropdown.toggle()})("keydown.ArrowUp",function(he){return A.dropdown.onKeyDown(he)})("keydown.ArrowDown",function(he){return A.dropdown.onKeyDown(he)})("keydown.Home",function(he){return A.dropdown.onKeyDown(he)})("keydown.End",function(he){return A.dropdown.onKeyDown(he)})("keydown.Tab",function(he){return A.dropdown.onKeyDown(he)})("keydown.Shift.Tab",function(he){return A.dropdown.onKeyDown(he)}),2&g&&f.uIk("aria-expanded",A.dropdown.isOpen())},standalone:!0,features:[f._Bn([{provide:nu,useExisting:(0,f.Gpc)(()=>E)}]),f.qOj]}),E})(),Nl=(()=>{class E{constructor(g,A,Y,he,Ze,at){this._changeDetector=g,this._document=Y,this._ngZone=he,this._elementRef=Ze,this._renderer=at,this._destroyCloseHandlers$=new l.x,this._bodyContainer=null,this._open=!1,this.openChange=new f.vpe,this.placement=A.placement,this.popperOptions=A.popperOptions,this.container=A.container,this.autoClose=A.autoClose,this._positioning=Wd(),this.display=this._elementRef.nativeElement.closest(".navbar")?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,Nt.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(g){if(g.container&&this._open&&this._applyContainer(this.container),g.placement&&!g.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),g.dropdownClass){const{currentValue:A,previousValue:Y}=g.dropdownClass;this._applyCustomDropdownClass(A,Y)}g.autoClose&&this._open&&(this.autoClose=g.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:g=>this.popperOptions(function ef(E){return O=>(O.modifiers.push(Ns,{name:"offset",options:{offset:()=>E}}),O)}([0,2])(g))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),od(this._ngZone,this._document,this.autoClose,g=>{this.close(),0===g&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(g){const A=g.which,Y=this._getMenuElements();let he=-1,Ze=null;const at=this._isEventFromToggle(g);if(!at&&Y.length&&Y.forEach((ht,It)=>{ht.contains(g.target)&&(Ze=ht),ht===this._document.activeElement&&(he=It)}),A!==yn.Space&&A!==yn.Enter){if(A!==yn.Tab){if(at||Ze){if(this.open(),Y.length){switch(A){case yn.ArrowDown:he=Math.min(he+1,Y.length-1);break;case yn.ArrowUp:if(this._isDropup()&&-1===he){he=Y.length-1;break}he=Math.max(he-1,0);break;case yn.Home:he=0;break;case yn.End:he=Y.length-1}Y[he].focus()}g.preventDefault()}}else if(g.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===g.target)return void("body"!==this.container||g.shiftKey?g.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const ht=this._menu.nativeElement.querySelectorAll(Kh);g.shiftKey&&g.target===ht[0]?(this._anchor.nativeElement.focus(),g.preventDefault()):!g.shiftKey&&g.target===ht[ht.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,Qe.R)(g.target,"focusout").pipe((0,Nt.q)(1)).subscribe(({relatedTarget:ht})=>{this._elementRef.nativeElement.contains(ht)||this.close()})}}else Ze&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,Qe.R)(Ze,"click").pipe((0,Nt.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(g){return this._anchor.nativeElement.contains(g.target)}_getMenuElements(){const g=this._menu;return null==g?[]:g.menuItems.filter(A=>!A.disabled).map(A=>A.elementRef.nativeElement)}_positionMenu(){const g=this._menu;this.isOpen()&&g&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(g){return Array.isArray(g)?g[0]:g.split(" ")[0]}_resetContainer(){const g=this._renderer;this._menu&&g.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(g.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(g=null){if(this._resetContainer(),"body"===g){const A=this._renderer,Y=this._menu.nativeElement,he=this._bodyContainer=this._bodyContainer||A.createElement("div");A.setStyle(he,"position","absolute"),A.setStyle(Y,"position","static"),A.setStyle(he,"z-index","1055"),A.appendChild(he,Y),A.appendChild(this._document.body,he)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(g,A){const Y="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;Y&&(A&&this._renderer.removeClass(Y,A),g&&this._renderer.addClass(Y,g))}_applyPlacementClasses(g){const A=this._menu;if(A){g||(g=this._getFirstPlacement(this.placement));const Y=this._renderer,he=this._elementRef.nativeElement;Y.removeClass(he,"dropup"),Y.removeClass(he,"dropdown");const{nativeElement:Ze}=A;"static"===this.display?(A.placement=null,Y.setAttribute(Ze,"data-bs-popper","static")):(A.placement=g,Y.removeAttribute(Ze,"data-bs-popper"));const at=-1!==g.search("^top")?"dropup":"dropdown";Y.addClass(he,at);const ht=this._bodyContainer;ht&&(Y.removeClass(ht,"dropup"),Y.removeClass(ht,"dropdown"),Y.addClass(ht,at))}}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.sBO),f.Y36(df),f.Y36(Dt.K0),f.Y36(f.R0b),f.Y36(f.SBq),f.Y36(f.Qsj))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbDropdown",""]],contentQueries:function(g,A,Y){if(1&g&&(f.Suo(Y,tc,5),f.Suo(Y,nu,5)),2&g){let he;f.iGM(he=f.CRH())&&(A._menu=he.first),f.iGM(he=f.CRH())&&(A._anchor=he.first)}},hostVars:2,hostBindings:function(g,A){2&g&&f.ekj("show",A.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[f.TTD]}),E})(),ff=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({}),E})();class Ll{constructor(O,g,A){this.nodes=O,this.viewRef=g,this.componentRef=A}}class pf{constructor(O,g,A,Y,he,Ze){this._componentType=O,this._injector=g,this._viewContainerRef=A,this._renderer=Y,this._ngZone=he,this._applicationRef=Ze,this._windowRef=null,this._contentRef=null}open(O,g,A=!1){this._windowRef||(this._contentRef=this._getContentRef(O,g),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:Y}=this._windowRef.location,he=this._ngZone.onStable.pipe((0,Nt.q)(1),(0,pn.z)(()=>Nr(this._ngZone,Y,({classList:Ze})=>Ze.add("show"),{animation:A,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:he}}close(O=!1){return this._windowRef?Nr(this._ngZone,this._windowRef.location.nativeElement,({classList:g})=>g.remove("show"),{animation:O,runningTransition:"stop"}).pipe((0,mn.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,Xe.of)(void 0)}_getContentRef(O,g){if(O){if(O instanceof f.Rgc){const A=O.createEmbeddedView(g);return this._applicationRef.attachView(A),new Ll([A.rootNodes],A)}return new Ll([[this._renderer.createText(`${O}`)]])}return new Ll([])}}let ic=(()=>{class E{constructor(g,A){this._el=g,this._zone=A}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Nt.q)(1)).subscribe(()=>{Nr(this._zone,this._el.nativeElement,(g,A)=>{A&&Sn(g),g.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Nr(this._zone,this._el.nativeElement,({classList:g})=>g.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(g,A){2&g&&(f.Tol("modal-backdrop"+(A.backdropClass?" "+A.backdropClass:"")),f.ekj("show",!A.animation)("fade",A.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[f.jDz],decls:0,vars:0,template:function(g,A){},encapsulation:2}),E})();class Np{update(O){}close(O){}dismiss(O){}}const Lp=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Fp=["animation","backdropClass"];class Sm{constructor(O,g,A,Y){this._windowCmptRef=O,this._contentRef=g,this._backdropCmptRef=A,this._beforeDismiss=Y,this._closed=new l.x,this._dismissed=new l.x,this._hidden=new l.x,O.instance.dismissEvent.subscribe(he=>{this.dismiss(he)}),this.result=new Promise((he,Ze)=>{this._resolve=he,this._reject=Ze}),this.result.then(null,()=>{})}_applyWindowOptions(O,g){Lp.forEach(A=>{Kt(g[A])&&(O[A]=g[A])})}_applyBackdropOptions(O,g){Fp.forEach(A=>{Kt(g[A])&&(O[A]=g[A])})}update(O){this._applyWindowOptions(this._windowCmptRef.instance,O),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,O)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Fn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Fn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(O){this._windowCmptRef&&(this._closed.next(O),this._resolve(O),this._removeModalElements())}_dismiss(O){this._dismissed.next(O),this._reject(O),this._removeModalElements()}dismiss(O){if(this._windowCmptRef)if(this._beforeDismiss){const g=this._beforeDismiss();!function $(E){return E&&E.then}(g)?!1!==g&&this._dismiss(O):g.then(A=>{!1!==A&&this._dismiss(O)},()=>{})}else this._dismiss(O)}_removeModalElements(){const O=this._windowCmptRef.instance.hide(),g=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Xe.of)(void 0);O.subscribe(()=>{const{nativeElement:A}=this._windowCmptRef.location;A.parentNode.removeChild(A),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),g.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:A}=this._backdropCmptRef.location;A.parentNode.removeChild(A),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),un(O,g).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Rc=(()=>{return(E=Rc||(Rc={}))[E.BACKDROP_CLICK=0]="BACKDROP_CLICK",E[E.ESC=1]="ESC",Rc;var E})();let Am=(()=>{class E{constructor(g,A,Y){this._document=g,this._elRef=A,this._zone=Y,this._closed$=new l.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new f.vpe,this.shown=new l.x,this.hidden=new l.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ne(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(g){this.dismissEvent.emit(g)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Nt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:g}=this._elRef,A={animation:this.animation,runningTransition:"stop"},Ze=un(Nr(this._zone,g,()=>g.classList.remove("show"),A),Nr(this._zone,this._dialogEl.nativeElement,()=>{},A));return Ze.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ze}_show(){const g={animation:this.animation,runningTransition:"continue"};un(Nr(this._zone,this._elRef.nativeElement,(he,Ze)=>{Ze&&Sn(he),he.classList.add("show")},g),Nr(this._zone,this._dialogEl.nativeElement,()=>{},g)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:g}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Qe.R)(g,"keydown").pipe((0,Fn.R)(this._closed$),(0,Qt.h)(Y=>Y.which===yn.Escape)).subscribe(Y=>{this.keyboard?requestAnimationFrame(()=>{Y.defaultPrevented||this._zone.run(()=>this.dismiss(Rc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let A=!1;(0,Qe.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Fn.R)(this._closed$),(0,mn.b)(()=>A=!1),(0,In.w)(()=>(0,Qe.R)(g,"mouseup").pipe((0,Fn.R)(this._closed$),(0,Nt.q)(1))),(0,Qt.h)(({target:Y})=>g===Y)).subscribe(()=>{A=!0}),(0,Qe.R)(g,"click").pipe((0,Fn.R)(this._closed$)).subscribe(({target:Y})=>{g===Y&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!A&&this._zone.run(()=>this.dismiss(Rc.BACKDROP_CLICK))),A=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:g}=this._elRef;if(!g.contains(document.activeElement)){const A=g.querySelector("[ngbAutofocus]"),Y=kc(g)[0];(A||Y||g).focus()}}_restoreFocus(){const g=this._document.body,A=this._elWithFocus;let Y;Y=A&&A.focus&&g.contains(A)?A:g,this._zone.runOutsideAngular(()=>{setTimeout(()=>Y.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Nr(this._zone,this._elRef.nativeElement,({classList:g})=>(g.add("modal-static"),()=>g.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(Dt.K0),f.Y36(f.SBq),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ngb-modal-window"]],viewQuery:function(g,A){if(1&g&&f.Gf(Wo,7),2&g){let Y;f.iGM(Y=f.CRH())&&(A._dialogEl=Y.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(g,A){2&g&&(f.uIk("aria-modal",!0)("aria-labelledby",A.ariaLabelledBy)("aria-describedby",A.ariaDescribedBy),f.Tol("modal d-block"+(A.windowClass?" "+A.windowClass:"")),f.ekj("fade",A.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[f.jDz],ngContentSelectors:lr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(g,A){1&g&&(f.F$t(),f.TgZ(0,"div",0,1)(2,"div",2),f.Hsn(3),f.qZA()()),2&g&&f.Tol("modal-dialog"+(A.size?" modal-"+A.size:"")+(A.centered?" modal-dialog-centered":"")+A.fullscreenClass+(A.scrollable?" modal-dialog-scrollable":"")+(A.modalDialogClass?" "+A.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),E})(),Vp=(()=>{class E{constructor(g){this._document=g}hide(){const g=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),A=this._document.body,Y=A.style,{overflow:he,paddingRight:Ze}=Y;if(g>0){const at=parseFloat(window.getComputedStyle(A).paddingRight);Y.paddingRight=`${at+g}px`}return Y.overflow="hidden",()=>{g>0&&(Y.paddingRight=Ze),Y.overflow=he}}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(Dt.K0))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Bp=(()=>{class E{constructor(g,A,Y,he,Ze,at,ht){this._applicationRef=g,this._injector=A,this._environmentInjector=Y,this._document=he,this._scrollBar=Ze,this._rendererFactory=at,this._ngZone=ht,this._activeWindowCmptHasChanged=new l.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new f.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const It=this._windowCmpts[this._windowCmpts.length-1];((E,O,g,A=!1)=>{E.runOutsideAngular(()=>{const Y=(0,Qe.R)(O,"focusin").pipe((0,Fn.R)(g),(0,vn.U)(he=>he.target));(0,Qe.R)(O,"keydown").pipe((0,Fn.R)(g),(0,Qt.h)(he=>he.which===yn.Tab),pt(Y)).subscribe(([he,Ze])=>{const[at,ht]=kc(O);(Ze===at||Ze===O)&&he.shiftKey&&(ht.focus(),he.preventDefault()),Ze===ht&&!he.shiftKey&&(at.focus(),he.preventDefault())}),A&&(0,Qe.R)(O,"click").pipe((0,Fn.R)(g),pt(Y),(0,vn.U)(he=>he[1])).subscribe(he=>he.focus())})})(this._ngZone,It.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(It.location.nativeElement)}})}_restoreScrollBar(){const g=this._scrollBarRestoreFn;g&&(this._scrollBarRestoreFn=null,g())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(g,A,Y){const he=Y.container instanceof HTMLElement?Y.container:Kt(Y.container)?this._document.querySelector(Y.container):this._document.body,Ze=this._rendererFactory.createRenderer(null,null);if(!he)throw new Error(`The specified modal container "${Y.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const at=new Np,ht=(g=Y.injector||g).get(f.lqb,null)||this._environmentInjector,It=this._getContentRef(g,ht,A,at,Y);let Zt=!1!==Y.backdrop?this._attachBackdrop(he):void 0,qn=this._attachWindowComponent(he,It.nodes),Nn=new Sm(qn,It,Zt,Y.beforeDismiss);return this._registerModalRef(Nn),this._registerWindowCmpt(qn),Nn.hidden.pipe((0,Nt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ze.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),at.close=Wn=>{Nn.close(Wn)},at.dismiss=Wn=>{Nn.dismiss(Wn)},at.update=Wn=>{Nn.update(Wn)},Nn.update(Y),1===this._modalRefs.length&&Ze.addClass(this._document.body,"modal-open"),Zt&&Zt.instance&&Zt.changeDetectorRef.detectChanges(),qn.changeDetectorRef.detectChanges(),Nn}get activeInstances(){return this._activeInstances}dismissAll(g){this._modalRefs.forEach(A=>A.dismiss(g))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(g){let A=(0,f.LMc)(ic,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(A.hostView),g.appendChild(A.location.nativeElement),A}_attachWindowComponent(g,A){let Y=(0,f.LMc)(Am,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:A});return this._applicationRef.attachView(Y.hostView),g.appendChild(Y.location.nativeElement),Y}_getContentRef(g,A,Y,he,Ze){return Y?Y instanceof f.Rgc?this._createFromTemplateRef(Y,he):Ne(Y)?this._createFromString(Y):this._createFromComponent(g,A,Y,he,Ze):new Ll([])}_createFromTemplateRef(g,A){const he=g.createEmbeddedView({$implicit:A,close(Ze){A.close(Ze)},dismiss(Ze){A.dismiss(Ze)}});return this._applicationRef.attachView(he),new Ll([he.rootNodes],he)}_createFromString(g){const A=this._document.createTextNode(`${g}`);return new Ll([[A]])}_createFromComponent(g,A,Y,he,Ze){const at=f.zs3.create({providers:[{provide:Np,useValue:he}],parent:g}),ht=(0,f.LMc)(Y,{environmentInjector:A,elementInjector:at}),It=ht.location.nativeElement;return Ze.scrollable&&It.classList.add("component-host-scrollable"),this._applicationRef.attachView(ht.hostView),new Ll([[It]],ht.hostView,ht)}_setAriaHidden(g){const A=g.parentElement;A&&g!==this._document.body&&(Array.from(A.children).forEach(Y=>{Y!==g&&"SCRIPT"!==Y.nodeName&&(this._ariaHiddenValues.set(Y,Y.getAttribute("aria-hidden")),Y.setAttribute("aria-hidden","true"))}),this._setAriaHidden(A))}_revertAriaHidden(){this._ariaHiddenValues.forEach((g,A)=>{g?A.setAttribute("aria-hidden",g):A.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(g){const A=()=>{const Y=this._modalRefs.indexOf(g);Y>-1&&(this._modalRefs.splice(Y,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(g),this._activeInstances.emit(this._modalRefs),g.result.then(A,A)}_registerWindowCmpt(g){this._windowCmpts.push(g),this._activeWindowCmptHasChanged.next(),g.onDestroy(()=>{const A=this._windowCmpts.indexOf(g);A>-1&&(this._windowCmpts.splice(A,1),this._activeWindowCmptHasChanged.next())})}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(f.z2F),f.LFG(f.zs3),f.LFG(f.lqb),f.LFG(Dt.K0),f.LFG(Vp),f.LFG(f.FYo),f.LFG(f.R0b))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Up=(()=>{class E{constructor(g){this._ngbConfig=g,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(g){this._animation=g}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(K))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),iu=(()=>{class E{constructor(g,A,Y){this._injector=g,this._modalStack=A,this._config=Y}open(g,A={}){const Y={...this._config,animation:this._config.animation,...A};return this._modalStack.open(this._injector,g,Y)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(g){this._modalStack.dismissAll(g)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(f.zs3),f.LFG(Bp),f.LFG(Up))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Fl=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({providers:[iu]}),E})(),ru=(()=>{class E{constructor(g){this._ngbConfig=g,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(g){this._animation=g}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(K))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Pu=E=>Kt(E)&&""!==E;let gf=0,Ou=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbNavContent",""]],standalone:!0}),E})(),sh=(()=>{class E{constructor(g,A){this.role=g,this.nav=A}}return E.\u0275fac=function(g){return new(g||E)(f.$8M("role"),f.Y36((0,f.Gpc)(()=>rl)))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(g,A){2&g&&f.uIk("role",A.role?A.role:A.nav.roles?"presentation":void 0)},standalone:!0}),E})(),rc=(()=>{class E{constructor(g,A){this._nav=g,this.elementRef=A,this.disabled=!1,this.shown=new f.vpe,this.hidden=new f.vpe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Kt(this.domId)||(this.domId="ngb-nav-"+gf++)}get active(){return this._nav.activeId===this.id}get id(){return Pu(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Kt(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return E.\u0275fac=function(g){return new(g||E)(f.Y36((0,f.Gpc)(()=>rl)),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbNavItem",""]],contentQueries:function(g,A,Y){if(1&g&&f.Suo(Y,Ou,4),2&g){let he;f.iGM(he=f.CRH())&&(A.contentTpls=he)}},hostVars:2,hostBindings:function(g,A){2&g&&f.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0}),E})(),rl=(()=>{class E{constructor(g,A,Y,he){this.role=g,this._cd=Y,this._document=he,this.activeIdChange=new f.vpe,this.shown=new f.vpe,this.hidden=new f.vpe,this.destroy$=new l.x,this.navItemChange$=new l.x,this.navChange=new f.vpe,this.animation=A.animation,this.destroyOnHide=A.destroyOnHide,this.orientation=A.orientation,this.roles=A.roles,this.keyboard=A.keyboard}click(g){g.disabled||this._updateActiveId(g.id)}onKeyDown(g){if("tablist"!==this.roles||!this.keyboard)return;const A=g.which,Y=this.links.filter(at=>!at.navItem.disabled),{length:he}=Y;let Ze=-1;if(Y.forEach((at,ht)=>{at.elRef.nativeElement===this._document.activeElement&&(Ze=ht)}),he){switch(A){case yn.ArrowLeft:if("vertical"===this.orientation)return;Ze=(Ze-1+he)%he;break;case yn.ArrowRight:if("vertical"===this.orientation)return;Ze=(Ze+1)%he;break;case yn.ArrowDown:if("horizontal"===this.orientation)return;Ze=(Ze+1)%he;break;case yn.ArrowUp:if("horizontal"===this.orientation)return;Ze=(Ze-1+he)%he;break;case yn.Home:Ze=0;break;case yn.End:Ze=he-1}"changeWithArrows"===this.keyboard&&this.select(Y[Ze].navItem.id),Y[Ze].elRef.nativeElement.focus(),g.preventDefault()}}select(g){this._updateActiveId(g,!1)}ngAfterContentInit(){if(!Kt(this.activeId)){const g=this.items.first?this.items.first.id:null;Pu(g)&&(this._updateActiveId(g,!1),this._cd.detectChanges())}this.items.changes.pipe((0,Fn.R)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:g}){g&&!g.firstChange&&this._notifyItemChanged(g.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(g,A=!0){if(this.activeId!==g){let Y=!1;A&&this.navChange.emit({activeId:this.activeId,nextId:g,preventDefault:()=>{Y=!0}}),Y||(this.activeId=g,this.activeIdChange.emit(g),this._notifyItemChanged(g))}}_notifyItemChanged(g){this.navItemChange$.next(this._getItemById(g))}_getItemById(g){return this.items&&this.items.find(A=>A.id===g)||null}}return E.\u0275fac=function(g){return new(g||E)(f.$8M("role"),f.Y36(ru),f.Y36(f.sBO),f.Y36(Dt.K0))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbNav",""]],contentQueries:function(g,A,Y){if(1&g&&(f.Suo(Y,rc,4),f.Suo(Y,Nc,5)),2&g){let he;f.iGM(he=f.CRH())&&(A.items=he),f.iGM(he=f.CRH())&&(A.links=he)}},hostVars:6,hostBindings:function(g,A){1&g&&f.NdJ("keydown.arrowLeft",function(he){return A.onKeyDown(he)})("keydown.arrowRight",function(he){return A.onKeyDown(he)})("keydown.arrowDown",function(he){return A.onKeyDown(he)})("keydown.arrowUp",function(he){return A.onKeyDown(he)})("keydown.Home",function(he){return A.onKeyDown(he)})("keydown.End",function(he){return A.onKeyDown(he)}),2&g&&(f.uIk("aria-orientation","vertical"===A.orientation&&"tablist"===A.roles?"vertical":void 0)("role",A.role?A.role:A.roles?"tablist":void 0),f.ekj("nav",!0)("flex-column","vertical"===A.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[f.TTD]}),E})(),Nc=(()=>{class E{constructor(g,A,Y,he){this.role=g,this.navItem=A,this.nav=Y,this.elRef=he}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return E.\u0275fac=function(g){return new(g||E)(f.$8M("role"),f.Y36(rc),f.Y36(rl),f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(g,A){2&g&&(f.Ikx("id",A.navItem.domId),f.uIk("role",A.role?A.role:A.nav.roles?"tab":void 0)("tabindex",A.navItem.disabled?-1:void 0)("aria-controls",A.navItem.isPanelInDom()?A.navItem.panelDomId:null)("aria-selected",A.navItem.active)("aria-disabled",A.navItem.disabled),f.ekj("nav-link",!0)("nav-item",A.hasNavItemClass())("active",A.navItem.active)("disabled",A.navItem.disabled))},standalone:!0}),E})(),mf=(()=>{class E{constructor(g,A){this.navItem=g,this.nav=A}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(rc),f.Y36(rl))},E.\u0275dir=f.lG2({type:E,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(g,A){1&g&&f.NdJ("click",function(he){return A.nav.click(A.navItem),he.preventDefault()})},standalone:!0,features:[f.zW0([Nc])]}),E})();const yd=({classList:E})=>(E.remove("show"),()=>E.remove("active")),_f=(E,O)=>{O&&Sn(E),E.classList.add("show")};let Gs=(()=>{class E{constructor(g){this.elRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.SBq))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(g,A){2&g&&(f.Ikx("id",A.item.panelDomId),f.uIk("role",A.role?A.role:A.nav.roles?"tabpanel":void 0)("aria-labelledby",A.item.domId),f.ekj("fade",A.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),E})(),Lc=(()=>{class E{constructor(g,A){this._cd=g,this._ngZone=A,this._activePane=null}isPanelTransitioning(g){return this._activePane?.item===g}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,Fn.R)(this.nav.destroy$),(0,Cn.O)(this._activePane?.item||null),(0,Bn.x)(),function en(E){return(0,Qt.h)((O,g)=>E<=g)}(1)).subscribe(g=>{const A={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Nr(this._ngZone,this._activePane.elRef.nativeElement,yd,A).subscribe(()=>{const Y=this._activePane?.item;this._activePane=this._getPaneForItem(g),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Nr(this._ngZone,this._activePane.elRef.nativeElement,_f,A).subscribe(()=>{g&&(g.shown.emit(),this.nav.shown.emit(g.id))})),Y&&(Y.hidden.emit(),this.nav.hidden.emit(Y.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(g){return this._panes&&this._panes.find(A=>A.item===g)||null}_getActivePane(){return this._panes&&this._panes.find(g=>g.item.active)||null}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.sBO),f.Y36(f.R0b))},E.\u0275cmp=f.Xpm({type:E,selectors:[["","ngbNavOutlet",""]],viewQuery:function(g,A){if(1&g&&f.Gf(Gs,5),2&g){let Y;f.iGM(Y=f.CRH())&&(A._panes=Y)}},hostVars:2,hostBindings:function(g,A){2&g&&f.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[f.jDz],attrs:Kr,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(g,A){1&g&&f.YNc(0,Ii,1,1,"ng-template",0),2&g&&f.Q6J("ngForOf",A.nav.items)},dependencies:[Gs,Dt.ax,Dt.O5,Dt.tP],encapsulation:2,changeDetection:0}),E})(),oh=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({imports:[Lc]}),E})(),dn=(()=>{class E{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return E.\u0275fac=function(g){return new(g||E)},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),sc=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),E})(),ns=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),E})(),vf=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),E})(),ah=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),E})(),ia=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),E})(),bd=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),E})(),fs=(()=>{class E{constructor(g){this.templateRef=g}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.Rgc))},E.\u0275dir=f.lG2({type:E,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),E})(),Mu=(()=>{class E{constructor(g){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new f.vpe(!0),this.disabled=g.disabled,this.boundaryLinks=g.boundaryLinks,this.directionLinks=g.directionLinks,this.ellipses=g.ellipses,this.maxSize=g.maxSize,this.pageSize=g.pageSize,this.rotate=g.rotate,this.size=g.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(g){this._updatePages(g)}ngOnChanges(g){this._updatePages(this.page)}isEllipsis(g){return-1===g}_applyEllipses(g,A){this.ellipses&&(g>0&&(g>2?this.pages.unshift(-1):2===g&&this.pages.unshift(2),this.pages.unshift(1)),A<this.pageCount&&(A<this.pageCount-2?this.pages.push(-1):A===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let g=0,A=this.pageCount,Y=Math.floor(this.maxSize/2);return this.page<=Y?A=this.maxSize:this.pageCount-this.page<Y?g=this.pageCount-this.maxSize:(g=this.page-Y-1,A=this.page+(this.maxSize%2==0?Y-1:Y)),[g,A]}_applyPagination(){let A=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[A,A+this.maxSize]}_setPageInRange(g){const A=this.page;this.page=function ae(E,O,g=0){return Math.max(Math.min(E,O),g)}(g,this.pageCount,1),this.page!==A&&$e(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(g){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),$e(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let A=1;A<=this.pageCount;A++)this.pages.push(A);if(this._setPageInRange(g),this.maxSize>0&&this.pageCount>this.maxSize){let A=0,Y=this.pageCount;[A,Y]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(A,Y),this._applyEllipses(A,Y)}}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(dn))},E.\u0275cmp=f.Xpm({type:E,selectors:[["ngb-pagination"]],contentQueries:function(g,A,Y){if(1&g&&(f.Suo(Y,sc,5),f.Suo(Y,ns,5),f.Suo(Y,vf,5),f.Suo(Y,ah,5),f.Suo(Y,ia,5),f.Suo(Y,bd,5),f.Suo(Y,fs,5)),2&g){let he;f.iGM(he=f.CRH())&&(A.tplEllipsis=he.first),f.iGM(he=f.CRH())&&(A.tplFirst=he.first),f.iGM(he=f.CRH())&&(A.tplLast=he.first),f.iGM(he=f.CRH())&&(A.tplNext=he.first),f.iGM(he=f.CRH())&&(A.tplNumber=he.first),f.iGM(he=f.CRH())&&(A.tplPrevious=he.first),f.iGM(he=f.CRH())&&(A.tplPages=he.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[f.TTD,f.jDz],decls:20,vars:12,consts:function(){let O,g,A,Y,he,Ze,at,ht;return O=$localize`:@@ngb.pagination.first:««`,g=$localize`:@@ngb.pagination.previous:«`,A=$localize`:@@ngb.pagination.next:»`,Y=$localize`:@@ngb.pagination.last:»»`,he=$localize`:@@ngb.pagination.first-aria:First`,Ze=$localize`:@@ngb.pagination.previous-aria:Previous`,at=$localize`:@@ngb.pagination.next-aria:Next`,ht=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],O,g,A,Y,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",he,"href","",1,"page-link",3,"click"],["aria-label",Ze,"href","",1,"page-link",3,"click"],["aria-label",at,"href","",1,"page-link",3,"click"],["aria-label",ht,"href","",1,"page-link",3,"click"]]},template:function(g,A){if(1&g&&(f.YNc(0,$o,2,0,"ng-template",null,0,f.W1O),f.YNc(2,ge,2,0,"ng-template",null,1,f.W1O),f.YNc(4,pe,2,0,"ng-template",null,2,f.W1O),f.YNc(6,re,2,0,"ng-template",null,3,f.W1O),f.YNc(8,Re,1,0,"ng-template",null,4,f.W1O),f.YNc(10,Vt,1,1,"ng-template",null,5,f.W1O),f.YNc(12,wo,1,1,"ng-template",null,6,f.W1O),f.TgZ(14,"ul"),f.YNc(15,fl,3,9,"li",7),f.YNc(16,La,3,8,"li",7),f.YNc(17,Da,0,0,"ng-template",8),f.YNc(18,Ji,3,9,"li",7),f.YNc(19,uo,3,9,"li",7),f.qZA()),2&g){const Y=f.MAs(13);f.xp6(14),f.Tol("pagination"+(A.size?" pagination-"+A.size:"")),f.xp6(1),f.Q6J("ngIf",A.boundaryLinks),f.xp6(1),f.Q6J("ngIf",A.directionLinks),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==A.tplPages?null:A.tplPages.templateRef)||Y)("ngTemplateOutletContext",f.kEZ(8,Es,A.page,A.pages,A.disabled)),f.xp6(1),f.Q6J("ngIf",A.directionLinks),f.xp6(1),f.Q6J("ngIf",A.boundaryLinks)}},dependencies:[Dt.O5,Dt.ax,Dt.tP],encapsulation:2,changeDetection:0}),E})(),su=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({imports:[Mu]}),E})();class Nu{constructor(O,g){this.open=O,this.close=g,g||(this.close=O)}isManual(){return"manual"===this.open||"manual"===this.close}}const yf={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},wf=E=>E>0?(0,Gt.g)(E):O=>O;let Pm=(()=>{class E{constructor(g){this._ngbConfig=g,this.autoClose=!0,this.placement="auto",this.popperOptions=A=>A,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(g){this._animation=g}}return E.\u0275fac=function(g){return new(g||E)(f.LFG(K))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Iv=0,Dv=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275cmp=f.Xpm({type:E,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(g,A){2&g&&(f.Ikx("id",A.id),f.Tol("tooltip"+(A.tooltipClass?" "+A.tooltipClass:"")),f.ekj("fade",A.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[f.jDz],ngContentSelectors:lr,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(g,A){1&g&&(f.F$t(),f._UZ(0,"div",0),f.TgZ(1,"div",1),f.Hsn(2),f.qZA())},encapsulation:2,changeDetection:0}),E})(),kv=(()=>{class E{constructor(g,A,Y,he,Ze,at,ht,It,Zt){this._elementRef=g,this._renderer=A,this._ngZone=at,this._document=ht,this._changeDetector=It,this.shown=new f.vpe,this.hidden=new f.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+Iv++,this._windowRef=null,this.animation=Ze.animation,this.autoClose=Ze.autoClose,this.placement=Ze.placement,this.popperOptions=Ze.popperOptions,this.triggers=Ze.triggers,this.container=Ze.container,this.disableTooltip=Ze.disableTooltip,this.tooltipClass=Ze.tooltipClass,this.openDelay=Ze.openDelay,this.closeDelay=Ze.closeDelay,this._popupService=new pf(Dv,Y,he,A,this._ngZone,Zt),this._positioning=Wd()}set ngbTooltip(g){this._ngbTooltip=g,!g&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(g){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:A,transition$:Y}=this._popupService.open(this._ngbTooltip,g,this.animation);this._windowRef=A,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:he=>this.popperOptions(he)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),od(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),Y.subscribe(()=>this.shown.emit())}}close(g=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(g).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Ef(E,O,g,A,Y,he,Ze=0,at=0){const ht=function bf(E,O=yf){const g=(E||"").trim();if(0===g.length)return[];const A=g.split(/\s+/).map(he=>he.split(":")).map(he=>{let Ze=O[he[0]]||he;return new Nu(Ze[0],Ze[1])}),Y=A.filter(he=>he.isManual());if(Y.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===Y.length&&A.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return A}(g);if(1===ht.length&&ht[0].isManual())return()=>{};const It=function xf(E,O,g,A){return new v.y(Y=>{const he=[],Ze=()=>Y.next(!0),at=()=>Y.next(!1),ht=()=>Y.next(!A());return g.forEach(It=>{It.open===It.close?he.push(E.listen(O,It.open,ht)):he.push(E.listen(O,It.open,Ze),E.listen(O,It.close,at))}),()=>{he.forEach(It=>It())}})}(E,O,ht,A).pipe(function Vl(E,O,g){return A=>{let Y=null;const he=A.pipe((0,vn.U)(ht=>({open:ht})),(0,Qt.h)(ht=>{const It=g();return It===ht.open||Y&&Y.open!==It?(Y&&Y.open!==ht.open&&(Y=null),!1):(Y=ht,!0)}),(0,rn.B)()),Ze=he.pipe((0,Qt.h)(ht=>ht.open),wf(E)),at=he.pipe((0,Qt.h)(ht=>!ht.open),wf(O));return(0,et.T)(Ze,at).pipe((0,Qt.h)(ht=>ht===Y&&(Y=null,ht.open!==g())),(0,vn.U)(ht=>ht.open))}}(Ze,at,A)).subscribe(Zt=>Zt?Y():he());return()=>It.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:g}){g&&this.isOpen()&&(this._windowRef.instance.tooltipClass=g.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Ne(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}}return E.\u0275fac=function(g){return new(g||E)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.zs3),f.Y36(f.s_b),f.Y36(Pm),f.Y36(f.R0b),f.Y36(Dt.K0),f.Y36(f.sBO),f.Y36(f.z2F))},E.\u0275dir=f.lG2({type:E,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[f.TTD]}),E})(),uh=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({}),E})(),dh=(()=>{class E{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(g){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const A=Te(this.result),Y=Array.isArray(this.term)?this.term:[this.term],he=It=>this.accentSensitive?It:er(It),Ze=Y.map(It=>function Se(E){return E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(he(Te(It)))).filter(It=>It),at=this.accentSensitive?A:er(A),ht=Ze.length?at.split(new RegExp(`(${Ze.join("|")})`,"gmi")):[A];if(this.accentSensitive)this.parts=ht;else{let It=0;this.parts=ht.map(Zt=>A.substring(It,It+=Zt.length))}}}return E.\u0275fac=function(g){return new(g||E)},E.\u0275cmp=f.Xpm({type:E,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[f.TTD,f.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(g,A){1&g&&f.YNc(0,xc,3,2,"ng-template",0),2&g&&f.Q6J("ngForOf",A.parts)},dependencies:[Dt.O5,Dt.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),E})();new f.OlP("live announcer delay",{providedIn:"root",factory:function Co(){return 100}});let Cf=(()=>{class E{}return E.\u0275fac=function(g){return new(g||E)},E.\u0275mod=f.oAB({type:E}),E.\u0275inj=f.cJS({imports:[dh]}),E})()},5861:(Hn,gt,ue)=>{"use strict";function f(He,Xe,l,Qe,je,tt,vt){try{var bt=He[tt](vt),xt=bt.value}catch(Et){return void l(Et)}bt.done?Xe(xt):Promise.resolve(xt).then(Qe,je)}function v(He){return function(){var Xe=this,l=arguments;return new Promise(function(Qe,je){var tt=He.apply(Xe,l);function vt(xt){f(tt,Qe,je,vt,bt,"next",xt)}function bt(xt){f(tt,Qe,je,vt,bt,"throw",xt)}vt(void 0)})}}ue.d(gt,{Z:()=>v})}},Hn=>{Hn(Hn.s=276)}]);