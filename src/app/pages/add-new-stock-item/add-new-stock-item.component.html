<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <form
          (ngSubmit)="addStockItemSubmit()"
          [formGroup]="addNewStockItemForm"
        >
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <label>Product to add</label>
                <!-- <select
                  type="text"
                  class="form-control"
                  formControlName="product"
                  [ngClass]="{
                    'is-invalid': submit && addStockItemform.product.errors
                  }"
                  placeholder="Type something"
                >
                  <div
                    *ngIf="submit && addStockItemform.product.errors"
                    class="invalid-feedback"
                  >
                    <span *ngIf="addStockItemform.product.errors.required"
                      >This value is required.</span
                    >
                  </div>

                  <option value="" disabled selected>Select Product</option>
                  <option
                    *ngFor="let product of productsModel"
                    [value]="product.id"
                  >
                    {{ product.name }}
                  </option>
                </select> -->
                <ng-select
                  [items]="productsModel"
                  bindLabel="name"
                  bindValue="id"
                  placeholder="Select Product"
                  formControlName="product"
                  [ngClass]="{
                    'is-invalid': submit && addStockItemform.product.errors,
                    'light-theme': currentTheme == 'light',
                    'dark-theme': currentTheme == 'dark'
                  }"
                >
                  <div
                    *ngIf="submit && addStockItemform.product.errors"
                    class="invalid-feedback"
                  >
                    <span *ngIf="addStockItemform.product.errors.required"
                      >This value is required.</span
                    >
                  </div>
                </ng-select>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <div class="row">
                    <label>Qty</label>
                    <div class="col-md-6">
                      <div>
                        <input
                          type="number"
                          class="form-control"
                          placeholder="Enter Quantity"
                          formControlName="qty"
                          [ngClass]="{
                            'is-invalid': submit && addStockItemform.qty.errors
                          }"
                        />
                        <div
                          *ngIf="submit && addStockItemform.qty.errors"
                          class="invalid-feedback"
                        >
                          <span *ngIf="addStockItemform.qty.errors.required"
                            >This value is required.</span
                          >
                          <span *ngIf="addStockItemform.qty.errors.minlength"
                            >Quantity must be at least 6 characters.</span
                          >
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div>
                        <select
                          type="text"
                          class="form-control"
                          placeholder="qty in  "
                          formControlName="qty_in"
                          [ngClass]="{
                            'is-invalid':
                              submit && addStockItemform.qty_in.errors
                          }"
                        >
                          <div
                            *ngIf="submit && addStockItemform.qty_in.errors"
                            class="invalid-feedback"
                          >
                            <span
                              *ngIf="addStockItemform.qty_in.errors.required"
                              >This value is required.</span
                            >
                            <span
                              *ngIf="addStockItemform.qty_in.errors.minlength"
                              >Quantity_in must be at least 6 characters.</span
                            >
                          </div>
                          <!-- careate a for loop from SI_UNIT_CHOICES -->
                          <option value="" disabled selected>
                            Select qty in
                          </option>
                          <option
                            *ngFor="let qty_in of SI_UNIT_CHOICES"
                            [value]="qty_in.id"
                          >
                            {{ qty_in.name }}
                          </option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <hr />
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <label>Unit price</label>
                <div>
                  <input
                    type="number"
                    class="form-control"
                    formControlName="unit_price"
                    [ngClass]="{
                      'is-invalid': submit && addStockItemform.unit_price.errors
                    }"
                    placeholder="unit price"
                  />
                  <div
                    *ngIf="submit && addStockItemform.unit_price.errors"
                    class="invalid-feedback"
                  >
                    <span *ngIf="addStockItemform.unit_price.errors.required"
                      >This value is required.</span
                    >
                    <span *ngIf="addStockItemform.unit_price.errors.pattern"
                      >This value should be a valid unit estmated profit.</span
                    >
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <label>unit selling price</label>
                <div>
                  <input
                    type="number"
                    class="form-control"
                    placeholder="unit selling price"
                    formControlName="unit_selling_price"
                    [ngClass]="{
                      'is-invalid':
                        submit && addStockItemform.unit_selling_price.errors
                    }"
                  />
                  <div
                    *ngIf="submit && addStockItemform.unit_selling_price.errors"
                    class="invalid-feedback"
                  >
                    <span
                      *ngIf="
                        addStockItemform.unit_selling_price.errors.required
                      "
                      >This value is required.</span
                    >
                    <span
                      *ngIf="
                        addStockItemform.unit_selling_price.errors.minlength
                      "
                      >Quantity_in must be at least 6 characters.</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <hr />

          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <label>Unit estmated profit</label>
                <div>
                  <input
                    type="number"
                    class="form-control"
                    formControlName="unit_estmated_profit"
                    [ngClass]="{
                      'is-invalid':
                        submit && addStockItemform.unit_estmated_profit.errors
                    }"
                    placeholder="Enter only unit estmated profit"
                  />
                  <div
                    *ngIf="
                      submit && addStockItemform.unit_estmated_profit.errors
                    "
                    class="invalid-feedback"
                  >
                    <span
                      *ngIf="
                        addStockItemform.unit_estmated_profit.errors.required
                      "
                      >This value is required.</span
                    >
                    <span
                      *ngIf="
                        addStockItemform.unit_estmated_profit.errors.pattern
                      "
                      >This value should be a valid unit estmated profit.</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <hr />
          <div class="form-group">
            <div class="row">
              <div class="col-md-6">
                <label>status</label>
                <div>
                  <select
                    type="url"
                    class="form-control"
                    placeholder="status"
                    formControlName="status"
                    [ngClass]="{
                      'is-invalid': submit && addStockItemform.status.errors
                    }"
                  >
                    <div
                      *ngIf="submit && addStockItemform.status.errors"
                      class="invalid-feedback"
                    >
                      <span *ngIf="addStockItemform.status.errors.required"
                        >This value is required.</span
                      >
                      <span *ngIf="addStockItemform.status.errors.pattern"
                        >This value should be a valid status.</span
                      >
                    </div>
                    <option value="" disabled selected>Select status</option>
                    <!-- STATUS -->
                    <option *ngFor="let st of STATUS" [value]="st.id">
                      {{ st.name }}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-md-6">
                <label>Create date</label>
                <div>
                  <input
                    formControlName="date_created"
                    type="date"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        submit && addStockItemform.date_created.errors
                    }"
                    placeholder="Enter only date_created"
                  />
                  <div
                    *ngIf="submit && addStockItemform.date_created.errors"
                    class="invalid-feedback"
                  >
                    <span *ngIf="addStockItemform.date_created.errors.required"
                      >This value is required.</span
                    >
                    <span *ngIf="addStockItemform.date_created.errors.pattern"
                      >This value should be date_created.</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>description</label>
            <div>
              <textarea
                formControlName="description"
                class="form-control"
                rows="5"
                [ngClass]="{
                  'is-invalid': submit && addStockItemform.description.errors
                }"
              ></textarea>
              <div
                *ngIf="submit && addStockItemform.description.errors"
                class="invalid-feedback"
              >
                <span *ngIf="addStockItemform.description.errors.required"
                  >This value is required.</span
                >
              </div>
            </div>
          </div>

          <div class="form-group mb-0">
            <div>
              <button type="submit" class="btn btn-primary me-1">Submit</button>
              <button type="reset" class="btn btn-secondary">Cancel</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
